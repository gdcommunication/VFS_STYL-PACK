//>>built
require({cache:{"Sage/TaskPane/_BaseTaskPaneTasklet":function(){define("Sage/TaskPane/_BaseTaskPaneTasklet",["Sage/UI/Dialogs","dojo/i18n!./nls/_BaseTaskPaneTasklet","dojo/_base/declare"],function(_1,_2,_3){var _4=_3("Sage.TaskPane._BaseTaskPaneTasklet",null,{currentEntityId:"",currentEntityTableName:"",currentEntityType:"",contextService:null,selectedRecordActionCallback:"",selectionContainer:"_hfSelections",constructor:function(_5){dojo.mixin(this,_5);dojo.mixin(this,_2);},getSelectionInfo:function(){try{var _6=Sage.Utility.getSelectionInfo();if(!_6){this.getCurrentEntity();if(this.currentEntityId){_6={};_6.key=this.currentEntityId;_6.mode="selection";_6.ranges=[];_6.recordCount=1;_6.selectedIds=[];_6.selectedIds.push(this.currentEntityId);_6.selectionCount=1;_6.selections=[];var _7={};_7.id=this.currentEntityId;_7.rn=0;_6.selections.push(_7);}}return _6;}catch(e){_1.alert(this.errorNoData);return null;}},prepareSelectedRecords:function(_8){this.selectedRecordActionCallback=_8;var _9=this;try{this.selectionInfo=this.getSelectionInfo();}catch(e){_1.showInfo(this.errorNoData);}if(this.selectionInfo.selectionCount===0&&this.selectionInfo.recordCount>0){var _a=dojo.string.substitute(this.noRecordsSelectedProcessAll,[this.selectionInfo.recordCount]);_1.raiseQueryDialog(this.salesLogixPageTitle,_a,function(_b){_9.storeAllSelectionsOrCancel(_b,_9.selectionInfo);},this.yesButtonText,this.noButtonText);}else{if(this.selectionInfo.recordCount>0){this.saveSelections(this.selectedRecordActionCallback,this.selectionInfo);}else{_1.showInfo(this.errorNoData);}}},storeAllSelectionsOrCancel:function(_c,_d){if(_c){_d.mode="selectAll";this.saveSelections(this.selectedRecordActionCallback,_d);}else{var _e=dojo.byId([this.clientId,this.selectionContainer].join(""));if(_e){_e.value="cancel";}}},saveSelections:function(_f,_10){if(_10!==null){var svc=Sage.Services.getService("SelectionContextService");svc.setSelectionContext(_10.key,_10,_f);var _11=dojo.byId([this.clientId,this.selectionContainer].join(""));if(_11){_11.value=_10.key;}}},verifySelection:function(_12){if(_12!==null){return (_12.selectionCount!==0);}return false;},verifySingleSelection:function(_13){if(_13!==null){return (_13.selectionCount===1);}return false;},getCurrentEntity:function(){if(Sage.Services.hasService("ClientEntityContext")){this.contextService=Sage.Services.getService("ClientEntityContext");this.context=this.contextService.getContext();this.currentEntityId=this.context.EntityId;this.currentEntityType=this.context.EntityType;this.currentEntityTableName=this.context.EntityTableName;}},setSelectionCount:function(){try{var _14=dijit.byId("list");if(_14){dojo.byId("selectionCount").text(_14.getTotalSelectionCount());}}catch(e){}},getSelectionCount:function(){return Sage.Services.getService("ClientGroupContext").getContext().CurrentGroupCount;},getCurrentGroupId:function(){var _15=Sage.Services.getService("ClientGroupContext");if(_15){var _16=_15.getContext();return _16.CurrentGroupID;}return "";},getCurrentGroupName:function(){var _17=Sage.Services.getService("ClientGroupContext");if(_17){var _18=_17.getContext();return _18.CurrentDisplayName;}return "";}});return _4;});},"Sage/UI/Columns/OwnerType":function(){define("Sage/UI/Columns/OwnerType",["dojo/i18n","dojo/i18n!../nls/OwnerType","dojo/_base/declare"],function(_19,_1a,_1b){var _1c=_1b("Sage.UI.Columns.OwnerType",dojox.grid.cells._Base,{constructor:function(){var _1d=_19.getLocalization("Sage.UI","OwnerType");dojo.mixin(this,_1d);this.inherited(arguments);},formatter:function(val,_1e){var _1f={"G":this.teamText,"D":this.departmentText,"S":this.systemText,"U":this.userText};return _1f[val]?Sage.Utility.htmlEncode(_1f[val]):val;},styles:"text-align: right;"});return _1c;});},"url:Sage/UI/templates/EditCalendarUsers.html":"<div>\r\n    <div class=\"filter-items-dialog\" data-dojo-type=\"dijit.Dialog\"  data-dojo-attach-point=\"dialogNode\" >\r\n        <div class=\"filter-items-search\" style=\"border-bottom: 1px solid #cccccc;\">\r\n            <label>${findItemText}</label> <input data-dojo-attach-point=\"textFind\" data-dojo-type=\"dijit.form.TextBox\" />\r\n            <span data-dojo-attach-point=\"buttonFind\" title=\"${findText}\" data-dojo-type=\"Sage.UI.ImageButton\" data-dojo-props=\"imageClass: 'icon_Find_16x16'\" data-dojo-attach-event=\"onClick:_onFindClick\"></span>&nbsp;\r\n\t\t\t<span data-dojo-attach-point=\"buttonClear\" title=\"${clearText}\" data-dojo-type=\"dijit.form.Button\" data-dojo-attach-event=\"onClick:_onClearClick\">${clearText}</span>\r\n        </div>     \r\n        <div class=\"filter-items-dialog-content\" data-dojo-attach-point=\"contentNode\" style=\"height:238px;\">\r\n        </div>\r\n        <div class=\"button-bar alignright\">\r\n            <button data-dojo-attach-point=\"buttonOK\" data-dojo-attach-event=\"onClick:_onOKClick\" data-dojo-type=\"dijit.form.Button\">${okText}</button>\r\n            <button data-dojo-attach-point=\"buttonCancel\" data-dojo-attach-event=\"onClick:_onCancelClick\" data-dojo-type=\"dijit.form.Button\">${cancelText}</button>\r\n        </div>\r\n    </div>\r\n</div>","Sage/Utility/File/nls/FallbackFilePicker":function(){define("Sage/Utility/File/nls/FallbackFilePicker",["Sage/LanguageList","dojo/_base/lang"],function(_20,_21){var nls={root:{addLibraryFileText:"Add Library File",attachFileText:"Attach File",descriptionText:"Description",uploadFileText:"Attachment",okText:"OK",cancelText:"Cancel",invalidContext:"The file(s) cannot be uploaded outside of the Sales Library.",fileTooLargeError:"The file upload attempt was aborted because the file was too large.",pleaseSelectFile:"Please select a file first.",slxErrorIdInfo:"Saleslogix Error Id: "}};return _21.mixin(_20,nls);});},"Sage/UI/nls/Boolean":function(){define("Sage/UI/nls/Boolean",["Sage/LanguageList","dojo/_base/lang"],function(_22,_23){var nls={root:{yesText:"Yes",noText:"No"}};return _23.mixin(_22,nls);});},"Sage/Utility/Dashboard":function(){define("Sage/Utility/Dashboard",["dojo/i18n","dojox/grid/DataGrid","Sage/Groups/GroupManager","Sage/UI/Dialogs","dojo/data/ItemFileReadStore","Sage/UI/Controls/_DialogHelpIconMixin","dojo/i18n!./nls/Dashboard","dojo/i18n!../UI/Dashboard/nls/WidgetDefinition","dojo/i18n!dijit/nls/common"],function(_24,_25,_26,_27,_28,_29,_2a,_2b,_2c){Sage.namespace("Utility.Dashboard");dojo.mixin(Sage.Utility.Dashboard,{promoteGroupToDashboard:function(){var _2d="<Widget name=\"Group List\" family=\"System\"><options><name>Group List</name><title>{0}</title><entity>{1}</entity><resource>{7}</resource><groupname>{2}</groupname><limit>{3}</limit><visiblerows>{6}</visiblerows><datasource>slxdata.ashx/slx/crm/-/analytics?entity=Sage.Entity.Interfaces.I{4}&amp;groupname={5}</datasource></options></Widget>";var _2e=new Simplate(["<div>","<div\">{%= $.headerText %}</div>","<div id=\"{%= $.id %}-grid\" style=\"width:auto;height:150px;\"></div>","<div align=\"right\"><button data-dojo-type=\"dijit.form.Button\" type=\"submit\" class=\"okButton\" ","style=\"margin-top:5px;\" data-dojo-props=\"onClick:function(){dijit.byId('promoteDialog').promote();}\"",">{%= $.okText %}</button>","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" class=\"cancelButton\" ","style=\"margin-top:5px; margin-left:10px;\" data-dojo-props=\"onClick:function(){dijit.byId('promoteDialog').hide();}\"",">{%= $.cancelText %}</button></div>","</div> "]);var _2f=null;if(dijit.byId("promoteDialog")){_2f=dijit.byId("promoteDialog");}else{_2f=new dijit.Dialog({id:"promoteDialog",title:window.MasterPageLinks.PromoteTitle,promote:function(a,b,c){var cgi=_26.GetCurrentGroupInfo();var _30=dijit.byId("promoteDialog-grid");var _31=_30.selection.getSelected();if(_31.length===0){_27.showInfo(window.MasterPageLinks.PromotePageNoneSelected,window.MasterPageLinks.PromoteTitle);return;}else{var _32=[],_33=_31[0].Name,_34=dijit.byId(cgi.Id);if(_2b.My_Dashboard==_31[0].Name){_33="My Dashboard";}else{if(_2b.Sales==_31[0].Name){_33="Sales";}}var _35=String.format(_2d,_34?_34.title:cgi.Name,"Sage.Entity.Interfaces.I"+cgi.Entity,cgi.Name,10,$("<div/>").text(cgi.Entity).html(),$("<div/>").text(cgi.Name).html(),10,cgi.Entity);dojo.xhrPost({url:String.format("slxdata.ashx/slx/crm/-/dashboard/page?action=addwidget&name={0}&family={1}",encodeURIComponent(_33),encodeURIComponent(_31[0].Family)),headers:{"Content-Type":"application/json"},postData:_35,error:function(_36,_37,_38){_27.showInfo(window.MasterPageLinks.Warning,_36.responseText);},load:function(_39,_3a){_27.showInfo(String.format(window.MasterPageLinks.PromotionNotification,_31[0].Name,_34?_34.title:cgi.Name));if(typeof window.callback==="function"){window.callback(_39,_3a);}}});}this.destroyRecursive();}});dojo.mixin(_2f,new _29());_2f.createHelpIconByTopic("PromoteGroup");}var _3b=null;_3b=new _25({id:"promoteDialog-grid",structure:[{field:"Name",name:_2a.pageText,width:"200px"}],selectionMode:"single",height:"100px"},document.createElement("div"));var _3c=function(){dojo.disconnect(_3d);setTimeout((function(_3e){return function(){_3e.destroyDescendants();_3e.destroy(false);};})(_2f),1);};var _3d=dojo.connect(_2f,"hide",this,_3c);dojo.xhrGet({url:"slxdata.ashx/slx/crm/-/dashboard/page",cache:false,preventCache:true,handleAs:"json",load:function(_3f,xhr){var _40={items:_3f};var _41=new _28({data:_40});_2f.set("content",_2e.apply({id:_2f.id,okText:_2c.buttonOk,cancelText:_2c.buttonCancel,headerText:window.MasterPageLinks.PromoteDescription}));_2f.show();dojo.place(_3b.domNode,"promoteDialog-grid","replace");_3b.setStore(_41);},error:function(e){alert(window.MasterPageLinks.Warning+e.responseText);if(console.log){}}});}});return Sage.Utility.Dashboard;});},"Sage/Services/nls/ActivityService":function(){define("Sage/Services/nls/ActivityService",["Sage/LanguageList","dojo/_base/lang"],function(_42,_43){var nls={root:{txtErrorActionMsg:"I'm sorry, the action was not successful an error occurred.",txtActivity:"activity",txtActivities:"activities",txtActionDeleteActivites:"Delete Activities",txtActionDeleteActivitiesQuestion:"Only activities that you have permission to delete will be deleted. <P> Are you sure you want to delete the {0} selected {1}?",txtAlarm:"alarm",txtAlarms:"alarms",txtActionSnoozeAlarm:"Snooze Alarm",txtActionSnoozeQuestion:"Are you sure you want to snooze the {0} selected {1} for {2} ?",txtActionSnoozeAllQuestion:"Are you sure you want to snooze all {0} for {1} ?",txtActionDismissAlarms:"Dismiss Alarms",txtActionDismissAlarmsQuestion:"Are you sure you want to dismiss the {0} selected {1}?",txtEvent:"event",txtEvents:"events",txtActionDeleteEvents:"Delete Events",txtActionDeleteEventsQuestion:"Only events that you have permission to delete will be deleted. <P> Are you sure you want to delete the {0} selected {1}?",txtConfirmation:"confirmation",txtConfirmations:"confirmations",txtActionAcceptConfirmations:"Accept Confirmations",txtActionAcceptConfirmQuestion:"Are you sure you want to accept the {0} selected {1}? This action can only be performed on New or Chnaged confirmations. All others will be ignored.",txtDeclineConfirmations:"Decline Confirmations",txtActionDeclineConfrimQuestion:"Are you sure you want to decline the {0} selected {1}? This action can only be performed on New or Chnaged confirmations. All others will be ignored.",txtActionRemoveConfirmations:"Delete Confirmations",txtActionRemoveConfirmationsQuestion:"Are you sure you want to delete the {0} selected {1}? This action can only be performed on Leader, Declined or Deleted confirmations. All others will be ignored.",txtLiteratureRequest:"literature request",txtLiteratureRequests:"literature requests",txtActionDeleteLiteratureRequests:"Delete Literature Requests",txtActionDeleteLiteratureRequestsQuestion:"Only literature request that you have permission to delete will be deleted. <P> Are you sure you want to delete the {0} selected {1}?"}};return _43.mixin(_42,nls);});},"Sage/UI/Controls/nls/CopyToClipboard":function(){define("Sage/UI/Controls/nls/CopyToClipboard",["Sage/LanguageList","dojo/_base/lang"],function(_44,_45){var nls={root:{closeText:"Close",dialogTitle:"Copy Text To Clipboard",helpText:"Select desired text and press Control-C (Command-C on Mac) to copy to your clipboard.",textTab:"Text",sourceTab:"Source"}};return _45.mixin(_44,nls);});},"Sage/MainView/ReportMgr/Crystal/SimpleParameterEditor":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/SimpleParameterEditor.html":"<div>\r\n    <div dojoattachpoint=\"promptParameterContainer\" class=\"crystalParameterContainer\">\r\n        <div dojoattachpoint=\"paramsHeaderContainer\"></div>\r\n        <table class=\"crystalTableContainer\">\r\n            <colgroup>\r\n                <col style=\"width:45%\" />\r\n                <col style=\"width:10%\" />\r\n                <col style=\"width:45%\" />\r\n            </colgroup>\r\n            <tr>\r\n                <td colspan=\"3\">\r\n                    <div dojoattachpoint=\"divMinMaxMessage\">\r\n                        <span dojoattachpoint=\"spanMinMaxMessage\">&nbsp;</span>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr data-dojo-attach-point=\"rowParameterRange\">\r\n                <td colspan=\"3\">\r\n                    <div data-dojo-attach-point=\"parameterRangeWidgetContainer\" style=\"height:auto\"></div>\r\n                </td>\r\n            </tr>\r\n            <tr dojoattachpoint=\"rowSingleValue\" class=\"display-none\">\r\n                <td colspan=\"2\">\r\n                    <div class=\"textcontrol picklist\">\r\n                        <label>{%= Sage.Utility.htmlEncode($.lblSelectValue_Caption) %}</label><br />\r\n                        <select data-dojo-type=\"dijit.form.FilteringSelect\" dojoattachpoint=\"cmbValues\" ></select>\r\n                        <span dojoAttachPoint=\"errorEndRange\" class=\"display-none\" style=\"color:red\">*</span>\r\n                    </div>\r\n                </td>\r\n                <td colspan=\"2\"></td>\r\n            </tr>\r\n            <tr dojoAttachPoint=\"rowOrEnterValue\">\r\n                <td colspan=\"3\">\r\n                    <label style=\"font-weight:bold\">{%= Sage.Utility.htmlEncode($.lblOrValue_Caption) %}</label><br />\r\n                </td>\r\n            </tr>\r\n            <tr dojoattachpoint=\"rowCustomValues\" class=\"display-none\">\r\n                <td>\r\n                    <div>\r\n                        <label>{%= Sage.Utility.htmlEncode($.lblEnterValue_Caption) %}</label><br />\r\n                        <input data-dojo-type=\"dijit.form.TextBox\" type=\"text\" dojoAttachPoint=\"txtCustomValue\" style=\"width:85%\" />\r\n                        <span dojoAttachPoint=\"errorCustomValue\" class=\"display-none\" style=\"color:red\">*</span>\r\n                    </div>\r\n                </td>\r\n                <td colspan=\"2\"></td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan=\"3\">\r\n                    <div dojoattachpoint=\"divValidationMessage\" style=\"color:red\">\r\n                        <span dojoattachpoint=\"spanValidationMessage\">&nbsp;</span>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n    <div>\r\n        <br />\r\n    </div>\r\n</div>"}});define("Sage/MainView/ReportMgr/Crystal/SimpleParameterEditor",["dojo/_base/declare","dojo/_base/array","Sage/MainView/ReportMgr/Crystal/ParameterHeaderWidget","dojo/text!./templates/SimpleParameterEditor.html","Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase","Sage/MainView/ReportMgr/ReportManagerUtility","Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility","Sage/Utility","Sage/Reporting/Enumerations","dojo/number","Sage/MainView/ReportMgr/Crystal/ParameterRangeWidget"],function(_46,_47,_48,_49,_4a,_4b,_4c,_4d,_4e,_4f,_50){var _51=_4d.makeTemplateFromString(_49);var _52=_46("Sage.MainView.ReportMgr.Crystal.SimpleParameterEditor",[_4a],{widgetTemplate:_51,isNumeric:false,parameterRangeWidget:null,_setValueAttr:function(_53){this._set("value",_53);},_getValueAttr:function(){this._promptParameter.currentValues=[];var _54;if(this._paramRangeType){var _55=this.parameterRangeWidget.getRangeValue();_54={range:_55,displayValue:_55.displayValue,value:_55.startValue?_55.startValue:_55.endValue};this._promptParameter.currentValues.push(this._getParameterValue(_54));}else{var _56=this._getCurrentValue();if(_56){var _57=this._getParameterValue(_56);this._promptParameter.currentValues.push(_57);}}return this._promptParameter;},constructor:function(_58){},startup:function(){this.inherited(arguments);_4b.setDomNodeVisible(this.divValidationMessage,false);this.isNumeric=(this.parameterValueKind===_4e.SlxParameterValueKind.NumberParameter);var _59=new _48({promptText:this._promptParameter.promptText,parameterFieldName:this._promptParameter.parameterFieldName}).placeAt(this.paramsHeaderContainer);if(this._paramRangeType){this.parameterRangeWidget=new _50({paramInitialIds:this._initialIds,paramInitialValues:this._initialValues,paramValues:this._values,defaultValues:this._promptParameter.defaultValues,parameterValueKind:this._promptParameter.parameterValueKind,allowCustomValues:this._allowCustomValues},"parameterRangeWidget");this.parameterRangeWidget.placeAt(this.parameterRangeWidgetContainer);_4b.setDomNodeVisible(this.rowParameterRange,true);}else{if(this._values.length>0){_4b.setDomNodeVisible(this.rowSingleValue,true);_4c.initializeComboBoxValues(this._values,_4c.getRangeInitialValue(this._initialValues,false),this.cmbValues);this.connect(this.cmbValues,"onBlur",this._onComboBoxChange,true);}_4b.setDomNodeVisible(this.rowCustomValues,this._values.length===0||this._allowCustomValues);}_4b.setDomNodeVisible(this.rowOrEnterValue,(this._allowCustomValues&&this._values.length>0&&!this._paramRangeType));this.connect(this.txtCustomValue,"onBlur",this._onCustomChange,true);if(this.isNumeric){this.connect(this.txtCustomValue,"onKeyPress",this._onKeyPress,true);}this._initializeMessages();},_onKeyPress:function(e){if(!_4d.restrictToNumberOnKeyPress(e,"number")){dojo.stopEvent(e);}},_onCustomChange:function(){if(this.txtCustomValue.get("value")!==""){this.cmbValues.set("displayedValue","");}},_onComboBoxChange:function(){var _5a=this.cmbValues.item;if(_5a&&_5a.value!==""){this.txtCustomValue.set("value","");}},isValid:function(){var msg="";if(!this._promptParameter.isOptionalPrompt&&!this._promptParameter.allowNullValue){if(this._paramRangeType){if(!this.parameterRangeWidget.verifyRequiredAssignments()){msg=this.txtPleaseSpecifyValue;}else{if(!this.parameterRangeWidget.validateRangeWithinBoundaries()){msg=this.txtFromMustBeLessThanOrEqualToTo;}}}else{var _5b=this._getCurrentValue();if(_5b===null){msg=this.txtPleaseSpecifyValue;}else{var _5c=this.isNumeric?_5b:_5b.length;msg=this.getMinMaxValidationMessage(_5c);}}}this._showValidationMessage(msg);return msg==="";},_initializeMessages:function(){var _5d=this.getMinMaxInitializationMessage();this.spanMinMaxMessage.innerHTML=_4d.htmlEncode(_5d);_4b.setDomNodeVisible(this.divMinMaxMessage,(_5d!==""));},_showValidationMessage:function(msg){this.spanValidationMessage.innerHTML=_4d.htmlEncode(msg);_4b.setDomNodeVisible(this.divValidationMessage,(msg!==""));_4b.setDomNodeVisible(this.errorEndRange,(msg!==""));_4b.setDomNodeVisible(this.errorCustomValue,(msg!==""));if(msg!==""&&!this._paramRangeType){if(this._values.length>0){this.cmbValues.focus();}else{this.txtCustomValue.focus();}}},_getCurrentValue:function(){var _5e=null;if(this.txtCustomValue.get("value")!==""){_5e=this.isNumeric?_4f.parse(this.txtCustomValue.get("value")):this.txtCustomValue.get("value");return {value:_5e,displayValue:_5e};}else{var _5f=this.cmbValues.item;if(_5f&&_5f.value!==""){_5e=this.isNumeric?_4f.parse(_5f.value):_5f.value;return {value:_5e,displayValue:_5f.description};}}return _5e;},_getParameterValue:function(_60){var _61;if(_60.range){_61={className:_4e.ParameterClassName.RangeValue,description:_60.displayValue,rangeValue:{beginValue:_60.range.startValue,beginValueType:this.beginValueType,endValue:_60.range.endValue,endValueType:this.endValueType,lowerBoundType:_60.range.noLowerValue?_4e.SlxRangeBoundType.NoBound:_60.range.includeFromRange?_4e.SlxRangeBoundType.BoundInclusive:_4e.SlxRangeBoundType.BoundExclusive,upperBoundType:_60.range.noUpperValue?_4e.SlxRangeBoundType.NoBound:_60.range.includeToRange?_4e.SlxRangeBoundType.BoundInclusive:_4e.SlxRangeBoundType.BoundExclusive}};}else{_61={className:"CrystalReports.ParameterFieldDiscreteValue",computedText:this.isNumeric?null:"\""+_60.value+"\"",description:_60.displayValue,discreteValue:{actualValue:_60.value,actualValueType:this.actualValueType,value:_60.value,valueType:this.valueType}};}return _61;}});return _52;});},"Sage/UI/Dashboard/WidgetDefinition":function(){define("Sage/UI/Dashboard/WidgetDefinition",["Sage/UI/widgetEditorLookup","Sage/UI/EditorContainer","dijit/form/ValidationTextBox","dijit/form/NumberTextBox","dijit/form/FilteringSelect","dojo/data/ItemFileReadStore","dojo/data/ItemFileWriteStore","dojox/grid/DataGrid","dojo/i18n","dojo/i18n!./nls/WidgetDefinition"],function(_62,_63,_64,_65,_66,_67,_68,_69,_6a){return function(def,_6b){if(!def.type){def.type="BaseWidget";}require(["Sage/UI/Dashboard/"+def.type],function(T){_6b(new T(def));});};});},"url:Sage/UI/Controls/templates/DropDownSelectPickList.html":"<div>\r\n    <select id=\"${id}-Select\" data-dojo-type=\"Sage.UI.ComboBox\" shouldPublishMarkDirty=\"false\" dojoAttachPoint=\"comboBox\" value=\"${value}\" dojoAttachEvent=\"onBlur: _onBlur,onChange:_onChange\">\r\n    </select>\r\n</div>\r\n","Sage/Services/ReportingService":function(){define("Sage/Services/ReportingService",["dojo/_base/declare","dojo/string","dojo/i18n!./nls/ReportingService","Sage/Utility/Jobs","Sage/Reporting/Enumerations","dojo/json","dojo/_base/array","Sage/MainView/ReportMgr/ReportWizardController","Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility","Sage/UI/Dialogs"],function(_6c,_6d,_6e,_6f,_70,_71,_72,_73,_74,_75){var _76=_6c("Sage.Services.ReportingService",null,{startWizard:function(_77){_73.startWizard(_77);},runReport:function(_78){_78.key=this._getJobId(_78.reportType);_6f.triggerJobAndDisplayProgressDialog(_78);},scheduleReport:function(_79){_79.key=this._getJobId(_79.reportType);var _7a=Sage.Services.getService("JobService");_7a.scheduleJob(_79);},getSchedule:function(_7b){var _7c=Sage.Services.getService("JobService");_7c.getTrigger(_7b);},updateSchedule:function(_7d){var _7e=Sage.Services.getService("JobService");_7e.updateTrigger(_7d);},getReportMetadata:function(_7f){if(!_7f||typeof _7f.reportId!=="string"){console.error("getReportMetadata: Missing parameters");return;}var _80,_81,_82,_83;if(_7f.reportId.indexOf(":")!==-1){_80=_7f.reportId.split(":")[0];_82=_7f.reportId.split(":")[1];}else{_81=_7f.reportId;}var _84=Sage.Data.SDataServiceRegistry.getSDataService("system");if(_80&&_82){_83=new Sage.SData.Client.SDataResourceCollectionRequest(_84);_83.setResourceKind("reports");_83.setQueryArg("where","family eq '"+_80+"' and name eq '"+_82+"'");_83.setQueryArg("count","1");_83.read({success:function(_85){if(_85&&_85.$resources&&_85.$resources.length===1){if(_7f.success){_7f.success(_85.$resources[0]);}}},failure:function(xhr,_86){var _87="ReportingService.getReportMetadata: "+_6d.substitute(_6e.txtUnexpectedError,[xhr.status,xhr.statusText]);console.error(_87);if(_7f.failure){_7f.failure(xhr,_86);}}});return;}else{_83=new Sage.SData.Client.SDataSingleResourceRequest(_84);_83.setResourceKind("reports");_83.setResourceSelector("'"+_81+"'");_83.read({success:function(_88){if(_7f.success){_7f.success(_88);}},failure:function(xhr,_89){var _8a="ReportingService.getReport: "+_6d.substitute(_6e.txtUnexpectedError,[xhr.status,xhr.statusText]);console.error(_8a);if(_7f.failure){_7f.failure(xhr,_89);}}});}},_getJobId:function(_8b){switch(_8b){case _70.ReportTypes.CrystalReport:return "Saleslogix.Reporting.Jobs.CrystalReportsJob";default:throw _6d.substitute(_6e.txtUnsupportedReportType,[_8b]);}},defaultDetailReports:null,defaultReport:null,reportJob:null,showReport:function(_8c,_8d,_8e){if(!this.isValidString(_8c)){_75.showError(this.getDisplayError(_6e.invalidReportPluginError));return;}if(!this.isValidString(_8d)){_75.showError(this.getDisplayError(_6e.invalidTableNameError));return;}if(!this.isValidString(_8e)&&!(_8e instanceof Array)){_75.showError(this.getDisplayError(_6e.invalidEntityError));return;}this.showReportViewer(_8c,_8d,_8e);},showDefaultReport:function(){var _8f=this.getCurrentReport();if(this.isValidString(_8f)){var _90=_74.getCurrentEntityCondition();var _91={reportId:_8f,reportOptions:{wizardOptions:{hiddenSteps:[_70.CrystalReportWizardStep.Conditions,_70.CrystalReportWizardStep.ExportOptions]},scheduleOptions:{executionType:_70.ExecutionType.OnDemand},exportOptions:{outputFormat:_70.ReportExportFormat.Pdf},conditionOptions:{conditions:[_90],conditionsConnector:_70.ReportConditionConnector.And}}};this.startWizard(_91);}else{_75.showError(this.getDisplayError(_6e.noDefaultReportError));}},showReportById:function(_92){this.showReportViewerInContext(_92);},showReportByName:function(_93){this.showReportViewerInContext(_93);},showReportViewerInContext:function(_94){if(!this.isValidString(_94)){_75.showError(this.getDisplayError(_6e.invalidReportPluginError));return;}var _95=this.getCurrentContext();if(typeof console!=="undefined"){}this.showReportViewer(_94,_95.tablename,_95.entityid);},showReportViewer:function(_96,_97,_98){if(!this.isValidString(_96)){_75.showError(this.getDisplayError(_6e.invalidReportPluginError));return;}if(!this.isValidString(_97)){_75.showError(this.getDisplayError(_6e.invalidTableNameError));return;}if(!this.isValidString(_98)&&!(_98 instanceof Array)){_75.showError(this.getDisplayError(_6e.invalidEntityError));return;}this.setReportJob(_96,_97,_98);this._showReport();},setReportJob:function(_99,_9a,_9b){if(typeof _99!=="string"){console.error("setReportJob: Invalid parameter 'reportId'.");return;}if(typeof _9a!=="string"){console.error("setReportJob: Invalid parameter 'tableName'.");return;}if((typeof _9b!=="string")&&!(_9b instanceof Array)){console.error("setReportJob: Invalid parameter 'entityIds'.");return;}var _9c=this._getRecordSelectionFormula(_9a,_9b);this.reportJob=this.newReportJob();this.reportJob.pluginid=_99;this.reportJob.rsf=_9c;},_getRecordSelectionFormula:function(_9d,_9e){if(this.isValidString(_9e)){if(_9e.indexOf(",")!==-1){_9e=_9e.split(",");}else{_9e=[_9e];}}if(_9e.length===0){console.error("showReport: At least one entity id must be passed as argument.");return;}if(typeof _9d!=="string"){console.error("_getRecordSelectionFormula: Invalid parameter 'tableName'.");return;}if(!(_9e instanceof Array)){console.error("_getRecordSelectionFormula: Invalid parameter 'entityIds'.");return;}var _9f=_9d.toUpperCase()+"."+_9d.toUpperCase()+"ID";var _a0;if(_9e.length===1){_a0="({"+_9f+"} = \""+_9e[0]+"\")";}else{var _a1=[];_72.forEach(_9e,function(_a2,i){_a2="\""+_a2+"\"";_a1.push(_a2);});_a0="({"+_9f+"} in ["+_a1.join(",")+"])";}return _a0;},newReportJob:function(){var _a3={pluginid:"",rsf:"",sortdirections:"",sortfields:""};return _a3;},showReportEx:function(_a4){this.reportJob=_a4;this._showReport();},_showReport:function(){var _a5=this.getReportId(this.reportJob.pluginid);var _a6={reportId:_a5,reportOptions:{wizardOptions:{hiddenSteps:[_70.CrystalReportWizardStep.Conditions,_70.CrystalReportWizardStep.ExportOptions]},scheduleOptions:{executionType:_70.ExecutionType.OnDemand},exportOptions:{outputFormat:_70.ReportExportFormat.Pdf},conditionOptions:{conditionsConnector:_70.ReportConditionConnector.And,recordSelectionFormula:this.reportJob.rsf}}};this.startWizard(_a6);},getCurrentReport:function(){var _a7=this.getCurrentContext();if(_a7.tablename===""||_a7.entityid===""){return null;}switch(_a7.tablename){case "ACCOUNT":return this.getAccountReport();case "CONTACT":return this.getContactReport();case "OPPORTUNITY":return this.getOpportunityReport();case "DEFECT":return this.getDefectReport();case "SALESORDER":return this.getSalesOrderReport();case "TICKET":return this.getTicketReport();default:return this.getDefaultReport();}},getDefaultReport:function(){return this.defaultReport;},setDefaultReport:function(_a8){this.defaultReport=_a8;},getReport:function(_a9){this._initReports();var _aa=null;if(this.isValidString(_a9)&&dojo.isObject(this.defaultDetailReports)){dojo.some(this.defaultDetailReports,function(_ab){if(_ab.maintable.toUpperCase()==_a9.toUpperCase()){var _ac=_6d.substitute("${0}:${1}",[_ab.family,_ab.name]);_aa=_ac;return true;}else{return false;}});}return _aa;},setReport:function(_ad,_ae){var _af=this.parseReport(_ad);if(_af!==null){var _b0=_ae||_af.family.toUpperCase();this.setReportEx(_b0,_af.family,_af.name);}},setReportEx:function(_b1,_b2,_b3){this._initReports();if(this.isValidString(_b1)&&this.isValidString(_b2)&&this.isValidString(_b3)&&dojo.isObject(this.defaultDetailReports)){var _b4=dojo.some(this.defaultDetailReports,function(_b5){if(_b5.maintable.toUpperCase()==_b1.toUpperCase()){_b5.family=_b2;_b5.name=_b3;return true;}else{return false;}});if(!_b4){var _b6={"maintable":_b1,"family":_b2,"name":_b3};this.defaultDetailReports.push(_b6);}}},getAccountReport:function(){return this.getReport("ACCOUNT");},setAccountReport:function(_b7){this.setReport(_b7,"ACCOUNT");},getContactReport:function(){return this.getReport("CONTACT");},setContactReport:function(_b8){this.setReport(_b8,"CONTACT");},getOpportunityReport:function(){return this.getReport("OPPORTUNITY");},setOpportunityReport:function(_b9){this.setReport(_b9,"OPPORTUNITY");},getDefectReport:function(){return this.getReport("DEFECT");},setDefectReport:function(_ba){this.setReport(_ba,"DEFECT");},getSalesOrderReport:function(){return this.getReport("SALESORDER");},setSalesOrderReport:function(_bb){this.setReport(_bb,"SALESORDER");},getTicketReport:function(){return this.getReport("TICKET");},setTicketReport:function(_bc){this.setReport(_bc,"TICKET");},saveDefaultReports:function(_bd,_be){if(dojo.isObject(this.defaultDetailReports)){var _bf=Sage.Services.getService("UserOptions");if(_bf){var _c0=function(_c1){if(typeof _bd==="function"){_bd(_c1);}};var _c2=function(_c3){if(typeof console!=="undefined"){console.error("saveDefaultReports: %o",_c3);}if(typeof _be==="function"){_be(_c3);}};var _c4={"defaultDetailReports":this.defaultDetailReports};var _c5=dojo.toJson(_c4);if(typeof console!=="undefined"){}_bf.set("DefaultDetailReports","Reporting",_c5,_c0,_c2);}}},getReportId:function(_c6){var _c7=null;if(this.isValidString(_c6)){if(_c6.indexOf(":")!=-1){dojo.xhrGet({url:"SLXReportsHelper.ashx?method=GetReportId&report="+encodeURIComponent(_c6),handleAs:"text",preventCache:true,sync:true,load:function(_c8,_c9){_c7=_c8;},error:function(_ca,_cb){if(typeof console!=="undefined"){console.error(_cb);}}});}else{if(_c6.length==12){_c7=_c6;}}}return _c7;},getCurrentContext:function(){var _cc={"tablename":"","entityid":""};if(Sage.Services.hasService("ClientEntityContext")){var _cd=Sage.Services.getService("ClientEntityContext");if(!_cd){return _cc;}var _ce=_cd.getContext();if(!_ce||typeof _ce.EntityTableName==="undefined"){return _cc;}_cc.tablename=_ce.EntityTableName.toUpperCase();_cc.entityid=_ce.EntityId;}return _cc;},parseReport:function(_cf){if(this.isValidString(_cf)){var _d0=_cf.split(":");if(dojo.isArray(_d0)&&_d0.length==2){return {"family":_d0[0],"name":_d0[1]};}}return null;},isValidString:function(s){return (s&&(typeof s==="string"));},_initReports:function(){if(this.defaultDetailReports===null){var _d1=this;dojo.xhrGet({url:"slxdata.ashx/slx/crm/-/useroptions/Reporting/DefaultDetailReports",handleAs:"json",preventCache:true,sync:true,load:function(_d2,_d3){if(dojo.isObject(_d2)&&typeof _d2.optionValue!=="undefined"&&_d2.optionValue!==""){var obj=dojo.fromJson(_d2.optionValue);if(obj&&typeof obj.defaultDetailReports!=="undefined"&&dojo.isArray(obj.defaultDetailReports)){dojo.mixin(_d1,obj);}}},error:function(_d4,_d5){if(typeof console!=="undefined"){console.error(_d5);}}});}if(this.defaultDetailReports===null){this.defaultDetailReports=[{"maintable":"ACCOUNT","family":"Account","name":"Account Detail"},{"maintable":"CONTACT","family":"Contact","name":"Contact Detail"},{"maintable":"OPPORTUNITY","family":"Opportunity","name":"Opportunity Detail"},{"maintable":"DEFECT","family":"Defect","name":"Support Defect"},{"maintable":"TICKET","family":"Ticket","name":"Support Ticket"},{"maintable":"SALESORDER","family":"Sales Order","name":"Sales Order Detail"}];}},getDisplayError:function(msg){return _6d.substitute("${0} ${1}",[_6e.reportCannotBeShownError,msg]);}});if(!Sage.Services.hasService("ReportingService")){Sage.Services.addService("ReportingService",new Sage.Services.ReportingService());}return _76;});},"url:Sage/MainView/ActivityMgr/templates/HistoryEditor.html":"\r\n[\r\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"historyDialog\" title=\"\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:_onDlgHide\">',\r\n        '<div class=\"activity-dialog\">',  //body\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\">',\r\n                '<select label=\"{%= $.regardingText %}\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}_pk_Regarding\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Regarding\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\"></select>',\r\n                '<div dojoType=\"Sage.UI.Controls.TextBox\" shouldPublishMarkDirty=\"false\" label=\"{%= $.locationText %}\" id=\"{%= $.id %}_tb_Location\" dojoAttachPoint=\"tb_Location\" maxLength=\"255\" ></div>',\r\n            '</div>', //first tablecontainer 1 col\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\">',\r\n                '<div dojoType=\"Sage.UI.Controls.DateTimePicker\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}_dtp_CompletetdDate\" dojoAttachPoint=\"dtp_completedDate\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $.completedDateText %}\"></div>',\r\n                '<div dojoType=\"Sage.UI.Controls.DateTimePicker\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}_dtp_StartDate\" dojoAttachPoint=\"dtp_startDate\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $.startTimeText %}\"></div>',\r\n                '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                    '<div dojoType=\"dijit.form.CheckBox\" label=\"{%= $.timeLessText %}\" id=\"{%= $.id %}_cb_Timeless\" dojoAttachPoint=\"cb_Timeless\" ></div>',\r\n                    '<label class=\"checkbox-label\" for=\"cb_Timeless\">{%= $.timeLessText %}</label>',\r\n                '</div>',\r\n                 '<div dojoType=\"Sage.UI.Controls.DurationSelect\" shouldPublishMarkDirty=\"false\" label=\"{%= $.durationText %}\" id=\"{%= $.id %}_sel_Duration\" dojoAttachPoint=\"sel_Duration\" includeDisablingCheckbox=\"false\" valuesAreAfterStart=\"true\"></div>',\r\n                '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                    \r\n                '</div>',\r\n            '</div>', //second tablecontainer 2 col\r\n\r\n            '<div dojoType=\"dijit.layout.TabContainer\" id=\"{%= $.id %}_tc_EditHistory\"  dojoAttachPoint=\"tc_EditHistory\" class=\"tab-container\">',\r\n/*  General Tab   */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_General\" title=\"{%= $.tabNameGeneralText %}\" class=\"tabContent remove-padding\" dojoAttachPoint=\"cp_General\">',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"result_Section\" class=\"bottom-border-section\">',\r\n                        '<select label=\"{%= $.resultText %}\" id=\"{%= $.id %}_tb_Result\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Result\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\"></select>',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"4\" labelWidth=\"4\" baseClass=\"contact-lead-radios\" >',\r\n                        '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"contactOrLead\" label=\"{%= $.contactText %}\" value=\"contact\" id=\"{%= $.id %}_rdo_Contact\" dojoAttachPoint=\"rdo_Contact\" dojoAttachEvent=\"onChange:_setContactLeadVisibility\" checked=\"true\" />',\r\n                        '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"contactOrLead\" label=\"{%= $.leadText %}\" value=\"lead\" id=\"{%= $.id %}_rdo_Lead\" dojoAttachPoint=\"rdo_Lead\" />',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"contactContainer\" baseClass=\"bottom-border-section\">',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.nameText %}\" dojoAttachPoint=\"container_ContactLup\" class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.opportunityText %}\" dojoAttachPoint=\"container_OppLup\" class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.accountText %}\" dojoAttachPoint=\"container_AccountLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.ticketText %}\" dojoAttachPoint=\"container_TicketLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"leadContainer\"  baseClass=\"bottom-border-section\" class=\"display-none\">',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.nameText %}\" dojoAttachPoint=\"container_LeadLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                        '<input dojoType=\"dijit.form.TextBox\" id=\"{%= $.id %}_tb_LeadCompanyName\" label=\"{%= $.companyText %}\" dojoAttachPoint=\"tb_LeadCompanyName\" readonly=\"true\" />',\r\n                    '</div>',                       \r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\"  class=\"bottom-border-section\">',\r\n                        '<select label=\"{%= $.categoryText %}\" id=\"{%= $.id %}_pk_Category\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Category\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\"  style=\"width: {%= 472 - $.labelWidth %}px;\" ></select>', \r\n                         '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.leaderText %}\" dojoAttachPoint=\"container_LeaderLup\" class=\"remove-padding lookup-container\" style=\"width: {%= 472 - $.labelWidth %}px;\"></div>',\r\n                         '<select label=\"{%= $.priorityText %}\" id=\"{%= $.id %}_pk_Priority\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Priority\" canEditText=\"true\" itemMustExist=\"false\" pickListName=\"Priorities\" sort=\"false\" maxLength=\"64\" style=\"width: {%= 472 - $.labelWidth %}px;\"></select>',                          \r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\"  class=\"valigntop\">',\r\n                        '<textarea dojoType=\"dijit.form.SimpleTextarea\" id=\"{%= $.id %}_ta_Notes\" label=\"{%= $.notesText %}\" dojoAttachPoint=\"ta_Notes\" class=\"notes-text\" ></textarea>',\r\n                    '</div>',\r\n                '</div>',  // end general tab\r\n\r\n              /* Attachments Tab  */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_Attachments\" title=\"{%= $.tabNameAttachmentsText %}\" class=\"tabContent\" dojoAttachPoint=\"cp_Attachments\" dojoAttachEvent=\"onShow:_showAttachmentsTab\">',\r\n                    '<div id=\"{%= $.id %}_attachmentsGridPlaceholder\" dojoAttachPoint=\"_attachmentGridPlaceholder\" style=\"width:100%;height:100%;\" ></div>',\r\n                '</div>',  //end attachments tab\r\n            '</div>', //end tab container\r\n            '<table class=\"button-bar\">',\r\n                '<col width=\"50%\" /><col width=\"50%\" />',\r\n                 '<tr>',\r\n                    '<td class=\"alignleft\">',\r\n                        //followUp section\r\n                        '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"followUp_Section\" >',\r\n                            '<select label=\"{%= $.followupText %}\" id=\"{%= $.id %}_followUpSelect\" dojoType=\"dijit.form.ComboBox\" dojoAttachPoint=\"sel_Followup\">',\r\n                                '<option value=\"none\" selected=\"selected\">{%= $.noneText %}</option>',\r\n                                '<option value=\"atPhoneCall\">{%= Sage.Utility.Activity.getActivityTypeName(\"atPhoneCall\") %}</option>',\r\n                                '<option value=\"atAppointment\">{%= Sage.Utility.Activity.getActivityTypeName(\"atAppointment\") %}</option>',\r\n                                '<option value=\"atToDo\">{%= Sage.Utility.Activity.getActivityTypeName(\"atToDo\") %}</option>',\r\n                            '</select>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                                '<div dojoType=\"dijit.form.CheckBox\" label=\"\" id=\"{%= $.id %}_ck_coAttachments\" dojoAttachPoint=\"ck_coAttachments\" ></div>',\r\n                                '<label class=\"checkbox-label\" for=\"{%= $.id %}_ck_coAttachments\">{%= $.carryOverAttachmentsText %}</label>',\r\n                            '</div>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                                '<div dojoType=\"dijit.form.CheckBox\" label=\"\" id=\"{%= $.id %}_ck_coNotes\" dojoAttachPoint=\"ck_coNotes\" ></div>',\r\n                                '<label class=\"checkbox-label\" for=\"{%= $.id %}_ck_coNotes\">{%= $.carryOverNotesText %}</label>',\r\n                            '</div>',\r\n                        '</div>',//end followUp section                         \r\n                    '</td>',\r\n                    '<td class=\"alignright valignbottom\" rowspan=\"2\">',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btnDelete\" name=\"btn_Delete\" dojoAttachPoint=\"btn_Delete\" dojoAttachEvent=\"onClick:_deleteClick\">{%= $.deleteText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.okText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $. cancelText %}</div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                   '<td class=\"alignleft\">',\r\n                      '<div class=\"scheduled-by-label\" dojoAttachPoint=\"lbl_ScheduledBy\"></div>',\r\n                   '</td>',                 \r\n                '</tr>',\r\n            '</table>',\r\n        '</div>', //body\r\n    '</div>',  //dialog\r\n'</div>' //root node\r\n]\r\n","Sage/UI/SDataLookup":function(){define("Sage/UI/SDataLookup",["dojo/_base/html","dojox/grid/DataGrid","dijit/Dialog","dijit/form/Button","Sage/UI/ComboBox","Sage/Data/BaseSDataStore","Sage/UI/ConditionManager","Sage/Utility","Sage/_Templated","Sage/UI/Columns/DateTime","Sage/UI/Columns/Phone","Sage/UI/Columns/PickList","dijit/_Widget","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dojo/i18n!./nls/SDataLookup","dojo/_base/declare"],function(_d6,_d7,_d8,_d9,_da,_db,_dc,_dd,_de,_df,_e0,_e1,_e2,_e3,_e4,_e5,_e6){(function(){if(!_dd){Sage.namespace("Utility");}_dd.addToListUnique=function(_e7,_e8){for(var i=0;i<_e8.length;i++){if(_e7===_e8[i]){return;}}_e8.push(_e7);};_dd.SDataLookupChildObjectFormatter=function(_e9){var _ea=_e9.grid.grid._by_idx[_e9.rowIdx].item,res,i;if(!_ea||!_ea[_e9.childentity]||_ea[_e9.childentity].$resources.length===0){return dojo.string.substitute("<div style=\"text-indent:16px\">${0}</div>",[_e9.value||"&nbsp;"]);}_e9.value=_e9.value||"&nbsp;";res=[];if(_e9.includeButton){res.push(dojo.string.substitute(["<input type=button id=\"SOPshow${1}\" style=\"height:16px;width:14px;border:0;background:transparent;vertical-align:top\" onclick=\"dojo.query('.SOProw${1}').style({display:''});dojo.query('#SOPshow${1}').style({display:'none'});dojo.query('#SOPhide${1}').style({display:''})\" value=\"+\">","<input type=button id=\"SOPhide${1}\" style=\"display:none;height:16px;width:14px;border:0;background:transparent;vertical-align:top\" onclick=\"dojo.query('.SOProw${1}').style({display:'none'});dojo.query('#SOPshow${1}').style({display:''});dojo.query('#SOPhide${1}').style({display:'none'})\" value=\"-\"> "].join(""),[_e9.value,_e9.rowIdx]));}res.push(dojo.string.substitute("${0}<div class=SOProw${1} style=\"display:none\">",[_e9.value,_e9.rowIdx]));for(i=0;i<_ea[_e9.childentity].$resources.length;i++){res.push(dojo.string.substitute("<div style=\"text-indent:2em\">${0}</div>",[_ea[_e9.childentity].$resources[i][_e9.fieldName]||"&nbsp;"]));}res.push("</div>");return res.join("");};}());var _eb=_e6("Sage.UI.SDataLookup",[_e2,_de],{config:null,grid:null,sdataStore:null,conditionMgr:null,structure:null,displayMode:5,lookupDialog:null,dialogTitle:"",dialogWidth:675,dialogHeight:500,seedOnRowEntity:false,seedOnRelatedEntity:"",seedProperty:"",seedValue:"",overrideSeedValueOnSearch:false,preFilters:null,initializeLookup:true,rowEntityId:"",relatedEntityId:"",returnObject:true,addEmptyListItem:false,fields:null,query:null,callerId:null,widgetsInTemplate:true,storeOptions:null,gridOptions:null,sortColumn:"",displayModes:{"DropDownList":0,"Dialog":1,"HyperText":2,"Text":3,"ButtonOnly":4,"ButtonOnlyClient":5},btnIcon:"images/icons/plus_16x16.gif",isModal:false,cancelText:"Cancel",closeText:"Close",loadingText:"Loading...",noDataText:"No records returned",_initialized:false,_addCondHandle:null,_removeCondHandle:null,_originalQueryConditions:"",id:"lookupControl",dialogContent:new Simplate(["<div >","<div style=\"padding:5px;\" id=\"{%= $.id %}-Condition-container\"></div>","<div id=\"{%= $.id %}-Grid-container\" style=\"width:auto;height:{%= $.gridHeight %}px;\"></div>","<div class=\"lookupButtonWrapper\">","{% if($.dialogButtonText){ %}","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" id=\"{%= $.id %}-GridSelectButton\" ","onClick=\"dijit.byId('{%= $.id %}').getGridSelections(); \">","{%= $.dialogButtonText %} </button>","{% } %}","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" id=\"{%= $.id %}-CloseButton\" ","onClick=\"dijit.byId('{%= $.id %}-Dialog').hide();\">{%= $.hideText %}</button>","</div>","</div> "]),constructor:function(){this.gridOptions={};this.storeOptions={pagesize:15,include:[],select:["Id"],orderby:""};this.preFilters=[];this.query={};this.config={};this.fields=[];this.structure=[];this.grid=[];this.sdataStore=[];},postMixInProperties:function(){var _ec,i,_ed,_ee;this._initialized=false;_e4.mixin(this,dojo.i18n.getLocalization("Sage.UI","SDataLookup"));if(typeof this.displayMode==="string"){this.displayMode=this.displayModes[this.displayMode];}if(this.structure&&this.structure[0]&&this.structure[0].cells){_ec=this.structure[0].cells;for(i=0;i<_ec.length;i++){if(_ec[i]&&_ec[i].type&&(typeof _ec[i].type==="string")){switch(_ec[i].type){case "Sage.UI.Columns.DateTime":_ec[i].type=_df;break;case "Sage.UI.Columns.Phone":_ec[i].type=_e0;break;case "Sage.UI.Columns.PickList":_ec[i].type=_e1;break;default:delete _ec[i].type;break;}}}}_ed={pagesize:15,include:[],orderby:"",select:["Id"]};if(this.displayMode===0){this.initSDataStore();this.buildSDataStoreQueryConditions();}else{if(typeof this.gridOptions.contextualCondition==="function"){this.query={fn:this.gridOptions.contextualCondition,scope:this};}else{if(typeof this.gridOptions.contextualCondition==="object"){if(this.gridOptions.contextualCondition.fn){this.ensureValue(this.gridOptions.contextualCondition,"scope",this);this.query=this.gridOptions.contextualCondition;}}}this.buildSDataStoreQueryForSeeding();}_ee={rowsPerPage:15,loadingMessage:this.loadingText,noDataMessage:this.noDataText,query:this.query};this._originalQueryConditions=this.query.conditions;this.storeOptions=_dd.extend(true,_ed,this.storeOptions);this.gridOptions=_dd.extend(false,_ee,this.gridOptions);this.widgetTemplate=new Simplate(this.setTemplate(this.displayMode));},setTemplate:function(_ef){var _f0=["<div id=\"{%= $.id %}\" style=\"width:inherit;\" > ","<select style=\"width:inherit;\"  id=\"{%= $.id %}_select\" searchAttr=\"{%= $.field %}\" labelAttr=\"{%= $.field %}\" "," dojoAttachPoint=\"focusNode\" autoComplete=\"true\" required=\"{%= $.required %}\" data-dojo-type=\"Sage.UI.ComboBox\" value=\"{%= $.setSelectedValue() %}\" "," store=\"dijit.byId('{%= $.id %}').sdataStore\" name=\"{%= $.field %}\">","</select>","</div>"],_f1=["<img style=\"cursor: pointer; padding-right: 4px;\" "," onclick=\"dijit.byId('{%= $.id %}').showLookup();\" ","src=\"{%= $.btnIcon %}\" alt=\"{%= $.btnToolTip %}\" title=\"{%= $.btnToolTip %}\" >"];switch(_ef){case 0:return _f0;case 5:return _f1;default:return _f1;}},initDialog:function(){this.initConditionManager();this.initSDataStore();this._setQueryForLoad();this.initGrid(this.initializeLookup);},_setQueryForLoad:function(){var _f2=this.conditionMgr.getConditionsAsUrlWhereString(),_f3=this._originalQueryConditions,_f4="",_f5=[];_f5.push(_f2);_f5.push(_f3);_f5=dojo.filter(_f5,function(_f6,_f7,_f8){return _f6&&_f6!=="";});_f4=_f5.join(" and ");if(_f4){this.gridOptions.query.conditions=_f4;}},_setQueryForSearch:function(){var _f9=this.conditionMgr.getConditionsAsUrlWhereString(),_fa=this._originalQueryConditions,_fb="",_fc=[];if(this.isSeeded()&&this.overrideSeedValueOnSearch===false){_fc.push(_f9);_fc.push(_fa);}else{if(this.isSeeded()){_fc.push(_f9);}else{_fc.push(_f9);_fc.push(_fa);}}_fc=dojo.filter(_fc,function(_fd,_fe,_ff){return _fd&&_fd!=="";});_fb=_fc.join(" and ");this.gridOptions.query.conditions=_fb;},doLookup:function(){this.grid.destroy(false);this._setQueryForSearch();this.initGrid(true);},setSelectedValue:function(){var _100=(this.value!==null)?this.value:"",_101,_102,i;if(this.returnObject&&this.value!==null){_101=this.field.split(".");_102=this.value;for(i=0;i<_101.length;i++){if(_102){_102=_102[_101[i]];}}_100=_102;}return _100;},getGridSelections:function(){var _103=this.grid.selection.getSelected();if(_103.length<=0&&this.grid._by_idx.length===1){_103.push(this.grid._by_idx[0].item);}if(_103.length===0){return;}this.doSelected(_103);this.grid.selection.deselectAll();},initConditionManager:function(){var _104,cols,_105,_106,_107,_108,_109,i,cell,opts,self,_10a,_10b,_10c,op,_10d,_10e,_10f;if(this.conditionMgr){return;}_104=function(_110,_111,_112,_113,_114,list){var i;for(i=0;i<list.length;i++){if(_110===list[i].fieldname){return;}}list.push({fieldName:_110,displayName:_111,propertyType:_112,pickListName:_113,pickListStorageMode:_114});};cols=this.structure[0];_105=this.fields;for(i=0;i<cols.cells.length;i++){if(cols.cells[i].excludeFromFilters!==true){if(cols.cells[i].field){cell=cols.cells[i];_106=cell.field;_108=cell.propertyType;_107=cell.displayField||cell.name;_109=cell.pickListName;_10f=cell.pickListStorageMode;_104(_106,_107,_108,_109,_10f,_105);}}}opts={fields:_105,fieldNameProperty:"fieldName",fieldDisplayNameProperty:"displayName",fieldTypeProperty:"propertyType",id:this.id+"-ConditionManager"};this.conditionMgr=new _dc(opts);self=this;this._addCondHandle=dojo.subscribe("onAddLookupCondition",self,function(mgr){this._increaseDialogHeight();});this._removeCondHandle=dojo.subscribe("onRemoveLookupCondition",self,function(mgr){this._decreaseDialogHeight();});if(this.preFilters.length>0){this.conditionMgr.setFirstConditionValue("","=","");}for(_10a=0;_10a<this.preFilters.length;_10a++){_10b=this.preFilters[_10a];_10c=_10b.propertyName.trim();op=_10b.conditionOperator.trim();_10d=_10b.filterValue.trim();_10e=_10b.visible;this.conditionMgr.addCondition(_10c,op,_10d,_10e);if(_10e){this._increaseDialogHeight();}}dojo.place(this.conditionMgr.domNode,dojo.byId(this.id+"-Condition-container"),"only");this._doSearchConnection=dojo.connect(this.conditionMgr,"onDoSearch",this,"doLookup");},_increaseDialogHeight:function(){if(this.dialogHeight){this.dialogHeight+=30;dojo.style([this.id,"-Dialog"].join(""),"height",this.dialogHeight+"px");}},_decreaseDialogHeight:function(){if(this.dialogHeight){this.dialogHeight-=30;dojo.style([this.id,"-Dialog"].join(""),"height",this.dialogHeight+"px");}},onDoubleClick:function(_115){this.getGridSelections();if(this.lookupDialog){}},initGrid:function(_116){var _117=dijit.byId([this.id,"-Grid"].join(""));if(!_117){this.gridOptions.store=this.sdataStore;this.gridOptions.structure=this.structure;this.gridOptions.id=[this.id,"-Grid"].join("");this.grid=new _d7(this.gridOptions);this.grid.canSort=function(_118){var cols=this.structure[0];return cols.cells[Math.abs(_118)-1].sortable;};dojo.connect(this.grid,"onDblClick",this,this.onDoubleClick);dojo.place(this.grid.domNode,[this.id,"-Grid-container"].join(""),"only");if(_116){this.grid.startup();}else{this.grid.query.conditions="Id like '_hack_'";this.grid.startup();}}else{if(this.query.conditions!==_117.query.conditions){_117.destroy();this.initGrid(_116);}else{this.grid=_117;}}},resetGrid:function(){var _119=dijit.byId([this.id,"-Grid"].join(""));if(_119){_119.destroy();}},initSDataStore:function(){var cols=this.structure[0],sel=this.storeOptions.select||[],inc=this.storeOptions.include||[],_11a,i,_11b,_11c,p;for(i=0;i<cols.cells.length;i++){if(cols.cells[i].field){_11a=cols.cells[i].field;if(cols.cells[i].displayField){_11a=_11a+"."+cols.cells[i].displayField;}_dd.addToListUnique(_11a.replace(/\./g,"/"),sel);if(cols.cells[i].field.indexOf(".")>0){_11b=cols.cells[i].field.split(".");_11c="";for(p=0;p<_11b.length-1;p++){_11c+=_11b[p];_dd.addToListUnique(_11c,inc);_11c+="/";}}}}this.storeOptions.include=inc;this.storeOptions.select=sel;this.sdataStore=new _db(this.storeOptions);},isSeeded:function(){var _11d=(this.seedValue&&this.seedValue!==""&&this.seedProperty!=="");return _11d;},buildSDataStoreQueryForSeeding:function(){var _11e,_11f,_120;if(this.isSeeded()){_11f=dojo.string.substitute("${0} eq \"${1}\"",[this.seedProperty,this.seedValue]);_120=this.query.conditions;if(_120&&_120!==""){_11e=_120+" and "+_11f;}else{_11e=_11f;}this.sdataStore.query={conditions:_11e};this.query.conditions=_11e;}},buildSDataStoreQueryConditions:function(){var _121;if(this.seedOnRowEntity){this.sdataStore.directQuery=dojo.string.substitute("Id eq \"${0}\"",[this.rowEntityId]);}if(this.seedOnRelatedEntity!==""){this.sdataStore.directQuery={conditions:dojo.string.substitute(" ${0}.Id eq \"${1}\" ",[this.seedOnRelatedEntity,this.relatedEntityId])};}if(typeof this.gridOptions.contextualCondition==="function"){_121={fn:this.gridOptions.contextualCondition,scope:this};this.sdataStore.directQuery=_dd.extend(true,this.sdataStore.directQuery,_121);}},render:function(){dojo.place(this.domNode,this.renderTo);},canShowLookup:function(){if(typeof this.gridOptions.contextualShow==="function"){return this.gridOptions.contextualShow();}return {result:true,reason:""};},showLookup:function(){var _122="The lookup cannot be displayed because one or more conditions have not been met.",_123=this.canShowLookup(),self=this,_124,_125,_126="";if(typeof _123!=="object"){Sage.UI.Dialogs.showError("The call to the function canShowLookup() returned an invalid result.");return;}if(typeof _123.result==="boolean"&&_123.result){_124=(self.dialogHeight>0)?self.dialogHeight:450;_125=(self.dialogWidth>0)?self.dialogWidth:700;self.lookupDialog=dijit.byId([self.id,"-Dialog"].join(""));if(!self.lookupDialog){self.lookupDialog=new _d8({title:self.dialogTitle,id:[self.id,"-Dialog"].join(""),style:["height:",_124,"px;width:",_125,"px;"].join(""),refreshOnShow:false,_onKey:this._onKey});self.dialogHeight=_124;self.dialogWidth=_125;if(self.isModal){_126=self.cancelText;}else{_126=self.closeText;}self.lookupDialog.set("content",self.dialogContent.apply({hideText:_126,dialogButtonText:self.dialogButtonText,id:self.id,gridHeight:_124-150}));_e4.mixin(self.lookupDialog,new _e3());self.lookupDialog.createHelpIconByTopic("findlookup");}else{self.dialogHeight=_124;dojo.style([self.id,"-Dialog"].join(""),"height",_124+"px");}self.lookupDialog.show();if(!this.isModal){dojo.destroy([self.id,"-Dialog_underlay"].join(""));}dojo.style([self.id,"-Dialog"].join(""),"top","60px");dojo.style([self.id,"-Dialog"].join(""),"left","300px");self.initDialog();}else{if(typeof _123.reason==="string"&&_123.reason.length!==0){_122=_123.reason;}Sage.UI.Dialogs.showError(_122);}},doSelected:function(_127){},_onKey:function(evt){var self=this,args=arguments;dojo.query("*",this.domNode).forEach(function(node,_128,arr){if(node===evt.target){self.inherited(args);}});},destroy:function(){var _129=dijit.byId([this.id,"-Dialog"].join(""));if(this.btnIcon){dojo.destroy(this.btnIcon);}dojo.disconnect(this._doSearchConnection);dojo.unsubscribe(this._addCondHandle);dojo.unsubscribe(this._removeCondHandle);if(this.conditionMgr){this.conditionMgr.destroy(false);}if(_129){_129.uninitialize();}this.inherited(arguments);}});return _eb;});},"Sage/UI/EditorContainer":function(){define("Sage/UI/EditorContainer",["dojo/i18n","dijit/form/Button","dojo/_base/declare"],function(i18n,_12a,_12b){var _12c=_12b("Sage.UI.EditorContainer",null,{constructor:function(_12d){dojo.safeMixin(this,_12d);dojo.mixin(this,i18n.getLocalization("dijit","common"));},textCell:new Simplate("<td class=\"editor-text\">{%= $[0] %}</td>"),textCellWithLoading:new Simplate("<td class=\"editor-text\">{%= $.label %}<span style=\"display:none; float:right;\" id=\"{%= $.id %}_loading\">{%= $.loadingLabel %}</span></td>"),ctrlCell:new Simplate("<td class=\"editor-ctrl\">{%= $[0] %}</td>"),rowTpl:new Simplate("<tr>{%= $.cells %}</tr>"),btnRow:new Simplate("<tr><td></td><td id=\"{%= $.id %}_editor_tools\"><table width=\"100%\"><tr><td id=\"{%= $.id %}_custom_tools\" align=\"left\"></td><td align=\"right\">{%= $.btn %}</td></tr></table></td></tr>"),tableTpl:new Simplate(["<table class=\"editor-table\">","<tbody>{%= $.rows %}</tbody></table>"]),btnOk:new Simplate(["<button style=\"align:right;\" data-dojo-type=\"dijit.form.Button\" type=\"button\""," id=\"{%= $.id %}_btnOK\" title=\"{%= $.buttonOk %}\">{%= $.buttonOk %}</button>"]),btnCancel:new Simplate(["<button style=\"align:right;\" data-dojo-type=\"dijit.form.Button\" type=\"button\""," id=\"{%= $.id %}_btnCancel\" title=\"{%= $.buttonCancel %}\">{%= $.buttonCancel %}</button>"]),doTemplate:function(){var _12e=[];for(var p in this.rows){if(this.rows.hasOwnProperty(p)){var _12f=[];if(this.rows[p].loading){_12f.push(this.textCellWithLoading.apply({label:this.rows[p].title,id:this._pcid,loadingLabel:this.rows[p].loading}),this.ctrlCell.apply([this.rows[p].control]));}else{_12f.push(this.textCell.apply([this.rows[p].title]),this.ctrlCell.apply([this.rows[p].control]));}_12e.push(this.rowTpl.apply({cells:_12f.join("")}));}}var btns=[this.btnOk.apply({id:this._pcid,buttonOk:this.buttonOk}),this.btnCancel.apply({id:this._pcid,buttonCancel:this.buttonCancel})];_12e.push(this.btnRow.apply({btn:btns.join(""),id:this._pcid}));return this.tableTpl.apply({rows:_12e.join("")});}});return _12c;});},"Sage/QuickForms/Design/FormDesigner":function(){define("Sage/QuickForms/Design/FormDesigner",["dojo/string","dojo/topic","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dijit/_WidgetBase","./ControlDesignerRegistry","./RowDesigner","./ColumnDesigner","./Editors/FormBasicPropertyEditor","./Editors/FormAdvancedPropertyEditor","./Editors/FormUsagesPropertyEditor","dojo/i18n!./nls/FormDesigner"],function(_130,_131,_132,lang,_133,_134,_135,_136,_137,_138,_139,_13a,_13b){return _132("Sage.QuickForms.Design.FormDesigner",[_134],{entry:null,editors:[_138,_139,_13a],helpTopicName:"Form_properties",_controls:null,_rows:null,_columns:null,displayNameText:"Form",constructor:function(){lang.mixin(this,_13b);},uninitialize:function(){this.inherited(arguments);_133.forEach(this._controls,function(_13c){_13c.destroyRecursive();});_133.forEach(this._rows,function(_13d){_13d.destroyRecursive();});_133.forEach(this._columns,function(_13e){_13e.destroyRecursive();});},set:function(name,_13f){var _140=this.inherited(arguments);var _141=this._getAttrNames(name),_142=this[_141.s];if(lang.isFunction(_142)){_131.publish("/quickforms/design/designerModified",this,name,_13f,_140,this);}return _140;},_getNameAttr:function(){return lang.getObject("entity.Name",false,this.entry);},_setNameAttr:function(_143){lang.setObject("entity.Name",_143,this.entry);},_getDescriptionAttr:function(){return lang.getObject("entity.Description",false,this.entry);},_setDescriptionAttr:function(_144){lang.setObject("entity.Description",_144,this.entry);},_getActiveControlAttr:function(){return lang.getObject("entity.ActiveControl",false,this.entry);},_setActiveControlAttr:function(_145){lang.setObject("entity.ActiveControl",_145,this.entry);},_getUseEntityNameAsTitleAttr:function(){return lang.getObject("entity.UseEntityNameAsTitle",false,this.entry);},_setUseEntityNameAsTitleAttr:function(_146){lang.setObject("entity.UseEntityNameAsTitle",_146,this.entry);},_getEtagAttr:function(){return lang.getObject("etag",false,this.entry);},_setEtagAttr:function(_147){lang.setObject("etag",_147,this.entry);},_getRowsAttr:function(){return this._rows||(this._rows=this._createRowDesigners());},_getRowCountAttr:function(){return this.get("rows").length;},_createRowDesigners:function(){var raw=lang.getObject("entity.Rows",false,this.entry),_148=[];_133.forEach(raw,function(row,_149){var _14a=new _136({entry:row,form:this,index:_149});_148.push(_14a);},this);return _148;},_getColumnsAttr:function(){return this._columns||(this._columns=this._createColumnDesigners());},_getColumnCountAttr:function(){return this.get("columns").length;},_createColumnDesigners:function(){var raw=lang.getObject("entity.Columns",false,this.entry),_14b=[];_133.forEach(raw,function(_14c,_14d){var _14e=new _137({entry:_14c,form:this,index:_14d});_14b.push(_14e);},this);return _14b;},_getControlsAttr:function(){return this._controls||(this._controls=this._createControlDesigners());},_createControlDesigners:function(){var raw=lang.getObject("entity.Controls",false,this.entry),_14f=[];_133.forEach(raw,function(_150){var ctor=_135.getDesignerFor(_150);if(ctor){var _151=new ctor({entry:_150,form:this});_14f.push(_151);}else{throw new Error("Could not find designer for type: \""+_150["$type"]+"\".");}},this);return _14f;},addControl:function(_152){var _153=this.get("controls"),raw=lang.getObject("entity.Controls",false,this.entry)||[];_153.push(_152);raw.push(_152.get("entry"));lang.setObject("entity.Controls",raw,this.entry);},addRow:function(_154,at){var _155=this.get("rows"),raw=lang.getObject("entity.Rows",false,this.entry)||[];_154.index=at||_154.index||_155.length;for(var i=_154.index;i<_155.length;i++){_155[i].index+=1;}_155.splice(_154.index,0,_154);raw.splice(_154.index,0,_154.get("entry"));lang.setObject("entity.Rows",raw,this.entry);},removeRow:function(at){var _156=this.get("rows"),raw=lang.getObject("entity.Rows",false,this.entry)||[];for(var i=at;i<_156.length;i++){_156[i].index-=1;}_156.splice(at,1);raw.splice(at,1);},addColumn:function(_157,at){var _158=this.get("columns"),raw=lang.getObject("entity.Columns",false,this.entry)||[];_157.index=at||_157.index||_158.length;for(var i=_157.index;i<_158.length;i++){_158[i].index+=1;}_158.splice(_157.index,0,_157);raw.splice(_157.index,0,_157.get("entry"));lang.setObject("entity.Columns",raw,this.entry);},removeColumn:function(at){var _159=this.get("columns"),raw=lang.getObject("entity.Columns",false,this.entry)||[];for(var i=at;i<_159.length;i++){_159[i].index-=1;}_159.splice(at,1);raw.splice(at,1);},createUniqueId:function(_15a){var _15b={},next=_15a,_15c=1;_133.forEach(this.get("controls"),function(_15d){var id=_15d.get("controlId");if(next==id){do{next=_15a+_15c++;}while(_15b[next]);}_15b[id]=true;});return next;}});});},"Sage/Extensions/Activity/ListPanelOverrides/AllOpenListPanelConfig":function(){define("Sage/Extensions/Activity/ListPanelOverrides/AllOpenListPanelConfig",["Sage/MainView/ActivityMgr/AllOpenListPanelConfig","dojo/_base/declare","dojo/_base/lang","dojo/i18n!./nls/AllOpenListPanelConfig"],function(_15e,_15f,lang,_160){var _161=_15f("Sage.Extensions.Activity.ListPanelOverrides.AllOpenListPanelConfig",[_15e],{constructor:function(){lang.mixin(this,_160);this._select.push("Details/AttendeeCount");this._structure.push({field:"Details.AttendeeCount",name:this.colNameAssociationCount,width:"90px"});}});return _161;});},"Sage/Utility/nls/Activity":function(){define("Sage/Utility/nls/Activity",["Sage/LanguageList","dojo/_base/lang"],function(_162,lang){var nls={root:{ToDo:"To-Do",PhoneCall:"Phone Call",Meeting:"Meeting",Personal:"Personal Activity",Literature:"Literature",Fax:"Fax",Letter:"Letter",Note:"Note",Email:"E-mail",Document:"Document",DatabaseChange:"Database Change",Event:"Event",ScheduledEvent:"Scheduled Event",Contact:"Contact",Lead:"Lead",New:"New",Change:"Change",Deleted:"Deleted",Confirm:"Confirm",Decline:"Decline",Unknown:"Unknown",Leader:"Leader",Complete:"Complete",confirmTypeChanged:"Changed",confirmTypeConfirmed:"Confirmed",confirmTypeDeleted:"Deleted"}};return lang.mixin(_162,nls);});},"Sage/QuickForms/Design/nls/DesignPanel":function(){define("Sage/QuickForms/Design/nls/DesignPanel",["Sage/LanguageList","dojo/_base/lang"],function(_163,lang){var nls={root:{cultureListText:{iv:"[invariant]",de_DE:"de-DE",fr_FR:"fr-FR",it_IT:"it-IT",ru_RU:"ru-RU"},helpText:"Help",saveText:"Save",cultureText:"Culture:",loadingText:"Loading...",savingText:"Saving...",saveErrorText:"An error occurred saving the form.",readErrorText:"Could not load the requested form.",cultureReloadConfirmText:"You have unsaved changes.  Are you sure you want to reload the form with a different culture?"}};return lang.mixin(_163,nls);});},"Sage/UI/Dashboard/ChartingWidget":function(){define("Sage/UI/Dashboard/ChartingWidget",["Sage/UI/Dashboard/BaseWidget","Sage/Utility","dojo/i18n","dojo/_base/declare","dojo/i18n!./nls/WidgetDefinition","dojo/number"],function(_164,util,i18n,_165){var _166=_165("Sage.UI.Dashboard.ChartingWidget",[_164],{_chartTpl:new Simplate(["<table border=\"0\" style=\"width:100%; height:100%\">","<tr>","<td id=\"{%= $.id %}_chart\" style=\"width:{%= $.chartWidth %}\"></td>","<td style=\"display:{%= $.legendDisplay %};font-size:10px;\"><div class=\"dojoxGridScrollbox\" style=\"height:{%= $.chartHeight %};overflow-y:auto;\"><span id=\"{%= $.id %}_legend\"></span></div></td>","</tr>","</table>"]),_noDataTable:new Simplate(["<table border=\"0\" style=\"width:100%; height:100%\">","<tr>","<td>{%= $.NoDataMessage %}</td>","</tr>","</table>"]),_baseEditor:function(_167,_168){var mkup=this._getEditorString(_168,_167.id);var frag=util.fragger(mkup);var _169=util.fragToDijits(frag);_167.addChild(_169[0],0);if(_167.isNew){_167._editorAdded();}},_getPaneSize:function(){return {w:dojo.style(this.pane,"width"),h:dojo.style(this.pane,"height")};},html:function(_16a,data){this.paneId=_16a.id+"_pane";this.parentCellId=_16a.id;this.pane=dojo.byId(this.paneId);this.chartId=_16a.id+"_chart";this.legendId=_16a.id+"_legend";this.options=_16a.widgetOptions;this.showLegend=this.options.showLegend==="true";this.showLabels=this.options.showLabels==="true";var size=this._getPaneSize();var i,_16b;this.paneWidth=size.w;var h=Math.floor(size.w*this.prefHeight)+"px";dojo.style(this.pane,"height",h);if(data){this.values=[];this._labels=[];if(this.name==="Pie Chart"){this.cumulativeValues=0;for(i=0;i<data.total_count;i++){data.items[i].value=Math.max(0,data.items[i].value);this.cumulativeValues+=Math.floor(data.items[i].value);}}for(i=0;i<data.total_count;i++){var curr=data.items[i];var fVal=Math.floor(curr.value);var tmp={};var _16c;if(this.showLabels){tmp.text=this.options.truncLabels==="true"?this.truncate(curr.displayName,this.options.truncNum||7):curr.displayName;}if(this.name==="Pie Chart"){if(fVal<=0){continue;}tmp.y=fVal;var _16d=0;if(this.cumulativeValues>0){_16d=fVal/this.cumulativeValues*100;}tmp.tooltip=curr.displayName+", "+dojo.number.format(_16d,{places:2})+"%";_16c=fVal;if(_16c>=1000000){_16c=dojo.number.format((_16c/1000000),{places:1})+"M";}else{_16c=dojo.number.format(fVal);}tmp.legend="<label>"+curr.displayName+"</label><label style=\"float:right; margin-left:10px; margin-top:2px;\">"+_16c+"</label>";}else{_16c=fVal;if(_16c>=1000000){_16c=dojo.number.format((_16c/1000000),{places:1})+"M";}else{_16c=dojo.number.format(fVal);}tmp.value=i+1;tmp.y=fVal;tmp.tooltip=curr.displayName+", "+_16c;}this._labels.push(tmp);this.values.push(fVal);}if(data.total_count>0){_16a.set("content",this._chartTpl.apply({id:_16a.id,chartWidth:_16a.chartWidth,legendDisplay:_16a.legendDisplay,chartHeight:h}));this._doChart(_16a,data);}else{_16b=Sage.UI.DataStore.Dashboard.WidgetResources;dojo.style(this.pane,"height","20px");_16a.set("content",this._noDataTable.apply({NoDataMessage:_16b.noDataToDisplay}));this.editor(_16a);}}else{_16b=Sage.UI.DataStore.Dashboard.WidgetResources;dojo.style(this.pane,"height","20px");_16a.set("content",this._noDataTable.apply({NoDataMessage:_16b.noDataToDisplay}));this.editor(_16a);}this._addFooter();},_addFooter:function(){var _16e=i18n.getLocalization("Sage.UI.Dashboard","WidgetDefinition");var _16f=["#",this.parentCellId," .dijitTitlePaneContentOuter"].join("");if(this.options.groupname&&this.options.resource){var _170=String.format("<div class=\"dijitTitlePaneTitle\" id=\"{0}\" style=\"border:0;font-weight:normal;\">",this.parentCellId+"_footer");if(this.options.entity!=="Sage.Entity.Interfaces.IHistory"&&this.options.groupname&&this.options.resource){_170+=String.format("<span style=\"float:left; margin-top:3px;\"><a href=\"{0}.aspx?modeid=list&gname={1}\">{2}</a></span>",this.options.resource,this.options.groupname,_16e.viewGroupText||"View Group");}_170+="<span style=\"float:right; margin-top:3px;\">"+dojo.date.locale.format(new Date(),{fullYear:true})+"</span>";_170+="</div>";var _171=dojo.byId(this.parentCellId+"_footer");if(!_171){dojo.place(_170,dojo.query(_16f)[0],"last");}else{dojo.place(_170,_171,"replace");}}},truncate:function(str,n){return str.length>n?str.slice(0,n)+"...":str;}});return _166;});},"Sage/Data/WritableSDataStore":function(){define("Sage/Data/WritableSDataStore",["Sage/Data/BaseSDataStore","Sage/Utility","dojo/_base/declare","dojo/_base/array","dojo/_base/lang"],function(_172,_173,_174,_175,lang){var _176=_174("Sage.Data.WritableSDataStore",_172,{newItemParentReferenceProperty:false,constructor:function(o){this.features["dojo.data.api.Write"]=true;this.features["dojo.data.api.Notification"]=true;this.dirtyDataCache={isDirty:false};this.singleResourceRequest=null;dojo.connect(this,"clearCache",this,this._clearCache);this.onComplete=o.onComplete;},getSingleResourceRequest:function(key){this.verifyService();if(this.singleResourceRequest===null){this.singleResourceRequest=new Sage.SData.Client.SDataSingleResourceRequest(this.service);this.singleResourceRequest.setResourceKind(this.resourceKind);if(this.select&&this.select.length>0){this.singleResourceRequest.setQueryArg("select",this.select.join(","));}if(this.include&&this.include.length>0){this.singleResourceRequest.setQueryArg("include",this.include.join(","));}}if(key){this.singleResourceRequest.setResourceSelector("'"+key+"'");}return this.singleResourceRequest;},onSuccess:function(_177,feed){if(_177.onBegin){_177.onBegin.call(_177.scope||this,feed.$totalResults,_177);}if(this.onComplete){this.onComplete.call(_177.scope||this,feed.$resources,_177);}if(_177.onComplete){_177.onComplete.call(_177.scope||this,feed.$resources,_177);}this.addToCache(_177,feed);},_clearCache:function(){this.clearDirtyDataCache();},clearDirtyDataCache:function(){for(var key in this.dirtyDataCache){if(key!=="isDirty"){delete this.dirtyDataCache[key];}}this.dirtyDataCache.isDirty=false;},isItem:function(_178){var id=this.getIdentity(_178);if(id&&id!==""){return this.dataCache.hasOwnProperty(id);}return false;},isItemLoaded:function(_179){return this.isItem(_179);},loadItem:function(_17a){if(!this.isItem(_17a.item)){throw new Error("Unable to load "+_17a.item);}},getValues:function(item,_17b){if(this.isItem(item)&&(typeof _17b==="string")){return (item[_17b]||[]).slice(0);}return [];},hasAttribute:function(item,_17c){if(this.isItem(item)&&(typeof _17c==="string")){return _17c in item;}return false;},close:function(){this.clearCache();},deleteItem:function(item,_17d){var _17e={};_17e.scope=_17d||this;_17e.ignoreETag=true;var _17f=this.getSingleResourceRequest(this.getIdentity(item));if(_17d&&typeof _17d.onResponse==="function"){_17e.success=_17d.onResponse;_17e.aborted=_17d.onResponse;_17e.failure=_17d.onResponse;}_17f["delete"](item,_17e);},isDirty:function(item){if(item){var id=this.getIdentity(item);if(id&&id!==""){return this.dirtyDataCache.hasOwnPropery(id);}}return this.dirtyDataCache.isDirty;},_checkPageExitWarningMessage:function(){var _180=true;if(this.dirtyDataCache.isDirty){var _181=Sage.Services.getService("ClientBindingManagerService");_180=confirm(_181._PageExitWarningMessage);}return _180;},newItem:function(args){if(!this._checkPageExitWarningMessage()){return;}var _182=this.createTemplateRequest();if(_182){_182.read({success:function(_183){this._newItemCreated(args,_183);this.onNew(_183);},failure:this.requestTemplateFailure,scope:this});}},_newItemCreated:function(_184,_185){if(this.newItemParentReferenceProperty){var _186=Sage.Utility.getCurrentEntityId();if(_185.hasOwnProperty(this.newItemParentReferenceProperty)&&_186){_185[this.newItemParentReferenceProperty]={"$key":_186};}}if((_184)&&(_184.onComplete)&&(typeof _184.onComplete==="function")){_184.onComplete.call(_184.scope||this,_185);}},createTemplateRequest:function(){var _187=new Sage.SData.Client.SDataTemplateResourceRequest(this.service);if((this.resourceKind)&&(this.resourceKind!=="")){_187.setResourceKind(this.resourceKind);}return _187;},requestTemplateFailure:function(){},saveNewEntity:function(_188,_189,_18a,_18b){var _18c=new Sage.SData.Client.SDataSingleResourceRequest(this.service);if(_18c){if((this.resourceKind)&&(this.resourceKind!=="")){_18c.setResourceKind(this.resourceKind);}_18c.create(_188,{success:_189||function(_18d){if(typeof console!=="undefined"){}},failure:_18a||function(_18e,o){if(typeof console!=="undefined"){}},scope:_18b||this});}},createItem:function(item,_18f){var _190=new Sage.SData.Client.SDataSingleResourceRequest(this.service);if(_190){if((this.resourceKind)&&(this.resourceKind!=="")){_190.setResourceKind(this.resourceKind);}var _191={};_191.scope=_18f||this;_191.scope.store=this;var _192=function(_193){if(typeof console!=="undefined"){}if(typeof this.onResponse==="function"){this.onResponse.call(this,_193);}};_191.success=_192;var _194=function(_195,o){if(typeof this.onResponse==="function"){this.onResponse.call(this,_195,o);}else{if(typeof console!=="undefined"&&_195&&typeof _195!=="undefined"&&_195.status){}}};_191.failure=_194;_191.aborted=_194;_190.create(item,_191);}},revert:function(){this.clearDirtyDataCache();this.onDataReset();},save:function(_196){var _197,_198;if(!this.dirtyDataCache.isDirty){if(_196&&typeof _196.onComplete==="function"){_196.onComplete.call(_196);}return;}for(var key in this.dirtyDataCache){if(key!=="isDirty"){_197=this.dirtyDataCache[key];if(this.isItem(_197)){_198=this.getSingleResourceRequest(key);var _199={};_199.scope=_196||this;_199.scope.store=this;if(!this.isSecurityManager){_199.ignoreETag=true;}var _19a=function(_19b){if(this.store.dataCache[_19b.$key]){this.store.dataCache[_19b.$key].$etag=_19b.$etag;}if(typeof this.onResponse==="function"){this.onResponse.call(this,_19b);}};_199.success=_19a;var _19c=function(_19d,o){if(typeof console!=="undefined"){if(_19d&&typeof _19d!=="undefined"&&_19d.responseText){var _19e=dojo.fromJson(_19d.responseText);if(_19e&&typeof _19e!=="undefined"&&_19e.$key){var obj=this.store.dataCache[_19e.$key];if(obj&&obj.$etag){}}}}if(typeof this.onResponse==="function"){this.onResponse.call(this,_19d,o);}};_199.failure=_19c;_199.aborted=_19c;_198.update(_197,_199);}delete this.dirtyDataCache[key];}}this.dirtyDataCache.isDirty=false;if(_196&&typeof _196.onResponse!=="function"&&typeof _196.onComplete==="function"){_196.onComplete.call(_196);}},setValue:function(item,_19f,_1a0){var _1a1=this.getValue(item,_19f,"");_173.setValue(item,_19f,_1a0);this.onSet(item,_19f,_1a1,_1a0);if(_1a1!=_1a0){this.dirtyDataCache[this.getIdentity(item)]=item;this.dirtyDataCache.isDirty=true;}return true;},setValues:function(item,_1a2,_1a3){_175.forEach(_1a3,lang.hitch(this,function(val){this.setValue(item,_1a2,val);}));},unsetAttribute:function(item,_1a4){alert("not implemented - unsetAttribute");},onSet:function(item,_1a5,_1a6,_1a7){},onNew:function(_1a8){},onDelete:function(_1a9){},onDataReset:function(){},onDataSaved:function(){},onItemSaved:function(_1aa,_1ab){},onItemNotSaved:function(_1ac,_1ad){}});return _176;});},"Sage/MainView/Opportunity/OpportunityStatistics":function(){require({cache:{"url:Sage/MainView/Opportunity/templates/OpportunityStatistics.html":" [\r\n    '<div>',\r\n        '<div data-dojo-type=\"dijit.Dialog\" id=\"{%= $.id%}_dlgOpportunityStatistics\" title=\"{%= $.opportunityStatistics_Caption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n            '<div dojoAttachPoint=\"loadingContainer\">',\r\n                '<br />',\r\n                '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingMessge %}</label>',\r\n                '<br />',\r\n                '<br />',\r\n            '</div>',\r\n            '<table cellspacing=\"20\" dojoAttachPoint=\"statisticsContentsContainer\" class=\"display-none\">',\r\n                '<tr>',\r\n                    '<td >',\r\n                        '<label>{%= $.opportunityCount %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<label dojoAttachPoint=\"opportunityCount\"></label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.salesPotentialTotal %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"salesPotential\" dojoAttachPoint=\"salesPotentialTotal_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"salesPotentialAverage\" dojoAttachPoint=\"salesPotentialAverage_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.weightedPotentialTotal %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"weightedPotential\" dojoAttachPoint=\"weightedPotentialTotal_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"weightedPotentialAverage\" dojoAttachPoint=\"weightedPotentialAverage_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.averageCloseProbability %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div dojoType=\"Sage.UI.Controls.Numeric\" constraints=\"{ places: 2, maxPlaces: 2, type: \\'percent\\' }\" dojoAttachPoint=\"closeProbability_Container\" readonly=\"readonly\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.actualAmountTotal %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"actualAmount\" dojoAttachPoint=\"actualAmountTotal_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"actualAmountAverage\" dojoAttachPoint=\"actualAmountAverage_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.averageDaysOpen %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<label dojoAttachPoint=\"daysOpen_Container\"></label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.rangeEstClose %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<label dojoAttachPoint=\"rangeEstClose_Container\"></label>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n            '<div class=\"button-bar alignright\">',\r\n                '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" type=\"button\" dojoAttachEvent=\"onClick:_close\">{%= $.btnClose_Caption %}</button>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>'\r\n]"}});define("Sage/MainView/Opportunity/OpportunityStatistics",["dojo/_base/declare","dojo/i18n!./nls/OpportunityStatistics","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","Sage/UI/Dialogs","Sage/UI/Controls/Currency","Sage/UI/Controls/Numeric","Sage/Data/SDataServiceRegistry","dojo/date/locale","Sage/Utility","dojo/text!./templates/OpportunityStatistics.html","dojo/html","dijit/form/Form","dijit/form/Select","dijit/form/Textarea","dijit/layout/ContentPane","dojox/layout/TableContainer"],function(_1ae,_1af,_1b0,_1b1,_1b2,_1b3,_1b4,_1b5,_1b6,_1b7,_1b8,_1b9,_1ba,_1bb,html){var _1bc=_1ae("Sage.MainView.Opportunity.OpportunityStatistics",[_1b3,_1b4],{_dialog:false,_selectionInfo:false,selectedCount:0,resource:"",currencyDecimalDigits:2,currencyCode:"USD",locale:Sys.CultureInfo.CurrentCulture.name,isMultiCurrencyEnabled:false,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_1bb)),constructor:function(_1bd){this._selectionInfo=_1bd;this.currencyDecimalDigits=Sys.CultureInfo.CurrentCulture.numberFormat.CurrencyDecimalDigits;this.isMultiCurrencyEnabled=window.isMultiCurrencyEnabled();dojo.mixin(this,_1af);},show:function(){this._dialog.show();if(!this._dialog.helpIcon){_1b1.mixin(this._dialog,new _1b0());this._dialog.createHelpIconByTopic("opportunitystatistics");}var _1be=_1b8.getSDataService("mashups");var _1bf=new Sage.SData.Client.SDataNamedQueryRequest(_1be);_1bf.setApplicationName("$app");_1bf.setResourceKind("mashups");_1bf.uri.setCollectionPredicate("'OpportunityStatistics'");_1bf.setQueryName("execute");_1bf.setQueryArg("_resultName","OpportunityStatisticsMashup");_1bf.setQueryArg("_selectionKey",this._selectionInfo.key);var self=this;_1bf.read({success:function(data){self.resource=data.$resources[0];self.selectedCount=self.resource.RecordCount;self.currencyCode=self.resource.CurrencyCode;html.set(self.opportunityCount,self.selectedCount);self.createControls();var _1c0=self.resource.DaysOpened;if(self.selectedCount>1){_1c0=Math.round(self.resource.DaysOpened/self.selectedCount);}html.set(self.daysOpen_Container,_1c0.toString());dojo.addClass(self.loadingContainer,"display-none");dojo.removeClass(self.statisticsContentsContainer,"display-none");},failure:function(_1c1,_1c2,_1c3){_1b5.showError(self.errorRequestingStatistics);}});},formatCurrency:function(val){val=val.replace(" ","","gi");val=val.replace(Sys.CultureInfo.CurrentCulture.numberFormat.CurrencyDecimalSeparator,".","gi");return val;},createControls:function(){this.createSalesPotential();this.createCloseProbability();this.createWeightedPotential();this.createActualAmount();this.createRangeEstClose();},createSalesPotential:function(){this.salesPotentialTotal=new _1b6({id:"cur_SalesPotentialTotal",constraints:{places:this.currencyDecimalDigits,currency:this.currencyCode,locale:this.locale},exchangeRateType:"BaseRate",multiCurrency:this.isMultiCurrencyEnabled,disabled:true,"class":"textcontrol currency",value:this.formatCurrency(this.resource.SalesPotential)});dojo.place(this.salesPotentialTotal.domNode,this.salesPotentialTotal_Container,"replace");this.salesPotentialAverage=new _1b6({id:"cur_SalesPotentialAverage",constraints:{places:this.currencyDecimalDigits,currency:this.currencyCode,locale:this.locale},exchangeRateType:"BaseRate",multiCurrency:this.isMultiCurrencyEnabled,disabled:true,"class":"textcontrol currency",value:this.formatCurrency(this.resource.SalesPotential)/this.selectedCount});dojo.place(this.salesPotentialAverage.domNode,this.salesPotentialAverage_Container,"replace");},createCloseProbability:function(){this.closeProbability=new _1b7({id:"num_CloseProbability",constraints:{places:2},formatType:"percent",disabled:true,value:this.resource.CloseProbability/this.selectedCount});dojo.place(this.closeProbability.domNode,this.closeProbability_Container.domNode,"only");this.closeProbability_Container.value=this.resource.CloseProbability/this.selectedCount;},createWeightedPotential:function(){this.weightedPotentialTotal=new _1b6({id:"cur_WeightedPotentialTotal",constraints:{places:this.currencyDecimalDigits,currency:this.currencyCode,locale:this.locale},exchangeRateType:"BaseRate",multiCurrency:this.isMultiCurrencyEnabled,disabled:true,"class":"textcontrol currency",value:this.resource.CloseProbability});dojo.place(this.weightedPotentialTotal.domNode,this.weightedPotentialTotal_Container,"only");this.weightedPotentialAverage=new _1b6({id:"cur_WeightedPotentialAverage",constraints:{places:this.currencyDecimalDigits,currency:this.currencyCode,locale:this.locale},exchangeRateType:"BaseRate",multiCurrency:this.isMultiCurrencyEnabled,disabled:true,"class":"textcontrol currency",value:this.resource.CloseProbability/this.selectedCount});dojo.place(this.weightedPotentialAverage.domNode,this.weightedPotentialAverage_Container,"only");},createActualAmount:function(){this.actualAmountTotal=new _1b6({id:"cur_ActualAmount",constraints:{places:this.currencyDecimalDigits,currency:this.currencyCode,locale:this.locale},exchangeRateType:"BaseRate",multiCurrency:this.isMultiCurrencyEnabled,disabled:true,"class":"textcontrol currency",value:this.formatCurrency(this.resource.ActualAmount)});dojo.place(this.actualAmountTotal.domNode,this.actualAmountTotal_Container,"only");this.actualAmountAverage=new _1b6({id:"cur_ActualAmountAverage",constraints:{places:this.currencyDecimalDigits,currency:this.currencyCode,locale:this.locale},exchangeRateType:"BaseRate",multiCurrency:this.isMultiCurrencyEnabled,disabled:true,"class":"textcontrol currency",value:this.formatCurrency(this.resource.ActualAmount)/this.selectedCount});dojo.place(this.actualAmountAverage.domNode,this.actualAmountAverage_Container,"only");},createRangeEstClose:function(){var _1c4=_1b9.format(_1ba.Convert.toDateFromString(this.resource.MinDateEstClosed,true),{fullYear:true,selector:"date"});var _1c5=_1b9.format(_1ba.Convert.toDateFromString(this.resource.MaxDateEstClosed,true),{fullYear:true,selector:"date"});html.set(this.rangeEstClose_Container,dojo.string.substitute("${0} - ${1}",[_1c4,_1c5]));},_close:function(){this._dialog.hide();this._dialog.destroyRecursive();this.destroyRecursive();this.salesPotentialTotal.destroy();this.salesPotentialAverage.destroy();this.closeProbability.destroy();this.weightedPotentialTotal.destroy();this.weightedPotentialAverage.destroy();this.actualAmountTotal.destroy();this.actualAmountAverage.destroy();}});return _1bc;});},"Sage/UI/Columns/TextBox":function(){define("Sage/UI/Columns/TextBox",["Sage/UI/Controls/TextBox","Sage/UI/Columns/Cell","dojo/_base/declare"],function(_1c6,Cell,_1c7){var _1c8=_1c7("Sage.UI.Columns.TextBox",Cell,{defaultValue:"",widgetClass:_1c6,getWidgetProps:function(_1c9){var _1ca=this._getControlId();this.defaultValue=_1c9;return dojo.mixin({},this.widgetProps||{},{value:"",maxLength:this.maxLength,regExp:this.regExp,shouldPublishMarkDirty:false});},getValue:function(_1cb){var _1cc=this.widget.focusNode.value;var _1cd=dijit.byId(this.widget.focusNode.id);if(!_1cd.isValid()||(typeof _1cc==="undefined")||(_1cc==="")){_1cd.undo();_1cc=this.defaultValue;}else{this.defaultValue=_1cc;}return _1cc;}});return _1c8;});},"Sage/UI/widgetEditorLookup":function(){define("Sage/UI/widgetEditorLookup",["dijit/form/ValidationTextBox","dijit/form/RadioButton","dijit/form/ComboBox","dojo/data/ItemFileReadStore","dijit/form/NumberTextBox"],function(_1ce,_1cf,_1d0,_1d1,_1d2){var _1d3={};_1d3.txtField=function(_1d4){var _1d5=new Simplate(["<div data-dojo-type=\"dijit.form.ValidationTextBox\" id=\"{%= $.id %}\""," regExp=\"[^<>;]*\" invalidMessage=\"{%= $.invMess %}\" style=\"width:100%;\"></div>"]);return _1d5.apply(_1d4);};_1d3.rdoGroup=function(_1d6){var _1d7=new Simplate(["<table width=\"100%\"><tr><td align=\"left\" width=\"50%\"><input type=\"radio\" id=\"{%= $.idOne %}\" data-dojo-type=\"dijit.form.RadioButton\""," value=\"{%= $.valOne %}\" name=\"{%= $.name %}\"/><label for=\"${idOne}\">{%= $.lblOne %}","</label></td><td align=\"left\" width=\"50%\"><input type=\"radio\" id=\"{%= $.idTwo %}\"data-dojo-type=\"dijit.form.RadioButton\""," value=\"{%= $.valTwo %}\" name=\"{%= $.name %}\"/><label for=\"{%= $.idTwo %}\">{%= $.lblTwo %}","</label></td></tr></table>"]);return _1d7.apply(_1d6);};_1d3.comboField=function(_1d8){var _1d9=new Simplate(["<input data-dojo-type=\"dijit.form.ComboBox\" id=\"{%= $.id %}\" style=\"width:100%;\""," required=\"true\" searchAttr=\"{%= $.searchAttr %}\"/>"]);return _1d9.apply(_1d8);};_1d3.numberField=function(_1da){var _1db=new Simplate(["<input data-dojo-type=\"dijit.form.NumberTextBox\" id=\"{%= $.id %}\" style=\"width:100%;\""," invalidMessage=\"{%= $.invMess %}\"/>"]);return _1db.apply(_1da);};_1d3.wholeNumberField=function(_1dc){var _1dd=new Simplate(["<input data-dojo-type=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}\""," invalidMessage=\"{%= $.invMess %}\" constraints=\"{places:0}\" style=\"width:100%;\" formatType=\"Number\"/>"]);return _1dd.apply(_1dc);};_1d3._myEditRow=function(_1de){var _1df=new Simplate(["<div data-dojo-type=\"{%= $.type %}\" id=\"{%= $.id %}\" shouldPublishMarkDirty=\"false\" style=\"height:{%= $.height %};width:100%;\" ></div>"]);return _1df.apply(_1de);};Sage.UI.widgetEditorLookup=_1d3;return _1d3;});},"Sage/_Templated":function(){define("Sage/_Templated",["dojo/dom-construct","dojo/_base/declare","dojo/query","dojo/parser","dojo/_base/array","dojo/_base/lang","dijit/registry","dijit/_base/wai"],function(_1e0,_1e1,_1e2,_1e3,_1e4,lang,_1e5,wai){var _1e6=_1e1("Sage._Templated",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[];},buildRendering:function(){var root,_1e7;if(this.widgetTemplate&&this.contentTemplate){throw new Error("Both \"widgetTemplate\" and \"contentTemplate\" cannot be specified at the same time.");}if(this.contentTemplate){this.inherited(arguments);_1e7=["<div>",this.contentTemplate.apply(this),"</div>"].join("");root=_1e0.toDom(_1e7);this._attachTemplateNodes(root);}else{if(this.widgetTemplate){_1e7=this.widgetTemplate.apply(this);root=_1e0.toDom(_1e7);if(root.nodeType!==1){throw new Error("Invalid template.");}this.domNode=root;this._attachTemplateNodes(root);}else{return;}}if(this.widgetsInTemplate){var _1e8=_1e3.parse(root,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang},propsThis:this,scope:"dojo"});this._startupWidgets=this._startupWidgets||[];this._startupWidgets=this._startupWidgets.concat(_1e8);this._supportingWidgets=this._supportingWidgets||[];this._supportingWidgets=this._supportingWidgets.concat(_1e5.findWidgets(root));this._attachTemplateNodes(_1e8,function(n,p){return n[p];});}if(this.contentTemplate){_1e2("> *",root).place(this.domNode);}else{this._fillContent(this.srcNodeRef);}},_fillContent:function(_1e9){var dest,frag,_1ea;dest=this.containerNode;frag=document.createDocumentFragment();_1ea=false;if(_1e9&&dest){while(_1e9.hasChildNodes()){frag.appendChild(_1e9.firstChild);_1ea=true;}if(_1ea){dest.appendChild(frag);}}},_attachTemplateNodes:function(_1eb,_1ec){_1ec=_1ec||function(n,p){return n.getAttribute(p);};var _1ed=(_1eb instanceof Array)?_1eb:(_1eb.all||_1eb.getElementsByTagName("*"));var x=(_1eb instanceof Array)?0:-1;for(;x<_1ed.length;x++){var _1ee=(x==-1)?_1eb:_1ed[x];if(this.widgetsInTemplate&&(_1ec(_1ee,"dojoType")||_1ec(_1ee,"data-dojo-type"))){continue;}var _1ef=_1ec(_1ee,"dojoAttachPoint")||_1ec(_1ee,"data-dojo-attach-point");if(_1ef){var _1f0,_1f1=_1ef.split(/\s*,\s*/);while((_1f0=_1f1.shift())){if(this[_1f0] instanceof Array){this[_1f0].push(_1ee);}else{this[_1f0]=_1ee;}this._attachPoints.push(_1f0);}}var _1f2=_1ec(_1ee,"dojoAttachEvent")||_1ec(_1ee,"data-dojo-attach-event");if(_1f2){var _1f3,_1f4=_1f2.split(/\s*,\s*/);var trim=lang.trim;while((_1f3=_1f4.shift())){if(_1f3){var _1f5=null;if(_1f3.indexOf(":")!=-1){var _1f6=_1f3.split(":");_1f3=trim(_1f6[0]);_1f5=trim(_1f6[1]);}else{_1f3=trim(_1f3);}if(!_1f5){_1f5=_1f3;}this._attachEvents.push(this.connect(_1ee,_1f3,_1f5));}}}var role=_1ec(_1ee,"waiRole");if(role){wai.setWaiRole(_1ee,role);}var _1f7=_1ec(_1ee,"waiState");if(_1f7){_1e4.forEach(_1f7.split(/\s*,\s*/),function(_1f8){if(_1f8.indexOf("-")!=-1){var pair=_1f8.split("-");wai.setWaiState(_1ee,pair[0],pair[1]);}});}}},startup:function(){_1e4.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);},destroyRendering:function(){_1e4.forEach(this._attachPoints,function(_1f9){delete this[_1f9];},this);this._attachPoints=[];_1e4.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments);}});return _1e6;});},"Sage/UI/nls/TimelessActivitiesPane":function(){define("Sage/UI/nls/TimelessActivitiesPane",["Sage/LanguageList","dojo/_base/lang"],function(_1fa,lang){var nls={root:{header_complete:"Complete",header_type:"Type",header_contact:"Name",header_regarding:"Regarding",tooltip_type:"Type",tooltip_contact:"Contact",tooltip_account:"Account",tooltip_lead:"Lead",tooltip_phone:"Phone",tooltip_leader:"Leader",tooltip_regarding:"Regarding",tooltip_location:"Location",tooltip_notes:"Notes",tooltip_company:"Company"}};return lang.mixin(_1fa,nls);});},"Sage/UI/MenuItem":function(){require({cache:{"url:Sage/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n        <div class=\"dijitIcon dijitMenuItemIcon Global_Images icon16x16 ${imageClass}\" data-dojo-attach-point=\"iconNodeSprite\"></div>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n\n"}});define("Sage/UI/MenuItem",["dijit/MenuItem","dijit/_Widget","dojo/dom-style","dojo/_base/declare","dojo/text!../templates/MenuItem.html"],function(_1fb,_1fc,_1fd,_1fe,_1ff){var _200=_1fe("Sage.UI.MenuItem",_1fb,{templateString:_1ff,iconClass:"",_setIconClassAttr:{node:"iconNode",type:"class"},label:"",_setLabelAttr:{node:"containerNode",type:"innerHTML"},icon:"",_setIconAttr:{node:"iconNode",type:"attribute",attribute:"src"},imageClass:"noIcon",iconStyle:"",_setIconStyleAttr:{node:"iconNode",type:"style"},ref:"",postMixInProperties:function(){if(this.hasImageClass()&&this.hasIcon()){this.icon=this._blankGif;}else{this.icon=this.icon||this._blankGif;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(this.hasImageClass()){this.set("icon",this._blankGif);_1fd.set(this.iconNode,"display","none");}else{_1fd.set(this.iconNodeSprite,"display","none");}},hasImageClass:function(){if(this.imageClass&&this.imageClass!=="noIcon"){return true;}return false;},hasIcon:function(){if(this.icon&&this.icon!==this._blankGif){return true;}return false;},destroy:function(){this._setSelected=function(){};this.inherited(arguments);}});return _200;});},"dgrid/List":function(){define("dgrid/List",["dojo/_base/kernel","dojo/_base/declare","dojo/dom","dojo/on","dojo/has","./util/misc","dojo/has!touch?./TouchScroll","xstyle/has-class","put-selector/put","dojo/_base/sniff","xstyle/css!./css/dgrid.css"],function(_201,_202,dom,_203,has,_204,_205,_206,put){_206("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var _207="dgrid-row-odd",_208="dgrid-row-even",_209,_20a;function byId(id){return document.getElementById(id);};function _20b(_20c){_20c.className="";document.body.removeChild(_20c);};function _20d(_20e,_20f){put(document.body,_20e,".dgrid-scrollbar-measure");var size=_20e["offset"+_20f]-_20e["client"+_20f];_20b(_20e);return size;};has.add("dom-scrollbar-width",function(_210,doc,_211){return _20d(_211,"Width");});has.add("dom-scrollbar-height",function(_212,doc,_213){return _20d(_213,"Height");});has.add("dom-rtl-scrollbar-left",function(_214,doc,_215){var div=put("div"),_216;put(document.body,_215,".dgrid-scrollbar-measure[dir=rtl]");put(_215,div);_216=!!has("ie")||!!has("trident")||div.offsetLeft>=has("dom-scrollbar-width");_20b(_215);put(div,"!");_215.removeAttribute("dir");return _216;});var _217=0;function _218(){return "dgrid_"+_217++;};var _219=/ +/g;function _21a(cls){var _21b=cls?"."+cls.replace(_219,"."):"";if(this._class){_21b="!"+this._class.replace(_219,"!")+_21b;}put(this.domNode,_21b);this._class=cls;};function _21c(){return this._class;};var _21d=has("ie")<7&&!has("quirks")?function(){var root,w,h,dims;if(!this._started){return;}root=document.documentElement;w=root.clientWidth;h=root.clientHeight;dims=this._prevWinDims||[];if(dims[0]!==w||dims[1]!==h){this.resize();this._prevWinDims=[w,h];}}:function(){if(this._started){this.resize();}};function _21e(){return {x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop};};function _21f(_220){if(typeof _220.x!=="undefined"){this.bodyNode.scrollLeft=_220.x;}if(typeof _220.y!=="undefined"){this.bodyNode.scrollTop=_220.y;}};return _202(has("touch")?_205:null,{tabableHeader:false,showHeader:false,showFooter:false,maintainOddEven:true,cleanAddedRules:true,useTouchScroll:null,addUiClasses:true,cleanEmptyObservers:true,highlightDuration:250,postscript:function(_221,_222){var grid=this;(this._Row=function(id,_223,_224){this.id=id;this.data=_223;this.element=_224;}).prototype.remove=function(){grid.removeRow(this.element);};if(_222){this.srcNodeRef=_222=_222.nodeType?_222:byId(_222);}this.create(_221,_222);},listType:"list",create:function(_225,_226){var _227=this.domNode=_226||put("div"),cls;if(_225){this.params=_225;_202.safeMixin(this,_225);cls=_225["class"]||_225.className||_227.className;this._sort=_225.sort||[];delete this.sort;}else{this._sort=[];}this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=_227.id=_227.id||this.id||_218();if(this.useTouchScroll===null){this.useTouchScroll=!has("dom-scrollbar-width");}this.buildRendering();if(cls){_21a.call(this,cls);}this.postCreate();delete this.srcNodeRef;if(this.domNode.offsetHeight){this.startup();}},buildRendering:function(){var _228=this.domNode,_229=this.addUiClasses,self=this,_22a,_22b,_22c,_22d,_22e;_22e=this.isRTL=(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase()=="rtl";_228.className="";put(_228,"[role=grid].dgrid.dgrid-"+this.listType+(_229?".ui-widget":""));_22a=this.headerNode=put(_228,"div.dgrid-header.dgrid-header-row"+(_229?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));if(has("quirks")||has("ie")<8){_22b=put(_228,"div.dgrid-spacer");}_22c=this.bodyNode=put(_228,"div.dgrid-scroller");if(has("ff")){_22c.tabIndex=-1;}this.headerScrollNode=put(_228,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(_229?".ui-widget-header":""));_22d=this.footerNode=put("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));put(_228,_22d);if(_22e){_228.className+=" dgrid-rtl"+(has("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":"");}_203(_22c,"scroll",function(_22f){if(self.showHeader){_22a.scrollLeft=_22f.scrollLeft||_22c.scrollLeft;}_22f.stopPropagation();_203.emit(_228,"scroll",{scrollTarget:_22c});});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=put(this.bodyNode,"div.dgrid-content"+(_229?".ui-widget-content":""));this._listeners.push(this._resizeHandle=_203(window,"resize",_204.throttleDelayed(_21d,this)));},postCreate:has("touch")?function(){if(this.useTouchScroll){this.inherited(arguments);}}:function(){},startup:function(){if(this._started){return;}this.inherited(arguments);this._started=true;this.resize();this.set("sort",this._sort);},configStructure:function(){},resize:function(){var _230=this.bodyNode,_231=this.headerNode,_232=this.footerNode,_233=_231.offsetHeight,_234=this.showFooter?_232.offsetHeight:0,_235=has("quirks")||has("ie")<7;this.headerScrollNode.style.height=_230.style.marginTop=_233+"px";_230.style.marginBottom=_234+"px";if(_235){_230.style.height="";_230.style.height=Math.max((this.domNode.offsetHeight-_233-_234),0)+"px";if(_234){_232.style.bottom="1px";setTimeout(function(){_232.style.bottom="";},0);}}if(!_209){_209=has("dom-scrollbar-width");_20a=has("dom-scrollbar-height");if(has("ie")){_209++;_20a++;}_204.addCssRule(".dgrid-scrollbar-width","width: "+_209+"px");_204.addCssRule(".dgrid-scrollbar-height","height: "+_20a+"px");if(_209!=17&&!_235){_204.addCssRule(".dgrid-header-row","right: "+_209+"px");_204.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+_209+"px");}}if(_235){_231.style.width=_230.clientWidth+"px";setTimeout(function(){_231.scrollLeft=_230.scrollLeft;},0);}},addCssRule:function(_236,css){var rule=_204.addCssRule(_236,css);if(this.cleanAddedRules){this._listeners.push(rule);}return rule;},on:function(_237,_238){var _239=_203(this.domNode,_237,_238);if(!has("dom-addeventlistener")){this._listeners.push(_239);}return _239;},cleanup:function(){var _23a=this.observers,i;for(i in this._rowIdToObject){if(this._rowIdToObject[i]!=this.columns){var _23b=byId(i);if(_23b){this.removeRow(_23b,true);}}}for(i=0;i<_23a.length;i++){var _23c=_23a[i];_23c&&_23c.cancel();}this.observers=[];this._numObservers=0;this.preload=null;},destroy:function(){if(this._listeners){for(var i=this._listeners.length;i--;){this._listeners[i].remove();}delete this._listeners;}this._started=false;this.cleanup();put(this.domNode,"!");if(this.useTouchScroll){this.inherited(arguments);}},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0});},newRow:function(_23d,_23e,_23f,i,_240){if(_23e){var row=this.insertRow(_23d,_23e,_23f,i,_240);put(row,".dgrid-highlight"+(this.addUiClasses?".ui-state-highlight":""));setTimeout(function(){put(row,"!dgrid-highlight!ui-state-highlight");},this.highlightDuration);return row;}},adjustRowIndices:function(_241){var next=_241;var _242=next.rowIndex;if(_242>-1){do{if(next.rowIndex>-1){if(this.maintainOddEven){if((next.className+" ").indexOf("dgrid-row ")>-1){put(next,"."+(_242%2==1?_207:_208)+"!"+(_242%2==0?_207:_208));}}next.rowIndex=_242++;}}while((next=next.nextSibling)&&next.rowIndex!=_242);}},renderArray:function(_243,_244,_245){_245=_245||{};var self=this,_246=_245.start||0,_247=this.observers,rows,_248,_249;if(!_244){this._lastCollection=_243;}if(_243.observe){self._numObservers++;var _24a=_243.observe(function(_24b,from,to){var row,_24c,_24d,_24e;function _24f(){_24d=(_24d.connected||_24d).nextSibling;};if(from>-1&&rows[from]){row=rows.splice(from,1)[0];if(row.parentNode==_248){_24c=row.nextSibling;if(_24c){if(from!=to){_24c.rowIndex--;}}self.removeRow(row);}_245.count--;if(self._processScroll){self._processScroll();}}if(to>-1){if(rows.length){if(to===0){_24d=rows[to];_24d=_24d&&_250(_24d);}else{_24d=rows[to-1];if(_24d){_24d=_250(_24d);_24f();}}}else{_24d=self._getFirstRowSibling&&self._getFirstRowSibling(_248);}if(row&&_24d&&row.id===_24d.id){_24f();}if(_24d&&!_24d.parentNode){_24d=byId(_24d.id);}_24e=(_244&&_244.parentNode)||(_24d&&_24d.parentNode)||self.contentNode;row=self.newRow(_24b,_24e,_24d,_245.start+to,_245);if(row){row.observerIndex=_249;rows.splice(to,0,row);if(!_24c||to<from){var _251=row.previousSibling;_24c=!_251||_251.rowIndex+1==row.rowIndex||row.rowIndex==0?row:_251;}}_245.count++;}if(from===0){_252(1,1);}else{if(from===_243.length-(to===-1?0:1)){_252(0,0);}}from!=to&&_24c&&self.adjustRowIndices(_24c);self._onNotification(rows,_24b,from,to);},true);_249=_247.push(_24a)-1;}var _253=document.createDocumentFragment(),_254;function _252(){var _255=arguments;if(_249>-1){for(var i=0;i<_255.length;i++){var top=_255[i];var _256=rows[top?0:rows.length-1];_256=_256&&_250(_256);if(_256){var row=_256[top?"previousSibling":"nextSibling"];if(row){row=self.row(row);}if(row&&row.element!=_256){var _257=top?"unshift":"push";_243[_257](row.data);rows[_257](row.element);_245.count++;}}}}};function _250(row){if(!dom.isDescendant(row,self.domNode)&&byId(row.id)){return self.row(row.id.slice(self.id.length+5)).element;}return row;};function _258(_259){_254=self.insertRow(_259,_253,null,_246++,_245);_254.observerIndex=_249;return _254;};function _25a(_25b){if(typeof _249!=="undefined"){_247[_249].cancel();_247[_249]=0;self._numObservers--;}if(_25b){throw _25b;}};var _25c;function _25d(_25e){_25c=_25e.slice(0);_248=_244?_244.parentNode:self.contentNode;if(_248&&_248.parentNode&&(_248!==self.contentNode||_25e.length)){_248.insertBefore(_253,_244||null);_254=_25e[_25e.length-1];_254&&self.adjustRowIndices(_254);}else{if(_247[_249]&&self.cleanEmptyObservers){_25a();}}rows=_25e;if(_24a){_24a.rows=rows;}};if(_243.map){rows=_243.map(_258,console.error);if(rows.then){return _243.then(function(_25f){_243=_25f;return rows.then(function(_260){_25d(_260);_252(1,1,0,0);return _25c;});});}}else{rows=[];for(var i=0,l=_243.length;i<l;i++){rows[i]=_258(_243[i]);}}_25d(rows);_252(1,1,0,0);return _25c;},_onNotification:function(rows,_261,from,to){},renderHeader:function(){},_autoId:0,insertRow:function(_262,_263,_264,i,_265){var _266=_265.parentId,id=this.id+"-row-"+(_266?_266+"-":"")+((this.store&&this.store.getIdentity)?this.store.getIdentity(_262):this._autoId++),row=byId(id),_267=row&&row.previousSibling;if(row){if(row===_264){_264=(_264.connected||_264).nextSibling;}this.removeRow(row);}row=this.renderRow(_262,_265);row.className=(row.className||"")+" dgrid-row "+(i%2==1?_207:_208)+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[row.id=id]=_262;_263.insertBefore(row,_264||null);if(_267){this.adjustRowIndices(_267);}row.rowIndex=i;return row;},renderRow:function(_268,_269){return put("div",""+_268);},removeRow:function(_26a,_26b){_26a=_26a.element||_26a;delete this._rowIdToObject[_26a.id];if(!_26b){put(_26a,"!");}},row:function(_26c){var id;if(_26c instanceof this._Row){return _26c;}if(_26c.target&&_26c.target.nodeType){_26c=_26c.target;}if(_26c.nodeType){var _26d;do{var _26e=_26c.id;if((_26d=this._rowIdToObject[_26e])){return new this._Row(_26e.substring(this.id.length+5),_26d,_26c);}_26c=_26c.parentNode;}while(_26c&&_26c!=this.domNode);return;}if(typeof _26c=="object"){id=this.store.getIdentity(_26c);}else{id=_26c;_26c=this._rowIdToObject[this.id+"-row-"+id];}return new this._Row(id,_26c,byId(this.id+"-row-"+id));},cell:function(_26f){return {row:this.row(_26f)};},_move:function(item,_270,_271,_272){var _273,_274,_275;_275=_274=item.element;_270=_270||1;do{if((_273=_274[_270<0?"previousSibling":"nextSibling"])){do{_274=_273;if(_274&&(_274.className+" ").indexOf(_271+" ")>-1){_275=_274;_270+=_270<0?1:-1;break;}}while((_273=(!_272||!_274.hidden)&&_274[_270<0?"lastChild":"firstChild"]));}else{_274=_274.parentNode;if(!_274||_274===this.bodyNode||_274===this.headerNode){break;}}}while(_270);return _275;},up:function(row,_276,_277){if(!row.element){row=this.row(row);}return this.row(this._move(row,-(_276||1),"dgrid-row",_277));},down:function(row,_278,_279){if(!row.element){row=this.row(row);}return this.row(this._move(row,_278||1,"dgrid-row",_279));},scrollTo:has("touch")?function(_27a){return this.useTouchScroll?this.inherited(arguments):_21f.call(this,_27a);}:_21f,getScrollPosition:has("touch")?function(){return this.useTouchScroll?this.inherited(arguments):_21e.call(this);}:_21e,get:function(name){var fn="_get"+name.charAt(0).toUpperCase()+name.slice(1);if(typeof this[fn]==="function"){return this[fn].apply(this,[].slice.call(arguments,1));}if(!1&&typeof this[fn+"Attr"]==="function"){}return this[name];},set:function(name,_27b){if(typeof name==="object"){for(var k in name){this.set(k,name[k]);}}else{var fn="_set"+name.charAt(0).toUpperCase()+name.slice(1);if(typeof this[fn]==="function"){this[fn].apply(this,[].slice.call(arguments,1));}else{if(!1&&typeof this[fn+"Attr"]==="function"){}this[name]=_27b;}}return this;},_getClass:_21c,_setClass:_21a,_getClassName:_21c,_setClassName:_21a,_setSort:function(_27c,_27d){this._sort=typeof _27c!="string"?_27c:[{attribute:_27c,descending:_27d}];this.refresh();if(this._lastCollection){if(_27c.length){if(typeof _27c!="string"){_27d=_27c[0].descending;_27c=_27c[0].attribute;}this._lastCollection.sort(function(a,b){var aVal=a[_27c],bVal=b[_27c];if(aVal===undefined){aVal="";}if(bVal===undefined){bVal="";}return aVal==bVal?0:(aVal>bVal==!_27d?1:-1);});}this.renderArray(this._lastCollection);}},sort:function(_27e,_27f){_201.deprecated("sort(...)","use set(\"sort\", ...) instead","dgrid 0.4");this.set("sort",_27e,_27f);},_getSort:function(){return this._sort;},_setShowHeader:function(show){var _280=this.headerNode;this.showHeader=show;put(_280,(show?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();if(show){_280.scrollLeft=this.getScrollPosition().x;}},setShowHeader:function(show){_201.deprecated("setShowHeader(...)","use set(\"showHeader\", ...) instead","dgrid 0.4");this.set("showHeader",show);},_setShowFooter:function(show){this.showFooter=show;put(this.footerNode,(show?"!":".")+"dgrid-footer-hidden");this.resize();}});});},"Sage/MainView/ActivityMgr/nls/ActivityEditor":function(){define("Sage/MainView/ActivityMgr/nls/ActivityEditor",["Sage/LanguageList","dojo/_base/lang"],function(_281,lang){var nls={root:{labelWidth:"100",tabNameGeneralText:"General",tabNameAvailabilityText:"Availability",tabNameAssociationsText:"Associations",tabNameRecurringText:"Recurring",tabNameAttachmentsText:"Attachments",tabNameNotesText:"Notes",scheduleText:"Schedule",startTimeText:"Start Time",timeLessText:"Timeless",alarmText:"Alarm",durationText:"Duration",rolloverText:"Auto rollover to next day",contactText:"Contact",accountText:"Account",leadText:"Lead",opportunityText:"Opportunity",ticketText:"Ticket",companyText:"Company",regardingText:"Regarding",notesText:"Notes",priorityText:"Priority",leaderText:"Leader",categoryText:"Category",locationText:"Location",dialogHeaderFormatText:"${actionText} ${activityType} - ${description}",scheduledByFormatText:"Scheduled by ${user} on ${date}",completeScheduledByFormatText:"Scheduled by ${user} on ${date} originally for ${startDate}",newConfirmationHeaderFormatText:"Confirm ${activityType} Scheduled by ${user}",otherConfimationHeaderFormatText:"${activityType} ${actionText} by ${user}",acceptedText:"Accepted",declinedText:"Declined",scheduledText:"Scheduled",updatedText:"Updated",deletedText:"Deleted",cancelText:"Cancel",okText:"OK",completeText:"Complete",completeBtnText:"Complete...",completedText:"Completed",deleteText:"Delete",lookupActText:"Lookup Account",lookupContactText:"Lookup Contact",lookupOpportunityText:"Lookup Opportunity",lookupTicketText:"Lookup Ticket",lookupLeadText:"Lookup Lead",lookupLeaderText:"Lookup Leader",lookupResourcesText:"Add Members and Resources",addResourceText:"Add Selected",mainPhoneText:"Main Phone",typeText:"Type",subTypeText:"Sub-Type",nameText:"Name",cityText:"City",stateText:"State",workphoneText:"Work Phone",emailText:"Email",acctMgrText:"Acct Manager",descriptionText:"Description",stageText:"Stage",statusText:"Status",ownerText:"Owner",ticketNumberText:"Ticket Number",phoneText:"Phone",urgencyText:"Urgency",areaText:"Area",recurringText:"Recurring",resultText:"Result",followupText:"Follow-up",noneText:"None",carryOverAttachmentsText:"Carry Over Attachments",carryOverNotesText:"Carry Over Notes",asScheduledText:"As Scheduled",nowText:"Now",responseText:"Response",acceptText:"Accept",declineText:"Decline",deleteConfText:"Delete Confirmation",closeText:"Close",leadFullNameText:"Name",postalText:"Postal Code",failedLoadingDataMsg:"An error occurred loading data.",removeText:"Remove",noText:"No",yesText:"Yes",areYouSureText:"You are about to permanently delete this record.",couldNotSaveErrorText:"We're sorry, the activity could not be saved because an error occurred.",couldNotDeleteErrorText:"We're sorry, the activity could not be deleted because an error occurred.",couldNotCompleteErrorText:"We're sorry, the activity could not be completed because an error occurred.",scheduleFollowUpErrorText:"The follow up could not be scheduled because the HistoryId could not be determined.",tabNameParticipants:"Participants"}};return lang.mixin(_281,nls);});},"Sage/QuickForms/Design/DataSourceDesigner":function(){define("Sage/QuickForms/Design/DataSourceDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/NonVisibleAdvancedPropertyEditor","dojo/i18n!./nls/DesignPanel"],function(_282,_283,lang,_284,_285,_286,_287,_288,_289){return _282("Sage.QuickForms.Design.DataSourceDesigner",[_285,_286,_284,_287],{designSupport:{visible:false},editors:[_288],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div data-dojo-attach-point=\"containerNode\">","<span data-dojo-attach-point=\"designCaptionNode\"></span>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},helpTopicName:"Data_Source_control",quickFormControlType:"Sage.Platform.QuickForms.QFControls.QFDataSource, Sage.Platform.QuickForms.QFControls",displayNameText:"Data Source",constructor:function(){lang.mixin(this,_289);},_setControlIdAttr:function(_28a){this.inherited(arguments);this.set("designCaption",_28a);},startup:function(){this.inherited(arguments);this.set("designCaption",this.get("controlId"));}});});},"Sage/Services/main":function(){define("Sage/Services/main",["Sage/Services/_ServiceMixin","Sage/Services/ActivityAction","Sage/Services/UserOptions","Sage/Services/ActivityActionProcessor","Sage/Services/ActivityService","Sage/Services/CalendarSecurityService","Sage/Services/ClientBindingManagerService","Sage/Services/ClientContextService","Sage/Services/ClientEntityContext","Sage/Services/RoleSecurityService","Sage/Services/SelectionContextService","Sage/Services/SystemOptions","Sage/Services/JobService","Sage/Services/ReportingService"],function(){});},"Sage/UI/Columns/Numeric":function(){define("Sage/UI/Columns/Numeric",["Sage/UI/Controls/Numeric","dojox/grid/cells/dijit","dojo/_base/declare","dojo/_base/lang"],function(_28b,_28c,_28d,lang){var _28e=_28d("Sage.UI.Columns.Numeric",dojox.grid.cells._Widget,{widgetClass:_28b,isWholeNumberPercent:false,getWidgetProps:function(_28f){var _290=this.getControlId();return lang.mixin({},this.widgetProps||{},{constraints:this.constraints,value:_28f,width:this.width,maxLength:this.maxLength,style:this.style,hotKey:this.hotKey,tabIndex:this.tabIndex,field:this.field,name:this.name,sortable:this.sortable,editable:this.editable,required:this.required,formatType:this.formatType,textAlign:this.getAlignment()});},getAlignment:function(){var _291="right";_291=(this.cellClasses.indexOf("aligncenter")>-1)?"center":_291;_291=(this.cellClasses.indexOf("alignleft")>-1)?"left":_291;return _291;},formatNode:function(_292,_293,_294){if(!this.widgetClass){return _293;}var _295=dijit.byId(this.getControlId());if(!_295){this.widget=this.createWidget.apply(this,arguments);}else{this.widget=_295;if(_295.value!==_293||this.widget.focusNode.value!==_293){this.widget.focusNode.attr("value",_293);}this.attachWidget.apply(this,arguments);}this.sizeWidget.apply(this,arguments);this.grid.views.renormalizeRow(_294);this.grid.scroller.rowHeightChanged(_294,true);if(this.formatType=="Percent"){this.widget.focusNode.constraints["type"]="percent";}this.widget.focusNode.focus();return undefined;},formatter:function(_296,_297){var vals=[];if(_296===0||_296===null){return "";}if(this.isWholeNumberPercent&&this.formatType==="Percent"){_296=Math.round(_296*100)/10000;}if((this.displayFormatString)&&(this.displayFormatString!=="")){if(this.displayFields.length<1){vals.push(_296);}for(var idx=0;idx<this.displayFields.length;idx++){vals.push(Sage.Utility.getValue(this.grid._by_idx[_297].item,this.displayFields[idx]));}_296=Sage.Format.stringFromArray(this.displayFormatString,vals);return _296;}if(this.formatType==="Percent"){this.constraints["type"]="percent";}_296=dojo.number.format(_296,lang.mixin(this.constraints,{locale:Sys.CultureInfo.CurrentCulture.name}));if(this.constraints&&this.constraints.places===0&&this.constraints.round===-1&&_296.lastIndexOf(Sys.CultureInfo.CurrentCulture.numberFormat.NumberDecimalSeparator)>-1){_296=_296.slice(0,_296.length-1);}if(this.abbreviationLength){var _298=Sage.Format.abbreviationFormatter(this.abbreviationLength);_296=_298(_296);}return _296;},styles:"text-align: right;",setCurrentItems:function(){this.editInfo=this.grid.edit.info;this.item=this.grid.getItem(this.editInfo.rowIndex);},getControlId:function(){this.setCurrentItems();return [this.item.$key,this.editInfo.cell.field,this.index].join("_");},getValue:function(_299){if(this.formatType=="Percent"){this.widget.focusNode._onBlur();}var _29a=this.widget.focusNode.valueNode.value;if((typeof _29a==="undefined")||(_29a==="")){_29a=0;}if(this.widget&&this.widget.state==="Error"){var item=this.grid.getItem(_299);var _29b=this.grid.store.getValue(item,this.grid.edit.info.cell.field);return _29b;}return _29a;}});return _28e;});},"Sage/Services/UserOptions":function(){define("Sage/Services/UserOptions",["Sage/Data/SDataServiceRegistry","dojo/_base/declare"],function(_29c,_29d){var _29e=_29d("Sage.Services.UserOptions",null,{constructor:function(_29f){this.inherited(arguments);dojo.mixin(this,_29f);if(!_29f||!_29f.service){this.service=_29c.getSDataService("system",false,true,true);}},get:function(name,_2a0,_2a1,_2a2,_2a3,_2a4){var req=this._createRequest(name,_2a0);if(typeof _2a4==="undefined"){_2a4=true;}if(req){req.read({success:_2a1,failure:function(_2a5){if(typeof _2a2==="function"){_2a2(_2a5);}},scope:_2a3||this,async:_2a4});}else{}},set:function(name,_2a6,_2a7,_2a8,_2a9,_2aa){var req=this._createRequest(name,_2a6);_2a9=_2a9||function(_2ab){};if(req){req.read({success:dojo.hitch(req,function(_2ac){_2ac.value=_2a7;_29c._removeFromLocalStorage("userOptions");this.update(_2ac,{success:_2a8,scope:this});}),failure:_2a9,scope:_2aa||this});}},getByCategory:function(_2ad,_2ae,_2af,_2b0){var req=new Sage.SData.Client.SDataResourceCollectionRequest(this.service);req.setResourceKind("userOptions");req.setQueryArg("where","category eq '"+_2ad+"'");req.read({success:_2ae,failure:function(_2b1){if(typeof _2b0==="function"){_2b0(_2b1);}},scope:_2af||this});},getByCategories:function(_2b2,_2b3,_2b4){var req=new Sage.SData.Client.SDataResourceCollectionRequest(this.service);var _2b5="";var _2b6=",";for(var i=0;i<_2b2.length;i++){if(i==_2b2.length-1){_2b6="";}_2b5+="\""+_2b2[i]+"\""+_2b6;}req.setResourceKind("userOptions");req.setQueryArg("where","category in ("+_2b5+")");req.setQueryArg("count","500");req.read({success:_2b3,failure:function(_2b7){},scope:_2b4||this});},_formatPredicate:function(n,c){return dojo.string.substitute("category eq '${0}' and name eq '${1}'",[c,n]);},_createRequest:function(n,c){var req=new Sage.SData.Client.SDataSingleResourceRequest(this.service);req.setResourceSelector(this._formatPredicate(n,c));req.setResourceKind("userOptions");return req;},_virtuald:function(){var _2b8=/^\/([^\/]+)\//.exec(location.pathname);return _2b8?_2b8[1]:"";}});Sage.Services.addService("UserOptions",new Sage.Services.UserOptions());Sage.UserOptionsService={getCommonOption:function(name,_2b9,_2ba){if(typeof console!=="undefined"){}var _2bb=_2ba;var svc=Sage.Services.getService("UserOptions");if(svc){svc.get(name,_2b9,function(_2bc){var _2bd={category:_2bc.category,option:_2bc.name,optionValue:_2bc.value};if(_2bb){_2bb.call(window,_2bd);}});}},setCommonOption:function(name,_2be,data,_2bf){if(typeof console!=="undefined"){}var svc=Sage.Services.getService("UserOptions");if(svc){svc.set(name,_2be,data,_2bf);}}};return _29e;});},"Sage/MainView/IntegrationContract/InvoiceRTDV":function(){require({cache:{"url:Sage/MainView/IntegrationContract/templates/InvoiceRTDV.html":"[\n'<div>',\n    '<div dojoType=\"dijit.Dialog\" id=\"{%= $.id%}_invoiceDetailsDialog\" title=\"{%= $.dialogCaption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:hideDetailsDialog\">',\n        '<div dojoAttachPoint=\"loadingContainer\">',\r\n            '<br />',\r\n            '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingText %}</label>',\r\n            '<br />',\r\n            '<br />',\r\n        '</div>',\n        '<div dojoAttachPoint=\"invoiceDialogContent\" class=\"display-none\">',\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\">',\n                 '<input dojoType=\"dijit.form.TextBox\" name=\"reference\" id=\"{%= $.id%}_reference\" label=\"{%= $.lblInvoiceCaption %}\" readonly=\"true\" />',\n                 '<input dojoType=\"dijit.form.TextBox\" name=\"grossTotal\" id=\"{%= $.id%}_grossTotal\" label=\"{%= $.lblNetTotalCaption %}\" readonly=\"readonly\" />',\n            '</div >',\n            '<div style=\"height:350px;width:800px\">',\r\n                '<div id=\"{%= $.id%}_invoiceTabContainer\" dojoAttachPoint=\"invoiceTabContainer\" dojoType=\"dijit.layout.TabContainer\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"{%= $.id%}_invoiceContent\" dojoAttachPoint=\"invoiceContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.detailsTabTitle %}\" selected=\"true\">',\r\n                        '<div id=\"{%= $.id%}_divInvoiceDetails\">',\r\n                            '<table cellspacing=\"5\">',\n                                '<col style=\"width:200px\" />',\r\n                                '<col style=\"width:200px\" />',\n                                '<tr>',\n                                    '<td>',\r\n                                        '<label for=\"Invoice_date\">{%= $.lblInvoiceDateCaption %}</label>',\r\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_invoiceDate\" name=\"date\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"invoiceDiscountPercent\">{%= $.lblInvoiceDiscountPercentCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_discountPercent\" name=\"invoiceDiscountPercent\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\r\n                                        '<label for=\"Invoice_deliveryDate\">{%= $.lblDueDateCaption %}</label>',\r\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_deliveryDate\" name=\"deliveryDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_carrierTotalPrice\">{%= $.lblCarrierTotalPriceCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_carrierTotalPrice\" name=\"carrierTotalPrice\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"Invoice_customerReference\">{%= $.lblCustomerPOCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_customerReference\" name=\"customerReference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                    '<td>',\r\n                                        '<label for=\"Invoice_taxTotal\">{%= $.lblTaxCaption %}</label>',\r\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_taxTotal\" name=\"taxTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"settlementDiscountPercent\">{%= $.lblSettlementDiscountPercentCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_settlementDiscountPercent\" name=\"settlementDiscountPercent\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_notes\">{%= $.lblNotesCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_notes\" name=\"notes\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"settlementDiscountTerms\">{%= $.lblSettlementDiscountTermsCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_settlementDiscountTerms\" name=\"settlementDiscountTerms\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_costTotal\">{%= $.lblCostTotalCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_costTotal\" name=\"costTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"operatingCompanyCurrency\">{%= $.lblOCCurrencyCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_operatingCompanyCurrency\" name=\"operatingCompanyCurrency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_profitTotal\">{%= $.lblProfitTotalCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_profitTotal\" name=\"profitTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"operatingCompanyCurrencyExchangeRateDate\">{%= $.lblOperatingCompanyCurrencyExchangeRateDateCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_operatingCompanyCurrencyExchangeRateDate\" name=\"operatingCompanyCurrencyExchangeRateDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_priceList\">{%= $.lblPriceListCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_priceList\" name=\"pricelist.name\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"Invoice_currency\">{%= $.lblCurrencyCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_currency\" name=\"currency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_salesPerson\">{%= $.lblSalesPersonCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_salesPerson\" name=\"buyerContact.fullName\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"Invoice_invoiceDiscountAmount\">{%= $.lblInvoiceDiscountAmountCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_invoiceDiscountAmount\" name=\"invoiceDiscountAmount\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\r\n                            '</table>',\r\n                        '</div>',\r\n                    '</div>',\r\n                    '<div id=\"{%= $.id%}_addressesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.addressTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"sdgrdInvoiceAddresses\" style=\"width:100%;height:100%;\">',\r\n                            '<div id=\"{%= $.id%}_sdgrdInvoiceAddresses_Grid\" dojoAttachPoint=\"sdgrdInvoiceAddresses_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                        '</div>',\r\n                    '</div>',\r\n                    '<div id=\"{%= $.id%}_invoiceLinesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.invoiceLinesTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"sdgrdInvoiceLines\" style=\"width:100%;height:100%;\">',\r\n                            '<div id=\"{%= $.id%}_sdgrdInvoiceLines_Grid\" dojoAttachPoint=\"sdgrdInvoiceLines_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                        '</div>',\r\n                    '</div>',\r\n                    '<div id=\"{%= $.id%}_paymentsContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.paymentsTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Payments\" dojoAttachEvent=\"onShow:initPayments\">',\r\n                        '<div id=\"sdgrdPayments\" style=\"width:100%;height:100%;\">',\r\n                            '<div id=\"{%= $.id%}_sdgrdPayments_Grid\" dojoAttachPoint=\"sdgrdPayments_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                        '</div>',\r\n                    '</div>',\r\n                    '<div id=\"{%= $.id%}_deliveriesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.deliveriesTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Deliveries\" dojoAttachEvent=\"onShow:initDeliveries\">',\r\n                        '<div id=\"sdgrdDeliveries\" style=\"width:100%;height:100%;\">',\r\n                            '<div id=\"{%= $.id%}_sdgrdDeliveries_Grid\" dojoAttachPoint=\"sdgrdDeliveries_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                        '</div>',\r\n                    '</div>',\r\n                '</div>',\r\n            '</div>',\r\n            '<div class=\"button-bar alignright\">',\r\n                 '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_invoiceBtnClose\" type=\"button\" dojoAttachEvent=\"onClick:hideDetailsDialog\">{%= $.btnCloseCaption %}</button>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]"}});define("Sage/MainView/IntegrationContract/InvoiceRTDV",["dojo/_base/declare","dojo/i18n!./nls/InvoiceRTDV","dijit/_Widget","Sage/_Templated","Sage/UI/SLXPreviewGrid","Sage/Data/ProxySDataStore","Sage/UI/Dialogs","Sage/UI/Columns/DateTime","dojo/text!./templates/InvoiceRTDV.html","Sage/UI/DateTextBox","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","dijit/Dialog"],function(_2c0,_2c1,_2c2,_2c3,_2c4,_2c5,_2c6,_2c7,_2c8){var _2c9=_2c0("Sage.MainView.IntegrationContract.InvoiceRTDV",[_2c2,_2c3],{workspace:"",tabId:"",grid:"",globalSyncId:"",operatingCompanyId:"",dataStore:null,paymentsDataStore:null,deliveriesDataStore:null,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_2c8)),constructor:function(){dojo.mixin(this,_2c1);},loadSalesInvoices:function(){var self=this;var _2ca={readOnly:true,rowsPerPage:20,slxContext:{workspace:this.workspace,tabId:this.tabId},columns:[{width:10,field:"reference",name:this.grdInvoice_Name,defaultValue:"",sortable:true,formatter:this.invoiceDetailsViewRenderer,style:"text-align:left;",editable:false},{width:10,field:"date",type:_2c7,formatType:"date",dateOnly:true,utc:false,name:this.grdInvoice_Date,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"customerReference",name:this.grdInvoice_PO,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"settlementDiscountTerms",name:this.grdInvoice_PaymentTerms,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"netTotal",name:this.grdInvoice_NetTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"taxTotal",name:this.grdInvoice_Tax,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"grossTotal",name:this.grdInvoice_Amount,defaultValue:"",sortable:true,style:"text-align:left;",editable:false}],storeOptions:new _2c5({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),resourceKind:"tradingAccounts",getResourcePredicate:function(){return dojo.string.substitute("$uuid eq '${0}'",[self.globalSyncId]);},getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesInvoices"}]}),tools:[]};var _2cb=new _2c4.Grid(_2ca,this.placeHolder);_2cb.startup();var _2cc=dijit.byId("tabContent");_2cc.resize();_2cc.resize();this.grid=_2cb;},invoiceDetailsViewRenderer:function(_2cd){return dojo.string.substitute("<a href=\"javascript:invoiceRTDV.loadDetailsView();\">${0}</a>",[_2cd]);},destroyFirst:function(id){var _2ce=dijit.byId(id);if(_2ce){_2ce.destroyRecursive();}},loadAddresses:function(data){this.destroyFirst("sdgrdInvoiceAddresses");if(data&&typeof data.postalAddresses==="undefined"){data.postalAddresses={};data.postalAddresses.$resources=new Array();}var _2cf=new dojox.grid.DataGrid({id:"sdgrdInvoiceAddresses",store:this.dataStore,structure:[{width:10,field:"type",name:this.grdAddress_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"address1",name:this.grdAddress_address1,defaultValue:"",sortable:true,editable:false},{width:10,field:"address2",name:this.grdAddress_address2,defaultValue:"",sortable:true,editable:false},{width:10,field:"townCity",name:this.grdAddress_City,defaultValue:"",sortable:true,editable:false},{width:10,field:"stateRegion",name:this.grdAddress_State,defaultValue:"",sortable:true,editable:false},{width:10,field:"zipPostCode",name:this.grdAddress_Zip,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{},queryOptions:{singleResourceRequest:true,property:"postalAddresses"}});dojo.place(_2cf.domNode,this.sdgrdInvoiceAddresses_Grid,"single");_2cf.startup();},loadLineItems:function(data){this.destroyFirst("sdgrdInvoiceLines");if(data&&typeof data.salesInvoiceLines==="undefined"){data.salesInvoiceLines={};data.salesInvoiceLines.$resources=new Array();}var _2d0=new dojox.grid.DataGrid({id:"sdgrdInvoiceLines",store:this.dataStore,structure:[{width:10,field:"number",name:this.grdItems_Line,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdItems_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"status",name:this.grdItems_Status,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodity.name",name:this.grdItems_Commodity,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodityVariant.reference",name:this.grdItems_CommodityVariant,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodityDimension.reference",name:this.grdItems_CommodityDimension,defaultValue:"",sortable:true,editable:false},{width:10,field:"unitOfMeasure.name",name:this.grdItems_UnitOfMeasure,defaultValue:"",sortable:true,editable:false},{width:10,field:"quantity",name:this.grdItems_Quantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"initialPrice",name:this.grdItems_InitialPrice,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualPrice",name:this.grdItems_ActualPrice,defaultValue:"",sortable:true,editable:false},{width:10,field:"netTotal",name:this.grdItems_NetTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"chargesTotal",name:this.grdItems_ChargesTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"discountTotal",name:this.grdItems_DiscountTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"taxTotal",name:this.grdItems_TaxTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"grossTotal",name:this.grdItems_GrossTotal,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{},queryOptions:{singleResourceRequest:true,property:"salesInvoiceLines"}});dojo.place(_2d0.domNode,this.sdgrdInvoiceLines_Grid,"only");_2d0.startup();},initPayments:function(){if(this.paymentsDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.paymentsDataStore=new _2c5({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _2d1=row["$key"];return dojo.string.substitute("'${0}'",[_2d1]);},resourceKind:"salesInvoices",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"receipts"}],includeContent:true});dojo.connect(this.paymentsDataStore,"onGetSingleResource",this,"loadPayments");this.paymentsDataStore.getSingleResource();}},loadPayments:function(data){this.destroyFirst("sdgrdPayments");if(data&&typeof data.receipts==="undefined"){data.receipts={};data.receipts.$resources=new Array();}var _2d2=new dojox.grid.DataGrid({id:"sdgrdPayments",store:this.paymentsDataStore,structure:[{width:10,field:"date",type:_2c7,formatType:"date",name:this.grdPayments_Date,defaultValue:"",sortable:true,editable:false},{width:10,field:"name",name:this.grdPayments_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdPayments_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"status",name:this.grdPayments_Status,defaultValue:"",sortable:true,editable:false},{width:10,field:"netTotal",name:this.grdPayments_NetTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"discountTotal",name:this.grdPayments_Discounts,defaultValue:"",sortable:true,editable:false},{width:10,field:"chargesTotal",name:this.grdPayments_Charges,defaultValue:"",sortable:true,editable:false},{width:10,field:"taxTotal",name:this.grdPayments_Tax,defaultValue:"",sortable:true,editable:false},{width:10,field:"grossTotal",name:this.grdPayments_GrossTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"currency",name:this.grdPayments_Currency,defaultValue:"",sortable:true,editable:false},{width:10,field:"tenderType",name:this.grdPayments_TenderType,defaultValue:"",sortable:true,editable:false},{width:10,field:"tenderReference",name:this.grdPayments_TenderReference,defaultValue:"",sortable:true,editable:false},{width:10,field:"processDate",type:_2c7,formatType:"date",name:this.grdPayments_ProcessDate,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_2d2.domNode,this.sdgrdPayments_Grid,"only");_2d2.startup();},initDeliveries:function(){if(this.deliveriesDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.deliveriesDataStore=new _2c5({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _2d3=row["$key"];return dojo.string.substitute("'${0}'",[_2d3]);},resourceKind:"salesInvoices",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesOrderDeliveries"}],includeContent:true});dojo.connect(this.deliveriesDataStore,"onGetSingleResource",this,"loadDeliveries");this.deliveriesDataStore.getSingleResource();}},loadDeliveries:function(data){this.destroyFirst("sdgrdDeliveries");if(data&&typeof data.salesOrderDeliveries==="undefined"){data.salesOrderDeliveries={};data.salesOrderDeliveries.$resources=new Array();}var _2d4=new dojox.grid.DataGrid({id:"sdgrdDeliveries",store:this.deliveriesDataStore,structure:[{width:10,field:"reference",name:this.grdDeliveries_Number,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdDeliveries_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"status",name:this.grdDeliveries_Status,defaultValue:"",sortable:true,editable:false},{width:10,field:"requestedDeliveryDate",type:_2c7,formatType:"date",name:this.grdDeliveries_RequestedDate,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualDeliveryDate",type:_2c7,formatType:"date",name:this.grdDeliveries_ActualDate,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualDeliveryTime",type:_2c7,formatType:"date",name:this.grdDeliveries_ActualTime,defaultValue:"",sortable:true,editable:false},{width:10,field:"requestedQuantity",name:this.grdDeliveries_RequestedQuantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"deliveredQuantity",name:this.grdDeliveries_DeliveredQuantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"deliveryMethod",name:this.grdDeliveries_Method,defaultValue:"",sortable:true,editable:false},{width:10,field:"carrierTradingAccount.name",name:this.grdDeliveries_Carrier,defaultValue:"",sortable:true,editable:false},{width:10,field:"carrierReference",name:this.grdDeliveries_CarrierReference,defaultValue:"",sortable:true,editable:false},{width:10,field:"dateExceptionReason",name:this.grdDeliveries_ExceptionReason,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_2d4.domNode,this.sdgrdDeliveries_Grid,"only");_2d4.startup();},loadDetailsView:function(){dojo.removeClass(this.loadingContainer,"display-none");dojo.addClass(this.invoiceDialogContent,"display-none");this._dialog.show();var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){var _2d5=row["$key"];this.dataStore=new _2c5({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),resourceKind:"salesInvoices",getResourcePredicate:function(){return dojo.string.substitute("'${0}'",[_2d5]);},getAppId:function(){return self.operatingCompanyId;},include:[],select:["*,salesInvoiceLines/*,postalAddresses/*,buyerContact/fullName,pricelist/name,salesInvoiceLines/commodity/name,salesInvoiceLines/unitOfMeasure/name,salesInvoiceLines/commodityVariant/reference,salesInvoiceLines/commodityDimension/reference,salesOrderDeliveries/carrierTradingAccount/name"],includeContent:true});dojo.connect(this.dataStore,"onGetSingleResource",this,"buildGrids");this.dataStore.getSingleResource();}},loadInvoiceDetails:function(data){if(data&&typeof data!=="undefined"){this._dialog.set("value",data);}},buildGrids:function(data){this.loadInvoiceDetails(data);this.loadAddresses(data);this.loadLineItems(data);if(this.invoiceTabContainer!=null){this.invoiceTabContainer.selectChild(this.invoiceContent);}dojo.addClass(this.loadingContainer,"display-none");dojo.removeClass(this.invoiceDialogContent,"display-none");this._dialog.resize();},hideDetailsDialog:function(){this.destroyFirst("sdgrdDeliveries");this.deliveriesDataStore=null;this.destroyFirst("sdgrdPayments");this.paymentsDataStore=null;this._dialog.hide();}});return _2c9;});},"Sage/MainView/ReportMgr/ReportWizardController":function(){define("Sage/MainView/ReportMgr/ReportWizardController",["Sage/UI/Dialogs","dojo/json","dojo/_base/array","dojo/i18n!./nls/ReportWizardController","Sage/Reporting/Enumerations","Sage/Utility","Sage/MainView/ReportMgr/Crystal/CrystalReportWizardController"],function(_2d6,_2d7,_2d8,_2d9,_2da,_2db,_2dc){Sage.namespace("Sage.MainView.ReportMgr.ReportWizardController");dojo.mixin(Sage.MainView.ReportMgr.ReportWizardController,{startWizard:function(_2dd){if(!_2dd){return;}if(_2dd.reportId){this._getReportMetadata(_2dd.reportId,_2dd.reportOptions,_2dd.reportDisplayName);}else{if(_2dd.triggerId){this._getReportSchedule(_2dd.triggerId);}else{return;}}},_getReportSchedule:function(_2de){var self=this;this._showLoadingIndicator(_2d9.txtLoadingScheduleDetails);var _2df={triggerId:_2de,success:function(_2e0){self._closeLoadingIndicator();self._triggerReceived(_2e0);},failure:function(xhr,_2e1){self._closeLoadingIndicator();_2db.ErrorHandler.handleHttpError(xhr,_2e1);}};var _2e2=Sage.Services.getService("ReportingService");_2e2.getSchedule(_2df);},_triggerReceived:function(_2e3){var _2e4=this._getParameterValue(_2e3.parameters,"PluginFamily");var _2e5=this._getParameterValue(_2e3.parameters,"PluginName");var _2e6=this._getParameterValue(_2e3.parameters,"ReportConditions");_2e6=_2e6?"["+_2e6+"]":"[]";_2e6=_2d7.parse(_2e6);var _2e7=this._getParameterValue(_2e3.parameters,"ConditionsConnector");_2d8.forEach(_2e6,function(_2e8,j){if(_2e8.dataType===_2da.FieldDataTypes.DateTime){if(_2db.Convert.isDateString(_2e8.value)){_2e8.value=_2db.Convert.toDateFromString(_2e8.value);}if(_2db.Convert.isDateString(_2e8.fromRange)){_2e8.fromRange=_2db.Convert.toDateFromString(_2e8.fromRange);}if(_2db.Convert.isDateString(_2e8.toRange)){_2e8.toRange=_2db.Convert.toDateFromString(_2e8.toRange);}}});var _2e9=this._getParameterValue(_2e3.parameters,"ReportParameters");_2e9=_2e9?"["+_2e9+"]":"[]";_2e9=_2d7.parse(_2e9);var _2ea=this._getParameterValue(_2e3.parameters,"RunAsUserId");var _2eb=this._getParameterValue(_2e3.parameters,"OutputFormat");var _2ec=this._getParameterValue(_2e3.parameters,"ScheduleName");if(_2e5&&_2e4){var _2ed=Sage.Services.getService("ReportingService");var _2ee=_2ed.getReportId(_2e4+":"+_2e5);if(_2ee){var _2ef={scheduleOptions:{executionType:_2da.ExecutionType.Scheduled,trigger:_2e3},exportOptions:{outputFormat:_2eb,runAsUserId:_2ea},conditionOptions:{conditions:_2e6,conditionsConnector:_2e7},parameterOptions:{parameters:_2e9}};this._getReportMetadata(_2ee,_2ef);}else{_2d6.showError(_2d9.txtCannotDetermineReportId);}}else{_2d6.showError(_2d9.txtCannotDetermineReportNameOrFamily);}},_getReportMetadata:function(_2f0,_2f1,_2f2){var self=this;var _2f3=_2f2?_2d9.txtLoading+_2f2:_2d9.txtLoadingReport;this._showLoadingIndicator(_2f3);var _2f4={reportId:_2f0,success:function(_2f5){self._reportMetadataReceived(_2f5,_2f1);},failure:function(xhr,_2f6){self._closeLoadingIndicator();_2db.ErrorHandler.handleHttpError(xhr,_2f6);}};var _2f7=Sage.Services.getService("ReportingService");_2f7.getReportMetadata(_2f4);},_reportMetadataReceived:function(_2f8,_2f9){_2d8.forEach(_2f8.reportFilters,function(_2fa,i){_2d8.forEach(_2fa.filterConditions,function(_2fb,j){if(_2fb.dataType===_2da.FieldDataTypes.DateTime){if(_2db.Convert.isDateString(_2fb.value)){_2fb.value=_2db.Convert.toDateFromString(_2fb.value);}if(_2db.Convert.isDateString(_2fb.fromRange)){_2fb.fromRange=_2db.Convert.toDateFromString(_2fb.fromRange);}if(_2db.Convert.isDateString(_2fb.toRange)){_2fb.toRange=_2db.Convert.toDateFromString(_2fb.toRange);}}});});_2d8.forEach(_2f8.parameters,function(_2fc,i){if(!_2fc.currentValues){_2fc.currentValues=[];}if(_2f9.parameterOptions){_2f9.parameterOptions.parameters[i].defaultValues=_2fc.defaultValues;}});this._closeLoadingIndicator();var _2fd=this._getControllerInstance(_2f8,_2f9);_2fd.startWizard();},_getControllerInstance:function(_2fe,_2ff){switch(_2fe.reportType){case _2da.ReportTypes.CrystalReport:return new _2dc(_2fe,_2ff);}},_showLoadingIndicator:function(_300){var _301=dijit.byId("dlgReportLoading");if(_301){_301.destroyRecursive();}_301=new dijit.Dialog({id:"progressDialog",title:_300,style:"width: 300px; height: 100px",closable:false});var _302=new dijit.ProgressBar({id:"reportLoadingProgressBar",style:"margin-top: 10px; margin-bottom: 20px",indeterminate:true});_301.containerNode.appendChild(_302.domNode);_301.show();dojo.style(_301.closeButtonNode,"display","none");_301.onCancel=function(){};},_closeLoadingIndicator:function(){var dlg=dijit.byId("progressDialog");if(dlg){dlg.hide();dlg.destroyRecursive();}},_getParameterValue:function(_303,_304){var _305=null;_2d8.some(_303,function(_306,j){if(_306.name===_304){_305=_306.value;return true;}});return _305;}});return Sage.MainView.ReportMgr.ReportWizardController;});},"Sage/TaskPane/User/nls/ContactUserAssociationEditor":function(){define("Sage/TaskPane/User/nls/ContactUserAssociationEditor",["Sage/LanguageList","dojo/_base/lang"],function(_307,lang){var nls={root:{btnCancel_Caption:"Cancel",btnOK_Caption:"OK",dialogTitleText:"Associate User with Contact",associateContactText:"Associate the selected user with the following contact",user_Caption:"Contact",lookupContactText:"Lookup Contact",lookupFirstNameColText:"First Name",lookupLastNameColText:"Last Name",lookupTitleColText:"Title",lookupAccountColText:"Account",lookupWorkPhoneColText:"Work Phone",lookupEmailText:"Email",disAssociateTitle:"Disassociate from a Contact",associationExistsMessage:"The contact you selected is already associated to a user. Select another contact.",}};return lang.mixin(_307,nls);});},"Sage/MainView/nls/ActivityManager":function(){define("Sage/MainView/nls/ActivityManager",["Sage/LanguageList","dojo/_base/lang"],function(_308,lang){var nls={root:{titleFmtString:"${0}",tabDisplayNameActivity:"Activities",tabDisplayNameLit:"Literature",tabDisplayNameEvent:"Events",tabDisplayNameConfirm:"Confirmations",activityColNameComplete:"Complete",activityColNameAttachment:"Attachment",activityColNameRecurring:"Recurring",activityColNameAlarm:"Alarm",activityColNameType:"ActivityType",activityColNameStartDate:"StartDate",activityColNameDuration:"Duration",activityColNameContact:"Contact",activityColNameLead:"Lead",activityColNameAccount:"Account",activityColNameRegarding:"Regarding",activityColNamePriority:"Priority",activityColNameUserId:"leader",activityTypePhone:"Phone",activityTypeCall:"Call",activityTypeMeeting:"Meeting",activityTypePersonal:"Personal"}};return lang.mixin(_308,nls);});},"Sage/UI/Alarms/main":function(){define("Sage/UI/Alarms/main",["Sage/UI/Alarms/ActivityAlarm","Sage/UI/Alarms/AlarmButton","Sage/UI/Alarms/AlarmCountDown","Sage/UI/Alarms/AlarmPane","Sage/UI/Alarms/AlarmPopup","Sage/UI/Alarms/AlertPane","Sage/UI/Alarms/UnconfirmedAlarm","Sage/UI/Alarms/UnconfirmedPane","Sage/UI/Alarms/JobNotificationButton","Sage/UI/Alarms/JobNotificationPopup"],function(){});},"Sage/UI/Columns/HistoryType":function(){define("Sage/UI/Columns/HistoryType",["dojox/grid/cells/_base","Sage/Utility","Sage/Utility/Activity","dojo/string","dojo/_base/declare"],function(_309,util,_30a,_30b,_30c){var _30d=_30c("Sage.UI.Columns.HistoryType",_309,{keyField:false,format:function(_30e,_30f){var type=this.get(_30e,_30f);if(!type){return this.defaultValue;}var key=util.getValue(_30f,this.keyField||"$key");var fmt="<div class=\"Global_Images icon16x16 ${0}\"></div>&nbsp;<a href=\"javascript:Sage.Link.editHistory('${1}')\">${2}</a>";return _30b.substitute(fmt,[_30a.getActivityImageClass(type,"small"),key,_30a.getActivityTypeName(type)]);}});return _30d;});},"Sage/UI/SummaryContainer":function(){define("Sage/UI/SummaryContainer",["dijit/_Widget","Sage/_Templated","Sage/UI/SummaryContents","dojo/_base/declare"],function(_310,_311,_312,_313){var _314=_313("Sage.UI.SummaryContainer",[_310,_311],{widgetsInTemplate:false,templateLocation:"",contentNode:null,paneContents:null,entity:null,postProcessCallBack:false,attributeMap:{"content":{node:"contentNode",type:"innerHTML"}},widgetTemplate:new Simplate(["<div class=\"EntityCard\">","<div dojoAttachPoint=\"contentNode\">Loading...</div>","</div>"]),_setEntityAttr:function(_315){this.entity=_315;var pane=new _312({templateLocation:this.templateLocation,entity:_315});dojo.place(pane.domNode,this.contentNode,"only");pane.startup();this.paneContents=pane;if(this.postProcessCallBack){this.postProcessCallBack(this.entity);}},startup:function(){if(this.entity){var pane=new _312({templateLocation:this.templateLocation,entity:this.entity});dojo.place(pane.domNode,this.contentNode,"only");pane.startup();this.paneContents=pane;if(this.postProcessCallBack){this.postProcessCallBack(this.entity);}}},destroy:function(){if(this.paneContents){this.paneContents.destroy(arguments);}this.inherited(arguments);}});return _314;});},"Sage/UI/SLXPreviewGrid/Filter/DateRange":function(){define("Sage/UI/SLXPreviewGrid/Filter/DateRange",["dijit/form/DateTextBox","dijit/_Widget","dijit/_Templated","Sage/UI/SLXPreviewGrid/Filter/_previewGridFilterMixin","dojo/_base/declare"],function(_316,_317,_318,_319,_31a){var _31b=_31a("Sage.UI.SLXPreviewGrid.Filter.DateRange",[_317,_318,_319],{templateString:"<div>"+"<input data-dojo-type='dijit.form.DateTextBox' dojoAttachPoint='dteFrom' style='width:90px'> - "+"<input data-dojo-type='dijit.form.DateTextBox' dojoAttachPoint='dteTo' style='width:90px'>"+"</div>",widgetsInTemplate:true,getQuery:function(){var _31c=function(_31d,_31e){if(!_31d){return "";}if(_31d.constructor!==Date){_31d=Date.parse(_31d);}if(_31e){_31d.setUTCDate(_31d.getUTCDate()+1);}var pad=function(n){return n<10?"0"+n:n;};return _31d.getUTCFullYear()+"-"+pad(_31d.getUTCMonth()+1)+"-"+pad(_31d.getUTCDate())+"T"+pad(_31d.getUTCHours())+":"+pad(_31d.getUTCMinutes())+":"+pad(_31d.getUTCSeconds())+"Z";};var _31f=_31c(this.dteFrom.get("value"));var dTo=_31c(this.dteTo.get("value"),true);var qry="";if(_31f){qry=this.field+" ge '"+_31f+"'";}if(dTo){if(qry){qry+=" and ";}qry+=this.field+" lt '"+dTo+"'";}if(this.params["getTimeless"]){if(qry){var _320=false;qry="(("+qry+" and not Timeless) or (";var _321=Sage.Utility.Activity.formatTimelessStartDate(this.dteFrom.get("value"));var _322=Sage.Utility.Activity.formatTimelessEndDate(this.dteTo.get("value"));if(_321){qry+=this.field+" gt '"+_321+"'";_320=true;}if(_322){if(_320){qry+=" and ";}qry+=this.field+" lt '"+_322+"'";}qry+=" and Timeless))";}}return qry;},reset:function(){this.dteFrom.set("value",0);this.dteTo.set("value",0);},getState:function(){return {"dFrom":this.dteFrom.get("value"),"dTo":this.dteTo.get("value")};},applyState:function(_323){if(_323){if(_323["dFrom"]){this.dteFrom.set("value",_323["dFrom"]);}if(_323["dTo"]){this.dteTo.set("value",_323["dTo"]);}}}});return _31b;});},"Sage/UI/Dashboard/DashboardWidget":function(){define("Sage/UI/Dashboard/DashboardWidget",["dojo/_base/declare","Sage/UI/Dashboard/WidgetDefinition","dojo/i18n","dojo/_base/lang","dijit/form/TextBox","dijit/form/CheckBox","dojox/charting/widget/Chart2D","dojox/charting/action2d/Highlight","dojox/charting/action2d/MoveSlice","dojox/charting/action2d/Tooltip","dojox/charting/action2d/Magnify","dojox/charting/widget/Legend","dojox/charting/themes/Julie","dojo/i18n!./nls/DashboardWidget"],function(_324,_325,i18n,lang){var _326=_324("Sage.UI.Dashboard.DashboardWidget",null,{constructor:function(_327){dojo.safeMixin(this,_327);this._setDefinition();this._winResize=dojo.connect(window,"onresize",this,function(){if(!this.parentCell.open||!this.parentCell._started){return;}if(this.parentCell.refresh){this.parentCell.refresh(true);}});this.dropSub=dojo.subscribe("/ui/widget/dropped",this,function(id,p,c,i){if(id===this.parentCell.id){if(!this.parentCell.open||!this.parentCell._started){return;}if(this.parentCell.refresh){this.parentCell.refresh(true);}}});},postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.UI.Dashboard","DashboardWidget"));},_getInstanceData:function(){if(this.parentCell.isNew&&this.definition.editor){this.definition.editor(this.parentCell);if(this.parentCell._settingsWidget){this.parentCell._settingsWidget.toggle();}else{this.parentCell._editorAdded();}return;}if(!this.definition.isStatic){var that=this;if(this.options.datasource){dojo.xhrGet({url:this.options.datasource,handleAs:"json",preventCache:true,load:function(data){if(data){that._setInstanceData(data);}else{that.parentCell.set("content",this.noQueryDataText+this.options.datasource);}},error:function(data){that._setInstanceData(null);}});}else{this.parentCell._setContent(this.initializingText||"",true);if(this.definition.isStaticXhr){this._setInstanceData(null);}if(this.definition.editor){this.definition.editor(this.parentCell);}}}else{this._setInstanceData();}},_setDefinition:function(){_325(Sage.UI.WidgetDefinitions[this.options.name],lang.hitch(this,function(_328){this.definition=_328;this._getInstanceData();}));},_setInstanceData:function(data){if(this.definition.isStatic){this.parentCell.set("content",this.definition.html(this.parentCell));if(this.definition.editor){this.definition.editor(this.parentCell);}}else{this.definition.html(this.parentCell,data);}}});return _326;});},"Sage/Data/SummaryViewDataManager":function(){define("Sage/Data/SummaryViewDataManager",["Sage/Data/SDataServiceRegistry","dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(_329,_32a,_32b,lang){var _32c=_32b("Sage.Data.SummaryRequestQueue",null,{mashupName:"",queryName:"",fetching:false,service:null,unfetchedIds:null,constructor:function(_32d){lang.mixin(this,_32d);this.requestHash={};this.fetching=false;this.unfetchedIds=[];this.allFetched=[];this.service=_329.getSDataService("mashups");},add:function(id,_32e){this.requestHash[id]=_32e;this.allFetched.push({id:id,context:_32e});this.unfetchedIds.push(id);},send:function(_32f,_330){this.fetching=true;var _331=[],id,_332;for(id in this.requestHash){_331.push("'"+id+"'");_332=_32a.indexOf(this.unfetchedIds,id);if(_332>-1){this.unfetchedIds.splice(_332,1);}}var _333=new Sage.SData.Client.SDataNamedQueryRequest(this.service);_333.setApplicationName("$app");_333.setResourceKind("mashups");var _334=this.mashupName||"SummaryViewQueries";_333.uri.setCollectionPredicate("'"+_334+"'");_333.setQueryName("execute");_333.setQueryArg("_resultName",this.queryName);_333.setQueryArg("_ids",_331.join(","));var _335=this;_333.read({success:lang.hitch(_330,_32f,_335),failure:lang.hitch(this,this.requestFailed,_335)});},requestFailed:function(a,b,c){}});var _336=_32b("Sage.Data.SummaryViewDataManager",null,{oldQueue:null,queue:null,maxQueueLength:100,constructor:function(){this.oldQueue={};this._createNewQueue();},_createNewQueue:function(){this.queue=new _32c({});this.requestTimeout=false;},requestData:function(_337,_338,_339){if(this.queue.fetching){this.oldQueue=this.queue;this._createNewQueue();}this.queue.mashupName=_339.mashupName;this.queue.queryName=_339.queryName;this.queue.add(_337,_338);if(this.requestTimeout){window.clearTimeout(this.requestTimeout);}var q=this.queue;var self=this;if(q.unfetchedIds.length>=this.maxQueueLength){q.send(self.receiveData,self);}this.requestTimeout=window.setTimeout(function(){q.send(self.receiveData,self);},250);},requestDataNoWait:function(_33a,_33b,_33c){var _33d=new _32c({mashupName:_33c.mashupName,queryName:_33c.queryName});_33d.add(_33a,_33b);_33d.send(this.receiveData,this);},receiveData:function(_33e,data){for(var i=0;i<data.$resources.length;i++){var _33f=data.$resources[i];var id=_33f.id;if(!id){id=_33f.$key;_33f.id=_33f.$key;}(function(_340){_32a.forEach(_33e.allFetched,function(item){try{if(_340.id===item.id){item.context.set("entity",_340);}}catch(err){}});})(_33f);}}});Sage.Services.addService("SummaryViewDataManager",new _336());return _336;});},"Sage/Services/nls/JobService":function(){define("Sage/Services/nls/JobService",["Sage/LanguageList","dojo/_base/lang"],function(_341,lang){var nls={root:{txtInvalidParameter:"Invalid parameter: '${0}'.",txtTriggerJobError:"Sorry an error occurred triggering job '${0}': ${1} ${2}.",txtScheduleJobError:"Sorry an error occurred scheduling job '${0}': ${1} ${2}.",txtUnexpectedError:"Sorry an error occurred: ${0} ${1}."}};return lang.mixin(_341,nls);});},"Sage/MainView/ActivityMgr/ActivityCalendar":function(){define("Sage/MainView/ActivityMgr/ActivityCalendar",["Sage/Data/WritableSDataStore","Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/Utility","dojo/date/locale","dojo/string","dojo/_base/lang","dojo/_base/declare","dojo/i18n!./nls/ActivityCalendar","Sage/Array"],function(_342,_343,_344,_345,_346,_347,lang,_348,_349){var _34a=_348("Sage.MainView.ActivityMgr.ActivityCalendar",null,{_contentWindow:null,_activitiesData:null,_eventsData:null,_allData:null,_schedulerEvents:[],_schedulerEvents1:[],_schedulerLoaded:false,_loadHistoryOnStart:false,self:this,_calendarUsers:[],_selectedUsers:[],_currentUser:null,_userOptions:{},_userActivityData:[],_reccurring:[],_currentUserId:null,_currentUserColor:[],_dateRangeStart:null,_dateRangeEnd:null,completedText:"(Completed)",meetingIconUrl:"../../images/icons/meeting_14x14.png",toDoIconUrl:"../../images/icons/To_Do_14x14.png",phoneCallIconUrl:"../../images/icons/Call_14x14.png",personalActivityIconUrl:"../../images/icons/personal_14x14.png",_userColors:[],constructor:function(_34b,_34c){(function(){this._contentWindow=_34b;})();this._currentUserId=lang.trim(_345.getClientContextByKey("userID"))||"";this._userOptions=_34c;this._userColors["user1"]="#D5E2BD";this._userColors["user2"]="#CFDEF5";this._userColors["user3"]="#FBDBB5";this._userColors["user4"]="#DFC9F6";this._currentUserColor=[];this._nlsResources=_349;var _34d=function(dt){return dojo.date.locale.format(new Date(dt),{selector:"date",datePattern:"EEE MMM d yyyy 00:00:00 ZZZZ"});};var _34e=function(dt){return dojo.date.locale.format(new Date(dt),{selector:"date",datePattern:"EEE MMM d yyyy 24:00:00 ZZZZ"});};var _34f=function(data){var _350=[{StartDate:_34d(Sage.Utility.Convert.toDateFromString(data.StartDate)),EndDate:_34e(Sage.Utility.Convert.toDateFromString(data.EndDate)),Text:data.Type,Id:data.$key+"-evt"}];return _350;};var self=this;dojo.subscribe("/entity/history/create",function(data){if(data!=null){var _351=data.HistoryId||data.$key;if(_351){self._getHistoryItem(_351);}}});dojo.subscribe("/entity/history/delete",function(key){if(key!=null){self._deleteHistoryItem(key);}});dojo.subscribe("/entity/activity/create",function(data){if(data!=null){if(!data.Timeless){var _352=data.Leader.$key;_352=lang.trim(_352);if(self._isUserSelected(_352)){if(data.Recurring){self._refreshSchedulerEvents();}else{var _353=self._formatActivityObject(data,_352);if(!self._userActivityData[_352]){self._userActivityData[_352]=[];self._userActivityData[_352]["activities"]=[];}self._userActivityData[_352]["activities"].push(_353);dojo.publish("/entity/activity/addToScheduler",[_353,this]);}}}}});dojo.subscribe("/entity/userActivity/create",function(data){if(data!=null&&data.Activity){var _354=data.Activity.$key;var _355=data.User.$key;var _356=data.Status;if(self._isUserSelected(_355)){if(self._reccurring[_354]){self._removeReccurringFromScheduler(_354);window.setTimeout(function(){self._reloadAllActivitiesByActivityId(_354);},1);}else{var _357=self._getActivityObjectFromCollection(_354);if(_357){var _358=self._getUserActivityFromActivity(_357,_354,_355,_356);dojo.publish("/entity/activity/addToScheduler",[_358,this]);if(!self._userActivityData[_355]){self._userActivityData[_355]=[];self._userActivityData[_355]["activities"]=[];}self._userActivityData[_355]["activities"].push(_358);}}}}});dojo.subscribe("/entity/activity/activityScheduler/reloadActivity",function(_359){self._reloadAllActivitiesByActivityId(_359);});dojo.subscribe("/entity/userActivity/delete",function(data){if(data!=null){var _35a=data.split(";")[0];var _35b=data.split(";")[1];var _35c=_35a.split("=")[1];if(self._reccurring[_35c]){self._removeReccurringFromScheduler(_35c);window.setTimeout(function(){self._reloadAllActivitiesByActivityId(_35c);},1);}else{var _35d=_35b.split("=")[1];_35d=_35d.replace("'","");var _35e=_35c+"-"+_35d+"-act";if(lang.trim(_345.getClientContextByKey("userID"))==_35d){_35e="0:"+_35e;}dojo.publish("/entity/activity/deleteFromScheduler",[_35e,this]);self._removeActivityObjectFromCollection(_35c,_35d);}}});dojo.subscribe("/entity/activity/change",function(data){if(data!=null&&!data.Timeless){if(data.Recurring||data.RecurrenceState.toLowerCase()!=="rsnotrecurring"){self._refreshSchedulerEvents();}else{if(data.LeaderChanged){self._deleteFromSchedulerByActivity(data.$key);}var _35f=null;if(data.Leader&&data.Leader.$key){_35f=lang.trim(data.Leader.$key);}if(self._isUserSelected(_35f)){var _360=self._formatActivityObject(data,_35f);dojo.publish("/entity/activity/updateScheduler",[_360,this]);self._removeActivityObjectFromCollection(data.$key,_35f);self._userActivityData[_35f]["activities"].push(_360);}var _361=self._getMembersOfActivity(data.$key);if(_361){for(var i=0;i<_361.length;i++){if(_361[i]!==_35f){_360=self._formatActivityObject(data,_361[i]);dojo.publish("/entity/activity/updateScheduler",[_360,this]);self._removeActivityObjectFromCollection(data.$key,_361[i]);if(!self._userActivityData[_361[i]]){self._userActivityData[_361[i]]=[];self._userActivityData[_361[i]]["activities"]=[];}self._userActivityData[_361[i]]["activities"].push(_360);}}}}}else{if(data!=null&&data.TimelessChanged){self._deleteFromSchedulerByActivity(data.$key);}}});dojo.subscribe("/entity/activity/delete/single",function(_362){self._deleteFromSchedulerByActivity(_362);});dojo.subscribe("/entity/activity/confirm",function(_363){if(_363){self._refreshSchedulerByActivity(_363.activityId);}});dojo.subscribe("/entity/activity/decline",function(_364){if(_364){self._refreshSchedulerByActivity(_364.activityId);}});dojo.subscribe("/entity/activity/delete/recurrence",function(_365){var _366;if(_365){_366=_365.substring(0,13);if(self._userActivityData){for(var i in self._userActivityData){if(self._userActivityData[i]!=null){var _367=[];if(self._userActivityData[i]["activities"]){for(var k=0;k<self._userActivityData[i]["activities"].length;k++){if(self._userActivityData[i]["activities"][k]){var id=self._userActivityData[i]["activities"][k]["id"];if(id.indexOf(_366)>-1){_367.push(id);}}}if(_367.length>0){dojo.publish("/entity/activity/clearSchedulerEvents",[_367,this]);}}}}}}});dojo.subscribe("/entity/activity/delete",function(_368){self._deleteFromSchedulerByActivity(_368);});dojo.subscribe("/entity/event/create",function(data){if(data!=null){var _369=data.UserId;_369=lang.trim(_369);var _36a=self._formatEventObject(data,_369);dojo.publish("/entity/activity/addToScheduler",[_36a,this]);}});dojo.subscribe("/entity/event/change",function(data){if(data!=null){var _36b=data.UserId;_36b=lang.trim(_36b);var _36c=self._formatEventObject(data,_36b);dojo.publish("/entity/activity/updateScheduler",[_36c,this]);}});dojo.subscribe("/entity/event/delete/single",function(_36d){var evId=_36d+"-evt";dojo.publish("/entity/activity/deleteFromScheduler",[evId,this]);});dojo.subscribe("/entity/calendar/userlist/add",function(data){(function(){dojo.publish("/entity/activity/updateScheduler",[_34f(data),this]);})();});completedText=this._nlsResources.completedText||"(Completed)";},_deleteHistoryItem:function(_36e){if(this._userActivityData){for(var i in this._userActivityData){if(this._userActivityData[i]!=null){if(this._userActivityData[i]["history"]){for(var k=0;k<this._userActivityData[i]["history"].length;k++){if(this._userActivityData[i]["history"][k]){var id=this._userActivityData[i]["history"][k]["id"];if(id.indexOf(_36e)>-1){delete this._userActivityData[i]["history"][k];dojo.publish("/entity/activity/deleteFromScheduler",[id,this]);break;}}}}}}}},_deleteFromSchedulerByActivity:function(_36f){if(_36f&&_36f.indexOf("{")==-1){var _370=this._getAllActivitiesFromCollectionById(_36f);for(var i=0;i<_370.length;i++){dojo.publish("/entity/activity/deleteFromScheduler",[_370[i],this]);this._removeActivityObjectFromCollectionByActivityId(_370[i]);}}},_isUserSelected:function(_371){var _372=false;for(var i in this._selectedUsers){if(this._selectedUsers[i]["userId"]){if(this._selectedUsers[i]["userId"].toString()==_371){_372=true;break;}}}return _372;},_refreshSchedulerByActivity:function(_373){if(_373){this._deleteFromSchedulerByActivity(_373);this._reloadAllActivitiesByActivityId(_373);}},_getUserActivityFromActivity:function(_374,_375,_376,_377){var _378=dojo.clone(_374);var sd=_374.start_date;var ed=_374.end_date;var _379=false;if(_378){_378.id=_375+"-"+_376+"-act";if(_377){switch(_377){case "asAccepted":_379=true;break;case "asUnconfirmed":_379=false;break;}}_378.userColor=this._currentUserColor[_376];_378.end_date=ed;_378.start_date=sd;_378.confirmed=_379;}return _378;},_getActivityObjectFromCollection:function(_37a){var _37b=null;var br=false;if(this._userActivityData){for(var i in this._userActivityData){if(this._userActivityData[i]!=null){if(this._userActivityData[i]["activities"]){for(var k=0;k<this._userActivityData[i]["activities"].length;k++){if(this._userActivityData[i]["activities"][k]){var id=this._userActivityData[i]["activities"][k]["id"];if(id.indexOf(_37a)>-1){_37b=this._userActivityData[i]["activities"][k];br=true;break;}}}}}if(br){break;}}}return _37b;},_getAllActivitiesFromCollectionById:function(_37c){var _37d=[];if(this._userActivityData){for(var i in this._userActivityData){if(this._userActivityData[i]!=null){if(this._userActivityData[i]["activities"]){for(var k=0;k<this._userActivityData[i]["activities"].length;k++){if(this._userActivityData[i]["activities"][k]){var id=this._userActivityData[i]["activities"][k]["id"];if(id.indexOf(_37c)>-1){_37d.push(id);}}}}}}}return _37d;},_removeActivityObjectFromCollection:function(_37e,_37f){if(this._userActivityData){if(this._userActivityData[_37f]!=null){if(this._userActivityData[_37f]["activities"]){for(var k=0;k<this._userActivityData[_37f]["activities"].length;k++){if(this._userActivityData[_37f]["activities"][k]){var id=this._userActivityData[_37f]["activities"][k]["id"];if(id.indexOf(_37e)>-1){delete this._userActivityData[_37f]["activities"][k];break;}}}}}}},_removeActivityObjectFromCollectionByActivityId:function(_380){var br=false;if(this._userActivityData){for(var i in this._userActivityData){if(this._userActivityData[i]!=null){if(this._userActivityData[i]["activities"]){for(var k=0;k<this._userActivityData[i]["activities"].length;k++){if(this._userActivityData[i]["activities"][k]){var id=this._userActivityData[i]["activities"][k]["id"];if(id==_380){delete this._userActivityData[i]["activities"][k];br=true;break;}}}}}if(br){break;}}}},_getMembersOfActivity:function(_381){var _382;var _383=[];if(this._userActivityData){for(var i in this._selectedUsers){if(this._selectedUsers[i]&&this._selectedUsers[i]["userId"]){var _384=this._selectedUsers[i]["userId"].toString();if(this._userActivityData[_384]!=null){if(this._userActivityData[_384]["activities"]){_382=this._userActivityData[_384]["activities"].filter(function(_385){return _385.id.indexOf(_381)>-1;});if(_382.length>0){_383.push(_384);}}}}}}return _383;},_getWeekStart:function(_386,date){if(date==null){date=new Date();}var _387=date.getDay();_387=_386-_387;var _388=dojo.date.add(date,"day",_387);if(_388>date){_388=dojo.date.add(_388,"day",-7);}return _388;},_setQueryDates:function(data){var _389=data.date.valueOf();switch(data.mode){case "day":case "week":case "workweek":case "month":var _38a=dojo.date.getDaysInMonth(new Date(_389));var _38b=new Date(new Date(_389).setDate(1));_38b.setHours(0,0,0,0);var _38c=new Date(new Date(_389).setDate(_38a));_38c.setHours(0,0,0,0);var _38d=this._dateAdd(_38b,"day",-7);var _38e=this._dateAdd(_38c,"day",8);this._dateRangeStart=Sage.Utility.Convert.toIsoStringFromDate(_38d);this._dateRangeEnd=Sage.Utility.Convert.toIsoStringFromDate(_38e);break;}},_updateDateRange:function(data,_38f){if(!_38f&&!this._schedulerLoaded){return;}var _390=false;var _391=data.date;if(Sage.Utility.Convert.isDateString(_391)){_391=Sage.Utility.Convert.toDateFromString(_391);}_391=new Date(_391.getFullYear(),_391.getMonth(),_391.getDate(),_391.getHours(),_391.getMinutes());if(this._dateRangeStart&&this._dateRangeEnd){var _392=this._dateRangeStart;if(Sage.Utility.Convert.isDateString(_392)){_392=Sage.Utility.Convert.toDateFromString(_392);}_392=new Date(_392.getFullYear(),_392.getMonth(),_392.getDate(),_392.getHours(),_392.getMinutes());var _393=this._dateRangeEnd;if(Sage.Utility.Convert.isDateString(_393)){_393=Sage.Utility.Convert.toDateFromString(_393);}_393=new Date(_393.getFullYear(),_393.getMonth(),_393.getDate(),_393.getHours(),_393.getMinutes());var _394=null;var _395=null;switch(data.mode){case "day":if(dojo.date.compare(_391,_393,"date")>0||(dojo.date.compare(_392,_391,"date")>0)){_390=true;}break;case "week":_394=this._formatDateToCompare(data.weekStartDate);_395=this._formatDateToCompare(data.weekEndDate);if((dojo.date.compare(_394,_392,"date")>=0&&dojo.date.compare(_393,_395,"date")>=0)||(dojo.date.compare(_392,_394,"date")>=0&&dojo.date.compare(_395,_393,"date")>=0)){_390=false;}else{_390=true;}break;case "workweek":_394=this._formatDateToCompare(data.workWeekStartDate);_395=this._formatDateToCompare(data.workWeekEndDate);if((dojo.date.compare(_394,_392,"date")>=0&&dojo.date.compare(_393,_395,"date")>=0)||(dojo.date.compare(_392,_394,"date")>=0&&dojo.date.compare(_395,_393,"date")>=0)){_390=false;}else{_390=true;}break;case "month":_390=true;break;}}else{_390=true;}if(_390){this._setQueryDates(data);this._refreshSchedulerEvents();}},_formatDateToCompare:function(dt){var d=dt;if(Sage.Utility.Convert.isDateString(d)){d=Sage.Utility.Convert.toDateFromString(d);}d=new Date(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes());return d;},_updateCalendarUsers:function(_396,_397){var idx=dojo.indexOf(this._calendarUsers,_396);if(_397==="add"){if(idx!=-1){this._calendarUsers.splice(idx);}this._calendarUsers.push(_396);}else{if(_397==="remove"){if(idx!=-1){this._calendarUsers.splice(idx);}}}},_updateReccurring:function(id){if(id){var rId=id.replace("0:","").split(";");var aId=rId[0];if(!this._reccurring[aId]){this._reccurring[aId]=[];}this._reccurring[aId].push(id);}},_dateAdd:function(dt,mode,_398){if(!dt){return "";}if(Sage.Utility.Convert.isDateString(dt)){dt=Sage.Utility.Convert.toDateFromString(dt);}var _399=new Date(dt.getFullYear(),dt.getMonth(),dt.getDate(),dt.getHours(),dt.getMinutes());_399=dojo.date.add(_399,mode,_398);return _399;},_reloadUserCalendars:function(_39a){if(this._userActivityData){if(this._userActivityData[_39a]!=null){var _39b=[];var _39c=[];var _39d=[];if(this._userActivityData[_39a]["activities"]){for(var k=0;k<this._userActivityData[_39a]["activities"].length;k++){if(this._userActivityData[_39a]["activities"][k]){_39b.push(this._userActivityData[_39a]["activities"][k]["id"]);}}dojo.publish("/entity/activity/clearSchedulerEvents",[_39b,this]);}if(this._userActivityData[_39a]["events"]){for(var l=0;l<this._userActivityData[_39a]["events"].length;l++){if(this._userActivityData[_39a]["events"][l]){_39c.push(this._userActivityData[_39a]["events"][l]["id"]);}}dojo.publish("/entity/activity/clearSchedulerEvents",[_39c,this]);}if(this._userActivityData[_39a]["history"]){for(var m=0;m<this._userActivityData[_39a]["history"].length;m++){if(this._userActivityData[_39a]["history"][m]){_39d.push(this._userActivityData[_39a]["history"][m]["id"]);}}dojo.publish("/entity/activity/clearSchedulerEvents",[_39d,this]);}}}},_updateSelectedUsers:function(_39e,_39f,_3a0){if(_39e){if(this._selectedUsers==null||this._selectedUsers.length==0){this._selectedUsers=lang.clone(_39e);}else{var _3a1;if(_39f){for(var i in _39e){_3a1=_39e[i]["userId"];if(_3a1){delete this._selectedUsers[_3a1];}}}else{for(var i in _39e){_3a1=_39e[i]["userId"];userColor=_39e[i]["usercolor"];if(_3a1){this._selectedUsers[_3a1]=_39e[i];if(this._currentUserId==_3a1){this._updateCalendarUsers(_3a1.toString(),"add");this._getActivities(_3a1.toString(),userColor.toString());this._getEvents(_3a1.toString(),userColor.toString());if(_3a0){this._getHistory(_3a1.toString(),userColor.toString());}}else{var _3a2={userId:_3a1,userColor:userColor};this._getSecurityAccessData(lang.trim(_345.getClientContextByKey("userID")),_3a1,_3a2,function(_3a3){this._updateCalendarUsers(_3a3.userId.toString(),"add");this._getActivities(_3a3.userId.toString(),_3a3.userColor.toString());this._getEvents(_3a3.userId.toString(),_3a3.userColor.toString());if(_3a0){this._getHistory(_3a3.userId.toString(),_3a3.userColor.toString());}},this);}}}}}}},_refreshSchedulerEvents:function(){dojo.publish("/entity/activity/clearScheduler",[null,this]);if(this._selectedUsers){var _3a4,_3a5;var _3a6=lang.trim(_345.getClientContextByKey("userID"));var _3a7=false;if(this._selectedUsers[_3a6]){_3a7=this._selectedUsers[_3a6]["loadHistoryOnStart"];}for(var i in this._selectedUsers){_3a4=this._selectedUsers[i]["userId"];_3a5=this._selectedUsers[i]["usercolor"];var _3a8={userId:_3a4,userColor:_3a5};if(_3a4==_3a6){this._getActivities(_3a4,_3a5);this._getEvents(_3a4,_3a5);if(_3a7){this._getHistory(_3a4,_3a5);}}else{if(_3a4){this._getSecurityAccessData(_3a6,_3a4,_3a8,function(_3a9){this._getActivities(_3a9.userId,_3a9.userColor);this._getEvents(_3a9.userId,_3a9.userColor);if(_3a7){this._getHistory(_3a9.userId,_3a9.userColor);}},this);}}}}this._schedulerLoaded=true;},_removeReccurringFromScheduler:function(_3aa){if(this._reccurring){var list=this._reccurring[_3aa];if(list&&list.length>0){dojo.publish("/entity/activity/clearSchedulerEvents",[list,this]);}}},_checkSecurityAccess:function(_3ab,_3ac,_3ad,_3ae){this.accessData=false;if(!this._accessStore){this._accessStore=new _343({include:["$descriptors"],resourceKind:"activityresourceviews",service:_344.getSDataService("dynamic")});}this._accessStore.fetch({predicate:"'"+_3ac+"-"+_3ab+"'",onComplete:function(_3af){_3ad.call(_3ae,_3af);},onError:function(){_3ad.call(_3ae,null);},scope:this});},_getSecurityAccessData:function(_3b0,_3b1,_3b2,_3b3,_3b4){if(this._selectedUsers[_3b1]&&this._selectedUsers[_3b1]["access"]){_3b3.call(_3b4,_3b2);}else{this._checkSecurityAccess(_3b0,_3b1,function(_3b5){if(_3b5){this._selectedUsers[_3b1]["access"]=[];this._selectedUsers[_3b1]["access"].allowAdd=_3b5.AllowAdd;this._selectedUsers[_3b1]["access"].allowEdit=_3b5.AllowEdit;this._selectedUsers[_3b1]["access"].allowDelete=_3b5.AllowDelete;}_3b3.call(_3b4,_3b2);},this);}},_reloadAllActivitiesByActivityId:function(_3b6){if(!this.allActivitiesStore){this.allActivitiesStore=_342({service:_344.getSDataService("system"),resourceKind:"activities",include:["$descriptors,UserInfo"],select:["$key","Alarm","AlarmTime","Status","AccountId","AccountName","ActivityId","ContactId","ContactName","Description","Duration","LeadId","LeadName","OpportunityId","OpportunityName","TicketId","Recurring","StartDate","Timeless","Type","Priority","Notes","Phonenumber","Location","AllowEdit","Leader/Userinfo/UserName","Useractivities/status","Useractivities/User/$key"],sort:[{attribute:"StartDate",descending:true}]});}this.allActivitiesStore.fetch({query:_347.substitute("Id eq '${0}' and not Timeless and UserActivities.Status ne 'asDeclned'",[_3b6]),count:80,start:0,onComplete:this._onallActivitiesRequestComplete,scope:this});},_onallActivitiesRequestComplete:function(_3b7){dojo.require("Sage.Utility");dojo.require("dojo.date.locale");if(_3b7!=null&&_3b7!=undefined){this._schedulerEventsx=[];var _3b8=null;for(var i=0;i<_3b7.length;i++){var _3b9={};if(!_3b7[i].Timeless){if(_3b7[i]["UserActivities"]){var _3ba=_3b7[i]["UserActivities"]["$resources"];if(_3ba&&_3ba.length>0){for(var j=0;j<_3ba.length;j++){_3b8=_3ba[j]["User"]["$key"];_3b8=lang.trim(_3b8);if(this._isUserSelected(_3b8)&&_3ba[j]["Status"]!="asDeclned"){_3b9=this._formatActivityObject(_3b7[i],_3b8,_3ba[j]["Status"]);if(_3b9){this._schedulerEventsx.push(_3b9);this._updateUserActivityDataCollection(_3b8,_3b9,true);}}}}}else{if(_3b7[i]["Leader"]){_3b8=_3b7[i]["Leader"]["$key"];_3b8=lang.trim(_3b8);_3b9=this._formatActivityObject(_3b7[i],_3b8);this._schedulerEventsx.push(_3b9);this._updateUserActivityDataCollection(_3b8,_3b9,true);}}}}dojo.publish("/entity/activity/loadScheduler",[dojo.clone(this._schedulerEventsx),this]);}},_getActivities:function(_3bb,_3bc,_3bd,_3be){if(_3bb==null){_3bb=_345.getClientContextByKey("userID");}_3bb=lang.trim(_3bb);self._currentUser=_3bb;if(_3bc==null||_3bc==undefined){_3bc="user1";}this._currentUserColor[_3bb]=_3bc;if(!this.activitiesStore){this.activitiesStore=_342({service:_344.getSDataService("system"),resourceKind:"activities",include:["$descriptors"],select:["Alarm","AlarmTime","Attachment","Status","AccountId","AccountName","ActivityId","ContactId","ContactName","Description","Duration","LeadId","LeadName","OpportunityId","OpportunityName","TicketId","Recurring","StartDate","Timeless","Type","Priority","Notes","Phonenumber","Location","AllowEdit","AllowDelete","Leader/Userinfo/UserName","UserActivities","UserActivities/User","UserActivities/Status"],sort:[{attribute:"StartDate"}]});}_3be=_3be||100;_3bd=_3bd||1;var _3bf={"me":this,"userId":_3bb,"start":_3bd,"count":_3be,"color":_3bc};this.activitiesStore.fetch({query:_347.substitute("UserActivities.UserId eq '${0}' and not Timeless and UserActivities.Status ne 'asDeclned' and StartDate gt @${1}@ and StartDate lt @${2}@",[_3bb,this._dateRangeStart,this._dateRangeEnd]),onComplete:this._onActivitiesRequestComplete,onBegin:this._onActivitiesRequestBegin,scope:_3bf,count:_3be,start:_3bd});},_onActivitiesRequestBegin:function(_3c0,_3c1){var _3c2=_3c1.scope.me;var _3c3=_3c1.scope.userId;var _3c4=_3c1.scope.count;var _3c5=_3c1.scope.start;var _3c6=_3c1.scope.color;if(_3c0>100&&_3c0>(_3c5+_3c4)){if(_3c0<=300&&_3c5==1){_3c2._getActivities(_3c3,_3c6,(_3c5+_3c4)-1,_3c0);}else{_3c5=_3c5==1?(_3c5+_3c4)-1:_3c5+_3c4;_3c2._getActivities(_3c3,_3c6,_3c5,100);}}},_getEvents:function(_3c7,_3c8){if(_3c7==null){_3c7=_345.getClientContextByKey("userID");}_3c7=lang.trim(_3c7);this._currentUserColor[_3c7]=_3c8;if(!this.eventsStore){this.eventsStore=_342({service:_344.getSDataService("dynamic"),resourceKind:"events",include:[],select:["Type","StartDate","EndDate","Location","Description","User"],sort:[{attribute:"StartDate",descending:true}]});}this.eventsStore.fetch({query:{conditions:_347.substitute("UserId eq '${0}' and StartDate gt @${1}@ and StartDate lt @${2}@",[_3c7,this._dateRangeStart,this._dateRangeEnd])},onComplete:this._onEventsRequestComplete,scope:this});},_getHistory:function(_3c9,_3ca,_3cb,_3cc){if(_3c9==null){_3c9=_345.getClientContextByKey("userID");}this._currentUserColor[_3c9]=_3ca;_3cc=_3cc||100;_3cb=_3cb||1;if(!this.historyActivitiesStore){this.historyActivitiesStore=_342({service:_344.getSDataService("dynamic"),resourceKind:"history",include:["History"],select:["$key","UserId","ActivityId","AccountName","Category","CompletedDate","ContactId","ContactName","Description","Duration","LeadId","LeadName","LongNotes","Notes","OpportunityId","OpportunityName","Priority","Timeless","Type","Location","StartDate","EndDate"],sort:[{attribute:"StartDate"}]});}var _3cd={"me":this,"userId":_3c9,"start":_3cb,"count":_3cc,"color":_3ca};this.historyActivitiesStore.fetch({query:_347.substitute("UserId eq '${0}' and not Timeless and StartDate gt @${1}@ and StartDate lt @${2}@ and Type in ('atPhoneCall','atToDo','atAppointment','atPersonal')",[_3c9,this._dateRangeStart,this._dateRangeEnd]),onComplete:this._onHistoryRequestComplete,onBegin:this._onHistoryRequestBegin,scope:_3cd,count:_3cc,start:_3cb});},_onHistoryRequestBegin:function(_3ce,_3cf){var _3d0=_3cf.scope.me;var _3d1=_3cf.scope.userId;var _3d2=_3cf.scope.count;var _3d3=_3cf.scope.start;var _3d4=_3cf.scope.color;if(_3ce>100&&_3ce>(_3d3+_3d2)){if(_3ce<=300&&_3d3==1){_3d0._getHistory(_3d1,_3d4,(_3d3+_3d2)-1,_3ce);}else{_3d3=_3d3==1?(_3d3+_3d2)-1:_3d3+_3d2;_3d0._getHistory(_3d1,_3d4,_3d3,100);}}},_getHistoryItem:function(_3d5){if(!this._historyStore){this._historyStore=new _343({include:[],resourceKind:"history",service:_344.getSDataService("dynamic")});}this._historyStore.fetch({predicate:"\""+_3d5+"\"",onComplete:this._receivedHistoryItem,scope:this});},_receivedHistoryItem:function(_3d6){var _3d7;var _3d8=lang.trim(_345.getClientContextByKey("userID"));if(_3d6!=null&&_3d6!=undefined){_3d7=_3d6.UserId;if(this._selectedUsers[_3d7]){var _3d9=false;if(this._selectedUsers[_3d7]){_3d9=this._selectedUsers[_3d7]["loadHistoryOnStart"];}if(_3d9){var _3da={};_3da=this._formatHistoryObject(_3d7,_3d6,_3d8);if(!this._isEmptyObject(_3da)){if(!this._userActivityData[_3d7]){this._userActivityData[_3d7]={};}if(!this._userActivityData[_3d7]["history"]){this._userActivityData[_3d7]["history"]=[];}this._userActivityData[_3d7]["history"].push(_3da);dojo.publish("/entity/activity/addToScheduler",[dojo.clone(_3da),this]);}}}}},iframeRef:function(_3db){return _3db.contentWindow?_3db.contentWindow.document:_3db.contentDocument;},_getActivityUserId:function(_3dc){var uId=null;if(_3dc){var _3dd=_3dc.split(";");if(_3dd&&_3dd.length>1){uId=_3dd[1].split("=")[1];}}return uId;},_getAccessData:function(_3de,_3df){var _3e0=false;if(this._selectedUsers&&this._selectedUsers[_3de]&&this._selectedUsers[_3de]["access"]){switch(_3df){case "allowAdd":_3e0=this._selectedUsers[_3de]["access"]["allowAdd"];break;case "allowEdit":_3e0=this._selectedUsers[_3de]["access"]["allowEdit"];break;case "allowDelete":_3e0=this._selectedUsers[_3de]["access"]["allowDelete"];break;}}return _3e0;},_formatActivityObject:function(_3e1,_3e2,_3e3,_3e4){var _3e5,_3e6,text,_3e7;var _3e8={};var _3e9=false;if(!_3e4){_3e4=lang.trim(_345.getClientContextByKey("userID"));}if(_3e2===lang.trim(_3e4)){_3e9=true;}if(_3e1!=null){if(_3e9){_3e8.id="0:";_3e8.id+=_3e1.$key;}else{_3e8.id=_3e1.$key;}_3e8.currentUser=_3e9;_3e8.id+="-"+_3e2;_3e8.id+="-act";_3e8.type="userActivity";_3e8.subType=_3e1.Type;_3e5=_3e1.StartDate;text=_3e1.ContactName;_3e8.text=(text==null)?"":text;_3e8.timeless=_3e1.Timeless;_3e8.alarm=_3e1.Alarm;if(_3e1["Leader"]){_3e8.leaderUserId=_3e1["Leader"]["$key"];}_3e8.alarmTime=Sage.Utility.Convert.toDateFromString(_3e1.AlarmTime);_3e8.duration=_3e1.Duration;_3e8.description=_3e1.Description;_3e8.contactId=_3e1.ContactId;_3e8.contactName=_3e1.ContactName;_3e8.accountId=_3e1.AccountId;_3e8.accountName=_3e1.AccountName;_3e8.leadId=_3e1.LeadId;_3e8.leadName=_3e1.LeadName;_3e8.regarding=_3e1.Description;_3e8.priority=_3e1.Priority;_3e8.notes=_3e1.Notes;_3e8.phoneNumber=_3e1.PhoneNumber;_3e8.opportunityId=_3e1.OpportunityId;_3e8.opportunity=_3e1.OpportunityName;_3e8.recurring=_3e1.$key.indexOf(";")>0?true:false;if(_3e9){_3e8.allowDelete=true;_3e8.allowEdit=_3e1.AllowEdit;}else{_3e8.allowDelete=this._getAccessData(_3e2,"allowDelete");_3e8.allowEdit=this._getAccessData(_3e2,"allowEdit");}_3e8.ticketId=_3e1.TicketId;if(_3e8.recurring){this._updateReccurring(_3e8.id);}_3e8.attachment=_3e1.Attachment;_3e8.location=_3e1.Location;switch(_3e1.Type.toUpperCase()){case "ATTODO":_3e7=this.toDoIconUrl;break;case "ATAPPOINTMENT":_3e7=this.meetingIconUrl;break;case "ATPHONECALL":_3e7=this.phoneCallIconUrl;break;case "ATPERSONAL":_3e7=this.personalActivityIconUrl;break;}_3e8.iconSrc=_3e7;_3e8.userColor=this._currentUserColor[_3e2];var _3ea=true;if(_3e3){switch(_3e3){case "asAccepted":_3ea=true;break;case "asUnconfirmed":_3ea=false;break;}}_3e8.confirmed=_3ea;_3e8.start_date=_345.Activity.formatActivityStartDateForCalendar(_3e1.StartDate);_3e8.end_date=_345.Activity.formatActivityEndDateForCalendar(_3e1.StartDate,_3e8.duration);if(_3e8.alarmTime){_3e8.alarmMinutesBefore=dojo.date.difference(Sage.Utility.Convert.toDateFromString(_3e1.StartDate),_3e8.alarmTime,"minute");}if(Sage.Utility.Convert.isDateString(_3e1.StartDate)){_3e1.StartDate=Sage.Utility.Convert.toDateFromString(_3e1.StartDate);}var _3eb=new Date(_3e1.StartDate.getFullYear(),_3e1.StartDate.getMonth(),_3e1.StartDate.getDate(),_3e1.StartDate.getHours(),_3e1.StartDate.getMinutes());var _3ec=dojo.date.add(_3eb,"minute",_3e8.duration);if(dojo.date.compare(_3ec,_3eb,"date")>0){_3e8.endsAfterMidnight=true;_3e8.actualEndDate=_3ec;}}return _3e8;},_formatEventObject:function(_3ed,_3ee){var _3ef={};if(_3ed!=null){_3ef.id=_3ed.$key;_3ef.id+="-evt";_3ef.type="event";_3ef.subType=_3ed.Type;_3ef.description=_3ed.Description;_3ef.location=_3ed.Location;_3ef.text=_3ed.Type;_3ef.userColor=this._currentUserColor[_3ee];_3ef.start_date=_345.Activity.formatEventDateForCalendar(_3ed.StartDate,"MM/d/yy 0:00");_3ef.end_date=_345.Activity.formatEventDateForCalendar(_3ed.EndDate,"MM/d/yy 24:00");}return _3ef;},_updateUserActivityDataCollection:function(_3f0,_3f1,_3f2){if(!this._userActivityData[_3f0]){this._userActivityData[_3f0]=[];}if(!this._userActivityData[_3f0]["activities"]){this._userActivityData[_3f0]["activities"]=[];}else{if(_3f2){try{this._userActivityData[_3f0]["activities"].removeByAttr("id",_3f1.id);}catch(ex){}}}this._userActivityData[_3f0]["activities"].push(_3f1);},_onActivitiesRequestComplete:function(_3f3,_3f4){var _3f5=_3f4.scope.userId;var _3f6=_3f4.scope.me;if(_3f3!=null&&_3f3!=undefined){_3f6._schedulerEvents=[];var _3f7=null;var _3f8=null;var _3f9=_345.getClientContextByKey("userID");for(var i=0;i<_3f3.length;i++){var _3fa={};if(!_3f3[i].Timeless){if(_3f3[i]["UserActivities"]){if(_3f3[i]["UserActivities"]["$resources"]){for(var j=0;j<_3f3[i]["UserActivities"]["$resources"].length;j++){if(_3f3[i]["UserActivities"]["$resources"][j]["User"]){if(_3f5==_3f3[i]["UserActivities"]["$resources"][j]["User"]["$key"]){_3f7=_3f3[i]["UserActivities"]["$resources"][j]["User"]["$key"];_3f7=lang.trim(_3f7);_3f8=_3f3[i]["UserActivities"]["$resources"][j]["Status"];_3fa=_3f6._formatActivityObject(_3f3[i],_3f7,_3f8,_3f9);_3f6._updateUserActivityDataCollection(_3f7,_3fa);}}}}}else{if(_3f3[i]["Leader"]){_3f7=_3f3[i]["Leader"]["$key"];_3f7=lang.trim(_3f7);_3fa=_3f6._formatActivityObject(_3f3[i],_3f7,null,_3f9);_3f6._updateUserActivityDataCollection(_3f7,_3fa);_3f7=null;}}}if(!_3f6._isEmptyObject(_3fa)){_3f6._schedulerEvents.push(_3fa);}}dojo.publish("/entity/activity/loadScheduler",[dojo.clone(_3f6._schedulerEvents),_3f6]);}},_onEventsRequestComplete:function(_3fb){dojo.require("Sage.Utility");dojo.require("dojo.date.locale");if(_3fb!=null&&_3fb!=undefined){this._schedulerEvents1=[];var _3fc=null;for(var i=0;i<_3fb.length;i++){var _3fd={};if(!_3fc){_3fc=_3fb[i]["User"]["$key"];}_3fc=lang.trim(_3fc);_3fd=this._formatEventObject(_3fb[i],_3fc);if(_3fd){this._schedulerEvents1.push(_3fd);}}if(!this._userActivityData[_3fc]){this._userActivityData[_3fc]={};}this._userActivityData[_3fc]["events"]=this._schedulerEvents1;dojo.publish("/entity/activity/loadScheduler",[dojo.clone(this._schedulerEvents1),this]);}},_formatHistoryObject:function(_3fe,_3ff,_400){var _401={};var _402="";var text;_3fe=lang.trim(_3fe);if(!_3ff.Timeless){if(_3fe==lang.trim(_400)){_401.id="0:";_401.id+=_3ff.$key;}else{_401.id=_3ff.$key;}_401.id+="-"+_3fe;_401.id+="-hist";_401.type="userHistoryActivity";_401.activityId=_3ff.ActivityId;_401.subType=_3ff.Type;text=_3ff.ContactName;_401.text=(text==null)?"":text;_401.timeless=_3ff.Timeless;_401.duration=_3ff.Duration;_401.description=_3ff.Description;_401.contactName=_3ff.ContactName;_401.accountName=_3ff.AccountName;_401.leadName=_3ff.LeadName;_401.regarding=_3ff.Description;_401.priority=_3ff.Priority;_401.notes=_3ff.Notes;_401.location=_3ff.Location;_401.opportunity=_3ff.OpportunityName;_401.userColor=this._currentUserColor[_3fe];_401.confirmed=true;switch(_3ff.Type.toUpperCase()){case "ATTODO":_402=this.toDoIconUrl;break;case "ATAPPOINTMENT":_402=this.meetingIconUrl;break;case "ATPHONECALL":_402=this.phoneCallIconUrl;break;case "ATPERSONALACTIVITY":_402=this.personalActivityIconUrl;break;}_401.iconSrc=_402;_401.start_date=_345.Activity.formatActivityEndDateForCalendar(_3ff.CompletedDate,_401.duration*-1);_401.end_date=_345.Activity.formatActivityStartDateForCalendar(_3ff.CompletedDate);}return _401;},_onHistoryRequestComplete:function(_403,_404){if(_403!=null&&_403!=undefined){var _405=_404.scope.userId;var _406=_404.scope.me;var _407=[];var text;var _408=null;var _409=lang.trim(_345.getClientContextByKey("userID"));for(var i=0;i<_403.length;i++){var _40a={};_408=_403[i].UserId;_40a=_406._formatHistoryObject(_408,_403[i],_409);if(!_406._isEmptyObject(_40a)){_407.push(_40a);}}if(_408!=null){if(!_406._userActivityData[_408]){_406._userActivityData[_408]={};}_406._userActivityData[_408]["history"]=_407;dojo.publish("/entity/activity/loadScheduler",[dojo.clone(_407),_406]);}}},_getEventColorByUser:function(_40b){var _40c="#d5e2bd";for(var i=0;i<this._calendarUsers.length;i++){if(this._calendarUsers[i].userId==_40b){_40c=this._calendarUsers[i].eventColor;}}return _40c;},_isEmptyObject:function(obj){for(var i in obj){return false;}return true;}});return _34a;});},"Sage/MainView/ReportMgr/ReportsSDataDetailViewDataManager":function(){define("Sage/MainView/ReportMgr/ReportsSDataDetailViewDataManager",["Sage/Data/SDataServiceRegistry","Sage/Data/SDataStore","dojo/_base/declare","dojo/_base/lang"],function(_40d,_40e,_40f,lang){var _410=_40f("Sage.MainView.ReportMgr.ReportsSDataDetailRequestQueue",null,{select:[],resourceKind:"",fetching:false,include:[],service:null,constructor:function(_411){lang.mixin(this,_411);this.requestHash={};this.fetching=false;this.service=Sage.Data.SDataServiceRegistry.getSDataService("system");},add:function(_412,_413){var _414=this.requestHash[_412];if((_414)&&(_414.id!==_413.id)){if(!_414.duplicates){_414.duplicates=[];}var _415=false;for(var i=0;i<_414.duplicates.length;i++){if(_414.duplicates[i].context.id===_413.id){_415=true;}}if(!_415){_414.duplicates.push({id:_413.id,context:_413});}}else{this.requestHash[_412]=_413;}},send:function(_416,_417){this.fetching=true;var _418=this;var _419=new Sage.SData.Client.SDataSingleResourceRequest(this.service);_419.setResourceKind(this.resourceKind);for(var id in this.requestHash){_419.setResourceSelector("'"+id+"'");}_419.setQueryArg("include",this.include.join(","));_419.read({success:lang.hitch(_417,_416,_418),failure:lang.hitch(this,this.requestFailed,_418)});},requestFailed:function(a,b,c){console.error("Request failed %o %o %o",a,b,c);}});var _41a=_40f("Sage.MainView.ReportMgr.ReportsSDataDetailViewDataManager",null,{keyField:"$key",constructor:function(){this.queue=new _410();this.requestTimeout=false;},requestDataNoWait:function(_41b,_41c,_41d){var _41e=new _410();if(_41d.keyField){this.keyField=_41d.keyField;}_41e.select=_41d.select;_41e.resourceKind=_41d.resourceKind;_41e.serviceName=_41d.serviceName;_41e.include=_41d.include;_41e.useBatchRequest=_41d.useBatchRequest;if(_41d.expandRecurrences!==null){_41e.expandRecurrences=_41d.expandRecurrences;}_41e.add(_41b,_41c);_41e.send(this.receiveData,this);},receiveData:function(_41f,data){var _420=data;var id=_420.id;if(!id){id=_420[this.keyField];_420.id=id;}var _421=_41f.requestHash[_420.id];if(_421){try{if(!_421.applied){_421.applied=true;_421.set("entity",_420);}}catch(err){console.error(err);}}}});return _41a;});},"Sage/Utility/File/Attachment":function(){define("Sage/Utility/File/Attachment",["Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/Utility/File","Sage/UI/Dialogs","dojo/_base/lang","dojo/string","Sage/Utility","Sage/Utility/File/DescriptionsForm","dojo/i18n","dojo/i18n!./nls/Attachment"],function(_422,_423,_424,_425,_426,_427,_428,_429,i18n){Sage.namespace("Utility.File.Attachment");Sage.Utility.File.Attachment={uploadingAttachments:"Uploading attachments",uploadCompleted:"Completed",uploadingPleaseWait:"Uploading, please wait...",uploadFailed:"Upload failed.",_store:false,_totalProgress:0,_attachmentTemplate:false,_mixinsByName:{},_files:[],_fileCount:0,_filesUploadedCount:0,_isUploading:false,_descriptionsForm:false,_uploadUrl:"slxdata.ashx/slx/system/-/attachments/file",createAttachments:function(_42a){var _42b="";if(Sage.Services.hasService("ClientEntityContext")){var _42c=Sage.Services.getService("ClientEntityContext");var _42d=_42c.getContext();_42b=_42d.Description||"";}this._ensureDescriptionsForm();this._descriptionsForm.set("entityDesc",_42b);this._descriptionsForm.set("files",_42a);this._descriptionsForm.show();},createAttachmentSilent:function(file,_42e){if(!_42e.hasOwnProperty("description")){_42e["description"]=this.getDefaultDescription(file.name);}this._mixinsByName[file.name]=_426.mixin(_42e,{attachDate:_428.Convert.toIsoStringFromDate(new Date()),dataType:"R"});this._files.push(file);if(!this._attachmentTemplate){this.getAttachmentTemplate(this.uploadFiles,this);}else{this.uploadFiles();}},handleDescriptions:function(_42f,_430){var _431="";var id="";this.getKnownRelationships(function(rels){var _432=_426.mixin(rels,{attachDate:_428.Convert.toIsoStringFromDate(new Date()),dataType:"R",user:{"$key":_428.getClientContextByKey("userID")||""}});for(var i=0;i<_430.length;i++){_430[i][_431]=id;this._mixinsByName[_430[i].fileName]=_426.mixin(_430[i],_432);}for(i=0;i<_42f.length;i++){this._files.push(_42f[i]);}if(!this._attachmentTemplate){this.getAttachmentTemplate(this.uploadFiles,this);}else{this.uploadFiles();}},this);},uploadFiles:function(_433){this._isUploading=true;this._fileCount=this._files.length;if(_433&&!this._attachmentTemplate){this._attachmentTemplate=_433;}while(this._files.length>0){var file=this._files.pop();Sage.Utility.File.uploadFile(file,this._uploadUrl,this._updateProgress,this._successUpload,this._failAdd,this);}},_successUpload:function(_434){var url=_434.getResponseHeader("Location");var re=/\'\w+\'/g;var _435=url.match(re);if(_435){var id=_435[0].replace(/\'/g,"");var _436=new _422({resourceKind:"attachments",service:_423.getSDataService("system")});_436.fetch({predicate:"\""+id+"\"",onComplete:function(_437){var _438=this._mixinsByName[_437.fileName];if(_438){_437=_426.mixin(_437,_438);_436.save({scope:this,success:this._successAddEntity,failure:this._failAdd});}delete (this._mixinsByName[_437.fileName]);},beforeRequest:function(req){req.setQueryArg("_includeFile","false");},onError:this._failAdd,scope:this});}this._filesUploadedCount=this._filesUploadedCount+1;this._updateProgress((this._fileCount<1)?100:(this._filesUploadedCount/this._fileCount)*100);},_successAddEntity:function(_439){dojo.publish("/entity/attachment/create",_439);},getAttachment:function(id){if(id&&id.length===12){window.open("slxdata.ashx/slx/system/-/attachments('"+id+"')/file","file");}},getAttachmentTemplate:function(_43a,_43b){_424.Attachment._createStore();_424.Attachment._store.newItem({onComplete:_43a,scope:_43b||this});},getDefaultDescription:function(_43c){this._ensureDescriptionsForm();return this._descriptionsForm.getDefaultDescription(_43c);},_createStore:function(){if(!_424.Attachment._store){_424.Attachment._store=new _422({resourceKind:"attachments",service:_423.getSDataService("system")});}},_updateProgress:function(_43d){var self;var pct=this._totalProgress;if(_43d&&_43d.lengthComputable){var _43e=(_43d.loaded/_43d.total)*100;pct+=Math.round(_43e/this._fileCount);}else{if(_43d){pct=_43d;}}this._totalProgress=pct;if(pct<99){_425.showProgressBar({pct:pct,title:this.uploadingAttachments,message:this.uploadingPleaseWait,showmessage:true});}else{_425.showProgressBar({pct:pct,message:this.uploadCompleted,showmessage:true});self=this;window.setTimeout(function(){_425.closeProgressBar();},1000);this._resetCounts();}},_resetCounts:function(){this._fileCount=0;this._filesUploadedCount=0;this._isUploading=false;this._totalProgress=0;},_failAdd:function(resp){_425.showProgressBar({title:this.uploadingAttachments,message:this.uploadFailed,showmessage:true});},_successUpdate:function(_43f){dojo.publish("/entity/attachment/update",_43f);},_ensureDescriptionsForm:function(){if(!this._descriptionsForm){this._descriptionsForm=new _429({entityDesc:"",files:this._files||[]});dojo.connect(this._descriptionsForm,"onDescriptionsEntered",this,"handleDescriptions");}},getKnownRelationships:function(_440,_441,_442){var _443={};if(Sage.Services.hasService("ClientEntityContext")){var _444=Sage.Services.getService("ClientEntityContext");var _445=_444.getContext();var _446=_445.EntityType.split(".");var _447=_446[_446.length-1];if(_445.EntityId!==""){var id=_445.EntityId;switch(_447){case "IContact":this._getContactRelationships(id,_440,_441);return;case "IOpportunity":this._getOpportunityRelationships(id,_440,_441);return;case "ITicket":this._getTicketRelationships(id,_440,_441);return;case "ISalesOrder":this._getSalesOrderRelationships(id,_440,_441);return;case "IActivity":this._getActivityRelationships(id,_440,_441);return;case "IHistory":this._getHistoryRelationships(id,_440,_441);return;case "IContract":this._getContractRelationships(id,_440,_441);return;case "IReturn":this._getReturnRelationships(id,_440,_441);return;}var _448=_445.EntityTableName.toLowerCase()+"Id";_443[_448]=id;_440.call(_441||this,_443);return;}else{if(_447==="IActivity"&&_442){this._getInsertActivityRelationships(_440,_441);return;}else{if(_447==="IHistory"&&_442){this._getInsertHistoryRelationships(_440,_441);return;}}}}_440.call(_441||this,{});},_getRequest:function(_449,id){var req=new Sage.SData.Client.SDataSingleResourceRequest(_423.getSDataService("dynamic"));req.setResourceKind(_449);req.setResourceSelector("\""+id+"\"");req.setQueryArg("precedence","0");return req;},_getContactRelationships:function(id,_44a,_44b){var req=this._getRequest("contacts",id);req.setQueryArg("include","Account");req.read({success:function(_44c){var obj={accountId:_428.getValue(_44c,"Account.$key"),contactId:_44c.$key};_44a.call(_44b||this,obj);},failure:function(){_44a.call(_44b||this,{"contactId":id});},scope:this});},_getOpportunityRelationships:function(id,_44d,_44e){var req=this._getRequest("opportunities",id);req.setQueryArg("include","Account,Contacts");req.setQueryArg("select","Contacts/IsPrimary,Account/Id");req.read({success:function(opp){var obj={accountId:_428.getValue(opp,"Account.$key"),opportunityId:opp.$key};var _44f="";var _450=opp.Contacts.$resources;if(_450.length>0){_44f=_450[0].$key;}for(var i=0;i<_450.length;i++){if(_450[i].IsPrimary){_44f=_450[i].$key;}}obj["contactId"]=_44f;_44d.call(_44e||this,obj);},failure:function(){_44d.call(_44e||this,{"opportunityId":id});},scope:this});},_getSalesOrderRelationships:function(id,_451,_452){var req=this._getRequest("salesorders",id);req.setQueryArg("include","Account");req.read({success:function(so){var obj={accountId:_428.getValue(so,"Account.$key"),salesOrderId:so.$key};_451.call(_452||this,obj);},failure:function(){_451.call(_452||this,{"salesOrderId":id});},scope:this});},_getTicketRelationships:function(id,_453,_454){var req=this._getRequest("tickets",id);req.setQueryArg("include","Account,Contact");req.read({success:function(_455){var obj={accountId:_428.getValue(_455,"Account.$key"),ticketId:_455.$key,contactId:_428.getValue(_455,"Contact.$key")};_453.call(_454||this,obj);},failure:function(){_453.call(_454||this,{"ticketId":id});},scope:this});},_getReturnRelationships:function(id,_456,_457){var req=this._getRequest("returns",id);req.setQueryArg("include","Account,Contact,Ticket");req.read({success:function(rma){var obj={returnId:rma.$key,accountId:_428.getValue(rma,"Account.$key"),ticketId:_428.getValue(rma,"Ticket.$key"),contactId:_428.getValue(rma,"Contact.$key")};_456.call(_457||this,obj);},failure:function(){_456.call(_457||this,{returnId:id});},scope:this});},_getActivityRelationships:function(id,_458,_459){var req=this._getRequest("activities",id);req.setQueryArg("select","AccountId,ContactId,LeadId,OpportunityId,TicketId");req.read({success:function(_45a){var obj={accountId:_428.getValue(_45a,"AccountId"),activityId:_45a.$key,contactId:_428.getValue(_45a,"ContactId"),leadId:_428.getValue(_45a,"LeadId"),opportunityId:_428.getValue(_45a,"OpportunityId"),ticketId:_428.getValue(_45a,"TicketId")};_458.call(_459||this,obj);},failure:function(){_458.call(_459||this,{"activityId":id});},scope:this});},_getInsertActivityRelationships:function(_45b,_45c){var ed=dijit.byId("activityEditor");if(ed){var obj=ed.getRelationshipsForAttachments();_45b.call(_45c||this,obj);return;}_45b.call(_45c||this,{"activityId":""});},_getHistoryRelationships:function(id,_45d,_45e){var req=this._getRequest("history",id);req.setQueryArg("select","AccountId,ContactId,LeadId,OpportunityId,TicketId");req.read({success:function(_45f){var obj={accountId:_428.getValue(_45f,"AccountId"),historyId:_45f.$key,contactId:_428.getValue(_45f,"ContactId"),leadId:_428.getValue(_45f,"LeadId"),opportunityId:_428.getValue(_45f,"OpportunityId"),ticketId:_428.getValue(_45f,"TicketId")};_45d.call(_45e||this,obj);},failure:function(){_45d.call(_45e||this,{"historyId":id});},scope:this});},_getInsertHistoryRelationships:function(_460,_461){var ed=dijit.byId("historyEditor");if(ed){var obj=ed.getRelationshipsForAttachments();_460.call(_461||this,obj);return;}_460.call(_461||this,{"historyId":""});},_getContractRelationships:function(id,_462,_463){var req=this._getRequest("contracts",id);req.setQueryArg("include","Account,Contact");req.read({success:function(_464){var obj={accountId:_428.getValue(_464,"Account.$key"),contractId:_464.$key,contactId:_428.getValue(_464,"Contact.$key")};_462.call(_463||this,obj);},failure:function(){_462.call(_463||this,{"ticketId":id});},scope:this});},remoteRequestAttachment:function(_465){var _466={"$name":"RequestAttachment","request":{"entity":{"$key":_465},AttachmentId:_465}};var _467=new Sage.SData.Client.SDataServiceOperationRequest(_423.getSDataService("system")).setResourceKind("attachments").setOperationName("RequestAttachment");_467.execute(_466,{success:function(_468){dojo.publish("/entity/attachment/requested",_468);}});}};Sage.Utility.File.Attachment=dojo.mixin(Sage.Utility.File.Attachment,i18n.getLocalization("Sage.Utility.File","Attachment"));return Sage.Utility.File.Attachment;});},"Sage/QuickForms/Design/main":function(){define("Sage/QuickForms/Design/main",["Sage/QuickForms/Design/CheckBoxControlDesigner","Sage/QuickForms/Design/ColumnDesigner","Sage/QuickForms/Design/ComboBoxControlDesigner","Sage/QuickForms/Design/ControlDesigner","Sage/QuickForms/Design/ControlDesignerRegistry","Sage/QuickForms/Design/CurrencyControlDesigner","Sage/QuickForms/Design/DataGridControlDesigner","Sage/QuickForms/Design/DataSourceDesigner","Sage/QuickForms/Design/DataSourcePanel","Sage/QuickForms/Design/DateTimePickerControlDesigner","Sage/QuickForms/Design/DesignPanel","Sage/QuickForms/Design/DesignSurface","Sage/QuickForms/Design/EmailControlDesigner","Sage/QuickForms/Design/FormDesigner","Sage/QuickForms/Design/GenericControlDesigner","Sage/QuickForms/Design/Help","Sage/QuickForms/Design/HiddenControlDesigner","Sage/QuickForms/Design/NonVisibleControlContainer","Sage/QuickForms/Design/NumericControlDesigner","Sage/QuickForms/Design/OwnerControlDesigner","Sage/QuickForms/Design/PhoneControlDesigner","Sage/QuickForms/Design/PickListControlDesigner","Sage/QuickForms/Design/PropertyEditorContainer","Sage/QuickForms/Design/PropertyValueError","Sage/QuickForms/Design/RowDesigner","Sage/QuickForms/Design/TextBoxControlDesigner","Sage/QuickForms/Design/UrlControlDesigner","Sage/QuickForms/Design/UserControlDesigner","Sage/QuickForms/Design/EditableGridControlDesigner"],function(){});},"Sage/MainView/IntegrationContract/SalesQuoteRTDV":function(){require({cache:{"url:Sage/MainView/IntegrationContract/templates/SalesQuoteRTDV.html":"[\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"{%= $.id%}_salesQuoteDetailsDialog\" title=\"{%= $.dialogCaption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:hideDetailsDialog\">',\r\n        '<div dojoAttachPoint=\"loadingContainer\">',\r\n            '<br />',\r\n            '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingText %}</label>',\r\n            '<br />',\r\n            '<br />',\r\n        '</div>',\r\n        '<table cellspacing=\"5\" dojoAttachPoint=\"salesQuoteDetails\" border=\"0\" width=\"100%\" class=\"display-none\">',\n            '<div>',\r\n                '<tr>',\n\t\t\t        '<td>',\r\n\t\t\t             '<label for=\"SalesQuote_reference\">{%= $.lblSalesQuoteCaption %}</label>',\r\n\t\t\t        '</td>',\r\n                    '<td>',\r\n                        '<input type=\"text\" id=\"{%= $.id%}_reference\" name=\"reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                    '<td>',\n                        '<label for=\"SalesQuote_status\">{%= $.lblStatusCaption %}</label>',\n                    '</td>',\n                    '<td>',\n                        '<input type=\"text\" id=\"{%= $.id%}_status\" name=\"status\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                    '<td>',\n                        '<label for=\"SalesQuote_grossTotal\">{%= $.lblGrossTotalCaption %}</label>',\r\n                    '</td>',\n                    '<td>',\n                        '<input type=\"text\" id=\"{%= $.id%}_grossTotal\" name=\"grossTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                '</tr>',\r\n            '</div>',\r\n        '</table>',\r\n        '<div style=\"height:370px;width:800px\" dojoAttachPoint=\"tabContentDetails\" class=\"display-none\">',\r\n            '<div id=\"{%= $.id%}_salesQuoteContainer\" dojoAttachPoint=\"salesQuoteContainer\" dojoType=\"dijit.layout.TabContainer\" style=\"width:100%;height:100%;\">',\r\n                '<div id=\"{%= $.id%}_salesQuoteContent\" dojoAttachPoint=\"salesQuoteContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.detailsTabTitle %}\" selected=\"true\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"{%= $.id%}_divDetails\">',\r\n                        '<table cellspacing=\"5\">',\r\n                            '<col style=\"width:200px\" />',\r\n                            '<col style=\"width:200px\" />',\r\n                            '<tr>',\r\n                                '<td>',\r\n                                    '<label for=\"SalesQuote_QuoteDate\">{%= $.lblQuoteDateCaption %}</label>',\r\n                                '</td>',\r\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_QuoteDate\" name=\"date\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\r\n                                '<td>',\n                                    '<label for=\"SalesQuote_TaxTotal\">{%= $.lblTaxTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_TaxTotal\" name=\"taxTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\r\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\r\n                                    '<label for=\"SalesQuote_HoldStatus\">{%= $.lblHoldStatusCaption %}</label>',\r\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_HoldStatus\" name=\"statusFlagText\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_Currency\">{%= $.lblCurrencyCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Currency\" name=\"currency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_Type\">{%= $.lblTypeCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Type\" name=\"type\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\r\n                                    '<label for=\"SalesQuote_CostTotal\">{%= $.lblCostTotalCaption %}</label>',\r\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_CostTotal\" name=\"costTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_PONumber\">{%= $.lblPONumberCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_PONumber\" name=\"customerReference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_ProfitTotal\">{%= $.lblProfitTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_ProfitTotal\" name=\"profitTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_Quotation\">{%= $.lblQuotationCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Quotation\" name=\"quotation.reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_InvoiceStatus\">{%= $.lblInvoiceStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_InvoiceStatus\" name=\"invoiceStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_Contact\">{%= $.lblContactCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Contact\" name=\"buyerContact.fullName\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_DeliveryDate\">{%= $.lblDeliveryDateCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DeliveryDate\" name=\"deliveryDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_PriceList\">{%= $.lblPriceListCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_PriceList\" name=\"pricelist.name\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_DueDate\">{%= $.lblDueDateCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DueDate\" name=\"dueDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_NetTotal\">{%= $.lblNetTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_NetTotal\" name=\"netTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_Carrier\">{%= $.lblCarrierCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Carrier\" name=\"carrierCompany\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_DiscountTotal\">{%= $.lblDiscountTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DiscountTotal\" name=\"discountTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_AllocationStatus\">{%= $.lblAllocationStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_AllocationStatus\" name=\"allocationStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_DeliveryStatus\">{%= $.lblDeliveryStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DeliveryStatus\" name=\"deliveryStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_ChargesTotal\">{%= $.lblChargesTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_ChargesTotal\" name=\"chargesTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                        '</table>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soAddressesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.addressTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"sdgrdSalesQuoteAddresses\" dojoAttachPoint=\"sdgrdSalesQuoteAddresses\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesQuoteAddresses_Grid\" dojoAttachPoint=\"sdgrdSalesQuoteAddresses_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soSalesPersonsContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.salesPersonsTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_SalesPersons\" dojoAttachEvent=\"onShow:initSalesPersons\">',\r\n                    '<div id=\"sdgrdSalesPersons\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesPersons_Grid\" dojoAttachPoint=\"sdgrdSalesPersons_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soLinesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.salesQuoteLinesTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"sdgrdSalesQuoteLines\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesQuoteLines_Grid\" dojoAttachPoint=\"sdgrdSalesQuoteLines_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soPaymentsContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.paymentsTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Payments\" dojoAttachEvent=\"onShow:initPayments\">',\r\n                    '<div id=\"sdgrdSOPayments\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSOPayments_Grid\" dojoAttachPoint=\"sdgrdSOPayments_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soDeliveriesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.deliveriesTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Deliveries\" dojoAttachEvent=\"onShow:initDeliveries\">',\r\n                    '<div id=\"sdgrdSODeliveries\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSODeliveries_Grid\" dojoAttachPoint=\"sdgrdSODeliveries_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n            '</div>',\r\n        '</div>',\r\n        '<div class=\"button-bar alignright\">',\r\n            '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_soBtnClose\" type=\"button\" dojoAttachEvent=\"onClick:hideDetailsDialog\">{%= $.btnCloseCaption %}</button>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]"}});define("Sage/MainView/IntegrationContract/SalesQuoteRTDV",["dojo/_base/declare","dojo/i18n!./nls/SalesQuoteRTDV","dijit/_Widget","Sage/_Templated","Sage/UI/SLXPreviewGrid","Sage/Data/ProxySDataStore","Sage/UI/Dialogs","Sage/UI/Columns/DateTime","dojo/text!./templates/SalesQuoteRTDV.html","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","Sage/UI/DateTextBox","dijit/Dialog","dijit/_Widget","Sage/_Templated","dijit/Dialog"],function(_469,_46a,_46b,_46c,_46d,_46e,_46f,_470,_471,_472,lang){var _473=_469("Sage.MainView.IntegrationContract.SalesQuoteRTDV",[_46b,_46c],{workspace:"",tabId:"",grid:"",globalSyncId:"",operatingCompanyId:"",dataStore:null,salesPersonsDataStore:null,paymentsDataStore:null,deliveriesDataStore:null,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_471)),constructor:function(){dojo.mixin(this,_46a);},loadSalesQuotes:function(){var self=this;var _474={readOnly:true,rowsPerPage:20,slxContext:{workspace:this.workspace,tabId:this.tabId},columns:[{width:10,field:"$key",name:" ",sortable:false,formatter:this.salesQuotesX3DetailsViewRenderer,style:"text-align:left;",editable:false,hidden:function(){return !accountingSystemHandlesSO();}()},{width:10,field:"reference",name:this.grdSalesQuote_QuoteNumber,sortable:true,formatter:this.salesQuotesDetailsViewRenderer,style:"text-align:left;",editable:false},{width:10,field:"date",type:_470,formatType:"date",dateOnly:true,utc:false,name:this.grdSalesQuote_QuoteDate,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"status",name:this.grdSalesQuote_Status,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"statusFlagText",name:this.grdSalesQuote_HoldStatus,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"type",name:this.grdSalesQuote_Type,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"customerReference",name:this.grdSalesQuote_PO,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"netTotal",name:this.grdSalesQuote_NetTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"discountTotal",name:this.grdSalesQuote_DiscountTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"chargesTotal",name:this.grdSalesQuote_ChargesTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"taxTotal",name:this.grdSalesQuote_TaxTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"grossTotal",name:this.grdSalesQuote_GrossTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"currency",name:this.grdSalesQuote_Currency,defaultValue:"",sortable:true,style:"text-align:left;",editable:false}],storeOptions:new _46e({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),resourceKind:"tradingAccounts",getResourcePredicate:function(){return dojo.string.substitute("$uuid eq '${0}'",[self.globalSyncId]);},getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesQuotations"}]}),tools:[]};var _475=new _46d.Grid(_474,this.placeHolder);_475.startup();var _476=dijit.byId("tabContent");_476.resize();_476.resize();this.grid=_475;},salesQuotesDetailsViewRenderer:function(_477){return dojo.string.substitute("<a href=\"javascript:salesQuoteRTDV.loadDetailsView();\">${0}</a>",[_477]);},salesQuotesX3DetailsViewRenderer:function(){return dojo.string.substitute("<a href=\"javascript:salesQuoteRTDV.callX3DetailsView();\">${0}</a>",[_46a.grdSalesQuote_Edit]);},destroyFirst:function(id){var _478=dijit.byId(id);if(_478){_478.destroyRecursive();}},initSalesPersons:function(){if(this.salesPersonsDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.salesPersonsDataStore=new _46e({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _479=row["$key"];return dojo.string.substitute("'${0}'",[_479||""]);},resourceKind:"salesQuotations",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesPersons"}],includeContent:true});dojo.connect(this.salesPersonsDataStore,"onGetSingleResource",this,"loadSalesPersons");this.salesPersonsDataStore.getSingleResource();}},loadSalesPersons:function(data){this.destroyFirst("sdgrdSalesPersons");if(data&&typeof data.salesPersons==="undefined"){data.salesPersons={};data.salesPersons.$resources=new Array();}var _47a=new dojox.grid.DataGrid({id:"sdgrdSalesPersons",store:this.salesPersonsDataStore,structure:[{width:10,field:"name",name:this.grdSalesPersons_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdSalesPersons_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"extension",name:this.grdSalesPersons_Extension,defaultValue:"",sortable:true,editable:false},{width:10,field:"relationship",name:this.grdSalesPersons_Relationship,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_47a.domNode,this.sdgrdSalesPersons_Grid,"single");_47a.startup();},loadAddresses:function(data){this.destroyFirst("sdgrdSalesQuoteAddresses");if(data&&typeof data.postalAddresses==="undefined"){data.postalAddresses={};data.postalAddresses.$resources=new Array();}var _47b=new dojox.grid.DataGrid({id:"sdgrdSalesQuoteAddresses",store:this.dataStore,structure:[{width:10,field:"type",name:this.grdAddress_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"address1",name:this.grdAddress_Address1,defaultValue:"",sortable:true,editable:false},{width:10,field:"address2",name:this.grdAddress_Address2,defaultValue:"",sortable:true,editable:false},{width:10,field:"townCity",name:this.grdAddress_City,defaultValue:"",sortable:true,editable:false},{width:10,field:"stateRegion",name:this.grdAddress_State,defaultValue:"",sortable:true,editable:false},{width:10,field:"zipPostCode",name:this.grdAddress_Zip,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{},queryOptions:{singleResourceRequest:true,property:"postalAddresses"}});dojo.place(_47b.domNode,this.sdgrdSalesQuoteAddresses_Grid,"single");_47b.startup();},loadLineItems:function(data){this.destroyFirst("sdgrdSalesQuoteLines");if(data&&typeof data.salesQuotationLines==="undefined"){data.salesQuotationLines={};data.salesQuotationLines.$resources=new Array();}var _47c=new dojox.grid.DataGrid({id:"sdgrdSalesQuoteLines",store:this.dataStore,structure:[{width:10,field:"number",name:this.grdItems_Line,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdItems_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodity.name",name:this.grdItems_Commodity,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodityVariant.reference",name:this.grdItems_CommodityVariant,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodityDimension.reference",name:this.grdItems_CommodityDimension,defaultValue:"",sortable:true,editable:false},{width:10,field:"unitOfMeasure.name",name:this.grdItems_UnitOfMeasure,defaultValue:"",sortable:true,editable:false},{width:10,field:"fulfillmentLocation.name",name:this.grdItems_Location,defaultValue:"",sortable:true,editable:false},{width:10,field:"pricelist.name",name:this.grdItems_PriceList,defaultValue:"",sortable:true,editable:false},{width:10,field:"quantity",name:this.grdItems_Quantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"initialPrice",name:this.grdItems_InitialPrice,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualPrice",name:this.grdItems_ActualPrice,defaultValue:"",sortable:true,editable:false},{width:10,field:"netTotal",name:this.grdItems_NetTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"chargesTotal",name:this.grdItems_ChargesTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"discountTotal",name:this.grdItems_DiscountTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"taxTotal",name:this.grdItems_TaxTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"grossTotal",name:this.grdItems_GrossTotal,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{},queryOptions:{singleResourceRequest:true,property:"salesQuotationLines"}});dojo.place(_47c.domNode,this.sdgrdSalesQuoteLines_Grid,"single");_47c.startup();},initPayments:function(){if(this.paymentsDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.paymentsDataStore=new _46e({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _47d=row["$key"];return dojo.string.substitute("'${0}'",[_47d||""]);},resourceKind:"salesQuotations",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"receipts"}],includeContent:true});dojo.connect(this.paymentsDataStore,"onGetSingleResource",this,"loadPayments");this.paymentsDataStore.getSingleResource();}},loadPayments:function(data){this.destroyFirst("sdgrdSOPayments");if(data&&typeof data.receipts==="undefined"){data.receipts={};data.receipts.$resources=new Array();}var _47e=new dojox.grid.DataGrid({id:"sdgrdSOPayments",store:this.paymentsDataStore,structure:[{width:10,field:"date",type:_470,formatType:"date",name:this.grdPayments_Date,defaultValue:"",sortable:true,editable:false},{width:10,field:"name",name:this.grdPayments_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdPayments_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"status",name:this.grdPayments_Status,defaultValue:"",sortable:true,editable:false},{width:10,field:"netTotal",name:this.grdPayments_NetTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"discountTotal",name:this.grdPayments_Discounts,defaultValue:"",sortable:true,editable:false},{width:10,field:"chargesTotal",name:this.grdPayments_Charges,defaultValue:"",sortable:true,editable:false},{width:10,field:"taxTotal",name:this.grdPayments_Tax,defaultValue:"",sortable:true,editable:false},{width:10,field:"grossTotal",name:this.grdPayments_GrossTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"currency",name:this.grdPayments_Currency,defaultValue:"",sortable:true,editable:false},{width:10,field:"tenderType",name:this.grdPayments_TenderType,defaultValue:"",sortable:true,editable:false},{width:10,field:"tenderReference",name:this.grdPayments_TenderReference,defaultValue:"",sortable:true,editable:false},{width:10,field:"processDate",type:_470,formatType:"date",name:this.grdPayments_ProcessDate,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_47e.domNode,this.sdgrdSOPayments_Grid,"single");_47e.startup();},initDeliveries:function(){if(this.deliveriesDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.deliveriesDataStore=new _46e({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _47f=row["$key"];return dojo.string.substitute("'${0}'",[_47f]);},resourceKind:"salesQuotations",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesQuoteDeliveries"}],includeContent:true});dojo.connect(this.deliveriesDataStore,"onGetSingleResource",this,"loadDeliveries");this.deliveriesDataStore.getSingleResource();}},loadDeliveries:function(data){this.destroyFirst("sdgrdSODeliveries");if(data&&typeof data.salesQuoteDeliveries==="undefined"){data.salesQuoteDeliveries={};data.salesQuoteDeliveries.$resources=new Array();}var _480=new dojox.grid.DataGrid({id:"sdgrdSODeliveries",store:this.deliveriesDataStore,structure:[{width:10,field:"reference",name:this.grdDeliveries_Number,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdDeliveries_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"status",name:this.grdDeliveries_Status,defaultValue:"",sortable:true,editable:false},{width:10,field:"requestedDeliveryDate",type:_470,formatType:"date",name:this.grdDeliveries_RequestedDate,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualDeliveryDate",type:_470,formatType:"date",name:this.grdDeliveries_ActualDate,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualDeliveryTime",type:_470,formatType:"date",name:this.grdDeliveries_ActualTime,defaultValue:"",sortable:true,editable:false},{width:10,field:"requestedQuantity",name:this.grdDeliveries_RequestedQuantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"deliveredQuantity",name:this.grdDeliveries_DeliveredQuantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"deliveryMethod",name:this.grdDeliveries_Method,defaultValue:"",sortable:true,editable:false},{width:10,field:"carrierTradingAccount.name",name:this.grdDeliveries_Carrier,defaultValue:"",sortable:true,editable:false},{width:10,field:"carrierReference",name:this.grdDeliveries_CarrierReference,defaultValue:"",sortable:true,editable:false},{width:10,field:"dateExceptionReason",type:_470,formatType:"date",name:this.grdDeliveries_ExceptionReason,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_480.domNode,this.sdgrdSODeliveries_Grid,"single");_480.startup();},loadDetailsView:function(){dojo.removeClass(this.loadingContainer,"display-none");dojo.addClass(this.salesQuoteDetails,"display-none");dojo.addClass(this.tabContentDetails,"display-none");this._dialog.show();var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){var _481=row["$key"];this.dataStore=new _46e({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),resourceKind:"salesQuotations",getResourcePredicate:function(){return dojo.string.substitute("'${0}'",[_481]);},getAppId:function(){return self.operatingCompanyId;},include:[],select:["*,salesQuotationLines/*,postalAddresses/*,buyerContact/fullName,pricelist/name,quotation/reference,salesQuotationLines/commodity/name,salesQuotationLines/unitOfMeasure/name,salesQuotationLines/fulfillmentLocation/name,salesQuotationLines/pricelist/name,salesQuotationLines/commodityVariant/reference,salesQuotationLines/commodityDimension/reference,salesQuotationDeliveries/carrierTradingAccount/name"]});dojo.connect(this.dataStore,"onGetSingleResource",this,"buildGrids");this.dataStore.getSingleResource();}},callX3DetailsView:function(){var row=this.grid._grid.selection.getSelected()[0];if(row){var _482=row["$key"];dojo.xhrGet({url:dojo.string.substitute("slxdata.ashx/slx/crm/-/X3SalesQuote/getediterpsalesquoteurl?salesQuoteKey=${0}&operatingCompany=${1}&_dc=${2}",[_482,this.operatingCompanyId,new Date().getTime()]),cache:false,preventCache:true,handleAs:"json",load:lang.hitch(this,function(data,xhr){this.launchAccountingSystemView(data);}),error:function(_483,_484,_485){dojo.byId([self.id,"-Loading-container"].join("")).innerHTML=_46a.Error_InvalidEndpoint;}});}},loadSalesQuoteDetails:function(data){if(data&&typeof data!=="undefined"){this._dialog.set("value",data);}},buildGrids:function(data){this.loadSalesQuoteDetails(data);this.loadAddresses(data);this.loadLineItems(data);if(this.salesQuoteContainer!=null){this.salesQuoteContainer.selectChild(this.salesQuoteContent);}dojo.addClass(this.loadingContainer,"display-none");dojo.removeClass(this.salesQuoteDetails,"display-none");dojo.removeClass(this.tabContentDetails,"display-none");this._dialog.resize();},hideDetailsDialog:function(){this.destroyFirst("sdgrdSalesPersons");this.salesPersonsDataStore=null;this.destroyFirst("sdgrdSODeliveries");this.deliveriesDataStore=null;this.destroyFirst("sdgrdSOPayments");this.paymentsDataStore=null;this._dialog.hide();},destroy:function(_486,args){},launchAccountingSystemView:function(data){if(data.error!=null){_46f.showError(data.error);}else{try{window.open(data.url);}catch(err){_46f.showError(this.errorERPRequest);console.error(dojo.string.substitute(this.errorERPRequestDetails,[this.errorERPRequest,err,url]));}}},executeErpInsertView:function(){dojo.xhrGet({url:dojo.string.substitute("slxdata.ashx/slx/crm/-/X3SalesQuote/getinserterpsalesquoteurl?accountId=${0}&operatingCompany=${1}&_dc=${2}",[Sage.Utility.getCurrentEntityId(),this.operatingCompanyId,new Date().getTime()]),cache:false,preventCache:true,handleAs:"json",load:lang.hitch(this,function(data,xhr){this.launchAccountingSystemView(data);}),error:function(_487,_488,_489){dojo.byId([self.id,"-Loading-container"].join("")).innerHTML=_46a.errorERPRequest;}});}});return _473;});},"Sage/QuickForms/Design/Editors/NumericAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/NumericAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/NumericAdvancedPropertyEditor"],function(_48a,lang,_48b,_48c,_48d,_48e,_48f,_490,_491,_492,_493){return _48a("Sage.QuickForms.Design.Editors.NumericAdvancedPropertyEditor",[_48b,_491,_490],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlLabelPlacementTooltipText %}\">","<label>{%= $.controlLabelPlacementText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_controlLabelPlacement\" data-dojo-attach-event=\"onChange:_onControlLabelPlacementChange\">","{% for (var placement in $.labelPlacementText) { %}","<span value=\"{%= placement %}\">{%= $.labelPlacementText[placement] %}</span>","{% } %}","</div>","</div>","<div class=\"editor-field\" title=\"{%= $.formatTypeTooltipText %}\">","<label>{%= $.formatTypeText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_formatType\" data-dojo-attach-event=\"onChange:_onFormatTypeChange\">","{% for (var format in $.numberFormatText) { %}","<span value=\"{%= format %}\">{%= $.numberFormatText[format] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.enabledTooltipText %}\">","<label>{%= $.enabledText %}</label>","<div data-dojo-attach-point=\"_enabled\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onEnabledChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.maxLengthTooltipText %}\">","<label>{%= $.maxLengthText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_maxLength\" data-dojo-attach-event=\"onChange:_onMaxLengthChange\" data-dojo-props=\"constraints:{min:-1,places:0}\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.requiredTooltipText %}\">","<label>{%= $.requiredText %}</label>","<div data-dojo-attach-point=\"_required\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onRequiredChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.decimalDigitsTooltipText %}\">","<label>{%= $.decimalDigitsText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_decimalDigits\" data-dojo-props=\"constraints:{min:-1,max:100,places:0}\" data-dojo-attach-event=\"onChange:_onDecimalDigitsChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.strictTooltipText %}\">","<label>{%= $.strictText %}</label>","<div data-dojo-attach-point=\"_strict\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onStrictChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.defaultDataBindingTooltipText %}\">","<label>{%= $.defaultDataBindingText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_defaultDataBinding\" data-dojo-attach-event=\"onChange:_onDefaultDataBindingChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_controlType:null,_controlId:null,_enabled:null,_controlLabelPlacement:null,_isReadOnly:null,_defaultDataBinding:null,_formatType:null,_maxLength:null,_required:null,_strict:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",decimalDigitsText:"Decimal Digits:",decimalDigitsTooltipText:"The number of digits after the decimal to display and allow for data entry.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",formatTypeText:"Format Type:",formatTypeTooltipText:"Type of format to use when converting number to string.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",strictText:"Strict:",strictTooltipText:"Pads display of number with trailing zeros as necessary.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",numberFormatText:{"Number":"Number","Percent":"Percent","Decimal":"Decimal","Scientific":"Scientific"},labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},constructor:function(){lang.mixin(this,_493);},setup:function(){this.inherited(arguments);this._controlId.set("value",this._designer.get("controlId"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._controlType.set("value",this._designer.get("controlName"));this._decimalDigits.set("value",this._designer.get("decimalDigits"));this._enabled.set("value",this._designer.get("enabled"));this._formatType.set("value",this._designer.get("formatType"));this._maxLength.set("value",this._designer.get("maxLength"));this._required.set("value",this._designer.get("required"));this._strict.set("value",this._designer.get("strict"));this._visible.set("value",this._designer.get("visible"));var _494=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_494&&_494["DataItemName"])||"");},_onControlTypeChange:function(_495){},_onControlIdChange:function(_496){},_onDefaultDataBindingChange:function(_497){},_onEnabledChange:function(_498){if(this.isSuspended()){return;}this._designer.set("enabled",_498);},_onDecimalDigitsChange:function(_499){if(this.isSuspended()||!this._decimalDigits.isValid()){return;}this._designer.set("decimalDigits",_499);},_onFormatTypeChange:function(_49a){if(this.isSuspended()){return;}this._designer.set("formatType",_49a);},_onControlLabelPlacementChange:function(_49b){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",_49b);},_onMaxLengthChange:function(_49c){if(this.isSuspended()||!this._maxLength.isValid()){return;}this._designer.set("maxLength",_49c);},_onRequiredChange:function(_49d){if(this.isSuspended()){return;}this._designer.set("required",_49d);},_onStrictChange:function(_49e){if(this.isSuspended()){return;}this._designer.set("strict",_49e);},_onVisibleChange:function(_49f){if(this.isSuspended()){return;}this._designer.set("visible",_49f);}});});},"Sage/QuickForms/Design/nls/NumericControlDesigner":function(){define("Sage/QuickForms/Design/nls/NumericControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_4a0,lang){var nls={root:{displayNameText:"Numeric"}};return lang.mixin(_4a0,nls);});},"Sage/QuickForms/Design/Editors/nls/_PropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/_PropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_4a1,lang){var nls={root:{titleText:"Properties"}};return lang.mixin(_4a1,nls);});},"url:Sage/UI/Columns/templates/DndCell.html":"<div>\r\n    <div data-dojo-type=\"dojo.dnd.Source\" dojoAttachPoint=\"sourceNode\" copyOnly=\"true\" accept=\"\">\r\n        <div class=\"dojoDndItem\" dojoAttachPoint=\"dndItem\"></div>\r\n    </div>\r\n</div>\r\n","Sage/Services/nls/ActivityActionProcessor":function(){define("Sage/Services/nls/ActivityActionProcessor",["Sage/LanguageList","dojo/_base/lang"],function(_4a2,lang){var nls={root:{btnOkayText:"OK",btnCancelText:"Cancel",btnCloseText:"Close",btnHelpText:"Help",processingText:"Processing request please wait...",failureText:"I'm sorry, the action was not successful an error occurred.",titleText:"Process"}};return lang.mixin(_4a2,nls);});},"Sage/UI/Controls/SummaryAggregate":function(){define("Sage/UI/Controls/SummaryAggregate",["dijit/_Widget","Sage/_Templated","dijit/Tooltip","Sage/UI/GridMenuItem","Sage/Data/BaseSDataStore","Sage/UI/Columns/SlxLink","Sage/UI/Columns/Phone","dojo/i18n!../nls/SDataLookup","dojo/_base/declare"],function(_4a3,_4a4,_4a5,_4a6,_4a7,_4a8,_4a9,_4aa,_4ab){var _4ac=_4ab("Sage.UI.Controls.SummaryAggregate",[_4a3,_4a4],{loadingText:_4aa.loadingText,noDataText:_4aa.noDataText,widgetsInTemplate:true,value:"",content:"",valueNode:null,linkTabName:"",entityId:"",linkPage:"",toolTip:false,_button:null,_menu:null,store:false,grid:false,popupStructure:null,resourceKind:"",select:null,where:"",widgetTemplate:new Simplate(["<span>","<button data-dojo-type=\"dijit.form.ComboButton\" data-dojo-attach-point=\"_button\" data-dojo-attach-event=\"onClick:_click\" >","<div data-dojo-type=\"dijit.Menu\" data-dojo-attach-point=\"_menu\">","</div>","</button>","</span>"]),constructor:function(){this.select=[];this.popupStructure=[];this.inherited(arguments);},_click:function(){if(!this.linkPage){this._findlinkPage();}var url=this.linkPage+"?entityid="+this.entityId||"";if(this.linkTabName){url=url+"&activetab="+this.linkTabName;}document.location=url;},_setValueAttr:function(_4ad){this.value=_4ad;this._button.set("label",_4ad);},startup:function(){this.inherited(arguments);if(!this.store){if(this.select.length===0){this.select.push("id");for(var i=0;i<this.popupStructure.length;i++){this.select.push(this.popupStructure[i]["field"]);}}this.store=new _4a7({service:Sage.Data.SDataServiceRegistry.getSDataService("dynamic"),resourceKind:this.resourceKind,select:this.select});}if(!this.grid){this.grid=new _4a6({gridOptions:{store:this.store,rowsPerPage:40,structure:this.popupStructure,loadingMessage:this.loadingText,noDataMessage:this.noDataText,selectionMode:"single",query:this.where.replace(/~magicquote~/g,"'"),height:"250px",width:"300px"}});this._menu.addChild(this.grid);this._menu.set("style",{width:"350px"});this.grid.startup();}},_findlinkPage:function(){if(!this.linkPage){var url=document.location.href;if(url.indexOf("?")>-1){this.linkPage=url.substring(0,url.indexOf("?"));}}},destroy:function(){this.inherited(arguments);if(this.grid){this.grid.destroy();}}});Sage.UI.Controls.SummaryAggregate.markupFactory=function(_4ae,node,ctor){var _4af=function(n){var w=d.attr(n,"width")||"auto";if((w!="auto")&&(w.slice(-2)!="em")&&(w.slice(-1)!="%")){w=parseInt(w,10)+"px";}return w;};if(!_4ae.popupStructure){var d=dojo;var _4b0=[];var _4b1=window.isMultiCurrencyEnabled();d.query("> span",node).forEach(function(span,_4b2){var cell={name:d.trim(d.attr(span,"name")||span.innerHTML),type:d.attr(span,"cellType")||false,field:d.trim(d.attr(span,"field")||""),id:d.trim(d.attr(span,"id")||""),idField:d.trim(d.attr(span,"idField")||""),queryParams:d.trim(d.attr(span,"queryParams")||""),pageName:d.trim(d.attr(span,"pageName")||""),image:d.trim(d.attr(span,"icon")||""),multiCurrency:_4b1,exchangeRateType:d.trim(d.attr(span,"exchangeRateType")||"")};if(d.hasAttr(span,"width")){cell["width"]=_4af(span);}cell.type=cell.type?dojo.getObject(cell.type):dojox.grid.cells.Cell;if(cell.type&&cell.type.markupFactory){cell.type.markupFactory(span,cell);}if(cell.name==="&nbsp;"||cell.name===""){cell.name=cell.field;}_4b0.push(cell);});_4ae.popupStructure=_4b0;}return new ctor(_4ae,node);};return _4ac;});},"Sage/QuickForms/Design/Editors/nls/TextBoxBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/TextBoxBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_4b3,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",linesText:"Lines:",linesTooltipText:"Number of lines of text displayed.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_4b3,nls);});},"Sage/MainView/ActivityMgr/nls/QuickCompleteEditor":function(){define("Sage/MainView/ActivityMgr/nls/QuickCompleteEditor",["Sage/LanguageList","dojo/_base/lang"],function(_4b4,lang){var nls={root:{lblResultText:"Result:",lblNoteText:"Note (append to all items):",btnCompleteIndividuallyText:"Individually",btnAsScheduledText:"As Scheduled",btnCompleteNowText:"Now",btnCancelText:"Cancel",btnCloseText:"Close",btnHelpText:"Help",resultCompletedText:"Complete",titleText:"Quick Complete",actionMessage:"Only activities that you have permission to complete will be completed.",completeMessage:"Complete all {0} selected activities:",processingMessage:"Processing all {0} selected activities please wait..."}};return lang.mixin(_4b4,nls);});},"Sage/MainView/ActivityMgr/templates/nls/UserActivityDetailSummary":function(){define("Sage/MainView/ActivityMgr/templates/nls/UserActivityDetailSummary",["Sage/LanguageList","dojo/_base/lang"],function(_4b5,lang){var nls={root:{txtPhone_Caption:"Phone:",lnkOpportunityName_Caption:"Opportunity:",txtStartTime_Caption:"Start Time:",lnkContactName_Caption:"Contact:",lnkLeadName_Caption:"Lead:",lnkTicketNumber_Caption:"Ticket:",txtLocation_Caption:"Location:",txtLeader_Caption:"Leader:",txtDuration_Caption:"Duration:",lnkAccountName_Caption:"Account:",lnkCompanyName_Caption:"Company:",txtNotes_Caption:"Notes:",btnComplete_Caption:"Complete",txtAttendeeCount_Caption:"Participant Count:"}};return lang.mixin(_4b5,nls);});},"Sage/Utility/Groups":function(){define("Sage/Utility/Groups",["Sage/Groups/GroupLookup","Sage/UI/Columns/Boolean","Sage/UI/Columns/DateTime","Sage/UI/Columns/Numeric","Sage/UI/Columns/OwnerType","Sage/UI/Columns/Phone","Sage/UI/Columns/UserType","Sage/UI/Columns/Currency","Sage/UI/Columns/SlxLink","dojo/_base/array"],function(_4b6,_4b7,_4b8,_4b9,_4ba,_4bb,_4bc,_4bd,_4be,_4bf){Sage.namespace("Utility.Groups");dojo.mixin(Sage.Utility.Groups,{showMainLookupFor:function(_4c0,page){var _4c1=Sage.Services.getService("GroupLookupManager");if(_4c1){if(typeof _4c0==="undefined"){_4c1.showLookup();}else{_4c1.showLookup({family:_4c0,returnTo:page||false});}}},getGridStructure:function(_4c2,_4c3){var _4c4={};var _4c5=[];var _4c6=[];var _4c7=Sage.Services.getService("ClientGroupContext"),_4c8;if(_4c7){_4c8=_4c7.getContext();}if(_4c2.length>0){_4bf.forEach(_4c2,function(item,i){_4c6.push(item["alias"]);if(item["visible"]){if(item["webLink"]&&!_4c3){var _4c9=item["dataPath"],_4ca=_4c9.lastIndexOf("!")>-1?_4c9.substring(0,_4c9.lastIndexOf("!")).substring(_4c9.lastIndexOf(".")+1):_4c9.substring(0,_4c9.lastIndexOf(":")),_4cb=_4ca+"ID";if(item["alias"]==="ACCOUNT"||item["alias"].match(/A\d+_ACCOUNT/ig)){_4ca="ACCOUNT";_4cb="ACCOUNTID";}if((_4c8)&&(_4ca===_4c8.CurrentTable)){_4ca=_4c8.CurrentEntity;_4cb=_4c8.CurrentTableKeyField;}_4c6.push(_4cb);_4c5.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_4be,pageName:_4ca,idField:_4cb,width:item["width"]+"px"});}else{if(item["alias"].match(/^email$/i)){item["format"]="Email";}if(item["fieldType"]==="DateTime"){item["format"]="DateTime";}switch(item["format"]){case "Owner":var _4cc=item["alias"]+"NAME";_4c6.push(_4cc);_4c5.push({field:_4cc,styles:"text-align: "+item["align"]+";",name:item["caption"],width:item["width"]+"px"});break;case "User":var _4cd=item["alias"]+"NAME";_4c6.push(_4cd);_4c5.push({field:_4cd,styles:"text-align: "+item["align"]+";",name:item["caption"],width:item["width"]+"px"});break;case "DateTime":_4c5.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_4b8,styles:"text-align: "+item["align"]+";",datePattern:item["formatString"],width:item["width"]+"px"});break;case "Percent":_4c5.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_4b9,styles:"text-align: "+item["align"]+";",constraints:{places:Sage.Utility.getPrecision(item["formatString"]),round:-1},fercent:true,formatType:"Percent",width:item["width"]+"px",isWholeNumberPercent:false});break;case "Currency":_4c5.push({field:item["alias"],property:item["caption"],name:item["caption"],type:_4bd,styles:"text-align: "+item["align"]+";",width:item["width"]+"px"});break;case "Fixed":_4c5.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_4b9,styles:"text-align: "+item["align"]+";",constraints:{places:Sage.Utility.getPrecision(item["formatString"]),round:-1},fercent:true,formatType:item["formatString"][item["formatString"].length-1]==="%"?"Percent":"Number",width:item["width"]+"px",isWholeNumberPercent:item["format"]==="Percent"?false:true});break;case "Boolean":_4c5.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_4b7,styles:"text-align: "+item["align"]+";",formatString:item["formatString"],width:item["width"]+"px"});break;case "Email":_4c5.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],styles:"text-align: "+item["align"]+";",formatter:function(val){if(!val){return "";}return dojo.string.substitute("<a href=mailto:${0}>${0}</a>",[Sage.Utility.htmlEncode(val)]);},width:item["width"]+"px"});break;case "OwnerType":_4c5.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_4ba,styles:"text-align: "+item["align"]+";",width:item["width"]+"px"});break;case "Phone":_4c5.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_4bb,styles:"text-align: "+item["align"]+";",width:item["width"]+"px"});break;case "PickList Item":var _4ce=item["alias"]+"TEXT";_4c6.push(_4ce);_4c5.push({field:_4ce,styles:"text-align: "+item["align"]+";",property:item["propertyPath"],name:item["caption"],width:item["width"]+"px"});break;case "User Type":_4c5.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_4bc,styles:"text-align: "+item["align"]+";",width:item["width"]+"px"});break;default:_4c5.push({field:item["alias"],name:item["caption"],width:item["width"]+"px"});break;}}}});}_4c5.push({field:this.keyAlias,hidden:true,width:"0px",name:""});_4c4["structure"]=_4c5;_4c4["select"]=_4c6;return _4c4;}});return Sage.Utility.Groups;});},"Sage/UI/Filters/CheckBoxFilter":function(){define("Sage/UI/Filters/CheckBoxFilter",["dijit/_Widget","dijit/_Contained","dojo/NodeList-traverse","Sage/_Templated","Sage/Services/_ServiceMixin","Sage/_ActionMixin","dojo/string","dojo/on","dojo/_base/lang","dojo/dom-construct","./EditFilterItems","dojo/_base/array","dojo/query","dojo/dom-attr","dojo/i18n!./nls/CheckBoxFilter","Sage/Utility","Sage/Utility/Filters","dojo/json","dijit/registry","dojo/_base/declare","dojo/_base/Deferred","dojo/dom-class","dojo/_base/connect"],function(_4cf,_4d0,_4d1,_4d2,_4d3,_4d4,_4d5,on,lang,_4d6,_4d7,_4d8,_4d9,_4da,nls,_4db,_4dc,json,_4dd,_4de,_4df,_4e0,_4e1){var _4e2=_4de("Sage.UI.Filters.CheckBoxFilter",[_4cf,_4d0,_4d3,_4d4,_4d2],{attributeMap:{"content":{node:"listNode",type:"innerHTML"}},serviceMap:{"groupContextService":"ClientGroupContext","systemDataService":{type:"sdata",name:"system"}},actionsFrom:"click",widgetsInTemplate:false,widgetTemplate:new Simplate(["<div class=\"filter-type-checkbox filter-collapsed\">","<h3 data-action=\"toggleExpand\" data-dojo-attach-point=\"filterNameNode\">{%: $.filter.displayName || $.filter.filterName %}","</h3>","<ul class=\"filter-loading-indicator\"><li><span>{%: $.loadingText %}</span></li></ul>","<a href=\"#\" class=\"filter-clear\" data-dojo-attach-point=\"clearLinkNode\">{%: $.clearText %}</a>","<span class=\"filter-sep\" data-dojo-attach-point=\"linkSep\"> | </span>","<a href=\"#\" class=\"filter-edit-items\" data-dojo-attach-point=\"moreLinkNode\">{%: $.moreText %}</a>","<ul class=\"filter-list\" data-dojo-attach-point=\"listNode\"></ul>","</div>"]),itemTemplate:new Simplate(["<li data-action=\"toggleSelect\" class=\"{%= $.selected ? \"filter-selected\" : \"\" %}\" data-name=\"{%= $.name %}\" data-selected=\"{%= !!$.selected %}\" ","role=\"checkbox\" aria-checked=\"{%= !!$.selected %}\">","<div>","<span class=\"p-selection\">&nbsp;</span>","<span class=\"p-label\">{%: $$._formatLabelText($.$descriptor, $.name) %}</span>","{% if ($.value > -1) { %}","&nbsp;<span class=\"p-spacer\">(</span>","<span class=\"p-count\">{%: $.value %}</span>","<span class=\"p-spacer\"> {%: $.ofText %} </span>","<span class=\"p-total\">{%: $.value %}</span>","<span class=\"p-spacer\">)</span>","{% } %}","</div>","</li>"]),_activeFilterCount:0,_loaded:false,_selected:null,_ranges:null,_filterGroup:null,_filterSubscriptions:null,appliedValues:null,parent:null,_originalActiveFilter:"",loadingText:"Loading...",moreText:"Add/Remove Items",clearText:"Clear",emptyText:"(empty)",nullText:"(null)",ofText:"of",nullName:"SLX_NULL",emptyName:"SLX_EMPTY",filterGroup:"default",filter:null,store:null,editFilterItems:null,editFilterItemsHandle:null,output:null,entries:[],expanded:false,FILTER_UPDATE_DELAY:1000,lazyUpdateCounts:null,count:1000,loading:true,groupId:"",constructor:function(){this.inherited(arguments);this.output=[];this.entries=[];lang.mixin(this,nls);},postMixInProperties:function(){this.inherited(arguments);this._selected={};var _4e3=this._isRangeFilter();if(_4e3){this.store.request.setQueryArg("orderby","");this.compileRanges(_4e3.ranges);}if(this.expanded){this.expanded=false;setTimeout(lang.hitch(this,this._toggleExpand),500);}else{if(this.appliedValues){setTimeout(lang.hitch(this,this._loadItems),500);}else{this.resolveDeferred();}}if(this.store&&this.store.request&&this.store.request.getQueryArg){this._originalActiveFilter=this.store.request.getQueryArg("_activeFilter");}},postCreate:function(){this.inherited(arguments);var _4e4=false;if(this.configurationProvider.getFilterFormatter){var _4e5=this.configurationProvider.getFilterFormatter(this.filter);if(_4e5){_4e4=true;}}if(!this._isDistinctFilter()||_4e4){_4d6.destroy(this.moreLinkNode);_4d6.destroy(this.linkSep);}else{this.editFilterItemsHandle=on(this.moreLinkNode,"click",lang.hitch(this,this._moreLinkClicked));}on(this.clearLinkNode,"click",lang.hitch(this,this._clearLinkClicked));var id=this.filter.$key+"_editFilterItems",_4e6=_4dd.byId(id);this.editFilterItems=_4e6||new _4d7({id:id,store:this.store,filter:this.filter,filterPanel:this.parent,parent:this});},_clearLinkClicked:function(){var q=_4d9("li.filter-selected",this.listNode),evt;_4d8.forEach(q,function(node){if(node.click){node.click();}else{evt=document.createEvent("MouseEvents");evt.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null);node.dispatchEvent(evt);}});},_moreLinkClicked:function(e){if(this._originalActiveFilter){this.editFilterItems.baseFilter=this._originalActiveFilter;}this.editFilterItems.showDialog();e.cancelBubble=true;},uninitialize:function(){this.inherited(arguments);if(this.editFilterItems){this.editFilterItems.destroy(false);}if(this.editFilterItemsHandle){this.editFilterItemsHandle.remove();}},_setFilterGroupAttr:function(_4e7){if(this._filterSubscriptions){_4d8.forEach(this._filterSubscriptions,function(_4e8){this.unsubscribe(_4e8);},this);}this._filterGroup=_4e7;this._filterSubscriptions=[];this._filterSubscriptions.push(this.subscribe(_4d5.substitute("/ui/filters/${0}/change",[this._filterGroup]),this._onChange),this.subscribe(_4d5.substitute("/ui/filters/${0}/clear",[this._filterGroup]),this._onClear),this.subscribe(_4d5.substitute("/ui/filters/${0}/refresh",[this._filterGroup]),lang.hitch(this,this._onRefresh)));},_onRefresh:function(_4e9,_4ea,_4eb){this.appliedValues=_4e9;this.updateCounts();},_updateActiveFilters:function(){var _4ec=this._getFilterManager(),_4ed=[],q=false;if(_4ec){q=_4ec.createQuery();}if(!this.expanded){return;}if(q===false){q="";}else{_4ed.push(q);}if(this._originalActiveFilter){_4ed.push(this._originalActiveFilter);}if(_4ed.length>1){q=_4ed.join(" AND ");}else{q=_4ed.join("");}this.store.request.setQueryArg("_activeFilter",q);},refresh:function(){if(this._loaded){_4d8.forEach(_4d9("*",this.listNode),function(item){_4d6.destroy(item);});this.requestData();}},_onChange:function(_4ee,name,_4ef,_4f0){name=this._transformFilterItemName(name);if(_4f0!==this&&_4ee.$key===this.filter.$key){_4d9(_4d5.substitute("> [data-name=\"${0}\"]",[name]),this.listNode).forEach(function(el){_4da.set(el,"data-selected",(!!_4ef).toString());_4e0.toggle(el,"filter-selected",!!_4ef);});}},_onClear:function(_4f1,_4f2){if(_4f2!==this&&(!_4f1||_4f1.$key===this.filter.$key)){_4d9("> [data-selected=\"true\"]",this.listNode).forEach(function(el){_4da.set(el,"data-selected","false");_4e0.toggle(el,"filter-selected",false);});}},_getFilterGroupAttr:function(){return this._filterGroup;},_formatLabelText:function(_4f3,name){if(name===this.nullName){return this.nullText;}else{if(name===this.emptyName){return this.emptyText;}}if(this.configurationProvider){if(this.configurationProvider.getFilterFormatter){var _4f4=this.configurationProvider.getFilterFormatter(this.filter);if(_4f4){return _4f4(_4f3);}}}return _4f3;},_isDistinctFilter:function(){return this.filter&&this.filter.details&&this.filter.details.distinctFilter;},_isRangeFilter:function(){return this.filter&&this.filter.details&&this.filter.details.rangeFilter;},compileRanges:function(_4f5){var i=0;this._ranges={};for(i=0;i<_4f5.length;i++){this._ranges[this._transformFilterItemName(_4f5[i].rangeName)]=_4f5[i];}},_saveExpandState:function(){var data=this.parent._configuration._hiddenFilters||{},key=this.parent._configuration._hiddenFiltersKey,_4f6=Sage.Services.getService("ClientGroupContext"),_4f7=_4f6&&_4f6.getContext(),prop=_4f7.CurrentEntity+"_"+this.filter.filterName;if(!data[prop]){data[prop]={expanded:false,hidden:false};}data[prop].expanded=this.expanded;_4dc.setHiddenFilters(key,json.stringify(data));},toggleExpand:function(_4f8,evt,el){this._toggleExpand();this._saveExpandState();},_toggleExpand:function(){this.expanded=!this.expanded;if(this.domNode){_4e0.toggle(this.domNode,"filter-collapsed");}this._loadItems();},_loadItems:function(){if(!this._loaded){this._loaded=true;this.requestData();}else{this.updateCounts();}},toggleSelect:function(_4f9,evt,el){var _4fa=/^true$/i.test(_4f9.selected),name=_4f9.name,_4fb=!_4fa&&(this._isRangeFilter()?this._ranges[name]:name);this.onSelectionChange(this.filter,name,_4fb,this);_4da.set(el,"data-selected",(!_4fa).toString());_4da.set(el,"aria-checked",(!_4fa).toString());_4e0.toggle(el,"filter-selected",!_4fa);},onSelectionChange:function(_4fc,name,_4fd,_4fe){_4e1.publish(_4d5.substitute("/ui/filters/${0}/change",[this._filterGroup]),[_4fc,name,_4fd,_4fe]);},updateCounts:function(){if(!this.lazyUpdateCounts){this.lazyUpdateCounts=_4db.debounce(lang.hitch(this,function(){if(this.expanded){_4d9("li[data-name] div span.p-count",this.listNode).forEach(function(node){node.innerHTML="0";});this._updateActiveFilters();this._doUpdateCounts();}}),this.FILTER_UPDATE_DELAY);}this.lazyUpdateCounts();},_doUpdateCounts:function(){this.store.fetch({onComplete:lang.hitch(this,this._updateCountsInPlace),count:this.count});},requestData:function(){if(this.loading){if(this.domNode){_4e0.add(this.domNode,"filter-loading");this.set("content","");}}this.store.fetch({onError:lang.hitch(this,this._onFetchError),onComplete:lang.hitch(this,this._onFetchComplete),count:this.count});},_onFetchComplete:function(_4ff,_500){this._processFetchResult(_4ff,_500);this.resolveDeferred();},_onFetchError:function(_501,_502){if(this.domNode){_4e0.remove(this.domNode,"filter-loading");}this.resolveDeferred();},isFilterItemHidden:function(_503){var data=this.parent._configuration._hiddenFilters||{},_504=Sage.Services.getService("ClientGroupContext"),_505=_504&&_504.getContext(),prop=_505.CurrentEntity+"_"+this.filter.filterName,_506=false;if(data[prop]){_506=_4d8.some(data[prop].items,function(item){return item===_503;});}return _506;},_updateCountsInPlace:function(_507,_508){var i=0,_509=null,len=_507.length;for(i=0;i<len;i++){_509=_507[i];_509.name=this._transformFilterItemName(_509.name);_4d9("li[data-name=\""+_509.name+"\"]",this.listNode).forEach(function(node){_4d9("div span.p-count",node).forEach(function(span){span.innerHTML=_509.value;});});}this._finishedLoading();},_processFetchResult:function(_50a,_50b){var i=0,_50c=null,_50d=false,len=_50a.length,_50e=false;for(i=0;i<len;i++){_50c=_50a[i];_50c.name=this._transformFilterItemName(_50c.name);_50d=this.isFilterItemHidden(_50c.name);if(_50d===false||this._isRangeFilter()){_50e=this.appliedValues&&this.appliedValues[this.filter.$key]&&!!this.appliedValues[this.filter.$key][_50c.name];_50c.selected=_50e||(this.appliedValues&&!!this.appliedValues[_50c.name]);_50c.ofText=this.ofText;this.output.push(this.itemTemplate.apply(_50c,this));this.entries.push(_50c);}}this._fixMissingItems();if(this.domNode){this.set("content",this.output.join(""));}this._clearOutputEntries();this.updateCounts();},_transformFilterItemName:function(name){var _50f=name;if(name===null){_50f=this.nullName;}else{if(name===""){_50f=this.emptyName;}}return _50f.trim();},_fixMissingItems:function(){var _510,prop,val,_511=true;for(prop in this.appliedValues){if(this.appliedValues.hasOwnProperty(prop)){val=this.appliedValues[prop];_511=_4d8.some(this.entries,function(_512){return _512.name===prop;});if(!_511){_510={name:"",$descriptor:"",selected:true,value:0};_510.name=prop;_510.$descriptor=val;_510.ofText=this.ofText;if(typeof _510.$descriptor==="string"){this.output.push(this.itemTemplate.apply(_510,this));this.entries.push(_510);}}}}},_clearOutputEntries:function(){this.output=[];this.entries=[];},_finishedLoading:function(){this.loading=false;this.store.request.setQueryArg("_activeFilter",this._originalActiveFilter||"");if(this.domNode){_4e0.remove(this.domNode,"filter-loading");}},_getFilterManager:function(){var _513=this.parent.filterManager;if(!_513){if(this.parent._configuration.getFilterManager){_513=this.parent._configuration.getFilterManager();}}var _514=Sage.Services.getService("ClientGroupContext");var _515=_514&&_514.getContext();if(this.groupId!=_515.CurrentGroupID){_513=null;}return _513;},resolveDeferred:function(){if(this.deferred){this.deferred=this.deferred.resolve();}}});return _4e2;});},"Sage/UI/ToolBarLabel":function(){define("Sage/UI/ToolBarLabel",["dijit/_Widget","dijit/_TemplatedMixin","dojo/_base/declare"],function(_516,_517,_518){var _519=_518("Sage.UI.ToolBarLabel",[_516,_517],{label:"label",region:"leading",templateString:"<span class=\"dijitToolbarLabel\"><span class=\"dijitReset dijitInline \" dojoAttachPoint=\"containerNode\"></span></span>",attributeMap:{label:{node:"containerNode",type:"innerHTML"}},_append:function(val){this.containerNode.innerHTML+=val;},_setLabelAttr:function(_51a){this.containerNode.innerHTML=this.label=_51a;}});return _519;});},"Sage/UI/Controls/DateTimePicker":function(){require({cache:{"url:Sage/UI/Controls/templates/DateTimePicker.html":"<div class=\"dateTimePicker\">\r\n        <div dojoAttachPoint=\"tooltipContainer\">\r\n        \r\n            <div dojoAttachPoint=\"dateContainer\" class=\"dateTimePicker-dateContainer\">\r\n               \r\n                    <input id=\"${id}-Calendar\" data-dojo-type=\"Sage.UI.Calendar\"\r\n                        style=\"width:inherit;\"\r\n                        textAlign=\"${textAlign}\"\r\n                           type=\"text\" \r\n                           tabindex=\"0\"\r\n                           displayMode=\"popup\"\r\n                           dojoAttachPoint=\"dateNode\"\r\n                           dojoAttachEvent=\"onValueSelected:_onValueSelected,onBlur:_onCalendarBlur\">\r\n               \r\n            </div>\r\n            \r\n            <div dojoAttachPoint=\"timeZoneContainer\" class=\"dateTimePicker-timeZoneContainer\">\r\n               \r\n                    <label for=\"${id}-TimeStart\">${timeStartText}</label><br />\r\n                    <input id=\"${id}-TimeTextBox\" data-dojo-type=\"dijit.form.TimeTextBox\" \r\n                           style=\"width:16em;\"\r\n                           textAlign=\"${textAlign}\"\r\n                           tabindex=\"0\"\r\n                           type=\"text\" dojoAttachPoint=\"timeNode\">\r\n                    <br /><br/>\r\n                    <label for=\"${id}-TzCalculator\">${timeZoneCalculatorText}</label>\r\n                    <div id=\"timeZoneCalucaltor\" class=\"dateTimePicker-timeZoneCalculator\">\r\n                       <p style=\"width:auto;margin-top:auto\">\r\n                            <label for=\"${id}-TzSelectSource\">${timeZoneSourceText}</label><br />\r\n                            <select id=\"${id}-TzSelectSource\" data-dojo-type=\"dijit.form.ComboBox\"  dojoAttachPoint=\"timeZoneSourceComboNode\" style=\"width:15em;\">\r\n                            </select>\r\n                            <br />\r\n                            <label for=\"${id}-TzSelectDest\">${timeZoneDestText}</label><br />\r\n                           <select id=\"${id}-TzSelectDest\" data-dojo-type=\"dijit.form.ComboBox\"  dojoAttachPoint=\"timeZoneDestComboNode\" style=\"width:15em;\">\r\n                           </select>\r\n                           <br/>\r\n                            <span id=\"${id}-ConvertResults\" dojoAttachPoint=\"convertResultsNode\" style=\"float:left;padding-top:5px;\">\r\n                        </span>\r\n                        </p><br/>\r\n                        <button id=\"${id}-Convert\" data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"timeZoneConvertButtonNode\" type=\"button\" style=\"float:right\" dojoAttachEvent=\"onClick:_convertClicked\">\r\n                            ${convertText}\r\n                        </button>\r\n                       \r\n                        \r\n                    </div>\r\n               \r\n                <div class=\"button-bar alignright\" style=\"clear: both\">\r\n                    <button id=\"${id}-OKButton\" tabindex=\"0\" data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"OKButtonNode\" type=\"button\" dojoAttachEvent=\"onClick:_okClicked\">\r\n                        ${okText}\r\n                    </button>\r\n                    <button id=\"${id}-CancelButton\" tabindex=\"0\" data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"CancelButtonNode\" type=\"button\" dojoAttachEvent=\"onClick:_cancelClicked\">\r\n                        ${cancelText}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    \r\n</div>\r\n\r\n"}});define("Sage/UI/Controls/DateTimePicker",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojo/fx","dojo/date/locale","dijit/_Widget","dijit/form/TimeTextBox","Sage/UI/Calendar","Sage/Utility","dijit/TooltipDialog","dijit/_base/popup","dijit/form/ComboBox","dijit/focus","dojo/data/ItemFileReadStore","dojo/i18n!./nls/DateTimePicker","dojo/json","dojo/_base/lang","dojo/_base/array","dojo/_base/config","dojo/_base/declare","dojo/dom-construct","Sage/Utility/_LocalStorageMixin","dojo/text!./templates/DateTimePicker.html"],function(_51b,_51c,fx,_51d,_51e,_51f,_520,_521,_522,_523,_524,_525,_526,_527,json,lang,_528,_529,_52a,_52b,_52c,_52d){var _52e,_52f,_530;_530=_52a("Sage.UI.Controls.DateTimePicker.TimeZoneDataLoader",_52c,{_requests:[],_requestingData:false,_tzData:false,_storageNamespace:"DateTimePickerTZ",constructor:function(){this._requests=[];this._requestingData=false;this._tzData=false;},requestTimeZones:function(_531,_532){if(!this._tzData){var data=this.getFromLocalStorage(this._storageNamespace,this._storageNamespace);if(data){this._tzData=json.parse(data);}else{this._requests.push({fn:_531,scope:_532||this});if(!this._requestingData){dojo.xhrGet({url:"slxdata.ashx/slx/crm/-/timezones/p",handleAs:"json",load:lang.hitch(this,this._receiveData),error:function(err){}});this._requestingData=true;}return;}}_531.call(_532||this,this._tzData);},_receiveData:function(data){this.saveToLocalStorage(this._storageNamespace,json.stringify(data),this._storageNamespace);this._tzData=data;var len=this._requests.length;for(var i=0;i<len;i++){var clbk=this._requests.pop();clbk.fn.call(clbk.scope,data);}}});_52e=_52a("Sage.UI.Controls._DateTimePickerMenu",[_51e,_51b,_51c],{templateString:_52d,widgetsInTemplate:true,textAlign:"left",okText:"",cancelText:"",convertText:"",calculatorText:"",timeZoneSourceText:"",timeZoneDestText:"",id:"dateTimePickerMenu",dir:"",_messages:null,_started:false,_timezonesLoaded:false,_timezonesVisible:false,displayTime:false,constructor:function(_533){lang.mixin(this,_527);this.inherited(arguments);},startup:function(){this._started=true;this._messages=[];this.focus();this.inherited(arguments);},uninitialize:function(){this.dateNode.destroy(false);this.timeZoneSourceComboNode.destroy(false);this.timeZoneDestComboNode.destroy(false);this.timeZoneConvertButtonNode.destroy(false);this.timeNode.destroy(false);this.OKButtonNode.destroy(false);this.CancelButtonNode.destroy(false);this.inherited(arguments);},_getUTCDate:function(date){return new Date(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds());},_okClicked:function(_534){this.onExecute();this.onOKClicked();},onOKClicked:function(){},_onCalendarBlur:function(){this.calendarBlur();},calendarBlur:function(){},_onValueSelected:function(){if(!this.displayTime){this.calendarDateSelected();this.onExecute();}},calendarDateSelected:function(){},_cancelClicked:function(){this.onCancel();this.onCancelClicked();},onFocusOut:function(){this.onExecute();},onCancelClicked:function(){},onCancel:function(){},onExecute:function(){},_hideTimeNode:function(){this._hideNode(this.timeZoneContainer);},_hideDateNode:function(){this._hideNode(this.dateContainer);},_showTimeNode:function(){this._showNode(this.timeZoneContainer);},_showDateNode:function(){this._showNode(this.dateContainer);},_hideNode:function(id){dojo.style(id,"visibility","hidden");dojo.style(id,"display","none");},_showNode:function(id){dojo.style(id,"visibility","visible");dojo.style(id,"display","block");},_convertClicked:function(){if(!this._timezonesLoaded){return;}var self=this,_535=this.dateNode.get("value"),_536=this.timeNode.get("value"),_537=this.timeZoneSourceComboNode.get("value"),_538=this.timeZoneDestComboNode.get("value"),_539="",_53a=null,url="slxdata.ashx/slx/crm/-/timezones/convertTimeFormatted?timezoneNameSource=${0}&timezoneNameDest=${1}&date=${2}&getFormatted=${3}";_535.setHours(_536.getHours());_535.setMinutes(_536.getMinutes());_539=_535.toLocaleString();if(_537&&_538){dojo.xhrGet({url:dojo.string.substitute(url,[escape(_537),escape(_538),_539,"false"]),handleAs:"json",load:function(_53b){self.convertResultsNode.innerHTML=_53b;},error:function(err){console.error(err);}});}},processTimeZones:function(data){var _53c=[];var _53d=_521.getClientContextByKey("userTimeZone");_528.forEach(data,function(item){if(!item.Displayname||!item.Keyname){return;}_53c.push({id:item.Keyname,text:item.Displayname,offsetHours:item.OffsetHours,offsetMinutes:item.OffsetMinutes});});this.storeData={label:"text",identifier:"id",items:_53c};this.timeZoneStore=new _526({data:this.storeData});var self=this;this.timeZoneSourceComboNode.set("store",this.timeZoneStore);this.timeZoneSourceComboNode.set("searchAttr","text");this.timeZoneSourceComboNode.store.fetch({query:{text:_53d},onComplete:function(_53e){self.timeZoneSourceComboNode.setAttribute("item",_53e[0]);}});this.timeZoneDestComboNode.set("store",this.timeZoneStore);this.timeZoneDestComboNode.set("searchAttr","text");},loadTimeZones:function(){if(this._timezonesLoaded){return;}this._timezonesLoaded=true;var _53f=new _530();_53f.requestTimeZones(this.processTimeZones,this);}});_52f=_52a("Sage.UI.Controls.DateTimePicker",[_524],{id:"dateTimePicker",buttonToolTip:"Calendar",toolTip:"",displayDate:true,displayTime:true,initialDate:null,initialTime:null,initialTextValue:"",dateFormat:"",timeZoneStore:null,storeData:null,dropDown:false,_opened:false,readOnly:false,enabled:true,required:false,renderAsHyperlink:false,shouldPublishMarkDirty:true,handles:null,store:null,dateOnlyHanlde:null,documentClickHandle:null,dropdownIconClicked:false,popupElements:null,minDate:null,constructor:function(_540){this.buttonToolTip=_527.buttonToolTip;this.handles=[];this.documentClickHandle=[];this.dateOnlyHanlde=[];this.store={};this.inherited(arguments);},_onChanged:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}this._updateHiddenFields();},_onFocusChange:function(){this._updateHiddenFields();},_updateHiddenFields:function(){var _541,_542,_543,_544;_541=dojo.byId(this.id);if(_541){_543=_541.children[0];_542=_541.children[1];if(_543&&_542){_544=this.getValueForASPNET();_542.value=_544;if(_544===""){_543.value="";}if(_542.onchange){_542.onchange();}}}},uninitialize:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);this.dropDown=new _52e({id:this.id+"_Popout",displayTime:this.displayTime});this.handles.push(this.connect(this,"onChange",this._onChanged));this.handles.push(dojo.connect(this.dropDown,"onOKClicked",this,"_displayCurrentValue"));this.handles.push(dojo.connect(this.focusNode,"onkeyup",this,"_onFocusKeyUp",true));this.handles.push(dojo.connect(this.focusNode,"onblur",this,"_onFocusBlur",true));this.handles.push(dojo.connect(this.focusNode,"onchange",this,"_onFocusChange",true));this.focusNode.value=this.initialTextValue;var date=_521.Convert.toDateFromString(this.initialDate)||new Date();var time=_521.Convert.toDateFromString(this.initialTime)||new Date();this.dropDown.dateNode.set("value",date.toDateString());this.dropDown.timeNode.set("value",time);if(this.displayDate){this.dropDown._showDateNode();}else{this.dropDown._hideDateNode();}if(this.displayTime){this.dropDown._showTimeNode();}else{this.dateOnlyHanlde.push(dojo.connect(this.dropDown,"calendarDateSelected",this,"_displayCurrentValue"));this.dropDown._hideTimeNode();}var _545=[];var _546=function(node){if(node&&node.children&&node.children.length>0){for(var i=0;i<node.children.length;i++){if(node.children[i]){_545.push(node.children[i]);}_546(node.children[i]);}}return _545;};this.popupElements=_546(this.dropDown.domNode);this.popupElements.push(this.dropDown.domNode);this.popupElements.push(this._buttonNode.parentNode);this.documentClickHandle.push(dojo.connect(document,"onclick",this,"_documentOnClick"));this._setupRenderAsHyperlink();this._setupDropDownIcon();},_documentOnClick:function(evt){var e=evt||window.event;var _547=e.target||e.srcElement;if(e.target.nodeType==3){_547=e.target.parentNode;}var _548=function(_549,node){if(dojo.indexOf(_549,node)>-1){return true;}else{if(node.parentNode){return _548(_549,node.parentNode);}else{return false;}}};if((_547&&_547.className&&(_547.className.indexOf("dijitTimePickerItemInner")>-1||_547.className.indexOf("dijitCalendarMonthLabel")>-1))||(_547&&_547.id&&(_547.id.indexOf("_Popout-TzSelectSource_popup")>-1||_547.id.indexOf("_Popout-TzSelectDest_popup")>-1))){e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();}e.preventDefault=true;}else{if(this.dropDown&&this.dropDown.timeNode&&this.dropDown.timeNode.dropDown){if(dojo.indexOf(this.popupElements,this.dropDown.timeNode.dropDown.domNode)==-1){this.popupElements.push(this.dropDown.timeNode.dropDown.domNode);}}if(!_548(this.popupElements,_547)){this.closeDropDown();}else{e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();}e.preventDefault=true;}}},_setupDropDownIcon:function(){if(this.renderAsHyperlink){return;}_52b.create("div",{"class":"Global_Images icon16x16 icon_Calendar_16x16",title:this.buttonToolTip,tabIndex:0},this._buttonNode,"only");dojo.addClass(this._buttonNode,"smCalendarIconTxtBox");this.handles.push(this.connect(this._buttonNode,"ondijitclick",function(){if(!this.displayTime){dojo.style(this.dropDown.domNode,"height","226px");}else{dojo.style(this.dropDown.domNode,"height","266px");}if(!this.dropdownIconClicked){this.openDropDown();this.dropdownIconClicked=true;}}));},_displayCurrentValue:function(){if(!this._started){return;}var _54a=this.getDateValue(),_54b=this.getTimeValue(),_54c,_54d={fullYear:true};if(!_54a){return;}_54a.setHours(_54b.getHours());_54a.setMinutes(_54b.getMinutes());_54a.setSeconds(_54b.getSeconds());if(this.displayDate&&this.displayTime){_54d.selector="date and time";}else{if(this.displayDate){_54d.selector="date";}else{if(this.displayTime){_54d.selector="time";}}}_54c=_51d.format(_54a,_54d);if(this.renderAsHyperlink){var node=dojo.byId(this.id+"-Link");node.innerHTML=_54c;}else{this.focusNode.value=_54c;}if((!this.value.getTime)||this.value.getTime()!==_54a.getTime()){this.value=_54a;this.onChange(_54a);}},_setupRenderAsHyperlink:function(){if(!this.renderAsHyperlink){return;}dojo.style(this.domNode,"border","none");var node=dojo.create("a",{id:this.id+"-Link",innerHTML:this.focusNode.value},this.domNode,"only");dojo.style(node,"cursor","pointer");this.handles.push(dojo.connect(node,"onclick",this,function(){if(!this.displayTime){dojo.style(this.dropDown.domNode,"height","226px");}else{dojo.style(this.dropDown.domNode,"height","266px");}this.openDropDown();}));},loadDropDown:function(){},isLoaded:function(){return true;},_setBlurValue:function(){},closeDropDown:function(){_523.close(this.dropDown);this._opened=false;this.dropdownIconClicked=false;dojo.forEach(this.documentClickHandle,function(_54e){dojo.disconnect(_54e);});},_openResultList:function(){},_showResultList:function(){},_onBlur:function(){},triggerOnFocusBlur:function(_54f){this._validateInputDate(_54f);},_validateInputDate:function(_550){if(!this._opened&&!this.readOnly&&this.dropDown&&this.focusNode.value!==""){var text=this.focusNode.value;if(text===this.initialTextValue){return;}var _551=null;var _552="date";if(text.indexOf(":")>0){_552="datetime";}_550=_550||_529.locale;_551=dojo.date.locale.parse(text,{selector:_552,locale:_550});if(this.dropDown&&_551!==null&&isNaN(_551.getDate())===false){if(_551.getFullYear()>=(new Date().getFullYear()-259)){this.dropDown.dateNode.set("value",_551);this.dropDown.timeNode.set("value",_551);}}this.dropDown.onOKClicked();}},_onFocusBlur:function(){this._validateInputDate();if(this._opened){_525.focus(dojo.query(".dijitCalendarContainer",this.dropDown.dateContainer)[0]);}},_onFocusKeyUp:function(e){},_onKey:function(e){},openDropDown:function(){this._opened=true;var self=this;_523.open({popup:this.dropDown,around:this.domNode,onExecute:function(){self.closeDropDown();_525.focus(self.focusNode);},onCancel:function(){self.closeDropDown();_525.focus(self.focusNode);},onClose:function(){}});this.documentClickHandle.push(dojo.connect(document,"onclick",this,"_documentOnClick"));if(this.displayTime){this.dropDown.loadTimeZones();}_525.focus(dojo.query(".dijitCalendarContainer",this.dropDown.dateContainer)[0]);_523._stack[0].handlers[0].remove();},_getUTCDate:function(date){return this.dropDown._getUTCDate(date);},getDateValue:function(){return this.dropDown.dateNode.get("value");},getTimeValue:function(){var _553=this.dropDown.timeNode.get("value")||new Date(Date.now());if(_553){_553.setSeconds(this.dropDown.timeNode["seconds"]||0);}return _553;},getMinDate:function(){this.minDate=Sage.Utility.Activity.formatDateAdd(new Date(),"year",-259);return this.minDate;},_getValueAttr:function(){var d=this.getDateValue();var t=this.getTimeValue();d.setHours(t.getHours());d.setMinutes(t.getMinutes());d.setSeconds(t.getSeconds());return d;},_setValueAttr:function(val){if(val&&val.toDateString){if(this.dropDown){this.dropDown.dateNode.set("value",val);this.dropDown.timeNode.set("value",val);this.dropDown.timeNode["seconds"]=val.getSeconds();this._displayCurrentValue();}if((!this.value.getTime)||this.value.getTime()!==val.getTime()){this.value=val;this.onChange(val);}}},_setDisplayDateAttr:function(_554){this.displayDate=_554;this._displayCurrentValue();if(this.dropDown){if(this.displayDate){this.dropDown._showDateNode();}else{this.dropDown._hideDateNode();}}},_getDisplayDateAttr:function(){return this.displayDate;},_setToolTipAttr:function(_555){if(_555&&_555!==""){this.set("title",_555);}},_getToolTipAttr:function(){return this.toolTip;},_setDisabledAttr:function(_556){if(_556){dojo.style(this._buttonNode,"visibility","hidden");dojo.style(this._buttonNode,"display","none");}else{dojo.style(this._buttonNode,"visibility","");dojo.style(this._buttonNode,"display","");}this.inherited(arguments);},_setReadOnlyAttr:function(_557){if(_557){dojo.style(this._buttonNode,"visibility","hidden");dojo.style(this._buttonNode,"display","none");}this.inherited(arguments);},_setDisplayTimeAttr:function(_558){this.displayTime=_558;this._displayCurrentValue();if(this.dropDown){if(this.displayDate){this.dropDown._showDateNode();}else{this.dropDown._hideDateNode();}dojo.forEach(this.dateOnlyHanlde,function(_559){dojo.disconnect(_559);});if(this.displayTime){this.dropDown.displayTime=true;this.dropDown._showTimeNode();}else{this.dropDown.displayTime=false;this.dateOnlyHanlde.push(dojo.connect(this.dropDown,"calendarDateSelected",this,"_displayCurrentValue"));this.dropDown._hideTimeNode();}}},_getDisplayTimeAttr:function(){return this.displayTime;},getValueForASPNET:function(){if(this.focusNode.value===""){return "";}var _55a=[];var date=this.getDateValue();_55a.push(date.getFullYear());_55a.push(date.getMonth()+1);_55a.push(date.getDate());var time=this.getTimeValue();_55a.push(time.getHours());_55a.push(time.getMinutes());return _55a.join(",");},destroy:function(){dojo.forEach(dijit.findWidgets(this.domNode),function(wid){wid.destroy(false);});dojo.forEach(this.handles,function(_55b){dojo.disconnect(_55b);});this.inherited(arguments);},fmtDateForASPNET:function(){var date=this.getDateValue();var time=this.getTimeValue();var year=date.getFullYear();var _55c=date.getMonth()+1;var day=date.getDate();var _55d=time.getHours();var _55e=time.getMinutes();var _55f="";if(this.displayDate){var _560=this.getDivChar();var _561=_55c;var _562=day;if(this.dateFormat.substring(0,1).toUpperCase()=="MM"){_561=(_561<10)?"0"+_561:_561;}if(this.dateFormat.substring(0,1).toUpperCase=="DD"){_562=(_562<10)?"0"+_562:_562;}if(this.dateFormat.substring(0,1)=="M"||this.dateFormat.substring(0,1)=="m"){_55f=_561+_560+_562+_560+date.getFullYear();}if(this.dateFormat.substring(0,1)=="D"||this.dateFormat.substring(0,1)=="d"){_55f=_562+_560+_561+_560+date.getFullYear();}if(this.dateFormat.substring(0,1)=="Y"||this.dateFormat.substring(0,1)=="y"){_55f=date.getFullYear()+_560+_561+_560+_562;}if(this.displayTime){_55f+=" ";}}if(this.displayTime){var _563=this.getTimeDivChar();var _564=_55d;var _565=_55e;if(_565<10){_565="0"+_565;}if(this.dateFormat.indexOf("H")>-1){_55f+=_564+_563+_565;}else{if(this.dateFormat.indexOf("h")>-1){var _566=_55d;if(this.Hours===0){_566="12";}var _567="AM";if(_55d>=12){if(_55d>12){_566=(_55d-12);}_567="PM";}_55f+=_566+_563+_565+" "+_567;}else{_55f+=time.toLocaleTimeString();}}}return _55f;},getDivChar:function(){var _568="";for(var i=0;i<this.dateFormat.length;i++){if(isNaN(this.dateFormat.charAt(i))){if((this.dateFormat.charAt(i)<"A"||this.dateFormat.charAt(i)>"Z")&&(this.dateFormat.charAt(i)<"a"||this.dateFormat.charAt(i)>"z")){_568=this.dateFormat.charAt(i);break;}}}return _568;},getTimeDivChar:function(){if(this.displayTime){var _569=this.dateFormat.split(" ");if(_569.length>1){var _56a=_569[1];for(var i=0;i<_56a.length;i++){if(isNaN(_56a.charAt(i))){if((_56a.charAt(i)<"A"||_56a.charAt(i)>"Z")&&(_56a.charAt(i)<"a"||_56a.charAt(i)>"z")){return _56a.charAt(i);}}}}}return ":";}});return _52f;});},"Sage/MainView/Contact/ContactSearchForDuplicates":function(){require({cache:{"url:Sage/MainView/Contact/templates/ContactDetailSummary.html":"[\r\n'<table style=\"width:100%\">',\r\n    '<thead>',\r\n        '<tr>',\r\n            '<th>',\r\n                '<div class=\"SummaryTitle\">',\r\n                    '<a href=\"Contact.aspx?entityid={%= $.templateData.id %}\">{%= Sage.Utility.htmlEncode($.templateData.name) %}</a>',\r\n                '</div>',\r\n            '</th>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_address1 %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_citystatezip %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</thead>',\r\n    '<tbody>',\r\n        '<tr>',\r\n            '<td class=\"DataColumn\">',\r\n                '<table>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccount_Caption || \"Account:\" %}</td>',\r\n                        '<td class=\"DataItem\"><a href=\"Account.aspx?entityid={{%= $.templateData.account_id %}}\">{%= Sage.Utility.htmlEncode($.templateData.accountname) %}</a></td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTitle_Caption || \"Title:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.title %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWorkPhone_Caption || \"Work Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.workphone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svHomePhone_Caption || \"Home Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.homephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svMobilePhone_Caption || \"Mobile Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.mobilephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svEmail_Caption || \"Email:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.email %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWebAddress_Caption || \"Web:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.webaddress %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svType_Caption || \"Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.type %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccMgr_Caption || \"Acct. Mgr.:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountmanager_userinfo_firstname %} {%= $.templateData.accountmanager_userinfo_lastname %}</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</tbody>',\r\n'</table>',\r\n'<br/>',\r\n'<div style=\"padding-right:20px; text-align:right\">',\r\n    '<asp:Panel runat=\"server\" ID=\"pnlCancel\" CssClass=\"controlslist qfActionContainer\">',\r\n        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Close\" onClick=\"javascript:contactSearchForDuplicates._close();\">{%= $.closeText %}</div>',\r\n    '</asp:Panel>',\r\n'</div>'\r\n] ","url:Sage/MainView/Lead/templates/LeadDetailSummary.html":"[\r\n'<table style=\"width:100%\">',\r\n    '<thead>',\r\n        '<tr>',\r\n            '<th>',\r\n                '<div class=\"SummaryTitle\">',\r\n                    '<a href=\"Lead.aspx?entityid={%= $.templateData.id %}\">{%= Sage.Utility.htmlEncode($.templateData.name) %}</a>',\r\n                '</div>',\r\n            '</th>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_address1 %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_citystatezip %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</thead>',\r\n    '<tbody>',\r\n        '<tr>',\r\n            '<td class=\"DataColumn\">',\r\n                '<table>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svCompany_Caption || \"Company:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountname %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTitle_Caption || \"Title:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.title %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWorkPhone_Caption || \"Work Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.workphone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svHomePhone_Caption || \"Home Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.homephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svMobilePhone_Caption || \"Mobile Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.mobilephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svEmail_Caption || \"Email:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.email %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWebAddress_Caption || \"Web:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.webaddress %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svType_Caption || \"Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.type %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccMgr_Caption || \"Acct. Mgr.:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountmanager_userinfo_firstname %} {%= $.templateData.accountmanager_userinfo_lastname %}</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</tbody>',\r\n'</table>',\r\n'<br/>',\r\n'<div style=\"padding-right:20px; text-align:right\">',\r\n    '<asp:Panel runat=\"server\" ID=\"pnlCancel\" CssClass=\"controlslist qfActionContainer\">',\r\n        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Close\" onClick=\"javascript:contactSearchForDuplicates._close();\">{%= $.closeText %}</div>',\r\n    '</asp:Panel>',\r\n'</div>'\r\n]","url:Sage/MainView/Account/templates/AccountDetailSummary.html":"[\r\n'<table style=\"width:100%\">',\r\n    '<thead>',\r\n        '<tr>',\r\n            '<th>',\r\n                '<div class=\"SummaryTitle\">',\r\n                    '<a href=\"Account.aspx?entityid={%= $.templateData.id %}\">{%= Sage.Utility.htmlEncode($.templateData.name) %}</a>',\r\n                '</div>',\r\n            '</th>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_address1 %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_citystatezip %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</thead>',\r\n    '<tbody>',\r\n        '<tr>',\r\n            '<td class=\"DataColumn\">',\r\n                '<table>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svType_Caption || \"Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.type %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svSubType_Caption || \"Sub Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.subtype %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTitle_Status || \"Status:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.status %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svDivision_Caption || \"Division:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.division %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svIndustry_Caption || \"Industry:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.industry) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svMainPhone_Caption || \"Main phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.mainphone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTollFree_Caption || \"Toll free:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.tollfree) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svEmail_Caption || \"Email:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.email %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWebAddress_Caption || \"Web:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.webaddress %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccMgr_Caption || \"Acct. Mgr.:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountmanager_userinfo_firstname %} {%= $.templateData.accountmanager_userinfo_lastname %}</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</tbody>',\r\n'</table>',\r\n'<br/>',\r\n'<div style=\"padding-right:20px; text-align:right\">',\r\n    '<asp:Panel runat=\"server\" ID=\"pnlCancel\" CssClass=\"controlslist qfActionContainer\">',\r\n        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Close\" onClick=\"javascript:contactSearchForDuplicates._close();\">{%= $.closeText %}</div>',\r\n    '</asp:Panel>',\r\n'</div>'\r\n]"}});define("Sage/MainView/Contact/ContactSearchForDuplicates",["dojo/_base/declare","dojo/i18n!./nls/ContactSearchForDuplicates","dijit/_Widget","Sage/_Templated","Sage/Utility","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","Sage/UI/_DialogLoadingMixin","Sage/UI/Dialogs","dijit/Dialog","dojo/i18n!./nls/ContactSearchForDuplicates","dojo/text!./templates/ContactDetailSummary.html","dojo/text!../Lead/templates/LeadDetailSummary.html","dojo/text!../Account/templates/AccountDetailSummary.html"],function(_56b,_56c,_56d,_56e,_56f,_570,_571,_572,_573,_574,nls,_575,_576,_577){var _578=_56b("Sage.MainView.Contact.ContactSearchForDuplicates",[_56d,_56e],{workSpace:{},templateDialog:false,templateData:"",rootUrl:"slxdata.ashx/slx/crm/-/namedqueries?format=json&",widgetsInTemplate:true,constructor:function(){dojo.mixin(this,_56c);},init:function(_579){this.workSpace=_579;},onTabFiltersClick:function(){this.setDivDisplay(this.workSpace.divFiltersId,"inline");this.setDivDisplay(this.workSpace.divOptionsId,"none");this.setTabDisplay(this.workSpace.tabFiltersId,"tws-tab-button tws-active-tab-button");this.setTabDisplay(this.workSpace.tabOptionsId,"tws-tab-button");},onTabOptionsClick:function(){this.setDivDisplay(this.workSpace.divOptionsId,"inline");this.setDivDisplay(this.workSpace.divFiltersId,"none");this.setTabDisplay(this.workSpace.tabOptionsId,"tws-tab-button tws-active-tab-button");this.setTabDisplay(this.workSpace.tabFiltersId,"tws-tab-button");},setDivDisplay:function(_57a,_57b){var _57c=dojo.byId(_57a);if(_57c!==null){_57c.style.display=_57b;}},setTabDisplay:function(_57d,_57e){var _57f=dojo.byId(_57d);if(_57f!==null){_57f.className=_57e;}},showSummaryView:function(_580,_581){var url=this.getReqestUrl(_580,_581);this.showData(url,this.successRequest,this.errorRequest,_580,_581);},getReqestUrl:function(_582,_583){var url=null;if(_582==="Contact"){url=this.getReqeustUrlEx(_583,"ContactSearch");}if(_582==="Lead"){url=this.getReqeustUrlEx(_583,"LeadSearch");}if(_582==="Account"){url=this.getReqeustUrlEx(_583,"AccountSearch");}return url;},getReqeustUrlEx:function(_584,_585){var _586="mainentity.id eq '${0}'";var _587={name:_585,where:dojo.string.substitute(_586,[_584])};return this.rootUrl+this.buildQParamStr(_587);},buildQParamStr:function(_588){var o=_588;var p=[];if(typeof o==="object"){for(var k in o){p.push(k+"="+encodeURIComponent(o[k]));}}else{if(typeof o==="string"){p.push(o);}}return p.join("&");},showData:function(url,_589,_58a,_58b,_58c){if(typeof _589==="undefined"){_589=function(data){};}if(typeof _58a==="undefined"){_58a=function(){};}if(typeof _58b==="undefined"){_58b="";}if(typeof _58c==="undefined"){_58c="";}var self=this;dojo.xhrGet({url:url,cache:false,preventCache:true,handleAs:"json",load:function(data){_589(self,_58b,data);},error:function(_58d,_58e,_58f){_58a(self,_58f);}});},successRequest:function(self,_590,data){self.show(_590,data);},show:function(_591,data){this.templateData=data.items[0];this.templateDialog=new _574({title:this.getSummaryTitle(_591),id:[this.id,"-Dialog"].join(""),content:this.getTemplate(_591).apply(this)});this.connect(this.templateDialog,"onCancel",this._close);this.templateDialog.show();},errorRequest:function(self,_592){_573.showError(dojo.string.substitute(self.errorLoadingSummaryView,[_592]));},getSummaryTitle:function(_593){var _594=null;if(_593==="Contact"){_594=this.ContactSummaryView_Title;}if(_593==="Lead"){_594=this.LeadSummaryView_Title;}if(_593==="Account"){_594=this.AccountSummaryView_Title;}return _594;},getTemplate:function(_595){var tpl=null;if(_595==="Contact"){tpl=new Simplate(eval(_575));}if(_595==="Lead"){tpl=new Simplate(eval(_576));}if(_595==="Account"){tpl=new Simplate(eval(_577));}return tpl;},_close:function(){this.templateDialog.destroyRecursive();}});return _578;});},"Sage/UI/Controls/_customSelectMixin":function(){define("Sage/UI/Controls/_customSelectMixin",["dijit/_Widget","Sage/_Templated","dijit/form/ComboBox","dojo/_base/declare"],function(_596,_597,_598,_599){var _59a=_599("Sage.UI.Controls._customSelectMixin",[_596,_597],{widgetsInTemplate:true,disabled:false,value:"",text:"",widgetTemplate:new Simplate(["<div>","<select dojoType=\"dijit.form.ComboBox\" id=\"{%= $.id %}_select\" labelAttr=\"label\" dojoAttachPoint=\"_select\" dojoAttachEvent=\"onChange:_onChange\"></select>","</div>"]),postCreate:function(){this.inherited(arguments);this._fillSelect();},_fillSelect:function(){},_setValueAttr:function(_59b){this.text=_59b;this.value=_59b;if(this._store){this._store.fetchItemByIdentity({identity:_59b,onItem:function(item){if(item){this._select.set("value",this._store.getValue(item,this._storeData.label));this.value=this._store.getValue(item,this._storeData.identifier);this.text=this._store.getValue(item,this._storeData.label);}else{this._handleValueNotInStore(_59b);}},onError:function(){},scope:this});}},_getValueAttr:function(){if(this._select.item&&this._store){this.value=this._store.getValue(this._select.item,this._storeData.identifier);}return this.value;},_onChange:function(_59c){if((this.value===_59c)||(this.text===_59c)){return;}if(this._select.item){var item=this._select.item;this.value=this._store.getValue(item,this._storeData.identifier);this.text=this._store.getValue(item,this._storeData.label);}else{this.value=this._handleValueNotInStore(_59c);}this.onChange(this.value);},_handleValueNotInStore:function(_59d){this.text=_59d;this.value=_59d;return _59d;},_getTextAttr:function(){return this.text;},_setTextAttr:function(text){this.text=text;this._select.set("displayedValue",text);},_setDisabledAttr:function(_59e){this.disabled=_59e;this._select.set("disabled",_59e);},_getDisabledAttr:function(){this.disabled=this._select.get("disabled");return this.disabled;},onChange:function(){}});return _59a;});},"Sage/MainView/ActivityMgr/templates/nls/ConfirmationDetailSummary":function(){define("Sage/MainView/ActivityMgr/templates/nls/ConfirmationDetailSummary",["Sage/LanguageList","dojo/_base/lang"],function(_59f,lang){var nls={root:{txtPhone_Caption:"Phone:",lnkOpportunity_Caption:"Opportunity:",txtStartTime_Caption:"Start Time:",lnkContactName_Caption:"Contact:",lnkLeadName_Caption:"Lead:",lnkTicket_Caption:"Ticket:",txtLocation_Caption:"Location:",txtLeader_Caption:"Leader:",txtDuration_Caption:"Duration:",lnkAccountName_Caption:"Account:",lnkCompanyName_Caption:"Company:",txtNotes_Caption:"Notes:",btnComplete_Caption:"Complete",txtFromUser_Caption:"From:",btnDelete_Caption:"Delete",btnDecline_Caption:"Decline",btnAccept_Caption:"Accept"}};return lang.mixin(_59f,nls);});},"Sage/Utility/Email":function(){define("Sage/Utility/Email",["Sage/Utility","Sage/Data/SDataServiceRegistry","Sage/UI/Dialogs","dojo/parser","dojox/validate/regexp","dojo/i18n!./nls/Email","dojo/has"],function(_5a0,_5a1,_5a2,_5a3,_5a4,nls,has){Sage.namespace("Utility.Email");dojo.mixin(Sage.Utility.Email,{resources:nls,writeEmail:function(_5a5,_5a6,body,_5a7,_5a8){if(dojo.isString(_5a5)&&(_5a5.length>0)){if((_5a5.indexOf("{",0)===0)&&(_5a5.lastIndexOf("}")==_5a5.length-1)){try{var _5a9=dojo.fromJson(_5a5);if(dojo.isObject(_5a9)){_5a5=_5a9;}}catch(e){_5a2.showError(dojo.substitute(_5a0.Email.resources.RecipientInfoError,[e.message]));if(typeof console!=="undefined"){console.error("There was an error attempting to parse the recipient data as JSON: %o",e);console.error("recipient parameter: %o",_5a5);}return;}}else{if((_5a5.indexOf("[",0)===0)&&(_5a5.lastIndexOf("]")===_5a5.length-1)){_5a5=eval(_5a5);}}}var self=this;require(["Sage/MailMerge/Helper","Sage/MailMerge/Service"],function(_5aa,_5ab){var _5ac=0;if(typeof _5a8!=="undefined"){if(!isNaN(_5a8)){if(Number(_5a8)==1){_5ac=1;}}}var _5ad=3,olCC=2,olTo=1;var _5ae=["to","cc","bcc"];var _5af=0;var _5b0=(dojo.isArray(_5a5))?"array":typeof _5a5;var _5b1=(_5b0!=="undefined")&&(_5a5!==null);var _5b2={"to":[],"cc":[],"bcc":[]};var _5b3=function(type,_5b4,_5b5,_5b6){if(self.isValidEmailAddress(_5b6||"")){var _5b7=function(_5b8){_5b8.push({"firstName":_5b4||"","lastName":_5b5||"","emailAddress":_5b6||""});};switch(type){case olCC:_5b7(_5b2.cc);break;case _5ad:_5b7(_5b2.bcc);break;default:_5b7(_5b2.to);break;}}else{if(typeof console!=="undefined"){}}};if(_5b1){var _5b9=function(type,_5ba){if(dojo.isObject(_5ba)){_5b3(type,_5ba.firstName||"",_5ba.lastName||"",_5ba.emailAddress||"");}};switch(_5b0){case "string":if(_5a5!==""){_5b3(olTo,"","",_5a5);}break;case "array":dojo.forEach(_5a5,function(_5bb){if(dojo.isString(_5bb)){_5b3(olTo,"","",_5bb);}else{if(dojo.isObject(_5bb)){_5b9(olTo,_5bb);}}});break;case "object":_5af=0;dojo.forEach(_5ae,function(prop){_5af++;if(_5a5.hasOwnProperty(prop)){switch((dojo.isArray(_5a5[prop]))?"array":typeof _5a5[prop]){case "string":_5b3(_5af,"","",_5a5[prop]);break;case "array":dojo.forEach(_5a5[prop],function(obj){if(dojo.isString(obj)){_5b3(_5af,"","",obj);}else{if(dojo.isObject(obj)){_5b9(_5af,obj);}}});break;case "object":_5b9(_5af,_5a5[prop]);break;}}});break;}}_5a5=undefined;var _5bc=function(obj1,obj2){var _5bd;switch(_5ac){case 1:_5bd=(obj1.lastName||"").toLocaleUpperCase().localeCompare((obj2.lastName||"").toLocaleUpperCase());if(_5bd===0){_5bd=(obj1.firstName||"").toLocaleUpperCase().localeCompare((obj2.firstName||"").toLocaleUpperCase());}break;default:_5bd=(obj1.firstName||"").toLocaleUpperCase().localeCompare((obj2.firstName||"").toLocaleUpperCase());if(_5bd===0){_5bd=(obj1.lastName||"").toLocaleUpperCase().localeCompare((obj2.lastName||"").toLocaleUpperCase());}}return _5bd;};var _5be=(dojo.isString(_5a6))?_5a6:"";var _5bf=(dojo.isString(body))?body:"";var _5c0=_5b2.to.length+_5b2.cc.length+_5b2.bcc.length;_5b1=(_5c0>0);var _5c1=_5aa.GetDesktopService(false);if(_5c1){if(typeof _5c1.MailMergeGUI!=="undefined"){if(typeof _5c1.MailMergeGUI().OutlookIsAvailable!=="undefined"&&_5c1.MailMergeGUI().OutlookIsAvailable){var _5c2=_5c1.NewActiveXObject("SLXMMGUIW.MultidimensionalArray");var _5c3=4;_5c2.Resize(0,_5c3);if(_5b1){_5c2.Resize(_5c0,_5c3);_5af=0;var iRow=0;dojo.forEach(_5ae,function(prop){_5af++;var _5c4=_5b2[prop];if(dojo.isArray(_5c4)&&_5c4.length>0){_5c4.sort(_5bc);dojo.forEach(_5c4,function(obj){_5c2.SetValue(iRow,0,obj.firstName||"");_5c2.SetValue(iRow,1,obj.lastName||"");_5c2.SetValue(iRow,2,obj.emailAddress||"");_5c2.SetValue(iRow,3,_5af);iRow++;});}});}_5c1.MailMergeGUI().WriteEmailEx(_5c2,_5be,_5bf,_5ac);return;}else{if(typeof console!=="undefined"){if(typeof _5c1.MailMergeGUI().OutlookIsAvailable==="undefined"){console.error("The request to e-mail could not be processed by Desktop Integration. An older version of SLXMMGUIW.DLL appears to be installed.");}else{}}}}}var _5c5=function(_5c6,_5c7,_5c8){var _5c9="";var _5ca=_5c6||"";var _5cb=_5c7||"";var _5cc=_5c8||"";if(_5ca!==""&&_5cb!==""){switch(_5ac){case 1:_5c9=_5cb+", "+_5ca;break;default:_5c9=_5ca+" "+_5cb;break;}}else{if(_5cb===""&&_5ca!==""){_5c9=_5ca;}else{if(_5cb!==""&&_5ca===""){_5c9=_5cb;}}}if(_5c9===""){return _5cc;}_5c9=dojo.string.substitute("${0} <${1}>",[_5c9,_5cc]);return _5c9;};if(has("ie")>=11||typeof ActiveXObject!=="undefined"){try{var _5cd=new ActiveXObject("Outlook.Application");var _5ce=_5cd.CreateItem(0);if(_5be!==""){_5ce.Subject=_5be;}if(_5bf!==""){if(_5a7){_5ce.HTMLBody=_5bf;}else{_5ce.Body=_5bf;}}_5af=0;dojo.forEach(_5ae,function(prop){_5af++;var _5cf=_5b2[prop];if(dojo.isArray(_5cf)&&_5cf.length>0){_5cf.sort(_5bc);dojo.forEach(_5cf,function(obj){var _5d0=_5c5(obj.firstName,obj.lastName,obj.emailAddress);var _5d1=_5ce.Recipients.Add(_5d0);_5d1.Type=_5af;});}});_5ce.Display();return;}catch(e){if(typeof console!=="undefined"){}}}if(typeof console!=="undefined"){}var _5d2=function(str,_5d3,_5d4,_5d5,_5d6,_5d7){if(typeof _5d3=="string"){_5d3=[_5d3];}var _5d8;if(_5d6===false){_5d8=function(x){return x;};}else{_5d8=function(x){return encodeURIComponent(x);};}for(var i=0;i<_5d3.length&&str.length<_5d4;i++){var left=_5d4-str.length;var part=_5d3[i];if(i>0&&_5d5){left--;}if(left===0||(_5d7===false&&left<part.length)){continue;}part=part.substr(0,left);var ns=_5d8(part);if(str.length+ns.length>_5d4){if(_5d7===false){continue;}var _5d9=0;var _5da=ns.length-left;while(_5da>0){_5d9++;_5da-=_5d8(part.charAt(part.length-_5d9)).length;}if(_5d9>=part.length){continue;}ns=_5d8(part.substr(0,part.length-_5d9));}if(i>0&&_5d5){str+=_5d5;}str+=ns;}return str;};var _5db=function(type){var _5dc=[];var _5dd;switch(type){case olCC:_5dd=_5b2.cc;break;case _5ad:_5dd=_5b2.bcc;break;default:_5dd=_5b2.to;break;}if(dojo.isArray(_5dd)&&_5dd.length>0){_5dd.sort(_5bc);dojo.forEach(_5dd,function(obj){var _5de=_5c5(obj.firstName||"",obj.lastName||"",obj.emailAddress||"");_5dc.push(_5de);});}return _5dc;};var _5df=(_5a6||body)?1500:2040;var _5e0=_5db(olTo);var url=_5d2("mailto:",(dojo.isArray(_5e0)?_5e0:[]),_5df,";",false,false);var _5e1=false;var _5e2=function(_5e3){var _5e4=(_5e1)?"&":"?";_5e4+=_5e3+"=";_5e1=true;return _5e4;};if(dojo.isString(_5a6)&&_5a6!==""){url+=_5e2("subject");url=_5d2(url,_5a6,1700);}var _5e5=_5db(olCC);if(dojo.isArray(_5e5)&&_5e5.length>0){url+=_5e2("cc");url=_5d2(url,_5e5,_5df,";",false,false);}var _5e6=_5db(_5ad);if(dojo.isArray(_5e6)&&_5e6.length>0){url+=_5e2("bcc");url=_5d2(url,_5e6,_5df,";",false,false);}if(dojo.isString(body)&&body!==""){url+=_5e2("body");url=_5d2(url,body,2000);}if(typeof console!=="undefined"){}try{location.href=url;}catch(e){_5a2.showError(dojo.string.substitute(_5a0.Email.resources.MailToProtocolError,[url.length,(typeof e.toMessage=="function")?e.toMessage():e.message]));}});},isWriteEmailToIdsSupported:function(_5e7){if(!dojo.isString(_5e7)||_5e7===""){if(typeof console!=="undefined"){console.error("The maintable argument is invalid in isWriteEmailToIdsSupported(maintable).");}}var _5e8=(dojo.isString(_5e7))?_5e7.toUpperCase():"";return (_5e8=="CONTACT"||_5e8=="LEAD");},__emailValidationRegEx:null,isValidEmailAddress:function(_5e9){if(this.__emailValidationRegEx===null){this.__emailValidationRegEx=new RegExp(dojox.validate.regexp.emailAddress());}if(dojo.isString(_5e9)){return this.__emailValidationRegEx.test(_5e9);}return false;},writeEmailToIds:function(_5ea,_5eb,_5ec,body,_5ed,_5ee){if(!this.isWriteEmailToIdsSupported(_5eb)){_5a2.showError(_5a0.Email.resources.InvalidContextError);return;}if(!dojo.isArray(_5ea)){_5a2.showError(_5a0.Email.resources.InvalidArgumentError);return;}var self=this;require(["Sage/MailMerge/Helper","Sage/MailMerge/Service"],function(_5ef,_5f0){var _5f1=_5eb.toUpperCase();var _5f2=0;_5ea.sort();var _5f3=[];dojo.forEach(_5ea,function(id){if(dojo.indexOf(_5f3,id)==-1){_5f3.push(id);}else{_5f2++;if(typeof console!=="undefined"){}}});_5ea=_5f3;dojo.forEach(_5ea,function(id,idx){_5ea[idx]="'"+id+"'";});var _5f4=1;if(_5ea.length>100){_5f4=Math.floor(_5ea.length/100);if((_5ea.length%100)!==0){_5f4++;}}var _5f5=0;if(typeof _5ed!=="undefined"){if(!isNaN(_5ed)){if(Number(_5ed)==1){_5f5=1;}}}var _5f6=(_5f1=="CONTACT");var _5f7="Email";if(dojo.isString(_5ee)&&_5ee!==""&&_5f6){var _5f8=_5ee.toUpperCase();switch(_5f8){case "SECONDARYEMAIL":_5f7="SecondaryEmail";if(typeof console!=="undefined"){}break;case "EMAIL3":_5f7="Email3";if(typeof console!=="undefined"){}break;default:if(_5f8!="EMAIL"){if(typeof console!=="undefined"){}}if(typeof console!=="undefined"){}break;}}var _5f9=0;var _5fa=0;var _5fb;var _5fc=0;var _5fd={"data":[]};var _5fe=function(key,_5ff,_600,_601){_5fd.data.push({"key":key||"","firstName":_5ff||"","lastName":_600||"","emailAddress":_601||""});};var _602=_5ef.GetDesktopService(false);for(_5fb=0;_5fb<_5f4;_5fb++){var _603=function(){var _604=100;if(_5ea.length<100){_604=_5ea.length;}var _605=new Array(_604);var _606;for(_606=0;_606<_604;_606++){_605[_606]=_5ea.shift();}var _607=(_605.length>1)?"Id in (${0})":"Id eq ${0}";var _608=dojo.string.substitute(_607,[_605.join(",")]);var _609=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");var _60a=new Sage.SData.Client.SDataResourceCollectionRequest(_609);_60a.setResourceKind((_5f1=="LEAD")?"leads":"contacts");var _60b="FirstName,LastName,DoNotSolicit,DoNotEmail,"+_5f7;_60a.setQueryArg("select",_60b);_60a.setQueryArg("where",_608);_60a.read({httpMethodOverride:true,success:function(data){_5fc++;var _60c=(typeof data!=="undefined"&&data!==null)?data["$resources"]:null;if(dojo.isArray(_60c)&&_60c.length>0){var _60d;for(_60d=0;_60d<_60c.length;_60d++){var _60e=_60c[_60d].$key||"";var _60f;switch(_5f7){case "SecondaryEmail":_60f=_60c[_60d].SecondaryEmail||"";break;case "Email3":_60f=_60c[_60d].Email3||"";break;default:_60f=_60c[_60d].Email||"";break;}var _610=_60c[_60d].FirstName||"";var _611=_60c[_60d].LastName||"";var _612=_60c[_60d].DoNotEmail||false;var _613=_60c[_60d].DoNotSolicit||false;if(_60f!==""&&self.isValidEmailAddress(_60f)&&!_612&&!_613){_5fe(_60e,_610,_611,_60f);}else{if(_612||_613){_5fa++;if(typeof console!=="undefined"){}}else{_5f9++;if(typeof console!=="undefined"){}}}}}if(_5fc==_5f4){var _614=null;if(_5fa>0||_5f9>0||_5f2>0){_614=dojo.string.substitute(_5a0.Email.resources.FilteredOutMsg,[_5fa,_5f9,_5f2]);}var _615={rtTo:0,rtCC:1,rtBCC:2};var _616={"to":[],"cc":[],"bcc":[]};var _617=function(type,_618,_619,_61a){var _61b=function(_61c){_61c.push({"firstName":_618||"","lastName":_619||"","emailAddress":_61a||""});};switch(type){case _615.rtCC:_61b(_616.cc);break;case _615.rtBCC:_61b(_616.bcc);break;default:_61b(_616.to);break;}};var _61d;if(_5fd.data.length>1){if(_5f9>0){if(typeof console!=="undefined"){}}if(_5fa>0){if(typeof console!=="undefined"){}}if(_5f2>0){if(typeof console!=="undefined"){}}var i;if(_602){var _61e=new Sage.SelectEmailInfo();dojo.forEach(_5fd.data,function(_61f){_61e.AddInfo("","",_61f.key,_61f.emailAddress,_61f.firstName,_61f.lastName,"","",false);});var _620=(dojo.isString(_614))?_614:"";var _621=_602.SelectEmailNames(_61e,MaxTo.maxNoMax,_620);if(_621!==null&&_621.Recipients.length>0){for(i=0;i<_621.Recipients.length;i++){_61d=_621.Recipients[i];_617(_61d.Type,_61d.FirstName,_61d.LastName,_61d.EmailAddress);}}else{return;}}else{dojo.forEach(_5fd.data,function(_622){_617(_615.rtTo,_622.firstName,_622.lastName,_622.emailAddress);});}}else{if(_5fd.data.length==1){_61d=_5fd.data[0];_617(_615.rtTo,_61d.firstName,_61d.lastName,_61d.emailAddress);}else{var _623=_5a0.Email.resources.AllInvalidEmailError;if(_5f6&&_5f7!="Email"){_623+=dojo.string.substitute(" "+_5a0.Email.resources.EmailFieldQueried,["Contact."+_5f7]);}_5a2.showInfo(_623);return;}}var _624=(dojo.isString(_5ec))?_5ec:"";var _625=(dojo.isString(body))?body:"";var _626=(_625.length>13)?(_625.indexOf("<HTML",_625.substring(0,4).toUpperCase())===0):false;self.writeEmail(_616,_624,_625,_626,_5f5);}},failure:function(xhr,_627){var _628={message:_5a0.Email.resources.EntityInfoError};_5a0.ErrorHandler.handleHttpError(xhr,_627,_628);},scope:this});};_603();}});},writeEmailToGroupSelection:function(_629,body,_62a,_62b){if(_5a0.getModeId()!="list"){_5a2.showInfo(_5a0.Email.resources.CapabilityModeError);return;}var _62c=Sage.Services.getService("ClientGroupContext");if(!dojo.isObject(_62c)){return;}var _62d=_62c.getContext().CurrentTable;if(!this.isWriteEmailToIdsSupported(_62d)){_5a2.showError(_5a0.Email.resources.CapabilityEntityError);return;}var _62e=dijit.byId("list");if(!dojo.isObject(_62e)){return;}var _62f=_62e.getSelectionInfo();if(!dojo.isObject(_62f)||!_62f.hasOwnProperty("selectionCount")||_62f.selectionCount<=0){_5a2.showInfo(_5a0.Email.resources.NoRowsSelectedError);return;}var _630=new Array(_62f.selections.length);dojo.forEach(_62f.selections,function(item,idx){_630[idx]=item.id;});this.writeEmailToIds(_630,_62d,_629,body,_62a,_62b);}});return Sage.Utility.Email;});},"Sage/MainView/Contact/ContactUserAssociationEditor":function(){require({cache:{"url:Sage/MainView/Contact/templates/ContactUserAssociationEditor.html":"[\r\n'<div>',\r\n    '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.dialogTitleText %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n        '<div data-dojo-type=\"dijit.form.Form\" id=\"{%= $.id %}_frmContactUserAssociation\">',\r\n            '<table cellspacing=\"20\">',\r\n                '<tr>',\r\n                    '<td colspan=\"2\">',\r\n                        '<label>{%= $.associateContactText %}</label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<div>',\r\n                            '<label>{%= $.user_Caption %}</label>',\r\n                        '</div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                         '<div dojoAttachPoint=\"divUserLookupContainer\">',\r\n                            '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_luAccountMgr\" dojoAttachPoint=\"userLookup_Container\" allowClearingResult=\"false\" class=\"removePadding\"></div>',\r\n                        '</div>',\r\n                    '</td>',\r\n                '</tr>',            \r\n            \r\n            '</table>',\r\n            '<div class=\"button-bar\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.btnOK_Caption %}</div>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_close\">{%= $.btnCancel_Caption %}</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n"}});define("Sage/MainView/Contact/ContactUserAssociationEditor",["dojo/_base/declare","dojo/i18n!./nls/ContactUserAssociationEditor","Sage/Data/SingleEntrySDataStore","Sage/Data/WritableSDataStore","Sage/Data/SDataServiceRegistry","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dojo/string","dijit/Dialog","dijit/_Widget","Sage/_Templated","Sage/UI/Dialogs","Sage/UI/Controls/Lookup","dojo/text!./templates/ContactUserAssociationEditor.html","Sage/UI/Controls/SingleSelectPickList","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/Form"],function(_631,_632,_633,_634,_635,_636,_637,_638,_639,_63a,_63b,_63c,_63d,_63e){var _63f=_631("Sage.TaskPane.ContactUserAssociationEditor",[_63a,_63b],{id:"dlgContactUserAssociation",actionType:false,_dialog:false,_updateableProperties:false,selectedFieldIndex:1,lup_User:false,_selectionInfo:false,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_63e)),constructor:function(info){this._selectionInfo=info.selectionInfo.selectedIds;this.actionType=info.action;dojo.mixin(this,_632);if(this.actionType=="disassociate"){}},associationExists:function(_640,_641,_642,_643){this._setupStore();var _644=_638.substitute("UserId eq '${0}' ",[_642.UserId]);this._contactUserStore.fetch({query:_644,onComplete:function(_645){if(_645&&_645.length>0){_641.call(_643,_645,_642);}else{_640.call(_643,_642);}},onError:function(){_640.call(_643,_642);},scope:this});},loadContactData:function(_646,_647,_648){if(!_646){return;}this._setupStore();var _649=_638.substitute("ContactId in ['${0}'] ",[this._selectionInfo.join("','")]);this._contactUserStore.fetch({query:_649,onComplete:function(_64a){_647.call(_648,_64a);},onError:function(){_647.call(_648,null);},scope:this});this._contactUserStore.fetch({predicate:"'"+_646+"'",onComplete:function(_64b){_647.call(_648,_64b);},onError:function(){_647.call(_648,null);},scope:this});},setSelectionInfo:function(info){this._selectionInfo=info.selectionInfo.selectedIds;this.actionType=info.action;},show:function(){this._dialog.show();if(!this.lup_User){this.createUserLookup();}},createUserLookup:function(){this.userLookupConfig={id:"_acctMgr",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{"name":this.lookupNameColText,"field":"UserInfo.UserName","sortable":true},{"name":this.lookupTitleColText,"field":"UserInfo.Title","sortable":true},{"name":this.lookupDepartmentColText,"field":"UserInfo.Department","sortable":true},{"name":this.lookupRegionColText,"field":"UserInfo.Region","sortable":true},{"name":this.lookupTypeColText,"field":"Type","propertyType":"Sage.Entity.Interfaces.UserType","sortable":true}]}],gridOptions:{contextualCondition:function(){return "Type ne '5' and Type ne '6' and Type ne '7' and Type ne '8'";},contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"users",sort:[{attribute:"UserInfo.UserName"}]},isModal:true,initialLookup:true,returnPrimaryKey:true,dialogTitle:this.lookupUserText,dialogButtonText:this.btnOK_Caption};this.lup_User=new _63d({id:"lu_User",config:this.userLookupConfig,style:"width:100%"});dojo.place(this.lup_User.domNode,this.userLookup_Container.domNode,"only");},_setupStore:function(){if(!this._contactUserStore){this._contactUserStore=new _634({include:[],resourceKind:"contactUsers",service:Sage.Data.SDataServiceRegistry.getSDataService("dynamic")});}},_okClick:function(){var _64c=this.lup_User.selectedObject.$key;if(this._selectionInfo&&_64c){this._setupStore();if(this.actionType==="associate"){var _64d={"ContactId":this._selectionInfo[0],"UserId":_64c};this.associationExists(this._insertAssociation,function(){Sage.UI.Dialogs.showError(this.associationExistsMessage);},_64d,this);}else{if(this.actionType==="disassociate"){for(var i=0;i<this._selectionInfo.count;i++){}}}}},_insertAssociation:function(_64e,self){this._contactUserStore.saveNewEntity(_64e,this._successfulContactUserSave,this._failedContactUserSave,this);},_successfulContactUserSave:function(data){this._dialog.hide();},_failedContactUserSave:function(er){this._dialog.hide();},_close:function(){this._dialog.hide();}});return _63f;});},"Sage/Link":function(){define("Sage/Link",["Sage/UI/Dialogs","Sage/Utility","Sage/Services/ActivityService","dojo/string"],function(_64f,_650,_651,_652){Sage.namespace("Link");Sage.Link={entityDetail:function(kind,id){var _653=kind.toUpperCase();switch(_653){case "ACTIVITY":this.editActivity(id);break;case "HISTORY":this.editHistory(id);break;default:if(_650.getModeId()==="detail"){var _654=Sage.Services.getService("ClientEntityContext");var _655=_654.getContext();if(_655.EntityType===kind||_655.EntityType==="Sage.Entity.Interfaces.I"+kind){_654.navigateSLXGroupEntity(id);return;}}var url=_652.substitute("${0}.aspx?entityid=${1}&modeid=Detail",[kind,id]);document.location=url;break;}},toListView:function(kind){var url;if(typeof kind!=="undefined"){url=kind+".aspx?modeid=list";}else{url=document.location.href.replace("#","");if(url.indexOf("?")>-1){var _656=url.split("?");url=_656[0];}url+="?modeid=list";}document.location=url;},toActivityListView:function(_657){if(document.location.href.toLowerCase().indexOf("activitymanager.aspx")<1){var url="ActivityManager.aspx"+((_657)?"?tabId="+_657:"");window.setTimeout(function(){document.location=url;},5);}else{if(_657){var s=Sage.Services.getService("ClientGroupContext");s.setCurrentGroup(_657);}}},schedule:function(type){if(type==="CompleteActivity"){Sage.ClientLinkHandler.request({request:"Schedule",type:type});return;}var _658=Sage.Services.getService("ActivityService");if(!_658){Sage.Services.addService("ActivityService",new _651());_658=Sage.Services.getService("ActivityService");}_658.scheduleActivity({type:type});},newNote:function(){var _659=Sage.Services.getService("ActivityService");if(!_659){Sage.Services.addService("ActivityService",new _651());_659=Sage.Services.getService("ActivityService");}_659.insertNote();},scheduleActivity:function(args){this.schedule(args);},schedulePhoneCall:function(){this.schedule("PhoneCall");},scheduleMeeting:function(){this.schedule("Meeting");},scheduleToDo:function(){this.schedule("ToDo");},schedulePersonalActivity:function(){this.schedule("PersonalActivity");},scheduleCompleteActivity:function(){this.schedule("CompleteActivity");},scheduleEvent:function(args){var _65a=Sage.Services.getService("ActivityService");_65a.scheduleEvent(args);},editEvent:function(id){var _65b=Sage.Services.getService("ActivityService");_65b.editEvent(id);},deleteEvent:function(id){var _65c=Sage.Services.getService("ActivityService");_65c.deleteEvent(id);},editActivity:function(id,_65d,_65e){var _65f=Sage.Services.getService("ActivityService");if(!_65f){Sage.Services.addService("ActivityService",new _651());_65f=Sage.Services.getService("ActivityService");}_65e=_65e||"";_65f.editActivity(id,_65d,_65e);},editActivityIfConfirmed:function(id,_660){var _661=Sage.Services.getService("ActivityService");_661.editActivityIfConfirmed(id,_660);},editActivityOccurrence:function(id,_662){Sage.ClientLinkHandler.request({request:"EditActivityOccurrence",id:id,recurDate:_662});},editHistory:function(id,args){var _663=Sage.Services.getService("ActivityService");if(!_663){Sage.Services.addService("ActivityService",new _651());_663=Sage.Services.getService("ActivityService");}_663.editHistory(id);},completeActivity:function(id,_664){var _665=Sage.Services.getService("ActivityService");_665.completeActivity(id,_664);},completeNewActivity:function(type,args){var _666=Sage.Services.getService("ActivityService");_666.completeNewActivity(type,args);},completeActivityOccurrence:function(id,_667){var _668=Sage.Services.getService("ActivityService");_668.completeActivityOccurrence(id,_667);},deleteActivity:function(id,_669){var _66a=Sage.Services.getService("ActivityService");_66a.deleteActivity(id,false,_669);},deleteActivityOccurrence:function(id){var _66b=Sage.Services.getService("ActivityService");_66b.deleteActivity(id);},confirmActivityFor:function(_66c,_66d){var _66e=Sage.Services.getService("ActivityService");_66e.confirmActivityFor(_66c,_66d);},editConfirmation:function(id){var _66f=Sage.Services.getService("ActivityService");_66f.editConfirmation(id);},acceptConfirmation:function(id){var _670=Sage.Services.getService("ActivityService");_670.acceptConfirmation({id:id});},declineConfirmation:function(id){var _671=Sage.Services.getService("ActivityService");_671.declineConfirmation(id);},deleteConfirmation:function(id){var _672=Sage.Services.getService("ActivityService");_672.deleteConfirmation(id);},scheduleLitRequest:function(){var _673=Sage.Services.getService("ActivityService");_673.scheduleLitRequest();},deleteLitRequest:function(id){var _674=Sage.Services.getService("ActivityService");_674.deleteLitRequest(id);},goToLitRequest:function(id){var _675=Sage.Services.getService("ActivityService");_675.goToLitRequest(id);},goToActivityAssociation:function(_676,id){var _677=Sage.Services.getService("ActivityService");_677.goToActivityAssociation(_676,id);},mergeRecords:function(){var _678=dijit.byId("list");if(_678){var _679=_678.getSelectionInfo();if(_679.selectionCount===2){var _67a=Sage.Services.getService("SelectionContextService");_67a.setSelectionContext(_679.key,_679,this.mergeRecordsSelectionInfoCallback);Sage.ClientLinkHandler.request({request:"MergeRecords",selectionInfoKey:_679.key});}else{_64f.showInfo(MasterPageLinks.Merge_Account_SelectionError);}}},mergeRecordsSelectionInfoCallback:function(){},removeDeletedConfirmation:function(id){Sage.ClientLinkHandler.request({request:"RemoveDeletedConfirmation",id:id});},getHelpUrl:function(_67b,_67c){var _67d;_67d=_650.getClientContextByKey("WebHelpUrlFmt");if(_67d===""){_67d="help/WebClient_CSH.htm#${0}";}return _652.substitute(_67d,[_67b]);},getHelpUrlTarget:function(){var _67e=_650.getClientContextByKey("WebHelpLinkTarget");return (_67e==="")?"MCWebHelp":_67e;},editSecurityProfile:function(_67f,_680,_681){Sage.ClientLinkHandler.request({request:"Administration",type:"EditSecurityProfile",selectionInfoKey:_67f+","+_680+","+_681});},getTeamMemberLink:function(_682,_683){if(_682.toLowerCase()=="user"){Sage.ClientLinkHandler.request({request:"Administration",type:"RedirectToUser",kind:_682,id:_683});}else{window.location.href=_682+".aspx?entityId="+_683;}}};window.Link=Sage.Link;return Sage.Link;});},"Sage/Utility/File/nls/DefaultDropHandler":function(){define("Sage/Utility/File/nls/DefaultDropHandler",["Sage/LanguageList","dojo/_base/lang"],function(_684,lang){var nls={root:{emailDroppedText:"Dropped Email",attachmentTitleText:"Save Attachements",attachmentQuestionText:"Would you like to keep a copy of these attachment(s) in Saleslogix? <br />The attachments will be stored under the Attachments tab for relevant entities."}};return lang.mixin(_684,nls);});},"Sage/MainView/ActivityMgr/RecurringEditor":function(){require({cache:{"url:Sage/MainView/ActivityMgr/templates/RecurringEditor.html":"\r\n['<div>',\r\n    '<table style=\"width:100%\">',\r\n        '<tr>',\r\n            '<td class=\"recurring-selectors\">',  //radio buttons...\r\n                '<div>{%= $.activityOccurrsText %}</div>',\r\n                '<div>',\r\n                    '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"recurPeriod\" value=\"None\" id=\"{%= $.id %}_rdo_Once\" dojoAttachPoint=\"rdo_Once\" checked=\"true\" dojoAttachEvent=\"onChange:_onceChanged\" />',  //  \r\n                    '<label for=\"{%= $.id %}_rdo_Once\">&nbsp;{%= $.onceText %}</label>',\r\n                '</div><div>',\r\n                    '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"recurPeriod\" value=\"daily\" id=\"{%= $.id %}_rdo_Daily\" dojoAttachPoint=\"rdo_Daily\" dojoAttachEvent=\"onChange:_dailyChanged\" />',\r\n                    '<label for=\"{%= $.id %}_rdo_Daily\">&nbsp;{%= $.dailyText %}</label>',\r\n                '</div><div>',\r\n                    '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"recurPeriod\" value=\"weekly\" id=\"{%= $.id %}_rdo_Weekly\" dojoAttachPoint=\"rdo_Weekly\" dojoAttachEvent=\"onChange:_weeklyChanged\" />',\r\n                    '<label for=\"{%= $.id %}_rdo_Weekly\">&nbsp;{%= $.weeklyText %}</label>',\r\n                '</div><div>',\r\n                    '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"recurPeriod\" value=\"monthly\" id=\"{%= $.id %}_rdo_Monthly\" dojoAttachPoint=\"rdo_Monthly\" dojoAttachEvent=\"onChange:_monthlyChanged\" />',\r\n                    '<label for=\"{%= $.id %}_rdo_Monthly\">&nbsp;{%= $.monthlyText %}</label>',\r\n                '</div><div>',\r\n                    '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"recurPeriod\" value=\"yearly\" id=\"{%= $.id %}_rdo_Yearly\" dojoAttachPoint=\"rdo_Yearly\" dojoAttachEvent=\"onChange:_yearlyChanged\" />',\r\n                    '<label for=\"{%= $.id %}_rdo_Yearly\">&nbsp;{%= $.yearlyText %}</label>',\r\n                '</div>',\r\n            '</td>',\r\n            '<td>',  //panel for each different recurring type...\r\n                '<div dojoType=\"dijit.layout.StackContainer\" dojoAttachPoint=\"_panelContainer\" class=\"recurring-body\" >',\r\n                    '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_oncePanel\" class=\"recurring-panel\"  >',\r\n                        '{%= $.occursOnceText %}',\r\n                    '</div>',\r\n//daily panel...............................\r\n                    '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_dailyPanel\" class=\"recurring-panel\"  >',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"dailyEvery\" value=\"days\" id=\"{%= $.id %}_rdoDailyEvery\" checked=\"true\" dojoAttachPoint=\"_rdoDailyEvery\" dojoAttachEvent=\"onChange:_dailyEveryChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoDailyEvery\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_dailyEveryText\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.daysText %}</span>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"dailyEvery\" value=\"daysAfter\" id=\"{%= $.id %}_rdoDailyEveryAfter\" dojoAttachPoint=\"_rdoDailyEveryAfter\" />',\r\n                                '<label for=\"{%= $.id %}_rdoDailyEveryAfter\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_dailyEveryAfterText\" disabled=\"true\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.daysAfterText %}</span>',\r\n                            '</div>',\r\n                    '</div>',\r\n//weekly panel............................\r\n                    '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_weeklyPanel\" class=\"recurring-panel\"  >',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"weeklyEvery\" value=\"weeksOn\" id=\"{%= $.id %}_rdoWeeklyEvery\" checked=\"true\" dojoAttachPoint=\"_rdoWeeklyEvery\" dojoAttachEvent=\"onChange:_weeklyEveryChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoWeeklyEvery\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_weeklyEveryText\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.weeksOnText %}</span>',\r\n                        '</div>',\r\n                        '<div style=\"white-space:normal;padding-bottom:10px;\">',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkMonday\" value=\"mon\" id=\"{%= $.id %}_chkMonday\" dojoAttachPoint=\"_chkMonday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkMonday\" class=\"padded-inline-label\">{%= $.monText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkTuesday\" value=\"tue\" id=\"{%= $.id %}_chkTuesday\" dojoAttachPoint=\"_chkTuesday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkTuesday\" class=\"padded-inline-label\">{%= $.tueText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkWednesday\" value=\"wed\" id=\"{%= $.id %}_chkWednesday\" dojoAttachPoint=\"_chkWednesday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkWednesday\" class=\"padded-inline-label\">{%= $.wedText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkThursday\" value=\"thu\" id=\"{%= $.id %}_chkThursday\" dojoAttachPoint=\"_chkThursday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkThursday\" class=\"padded-inline-label\">{%= $.thurText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkFriday\" value=\"fri\" id=\"{%= $.id %}_chkFriday\" dojoAttachPoint=\"_chkFriday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkFriday\" class=\"padded-inline-label\">{%= $.friText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkSaturday\" value=\"sat\" id=\"{%= $.id %}_chkSaturday\" dojoAttachPoint=\"_chkSaturday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkSaturday\" class=\"padded-inline-label\">{%= $.satText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkSunday\" value=\"sun\" id=\"{%= $.id %}_chkSunday\" dojoAttachPoint=\"_chkSunday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkSunday\" class=\"padded-inline-label\">{%= $.sunText %}</label>',\r\n                            '</span>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"weeklyEvery\" value=\"weeksAfter\" id=\"{%= $.id %}_rdoWeeklyEveryAfter\" dojoAttachPoint=\"_rdoWeeklyEveryAfter\" />',\r\n                                '<label for=\"{%= $.id %}_rdoWeeklyEveryAfter\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_weeklyEveryAfterText\" disabled=\"true\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_calculateEnd\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.weeksAfterText %}</span>',\r\n                        '</div>',\r\n                    '</div>',\r\n//monthly panel.........................................................\r\n                    '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_monthlyPanel\" class=\"recurring-panel\"  >',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"monthlyOn\" value=\"monthyOn\" id=\"{%= $.id %}_rdoMonthlyOn\" checked=\"true\" dojoAttachPoint=\"_rdoMonthlyOn\" dojoAttachEvent=\"onChange:_monthlyOnChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoMonthlyOn\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_monthlyEveryText\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.monthsOnText %}</span>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_datesSelect\" dojoAttachEvent=\"onChange:_calculateEnd\" maxHeight=\"300\"></select>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"monthlyOn\" value=\"monthyOnThe\" id=\"{%= $.id %}_rdoMonthlyOnThe\" dojoAttachPoint=\"_rdoMonthlyOnThe\" />', // dojoAttachEvent=\"onChange:_monthlyOnChanged\"\r\n                                '<label for=\"{%= $.id %}_rdoMonthlyOnThe\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_monthlyOnTheText\" disabled=\"true\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.monthsOnTheText %}</span>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_weeksSelect\" disabled=\"true\" dojoAttachEvent=\"onChange:_calculateEnd\"></select>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_weekdaySelect\" disabled=\"true\" dojoAttachEvent=\"onChange:_calculateEnd\"></select>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"monthlyOn\" value=\"monthyAfter\" id=\"{%= $.id %}_rdoMonthlyAfter\" dojoAttachPoint=\"_rdoMonthlyAfter\" dojoAttachEvent=\"onChange:_monthlyOnChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoMonthlyAfter\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_monthlyAfterText\" disabled=\"true\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_calculateEnd\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.monthsAfterText %}</span>',\r\n                        '</div>',\r\n                    '</div>',\r\n// yearly panel..............\r\n                    '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_yearlyPanel\" class=\"recurring-panel\"  >',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"yearlyOn\" value=\"yearlyOn\" id=\"{%= $.id %}_rdoYearlyOn\" checked=\"true\" dojoAttachPoint=\"_rdoYearlyOn\" dojoAttachEvent=\"onChange:_yearlyOnChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoYearlyOn\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_yearlyEveryText\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.yearsOnText %}</span>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_monthNamesSelect\" dojoAttachEvent=\"onChange:_yearlyRecurDateChanged\"></select>',\r\n                            '<select dojoType=\"dijit.form.Select\" maxHeight=\"300\" dojoAttachPoint=\"_yearDatesSelect\" dojoAttachEvent=\"onChange:_yearlyRecurDateChanged\"></select>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= ($.labelWidth - 3) %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"yearlyOn\" value=\"yearlyOnThe\" id=\"{%= $.id %}_rdoYearlyOnThe\" dojoAttachPoint=\"_rdoYearlyOnThe\" />',\r\n                                '<label for=\"{%= $.id %}_rdoYearlyOnThe\" class=\"padded-inline-label\">{%= $.theText %}</label>',\r\n                            '</div>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_yearWeeksSelect\" disabled=\"true\" dojoAttachEvent=\"onChange:_yearlyRecurDateChanged\"></select>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_yearWeekdaySelect\" disabled=\"true\" dojoAttachEvent=\"onChange:_yearlyRecurDateChanged\"></select>',\r\n                            '<label class=\"padded-inline-label\">{%= $.inText %}</label>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_yearMonthNamesSelect\" disabled=\"true\" dojoAttachEvent=\"onChange:_yearlyRecurDateChanged\"></select>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"yearlyOn\" value=\"yearlyEveryAfter\" id=\"{%= $.id %}_rdoYearlyEveryAfter\" dojoAttachPoint=\"_rdoYearlyEveryAfter\" dojoAttachEvent=\"onChange:_yearlyOnChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoYearlyEveryAfter\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_yearlyEveryAfterText\" disabled=\"true\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_calculateEnd\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.yearsAfterText %}</span>',\r\n                            '</div>',\r\n                    '</div>',\r\n                '</div>', //stack container\r\n// End date calculator section.........................................\r\n                '<div dojoAttachPoint=\"_startEndCalculator\" class=\"display-none\">',\r\n                    '<hr />',\r\n                    '<table>',\r\n                        '<tr>',\r\n                            '<td>{%= $.startRecurringText %}</td>',\r\n                            '<td>',\r\n                                '<div dojoType=\"Sage.UI.Controls.DateTimePicker\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}_dtp_StartRecur\" value=\"{%= $.startDate %}\" dojoAttachPoint=\"dtp_startRecur\" displayDate=\"true\" displayTime=\"false\" dojoAttachEvent=\"onChange:_recurringStartDateChanged\" readOnly=\"true\" ></div>',\r\n                            '</td>',\r\n                        '</tr>',\r\n                        '<tr>',\r\n                            '<td>',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"endRecur\" value=\"endAfterNum\" id=\"{%= $.id %}_rdoEndAfterNum\" dojoAttachPoint=\"_rdoEndAfter\" dojoAttachEvent=\"onChange:_endCalcModeChanged\" checked=\"true\" />',\r\n                                '<label for=\"{%= $.id %}_rdoEndAfterNum\" class=\"padded-inline-label\">{%= $.endAfterText  %}</label>',\r\n                            '</td><td>',\r\n                                '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"2\" constraints=\"{places: 0, type: \\'decimal\\', max: 999, min: 1}\" maxlength=\"3\" id=\"{%= $.id %}_num_Occurances\" dojoAttachPoint=\"num_Occurances\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_numOccurancesChanged\" />',\r\n                                '<span class=\"padded-inline-label\">{%= $.occurrencesText %}</span>',\r\n                            '</td>',\r\n                        '</tr><tr>',\r\n                            '<td>',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"endRecur\" value=\"endOn\" id=\"{%= $.id %}_rdoEndOn\" dojoAttachPoint=\"_rdoEndOn\" />',\r\n                                '<label for=\"{%= $.id %}_rdoEndOn\" class=\"padded-inline-label\">{%= $.endOnText %}</label>',\r\n                            '</td>',\r\n                            '<td>',\r\n                                '<div dojoType=\"Sage.UI.Controls.DateTimePicker\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}_dtp_EndRecur\" dojoAttachPoint=\"dtp_endRecur\" displayDate=\"true\" displayTime=\"false\" dojoAttachEvent=\"onChange:_endRecurChanged\" ></div>',\r\n                            '</td>',\r\n                        '</tr>',\r\n                    '</table>',\r\n                '</div>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</table>',\r\n'</div>']"}});define("Sage/MainView/ActivityMgr/RecurringEditor",["dijit/_Widget","Sage/_Templated","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","Sage/Utility/Activity","dijit/form/RadioButton","Sage/UI/Controls/Numeric","dijit/layout/StackContainer","dijit/layout/ContentPane","Sage/UI/NumberTextBox","dijit/form/CheckBox","dijit/form/Select","Sage/UI/Controls/DateTimePicker","dojo/date","dojo/i18n!./nls/RecurringEditor","dojo/text!./templates/RecurringEditor.html"],function(_685,_686,_687,lang,_688,_689,_68a,_68b,_68c,_68d,_68e,_68f,_690,_691,_692,_693,_694){var _695=_687("Sage.MainView.ActivityMgr._RecurringCalculator",null,{startDate:new Date(),initialStartDate:new Date(),endDate:new Date(),interval:1,occurances:1,activityRecurPeriodCode:0,recurPeriod:false,editor:false,constructor:function(opts){lang.mixin(this,opts);},calculateEndDate:function(){if(!isNaN(this.interval)&&!isNaN(this.occurances)&&this.recurPeriod){this.endDate=_692.add(this.startDate,this.recurPeriod,(this.interval*this.occurances)-this.interval);}return this.endDate||this.startDate;},calculateNumberOfOccurances:function(){var dif=_692.difference(this.startDate,this.endDate,this.recurPeriod);var _696=(dif/this.interval)+1;_696=Math.floor(_696);return _696;},set:function(prop,val){switch(prop.toLowerCase()){case "enddate":this.endDate=val;this.endDate.setHours(0);this.endDate.setMinutes(0);break;case "interval":this.interval=val;break;case "occurances":this.occurances=val;break;case "startdate":this.startDate=val;this.startDate.setHours(0);this.startDate.setMinutes(0);break;case "initialstartdate":this.initialStartDate=val;this.initialStartDate.setHours(0);this.initialStartDate.setMinutes(0);break;case "editor":this.editor=val;break;case "activityrecurperiodcode":this.activityRecurPeriodCode=val;break;}},get:function(prop){switch(prop.toLowerCase()){case "enddate":return this.endDate;case "interval":return this.interval;case "occurances":return this.occurances;case "startdate":return this.startDate;case "editor":return this.editor;case "activityRecurPeriodCode":return this.activityRecurPeriodCode;}return false;},_getTempStartDate:function(){return new Date(this.startDate.getFullYear(),this.startDate.getMonth(),this.startDate.getDate());}});var _697=_687("Sage.MainView.ActivityMgr.DailyRecurringCalculator",_695,{recurPeriod:"day"});var _698=_687("Sage.MainView.ActivityMgr.WeeklyRecurringCalculator",_695,{recurPeriod:"week",_checkedCount:0,_checkedDays:{},calculateEndDate:function(){if(this.editor){var _699=this.editor.countCheckedDays();if(_699<2){if(!isNaN(this.interval)&&!isNaN(this.occurances)&&this.recurPeriod){this.endDate=_692.add(this.startDate,this.recurPeriod,(this.interval*this.occurances)-this.interval);}return this.endDate||this.startDate;}var _69a=this.editor.getCheckedDays();var _69b=this._getTempStartDate();var _69c=this.occurances-1;while(_69c>0){_69b=_692.add(_69b,"day",1);_69c=_69c-_69a[_69b.getDay()];}return _69b;}return this.endDate||this.startDate;},calculateNumberOfOccurances:function(){var _69d=this.inherited(arguments);var _69e=this.editor.countCheckedDays();if(_69e>1){var _69f=_692.difference(this.startDate,this.endDate,"day");var _6a0=_692.difference(this.startDate,this.endDate,this.recurPeriod);var _6a1=0;if((_6a0*7)<=_69f){_69d=_6a0*_69e;var r=(_69f%7)*-1;var _6a2=_692.add(this.endDate,"day",r);var _6a3=this.editor.getCheckedDays();while(_692.compare(this.endDate,_6a2,"date")>=0){if(_6a3[_6a2.getDay()]){_6a1++;}_6a2=_692.add(_6a2,"day",1);}}_69d+=_6a1;}return _69d;}});var _6a4=_687("Sage.MainView.ActivityMgr.MonthlyRecurringCalculator",_695,{recurPeriod:"month",calculateStartDate:function(){var _6a5=lang.clone(this.initialStartDate);var _6a6;var _6a7=parseInt(this.editor._datesSelect.get("value"),10);var _6a8=parseInt(this.editor._weekdaySelect.get("value"),10);var _6a9=parseInt(this.editor._weeksSelect.get("value"),10);if(this.editor._rdoMonthlyOn.get("checked")){_6a6=this.getNthDayOfMonth(this.initialStartDate,_6a7);_6a5=_6a6;}else{if(this.editor._rdoMonthlyOnThe.get("checked")){_6a6=_689.setDateToNthWeekDay(this.initialStartDate,_6a9,_6a8);_6a6.setHours(this.initialStartDate.getHours());_6a6.setMinutes(this.initialStartDate.getMinutes());var _6aa=dojo.date.compare(this.initialStartDate,_6a6,"date");if(_6aa!=0){if(_6aa>0){_6a5=this.calculateFirstOccurrance(this.initialStartDate,_6a6,_6a9,_6a8);}else{_6a5=_6a6;}}}}return _6a5;},calculateEndDate:function(){var _6ab=this.inherited(arguments);if(this.activityRecurPeriodCode===5){var week=_689.getNthWeekOfMonth(this.startDate);var day=this.startDate.getDay();_6ab=_689.setDateToNthWeekDay(_6ab,week,day);}return _6ab;},getNthDayOfMonth:function(_6ac,_6ad){var _6ae=lang.clone(_6ac);var _6af=_6ac.getDate();if(_6af>_6ad){_6ae=dojo.date.add(_6ac,"month",1);}_6ae.setDate(_6ad);return _6ae;},calculateFirstOccurrance:function(_6b0,_6b1,_6b2,_6b3){var _6b4=_6b1;while(dojo.date.compare(this.initialStartDate,_6b4,"date")>0){_6b4=_689.setDateToNthWeekDay(dojo.date.add(_6b4,"month",1),_6b2,_6b3);}return _6b4;}});var _6b5=_687("Sage.MainView.ActivityMgr.YearlyRecurringCalculator",_695,{recurPeriod:"year",calculateEndDate:function(){var _6b6=this.inherited(arguments);if(this.activityRecurPeriodCode===8){var week=_689.getNthWeekOfMonth(this.startDate);var day=this.startDate.getDay();_6b6.setMonth(this.startDate.getMonth());_6b6=_689.setDateToNthWeekDay(_6b6,week,day);}return _6b6;}});var _6b7=_687("Sage.MainView.ActivityMgr.RecurringEditor",[_685,_686],{activity:{},id:"",labelWidth:"80",startDate:new Date(),initialStartDate:new Date(),startDateChangedFromParent:false,occurances:2,interval:1,activityRecurPeriodCode:0,recurringPeriods:{once:"once",daily:"daily",weekly:"weekly",monthly:"monthly",yearly:"yearly"},currentPeriod:"once",endCalculators:false,_applyingActivityData:false,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_694)),constructor:function(){lang.mixin(this,_693);},postMixInProperties:function(){if(!this.endCalculators){this.endCalculators={};var _6b8={startDate:this.startDate,endDate:this.endDate,interval:1,occurances:1,editor:this};this.endCalculators[this.recurringPeriods.daily]=new _697(_6b8);this.endCalculators[this.recurringPeriods.weekly]=new _698(_6b8);this.endCalculators[this.recurringPeriods.monthly]=new _6a4(_6b8);this.endCalculators[this.recurringPeriods.yearly]=new _6b5(_6b8);}},_setStartDateAttr:function(_6b9){if(_6b9.getMonth()===this.startDate.getMonth()&&_6b9.getDate()===this.startDate.getDate()&&_6b9.getFullYear()===this.startDate.getFullYear()){return;}this.startDateChangedFromParent=true;this._applyingActivityData=true;this.startDate=_6b9;this.initialStartDate=_6b9;this.dtp_startRecur.set("value",_6b9);this._weeklySyncToStartDate();this._monthlySyncToStartDate();this._yearlySyncToStartDate();this._calculateEnd();this._applyingActivityData=false;this.startDateChangedFromParent=false;},_getStartDateAttr:function(){return this.startDate;},_setOccurancesAttr:function(occ){this.occurances=occ;this.num_Occurances.set("value",occ);},_getOccurancesAttr:function(){return this.occurances;},_setActivityAttr:function(_6ba){this.activity=_6ba;this._setUI();this._applyActivityData();},_getActivityAttr:function(){return this.activity;},onTabShow:function(){this._panelContainer.resize();},_setUI:function(){var opts=[];if(this._datesSelect.getOptions().length<1){for(var i=1;i<32;i++){opts.push({value:i.toString(),label:i.toString()});}this._datesSelect.addOption(opts);this._yearDatesSelect.addOption(opts);}if(this._monthNamesSelect.getOptions().length<1){opts=[{value:"1",label:this.janText},{value:"2",label:this.febText},{value:"3",label:this.marText},{value:"4",label:this.aprText},{value:"5",label:this.mayText},{value:"6",label:this.junText},{value:"7",label:this.julText},{value:"8",label:this.augText},{value:"9",label:this.sepText},{value:"10",label:this.octText},{value:"11",label:this.novText},{value:"12",label:this.decText}];this._monthNamesSelect.addOption(opts);this._yearMonthNamesSelect.addOption(opts);}if(this._weeksSelect.getOptions().length<1){opts=[{value:"1",label:this.firstText},{value:"2",label:this.secondText},{value:"3",label:this.thirdText},{value:"4",label:this.fourthText},{value:"5",label:this.lastText}];this._weeksSelect.addOption(opts);this._yearWeeksSelect.addOption(opts);}if(this._weekdaySelect.getOptions().length<1){opts=[{value:"1",label:this.monText},{value:"2",label:this.tueText},{value:"3",label:this.wedText},{value:"4",label:this.thurText},{value:"5",label:this.friText},{value:"6",label:this.satText},{value:"0",label:this.sunText}];this._weekdaySelect.addOption(opts);this._yearWeekdaySelect.addOption(opts);}},_onceChanged:function(_6bb){this._setUI();if(_6bb){this._panelContainer.selectChild(this._oncePanel);this.interval=1;this._updateRecurringPeriod(this.recurringPeriods.once);}},_dailyChanged:function(_6bc){if(_6bc){this._panelContainer.selectChild(this._dailyPanel);this._dailyUpdateInterval();this._updateRecurringPeriod(this.recurringPeriods.daily);this._toggleEndCalculatorVisibility(this._rdoDailyEvery.get("checked"));}},_dailyUpdateInterval:function(){this.interval=(this._rdoDailyEvery.get("checked"))?this._dailyEveryText.get("value"):this._dailyEveryAfterText.get("value");if(isNaN(this.interval)){this.interval=1;}},_weeklyChanged:function(_6bd){if(_6bd){this._panelContainer.selectChild(this._weeklyPanel);this._weeklyUpdateInterval();this._updateRecurringPeriod(this.recurringPeriods.weekly);this._toggleEndCalculatorVisibility(this._rdoWeeklyEvery.get("checked"));}},_weeklySyncToStartDate:function(){this._clearCheckedWeekdays();this._enforceWeekdayChecked();},_weeklyUpdateInterval:function(){this._enforceWeekdayChecked();this.interval=(this._rdoWeeklyEvery.get("checked"))?this._weeklyEveryText.get("value"):this._weeklyEveryAfterText.get("value");if(isNaN(this.interval)){this.interval=1;}},_monthlyChanged:function(_6be){if(_6be){this._panelContainer.selectChild(this._monthlyPanel);this._monthlyUpdateInterval();this._updateRecurringPeriod(this.recurringPeriods.monthly);this._toggleEndCalculatorVisibility(!this._rdoMonthlyAfter.get("checked"));}},_monthlyUpdateInterval:function(){this.interval=(this._rdoMonthlyOn.get("checked"))?this._monthlyEveryText.get("value"):(this._rdoMonthlyOnThe.get("checked"))?this._monthlyOnTheText.get("value"):this._monthlyAfterText.get("value");if(isNaN(this.interval)){this.interval=1;}},_monthlySyncToStartDate:function(){this._datesSelect.set("value",this.startDate.getDate().toString());this._weekdaySelect.set("value",this.startDate.getDay().toString());this._weeksSelect.set("value",_689.getNthWeekOfMonth(this.startDate).toString());},_yearlyChanged:function(_6bf){if(_6bf){this._panelContainer.selectChild(this._yearlyPanel);this._yearlyUpdateInterval();this._updateRecurringPeriod(this.recurringPeriods.yearly);this._toggleEndCalculatorVisibility(!this._rdoYearlyEveryAfter.get("checked"));}},_yearlyUpdateInterval:function(){this.interval=(this._rdoYearlyOn.get("checked"))?this._yearlyEveryText.get("value"):(this._rdoYearlyEveryAfter.get("checked"))?this._yearlyEveryAfterText.get("value"):1;},_yearlySyncToStartDate:function(){this._monthNamesSelect.set("value",(this.startDate.getMonth()+1).toString());this._yearDatesSelect.set("value",this.startDate.getDate().toString());this._yearWeeksSelect.set("value",_689.getNthWeekOfMonth(this.startDate).toString());this._yearWeekdaySelect.set("value",this.startDate.getDay().toString());this._yearMonthNamesSelect.set("value",(this.startDate.getMonth()+1).toString());},_updateRecurringPeriod:function(_6c0){this._toggleEndCalculatorVisibility(_6c0!==this.recurringPeriods.once);this.currentPeriod=_6c0;this._calculateEnd();this.onRecurPeriodChanged(_6c0);},_toggleEndCalculatorVisibility:function(_6c1){if(_6c1){_688.remove(this._startEndCalculator,"display-none");}else{_688.add(this._startEndCalculator,"display-none");}},_applyActivityData:function(){this._applyingActivityData=true;if(this.activity&&this.activity.hasOwnProperty("Recurring")){this.startDate=Sage.Utility.Convert.toDateFromString(this.activity.StartDate);this.initialStartDate=Sage.Utility.Convert.toDateFromString(this.activity.StartDate);if(this.activity.Timeless||_689.isDateFiveSecondRuleTimeless(this.startDate)){this.startDate=new Date(this.startDate.getUTCFullYear(),this.startDate.getUTCMonth(),this.startDate.getUTCDate(),0,0,5);}this.activityRecurPeriodCode=this.activity.RecurPeriod;this.dtp_startRecur.set("value",this.startDate);if(!this.activity.Recurring){this.rdo_Once.set("checked",true);this._toggleEndCalculatorVisibility(false);this._resetInterval();this._weeklySyncToStartDate();this._monthlySyncToStartDate();this._yearlySyncToStartDate();this._applyingActivityData=false;return;}this._toggleEndCalculatorVisibility(true);switch(this.activity.RecurPeriod){case 0:case 1:this._applyDailyRecurringValues();break;case 2:case 3:this._applyWeeklyRecurringValues();break;case 4:case 5:case 6:this._applyMonthlyRecurringValues();break;case 7:case 8:case 9:this._applyYearlyRecurringValues();break;default:this.rdo_Once.set("checked",true);}this._applyingActivityData=false;}},_applyEndCalculatorValues:function(){this.dtp_startRecur.set("value",this.startDate);this._rdoEndAfter.set("checked",true);this.num_Occurances.set("value",this.activity.RecurIterations);this._calculateEnd();},_applyDailyRecurringValues:function(){this.rdo_Daily.set("checked",true);this._toggleEndCalculatorVisibility(this.activity.RecurPeriod===0);this.interval=this.activity.RecurPeriodSpec;if(this.activity.RecurPeriod===0){this._rdoDailyEvery.set("checked",true);this._dailyEveryText.set("value",this.activity.RecurPeriodSpec);this._applyEndCalculatorValues();}else{if(this.activity.RecurPeriod===1){this._rdoDailyEveryAfter.set("checked",true);this._dailyEveryAfterText.set("value",this.activity.RecurPeriodSpec);}}},_weekDayValues:{sun:131072,mon:262144,tue:524288,wed:1048576,thu:2097152,fri:4194304,sat:8388608},_resetInterval:function(){this._rdoDailyEvery.set("checked",true);this._dailyEveryText.set("value","1");this._dailyEveryAfterText.set("value","1");this._rdoWeeklyEvery.set("checked",true);this._weeklyEveryText.set("value","1");this._weeklyEveryAfterText.set("value","1");this._rdoMonthlyOn.set("checked",true);this._monthlyEveryText.set("value","1");this._monthlyOnTheText.set("value","1");this._monthlyAfterText.set("value","1");this._rdoYearlyOn.set("checked",true);this._yearlyEveryText.set("value","1");this._yearlyEveryAfterText.set("value","1");this.num_Occurances.set("value","2");this.occurances=2;this._intervalChanged(2);},_clearCheckedWeekdays:function(){this._chkSaturday.set("checked",false);this._chkFriday.set("checked",false);this._chkThursday.set("checked",false);this._chkThursday.set("checked",false);this._chkWednesday.set("checked",false);this._chkTuesday.set("checked",false);this._chkMonday.set("checked",false);this._chkSunday.set("checked",false);},_applyWeeklyRecurringValues:function(){this.rdo_Weekly.set("checked",true);this._toggleEndCalculatorVisibility(this.activity.RecurPeriod===2);this._clearCheckedWeekdays();this.interval=this._evalRecurperiodspec(this.activity.RecurPeriodSpec,this.activity.RecurPeriod);if(this.activity.RecurPeriod===2){this._rdoWeeklyEvery.set("checked",true);this._weeklyEveryText.set("value",this.interval);this._enforceWeekdayChecked();this._applyEndCalculatorValues();}else{if(this.activity.RecurPeriod===3){this._rdoWeeklyEveryAfter.set("checked",true);this._weeklyEveryAfterText.set("value",this.interval);}}},_evalRecurperiodspec:function(_6c2,_6c3){if(_6c2>this._weekDayValues["sat"]){_6c2=_6c2-this._weekDayValues["sat"];if(_6c3===2){this._chkSaturday.set("checked",true);}}if(_6c2>this._weekDayValues["fri"]){_6c2=_6c2-this._weekDayValues["fri"];if(_6c3===2){this._chkFriday.set("checked",true);}}if(_6c2>this._weekDayValues["thu"]){_6c2=_6c2-this._weekDayValues["thu"];if(_6c3===2){this._chkThursday.set("checked",true);}}if(_6c2>this._weekDayValues["wed"]){_6c2=_6c2-this._weekDayValues["wed"];if(_6c3===2){this._chkWednesday.set("checked",true);}}if(_6c2>this._weekDayValues["tue"]){_6c2=_6c2-this._weekDayValues["tue"];if(_6c3===2){this._chkTuesday.set("checked",true);}}if(_6c2>this._weekDayValues["mon"]){_6c2=_6c2-this._weekDayValues["mon"];if(_6c3===2){this._chkMonday.set("checked",true);}}if(_6c2>this._weekDayValues["sun"]){_6c2=_6c2-this._weekDayValues["sun"];if(_6c3===2){this._chkSunday.set("checked",true);}}return _6c2;},_applyMonthlyRecurringValues:function(){this.rdo_Monthly.set("checked",true);var _6c4=this.activity.RecurPeriodSpec;if(this.activity.RecurPeriod===4){this._rdoMonthlyOn.set("checked",true);_6c4=this._evalRecurperiodspec(_6c4,this.activity.RecurPeriod);if(_6c4>65000){_6c4=_6c4%65536;}this._monthlyEveryText.set("value",_6c4);this._datesSelect.set("value",this.startDate.getDate().toString());this._applyEndCalculatorValues();}else{if(this.activity.RecurPeriod===5){this._rdoMonthlyOnThe.set("checked",true);var wDay=Math.floor(_6c4/524288)-1;_6c4=_6c4%524288;var _6c5=Math.floor(_6c4/65536);_6c4=_6c4%65536;_6c5++;this._weeksSelect.set("value",(_6c5).toString());this._weekdaySelect.set("value",wDay.toString());this._monthlyOnTheText.set("value",_6c4);this._applyEndCalculatorValues();}else{if(this.activity.RecurPeriod===6){this._rdoMonthlyAfter.set("checked",true);if(_6c4>1048576){_6c4=_6c4-1048576;if(_6c4>1000){_6c4=_6c4%65536;}}this._monthlyAfterText.set("value",_6c4);}}}this.interval=_6c4;this._toggleEndCalculatorVisibility(this.activity.RecurPeriod!==6);},_applyYearlyRecurringValues:function(){var mon;this.rdo_Yearly.set("checked",true);var _6c6=this.activity.RecurPeriodSpec;if(this.activity.RecurPeriod===7){this._rdoYearlyOn.set("checked",true);if(_6c6>38797312){_6c6=eval(_6c6)-38797312;}else{_6c6=eval(_6c6)-17825792;}if(_6c6>1000){_6c6=this._evalRecurperiodspec(_6c6,this.activity.RecurPeriod);_6c6=_6c6%65536;}this._yearlyEveryText.set("value",_6c6);mon=this.startDate.getMonth();mon++;this._monthNamesSelect.set("value",mon.toString());var d=this.startDate.getDate();this._yearDatesSelect.set("value",d.toString());this._applyEndCalculatorValues();}else{if(this.activity.RecurPeriod===8){this._rdoYearlyOnThe.set("checked",true);mon=Math.floor(_6c6/4194304);_6c6=_6c6%4194304;var wDay=Math.floor(_6c6/524288)-1;_6c6=_6c6%524288;var _6c7=Math.floor(_6c6/65536);_6c7++;_6c6=_6c6%65536;this._yearWeeksSelect.set("value",_6c7.toString());this._yearWeekdaySelect.set("value",wDay.toString());this._yearMonthNamesSelect.set("value",mon.toString());this._applyEndCalculatorValues();}else{if(this.activity.RecurPeriod===9){this._rdoYearlyEveryAfter.set("checked",true);if(_6c6>38797312){_6c6=_6c6-38797312;if(_6c6>1000){_6c6=this._evalRecurperiodspec(_6c6,this.activity.RecurPeriod);_6c6=_6c6%65536;}}this._yearlyEveryAfterText.set("value",_6c6);}}}this.interval=_6c6;this._toggleEndCalculatorVisibility(this.activity.RecurPeriod!==9);},_dailyEveryChanged:function(){this._setDailyUI();this._applyChangesToActivity();},_setDailyUI:function(){var _6c8=this._rdoDailyEvery.get("checked");this._dailyEveryText.set("disabled",!_6c8);this._dailyEveryAfterText.set("disabled",_6c8);this._dailyUpdateInterval();this.activityRecurPeriodCode=this._rdoDailyEvery.get("checked")?0:1;this._toggleEndCalculatorVisibility(_6c8);},_weeklyEveryChanged:function(){this._setWeeklyUI();this._applyChangesToActivity();},_setWeeklyUI:function(){var _6c9=!this._rdoWeeklyEvery.get("checked");this._weeklyEveryText.set("disabled",_6c9);this._chkMonday.set("disabled",_6c9);this._chkTuesday.set("disabled",_6c9);this._chkWednesday.set("disabled",_6c9);this._chkThursday.set("disabled",_6c9);this._chkFriday.set("disabled",_6c9);this._chkSaturday.set("disabled",_6c9);this._chkSunday.set("disabled",_6c9);this._weeklyEveryAfterText.set("disabled",!this._rdoWeeklyEveryAfter.get("checked"));this._enforceWeekdayChecked();this._weeklyUpdateInterval();this.activityRecurPeriodCode=this._rdoWeeklyEvery.get("checked")?2:3;this._toggleEndCalculatorVisibility(this._rdoWeeklyEvery.get("checked"));},_dayChecked:function(){this._enforceWeekdayChecked();this._calculateEnd();},_enforceWeekdayChecked:function(){var _6ca=this.countCheckedDays();if(_6ca<1){var d=this.startDate.getDay();switch(d){case 0:this._chkSunday.set("checked",true);break;case 1:this._chkMonday.set("checked",true);break;case 2:this._chkTuesday.set("checked",true);break;case 3:this._chkWednesday.set("checked",true);break;case 4:this._chkThursday.set("checked",true);break;case 5:this._chkFriday.set("checked",true);break;case 6:this._chkSaturday.set("checked",true);break;}}if(_6ca>this.occurances){this._setOccurancesAttr(_6ca);}},getCheckedDays:function(){return [this._chkSunday.get("checked")?1:0,this._chkMonday.get("checked")?1:0,this._chkTuesday.get("checked")?1:0,this._chkWednesday.get("checked")?1:0,this._chkThursday.get("checked")?1:0,this._chkFriday.get("checked")?1:0,this._chkSaturday.get("checked")?1:0];},countCheckedDays:function(){var _6cb=0;var _6cc=this.getCheckedDays();for(var i=0;i<_6cc.length;i++){_6cb+=Number(_6cc[i]);}return _6cb;},_monthlyOnChanged:function(){this._setMonthlyUI();if(this._rdoMonthlyAfter.get("checked")){this._applyChangesToActivity();}},_setMonthlyUI:function(){var _6cd=!this._rdoMonthlyOn.get("checked");this._monthlyEveryText.set("disabled",_6cd);this._datesSelect.set("disabled",_6cd);_6cd=!this._rdoMonthlyOnThe.get("checked");this._monthlyOnTheText.set("disabled",_6cd);this._weeksSelect.set("disabled",_6cd);this._weekdaySelect.set("disabled",_6cd);this._monthlyAfterText.set("disabled",!this._rdoMonthlyAfter.get("checked"));this._monthlyUpdateInterval();this.activityRecurPeriodCode=this._rdoMonthlyOn.get("checked")?4:this._rdoMonthlyOnThe.get("checked")?5:6;this._toggleEndCalculatorVisibility(!this._rdoMonthlyAfter.get("checked"));if(this.activityRecurPeriodCode<6){this._calculateEnd();}},_monthlyValidateEndDate:function(){if(this.rdo_Monthly.get("checked")){var _6ce=this.dtp_endRecur.get("value");if(this._rdoMonthlyOn.get("checked")){var _6cf=parseInt(this._datesSelect.get("value"),10);if(_6ce.getDate()!==_6cf){_6ce.setDate(_6cf);this.dtp_endRecur.set("value",_6ce);return false;}}else{if(this._rdoMonthlyOnThe.get("checked")){var _6d0=parseInt(this._weekdaySelect.get("value"),10);var _6d1=parseInt(this._weeksSelect.get("value"),10);if(_689.getNthWeekOfMonth(_6ce)!==_6d1||_6ce.getDay()!==_6d0){_6ce=_689.setDateToNthWeekDay(_6ce,_6d1,_6d0);this.dtp_endRecur.set("value",_6ce);return false;}}}}return true;},_yearlyOnChanged:function(){this._setYearlyUI();this._applyChangesToActivity();},_setYearlyUI:function(){var _6d2=!this._rdoYearlyOn.get("checked");this._yearlyEveryText.set("disabled",_6d2);this._monthNamesSelect.set("disabled",_6d2);this._yearDatesSelect.set("disabled",_6d2);_6d2=!this._rdoYearlyOnThe.get("checked");this._yearWeeksSelect.set("disabled",_6d2);this._yearWeekdaySelect.set("disabled",_6d2);this._yearMonthNamesSelect.set("disabled",_6d2);this._yearlyEveryAfterText.set("disabled",!this._rdoYearlyEveryAfter.get("checked"));this._yearlyUpdateInterval();this.activityRecurPeriodCode=this._rdoYearlyOn.get("checked")?7:this._rdoYearlyOnThe.get("checked")?8:9;this._toggleEndCalculatorVisibility(!this._rdoYearlyEveryAfter.get("checked"));},_yearlyValidateEndDate:function(){var _6d3=true;if(this.rdo_Yearly.get("checked")){var _6d4=this.dtp_endRecur.get("value");var mon=this.startDate.getMonth();if(_6d4.getMonth()!==mon){_6d3=false;_6d4.setMonth(mon);}if(this._rdoYearlyOn.get("checked")){var dt=this.startDate.getDate();if(_6d4.getDate!==dt){_6d3=false;_6d4.setDate(dt);}}else{if(this._rdoYearlyOnThe.get("checked")){var _6d5=parseInt(this._yearWeekdaySelect.get("value"),10);var _6d6=parseInt(this._yearWeeksSelect.get("value"),10);if(_689.getNthWeekOfMonth(_6d4)!==_6d6||_6d4.getDay()!==_6d5){_6d3=false;_6d4=_689.setDateToNthWeekDay(_6d4,_6d6,_6d5);}}}if(!_6d3){this.dtp_endRecur.set("value",_6d4);}}return _6d3;},_yearlyRecurDateChanged:function(){if(this._applyingActivityData){return;}var _6d7,_6d8=false;var _6d9=new Date(this.startDate.getFullYear(),this.startDate.getMonth(),this.startDate.getDate());if(this._rdoYearlyOn.get("checked")){_6d7=parseInt(this._monthNamesSelect.get("value"),10)-1;var dt=parseInt(this._yearDatesSelect.get("value"),10);if(_6d9.getMonth()!==_6d7){_6d9.setMonth(_6d7);_6d8=true;}if(_6d9.getDate()!==dt){_6d9.setDate(dt);_6d8=true;}}else{if(this._rdoYearlyOnThe.get("checked")){_6d7=parseInt(this._yearMonthNamesSelect.get("value"),10)-1;if(_6d9.getMonth()!==_6d7){_6d9.setMonth(_6d7);_6d8=true;}var dy=parseInt(this._weekdaySelect.get("value"),10);var wk=parseInt(this._weeksSelect.get("value"),10);var _6da=_689.setDateToNthWeekDay(_6d9,wk,dy);if(_6d9.getDate()!==_6da.getDate()){if(_6da<new Date()){_6da=_692.add(_6da,"year",1);_6da=_689.setDateToNthWeekDay(_6da,wk,dy);}_6d9=_6da;_6d8=true;}}}if(_6d8){if(_6d9<new Date()){_6d9=_692.add(_6d9,"year",1);}if(!this.startDateChangedFromParent){this.onStartDateChanged(_6d9);}}},_intervalChanged:function(_6db){this.interval=_6db;this._calculateEnd();},_recurringStartDateChanged:function(_6dc){if(!this.startDateChangedFromParent){this.onStartDateChanged(_6dc);}},_endCalcModeChanged:function(){},_numOccurancesChanged:function(_6dd){this.occurances=_6dd;this._calculateEndDate();},_endRecurChanged:function(_6de){if(this._rdoEndOn.get("checked")){if(this._monthlyValidateEndDate()&&this._yearlyValidateEndDate()){this._calculateOccurances();}}},_calculateEnd:function(){if(this.currentPeriod==="once"){this._applyChangesToActivity();return;}if(this._rdoEndAfter.get("checked")){if(this.rdo_Monthly.get("checked")&&!this.startDateChangedFromParent){this._calculateStartDate();}this._calculateEndDate();}else{this._calculateOccurances();}},_calculateStartDate:function(){var _6df=this.endCalculators[this.currentPeriod];if(_6df&&this._rdoEndAfter.get("checked")){this._applyCurrentValuesToCalculator(_6df);_6df.set("occurances",this.occurances);var _6e0=_6df.calculateStartDate();this.startDate=_6e0;this.dtp_startRecur.set("value",_6e0);if(!this.startDateChangedFromParent){this.onStartDateChanged(_6e0);}}},_calculateEndDate:function(){var _6e1=this.endCalculators[this.currentPeriod];if(_6e1&&this._rdoEndAfter.get("checked")){this._applyCurrentValuesToCalculator(_6e1);_6e1.set("occurances",this.occurances);var _6e2=_6e1.calculateEndDate();this.dtp_endRecur.set("value",_6e2);this._applyChangesToActivity();}},_applyCurrentValuesToCalculator:function(_6e3){_6e3.set("startDate",this.startDate);_6e3.set("initialStartDate",this.initialStartDate);_6e3.set("interval",this.interval);_6e3.set("activityRecurPeriodCode",this.activityRecurPeriodCode);},_calculateOccurances:function(){var _6e4=this.endCalculators[this.currentPeriod];if(_6e4&&this._rdoEndOn.get("checked")){this._applyCurrentValuesToCalculator(_6e4);_6e4.set("endDate",this.dtp_endRecur.get("value"));var occ=1;if(_6e4.endDate<_6e4.startDate){this.dtp_endRecur.set("value",this.startDate);}else{occ=_6e4.calculateNumberOfOccurances();}this.occurances=occ;this.num_Occurances.set("value",occ);this._applyChangesToActivity();}},_applyChangesToActivity:function(){if(this._applyingActivityData){return;}if(this.rdo_Once.get("checked")){this.activity.RecurIterations=0;this.activity.RecurPeriod=0;this.activity.RecurPeriodSpec=0;this.activity.Recurring=false;return;}var _6e5=this._getCurrentRecperiod();this.activity.RecurPeriod=_6e5;var _6e6=0;var _6e7=this.num_Occurances.get("value");switch(_6e5){case 0:case 1:this._dailyUpdateInterval();if(_6e5===1){_6e7=-1;}break;case 2:_6e6=this._sumWeekDays();this._weeklyUpdateInterval();break;case 3:_6e6=1048576;this._weeklyUpdateInterval();_6e7=-1;break;case 4:_6e6=1048576;this._monthlyUpdateInterval();break;case 5:_6e6=this._sumMonthly();this._monthlyUpdateInterval();break;case 6:_6e6=1048576;this._monthlyUpdateInterval();_6e7=-1;break;case 7:_6e6=38797312;this._yearlyUpdateInterval();break;case 8:_6e6=this._sumYearly();this.interval=1;break;case 9:_6e6=38797312;this._yearlyUpdateInterval();_6e7=-1;break;}this.activity.RecurIterations=_6e7;this.activity.RecurPeriodSpec=_6e6+this.interval;this.activity.Recurring=true;},_getCurrentRecperiod:function(){if(this.rdo_Daily.get("checked")){return (this._rdoDailyEvery.get("checked"))?0:1;}if(this.rdo_Weekly.get("checked")){return (this._rdoWeeklyEvery.get("checked"))?2:3;}if(this.rdo_Monthly.get("checked")){return (this._rdoMonthlyOn.get("checked"))?4:(this._rdoMonthlyOnThe.get("checked"))?5:6;}if(this.rdo_Yearly.get("checked")){return (this._rdoYearlyOn.get("checked"))?7:(this._rdoYearlyOnThe.get("checked"))?8:9;}return 0;},_sumWeekDays:function(){var _6e8=0;if(this._chkSaturday.get("checked")){_6e8+=this._weekDayValues["sat"];}if(this._chkFriday.get("checked")){_6e8+=this._weekDayValues["fri"];}if(this._chkThursday.get("checked")){_6e8+=this._weekDayValues["thu"];}if(this._chkWednesday.get("checked")){_6e8+=this._weekDayValues["wed"];}if(this._chkTuesday.get("checked")){_6e8+=this._weekDayValues["tue"];}if(this._chkMonday.get("checked")){_6e8+=this._weekDayValues["mon"];}if(this._chkSunday.get("checked")){_6e8+=this._weekDayValues["sun"];}return _6e8;},_getNthOccurenceOfWeekDay:function(){var _6e9=parseInt(this._weekdaySelect.get("value"),10);var _6ea=parseInt(this._weeksSelect.get("value"),10);var _6eb=new Date();for(var i=0;i<7;i++){var d=new Date(_6eb.getFullYear(),_6eb.getMonth(),i+1);if(d.getDay()==_6e9){return dojo.date.add(d,"day",((_6ea-1)*7));}}},_sumMonthly:function(){var _6ec=parseInt(this._weekdaySelect.get("value"),10)+1;var _6ed=parseInt(this._weeksSelect.get("value"),10);return ((_6ec*524288)+((_6ed-1)*65536));},_sumYearly:function(){var _6ee=parseInt(this._yearWeekdaySelect.get("value"),10)+1;var _6ef=parseInt(this._yearMonthNamesSelect.get("value"),10);var _6f0=parseInt(this._yearWeeksSelect.get("value"),10);return ((_6ef*4194304)+(_6ee*524288)+((_6f0-1)*65536));},_setReadOnly:function(_6f1){var _6f2=["rdo_Once","rdo_Daily","rdo_Weekly","rdo_Monthly","rdo_Yearly","_rdoDailyEvery","_dailyEveryText","_rdoDailyEveryAfter","_dailyEveryAfterText","_rdoWeeklyEvery","_weeklyEveryText","_chkMonday","_chkTuesday","_chkWednesday","_chkThursday","_chkFriday","_chkSaturday","_chkSunday","_rdoWeeklyEveryAfter","_weeklyEveryAfterText","_rdoMonthlyOn","_monthlyEveryText","_datesSelect","_rdoMonthlyOnThe","_monthlyOnTheText","_weeksSelect","_weekdaySelect","_rdoMonthlyAfter","_monthlyAfterText","_rdoYearlyOn","_yearlyEveryText","_monthNamesSelect","_yearDatesSelect","_rdoYearlyOnThe","_yearWeeksSelect","_yearWeekdaySelect","_yearMonthNamesSelect","_rdoYearlyEveryAfter","_yearlyEveryAfterText","dtp_startRecur","_rdoEndAfter","num_Occurances","_rdoEndOn","dtp_endRecur"];if(_6f1){this._bulkSetProperty(this,_6f2,"disabled",true);}else{this._bulkSetProperty(this,_6f2,"disabled",false);this._setUI();this._applyActivityData();}},_bulkSetProperty:function(ui,_6f3,prop,val){for(var i=0;i<_6f3.length;i++){var ctrl=ui[_6f3[i]];if(ctrl){ctrl.set(prop,val);}}},onStartDateChanged:function(_6f4){},onRecurPeriodChanged:function(_6f5){}});return _6b7;});},"Sage/UI/Controls/Lookup":function(){require({cache:{"url:Sage/UI/Controls/templates/Lookup.html":"<div class=\"textcontrol lookup\">\r\n    <span id=\"${id}\" class=\"lookup\">\r\n        <input id=\"${id}_LookupText\" class=\"text-with-icons\" required=\"${required}\" type=\"text\" dojoAttachPoint=\"textbox,focusNode\" />\r\n        <a href=\"#\">\r\n            <img id=\"${id}_LookupBtn\" src=\"images/icons/Find_16x16.png\" dojoAttachPoint=\"lookupButton\" alt=\"${buttonToolTip}\" title=\"${buttonToolTip}\" />\r\n        </a>\r\n        \r\n        <img id=\"${id}_btnClearResult\" src=\"images/icons/Delete_16x16.png\" dojoAttachPoint=\"clearButton\" class=\"display-none\" alt=\"${closeButtonToolTip}\" title=\"${closeButtonToolTip}\"/>\r\n    </span>\r\n</div>"}});define("Sage/UI/Controls/Lookup",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","Sage/UI/ConditionManager","Sage/UI/SDataLookup","dojo/dom-attr","Sage/UI/Controls/EntityInfoToolTip","dojo/i18n!./nls/Lookup","dojo/text!./templates/Lookup.html","dojo/_base/declare"],function(_6f6,_6f7,_6f8,_6f9,_6fa,_6fb,_6fc,_6fd,_6fe,_6ff){var _700=_6ff("Sage.UI.Controls.Lookup",[_6f8,_6f6,_6f7],{id:"lookup",config:null,selectedObject:null,showEntityInfoToolTip:false,disabled:false,required:false,allowClearingResult:false,buttonToolTip:"Find",closeButtonToolTip:"Remove",_tooltip:false,_setSelectedObjectAttr:function(_701){this.textbox.value=(_701)?_701.$descriptor:"";this.selectedObject=_701;this._onChange(_701);},_getSelectedObjectAttr:function(){return this.selectedObject;},_setShowEntityInfoToolTipAttr:function(_702){this.showEntityInfoToolTip=_702;if(!this.domNode){return;}this._tooltip=(_702)?this._createToolTip():false;},_getShowEntityInfoToolTipAttr:function(){return this.showEntityInfoToolTip;},_createToolTip:function(){return new _6fc({connectId:[this.domNode],position:["below"],entityName:this.config.storeOptions.resourceKind,entityId:(this.selectedObject&&this.selectedObject["$key"])?this.selectedObject["$key"]:""});},_setAllowClearingResultAttr:function(_703){this.allowClearingResult=_703;if(_703){dojo.removeClass(this.clearButton,"display-none");}else{dojo.addClass(this.clearButton,"display-none");}},_getAllowClearingResultAttr:function(){return this.allowClearingResult;},_setDisabledAttr:function(_704){this.disabled=_704;_6fb.set(this.focusNode,"disabled",_704);this.focusNode.setAttribute("aria-disabled",_704);if(_704){dojo.style(this.clearButton,"visibility","hidden");dojo.style(this.clearButton,"display","none");dojo.style(this.lookupButton,"visibility","hidden");dojo.style(this.lookupButton,"display","none");}else{dojo.style(this.clearButton,"visibility","");dojo.style(this.clearButton,"display","");dojo.style(this.lookupButton,"visibility","");dojo.style(this.lookupButton,"display","");}},_getDisabledAttr:function(){return this.disabled;},_onChange:function(_705){if(this._tooltip){this._tooltip.set("entityId",(_705&&_705["$key"])?_705["$key"]:"");}this.onChange(_705);},onChange:function(_706){},templateString:_6fe,widgetsInTemplate:false,constructor:function(_707){this.inherited(arguments);dojo.mixin(this,_6fd);},hideTooltip:function(){if(this._tooltip){this._tooltip.close();}},postCreate:function(){var self=this;dojo.connect(this.lookupButton,"onclick",this.lookupButton,function(){if(!self.get("disabled")){var _708=new _6fa(self.config);_708.doSelected=function(_709){self.set("selectedObject",_709[0]);_708.lookupDialog.hide();};_708.showLookup();var _70a=dojo.connect(_708.lookupDialog,"onHide",_708,function(){dojo.disconnect(_70a);this.destroy();});}},true);dojo.connect(this.clearButton,"onclick",null,function(){if(!self.get("disabled")){self.textbox.value="";self.set("selectedObject",null);}},true);}});return _700;});},"Sage/Utility/Activity":function(){define("Sage/Utility/Activity",["dojo/date/locale","dojox/grid/cells/_base","Sage/Utility","dojo/string","dojo/i18n!./nls/Activity","dojo/_base/declare","Sage/Data/SDataServiceRegistry","Sage/Data/SingleEntrySDataStore"],function(_70b,cell,_70c,_70d,_70e,_70f,_710,_711){var _712=function(id){var _713=false;if(id){if(id.trim()!==""){_713=true;}}return _713;};var _714=_70f("Sage.Utility.Activity.TypeCell",dojox.grid.cells.Cell,{format:function(_715,_716){if(!_716){return this.defaultValue;}var type=this.get(_715,_716);var _717=(_716.hasOwnProperty("Activity")&&typeof _716["Activity"]==="object")?_716.Activity:_716;var key=_70c.getValue(_717,"$key");var _718=(_716.hasOwnProperty("Status"))?_716.Status:false;var _719="<a href=\"${0}\" ><div class=\"Global_Images icon16x16 ${1}\" title=\"${2}\"></div>&nbsp;${2}</a>";var _71a=Sage.Utility.getValue(_717,"RecurrenceState");var _71b=Sage.Utility.Activity._getReccurenceFlag(_717);var href="javascript:Sage.Link.editActivity('"+key+"', "+_71b+")";if(_718){var _71c=_70c.getClientContextByKey("userID");var _71d=(_716.hasOwnProperty["User"])?_716.User["$key"]:_71c;if(_718==="asUnconfirmed"&&_71c===_71d){href="javascript:Sage.Link.confirmActivityFor('"+key+"', '"+_71c+"')";}}else{href="javascript:Sage.Link.editActivityIfConfirmed('"+key+"', "+_71b+")";}return _70d.substitute(_719,[href,Sage.Utility.Activity.getActivityImageClass(type,"small"),Sage.Utility.Activity.getActivityTypeName(type)]);}});var _71e=_70f("Sage.Utility.Activity.HistoryTypeCell",dojox.grid.cells.Cell,{format:function(_71f,_720){if(!_720){return this.defaultValue;}var key=_70c.getValue(_720,"$key");var _721=_70c.getValue(_720,"Type");var _722="";var type="";if(_721.toString().substring(0,2)==="at"){_722=Sage.Utility.Activity.getActivityTypeName(_721);type=_721;}else{_722=Sage.Utility.Activity.getActivityTypeNameFromEnumValue(_721);type=Sage.Utility.Activity.getActivityTypeCodeFromEnumValue(_721);}var fmt="<a href=\"javascript:Sage.Link.editHistory('${0}')\" ><div class=\"Global_Images icon16x16 ${1} title=\"${2}\"></div>&nbsp;${2}</a>";return _70d.substitute(fmt,[key,Sage.Utility.Activity.getActivityImageClass(type,"small"),_722]);}});var _723=_70f("Sage.Utility.Activity.AlarmCell",cell,{formatter:function(val,_724){return (val)?"<img src='images/icons/Alarm_16x16.gif'/>":"<div><div>";}});var _725=_70f("Sage.Utility.Activity.RecurCell",dojox.grid.cells.Cell,{format:function(_726,_727){if(!_727){return this.defaultValue;}var html="";var _728=(_727.hasOwnProperty("Activity")&&typeof _727["Activity"]==="object")?_727.Activity:_727;var _729=_70c.getValue(_728,"Recurring");var _72a=_70c.getValue(_728,"RecurrenceState");if(_729||(_72a&&_72a==="rstOccurrence")){html="<div class=\"Global_Images icon16x16 icon_recurring\"></div>";}return html;}});var _72b=_70f("Sage.Utility.Activity.AttachCell",dojox.grid.cells.Cell,{format:function(_72c,_72d){if(!_72d){return this.defaultValue;}var html="<div><div>";var _72e=(_72d.hasOwnProperty("Activity")&&typeof _72d["Activity"]==="object")?_72d.Activity:_72d;var _72f=_70c.getValue(_72e,"Attachment");if(_72f){html="<div class=\"Global_Images icon16x16 icon_attach_to_16\"></div>";}return html;}});var _730=_70f("Sage.Utility.Activity.ConfrimStatusCell",dojox.grid.cells.Cell,{format:function(_731,_732){if(!_732){return this.defaultValue;}var html="<div><div>";var _733=_70c.getValue(_732,"Status");if(_733==="asUnconfirmed"){html="<div class=\"Global_Images icon16x16 icon_unconfirmedActivity16x16\"></div>";}return html;}});var _734=_70f("Sage.Utility.Activity.DurationCell",dojox.grid.cells.Cell,{format:function(_735,_736){if(!_736){return this.defaultValue;}var _737="";var _738=(_736.hasOwnProperty("Activity")&&typeof _736["Activity"]==="object")?_736.Activity:_736;var _739=_70c.getValue(_738,"Duration");if(_739){var _73a=_70c.getValue(_738,"Timeless");_737=Sage.Utility.Activity.formatDuration(_739,_73a);}return _737;}});var _73b=_70f("Sage.Utility.Activity.NameCell",dojox.grid.cells.Cell,{format:function(_73c,_73d){if(!_73d){return this.defaultValue;}var _73e=(_73d.hasOwnProperty("Activity")&&typeof _73d["Activity"]==="object")?_73d.Activity:_73d;var _73f=_70c.getValue(_73e,"ContactName");var _740=_70c.getValue(_73e,"ContactId");if(_712(_740)){return "<a href=\"Contact.aspx?entityid="+_740+"\" >"+_73f+"</a>";}var lead=_70c.getValue(_73e,"LeadName");var _741=_70c.getValue(_73e,"LeadId");if(_712(_741)){return "<a href=\"Lead.aspx?entityid="+_741+"\" >"+lead+"</a>";}return "<div></div> ";}});var _742=_70f("Sage.Utility.Activity.NameTypeCell",dojox.grid.cells.Cell,{format:function(_743,_744){if(!_744){return this.defaultValue;}var _745=(_744.hasOwnProperty("Activity")&&typeof _744["Activity"]==="object")?_744.Activity:_744;var _746=_70c.getValue(_745,"ContactId");if(_712(_746)){return _70e.Contact;}var _747=_70c.getValue(_745,"LeadId");if(_712(_747)){return _70e.Lead;}return "";}});var _748=_70f("Sage.Utility.Activity.AccountCell",dojox.grid.cells.Cell,{format:function(_749,_74a){if(!_74a){return this.defaultValue;}var _74b=(_74a.hasOwnProperty("Activity")&&typeof _74a["Activity"]==="object")?_74a.Activity:_74a;var _74c=_70c.getValue(_74b,"AccountName");var _74d=_70c.getValue(_74b,"AccountId");var html="";if(_712(_74d)){html="<a href=\"Account.aspx?entityid="+_74d+"\" >"+_74c+"</a>";}var _74e=_70c.getValue(_74b,"LeadId");if(_712(_74e)){html="<a href=\"Lead.aspx?entityid="+_74e+"\" >"+_74c+"</a>";}return html;}});var _74f=_70f("Sage.Utility.Activity.LeaderCell",dojox.grid.cells.Cell,{format:function(_750,_751){if(!_751){return this.defaultValue;}var _752=(_751.hasOwnProperty("Activity")&&typeof _751["Activity"]==="object")?_751.Activity:null;var _753;if(_752){_753=_70c.getValue(_752,"Leader");}else{_753=(_751.hasOwnProperty("Leader")&&typeof _751["Leader"]==="object")?_751.Leader:_751;}var _754=_70c.getValue(_753,"$descriptor");return _754;}});var _755=_70f("Sage.Utility.Activity.CompleteCell",dojox.grid.cells.Cell,{format:function(_756,_757){if(!_757){return this.defaultValue;}var key=_70c.getValue(_757,"$key");if(_712(key)){var _758=(_757.hasOwnProperty("Activity")&&typeof _757["Activity"]==="object")?_757.Activity:_757;return _70d.substitute("<a href=\"javascript:Sage.Link.completeActivity('${0}', ${1})\">${2}</a>",[key,_70c.getValue(_758,"Recurring"),_70e.Complete]);}return "";}});Sage.namespace("Utility.Activity");Sage.Utility.Activity={timelessText:"timeless",_imageMap:{small:{"atNote":"images/icons/note_16x16.gif","atPhoneCall":"images/icons/Call_16x16.gif","atToDo":"images/icons/To_Do_16x16.gif","atAppointment":"images/icons/Meeting_16x16.gif","atPersonal":"images/icons/Personal_16x16.gif","atLiterature":"images/icons/Literature_16x16.png","atDoc":"images/icons/mailletter_16x16.png","atFax":"images/icons/fax_16x16.gif","atEmail":"images/icons/mailletter_16x16.png"},medium:{"atNote":"images/icons/Note_24x24.gif","atPhoneCall":"images/icons/Call_24x24.gif","atToDo":"images/icons/To_Do_24x24.gif","atAppointment":"images/icons/Meeting_24x24.gif","atPersonal":"images/icons/Personal_24x24.gif","atLiterature":"images/icons/Literature_24x24.png","atDoc":"images/icons/mailletter_24x24.gif","atFax":"images/icons/fax_24x24.gif","atEmail":"images/icons/mailletter_24x24.gif"},large:{"atNote":"images/icons/Note_24x24.gif","atPhoneCall":"images/icons/Call_32x32.gif","atToDo":"images/icons/To_Do_32x32.gif","atAppointment":"images/icons/Meeting_32x32.gif","atPersonal":"images/icons/Personal_32x32.gif","atLiterature":"images/icons/Literature_32x32.png","atDoc":"images/icons/mailletter_32x32.gif","atFax":"images/icons/fax_32x32.gif","atEmail":"images/icons/mailletter_32x32.gif"}},_iconClassMap:{small:{"atNote":"icon_note_16x16","atPhoneCall":"icon_Call_16x16","atToDo":"icon_To_Do_16x16","atAppointment":"icon_Meeting_16x16","atPersonal":"icon_Personal_16x16","atLiterature":"icon_Literature_16x16","atDoc":"icon_mailletter_16x16","atFax":"icon_fax_16x16","atEMail":"icon_mailletter_16x16"},medium:{"atNote":"icon_Note_24x24","atPhoneCall":"icon_Call_24x24","atToDo":"icon_To_Do_24x24","atAppointment":"icon_Meeting_24x24","atPersonal":"icon_Personal_24x24","atLiterature":"icon_Literature_24x24","atDoc":"icon_mailletter_24x24","atFax":"icon_fax_24x24","atEmail":"icon_mailletter_24x24"},large:{"atNote":"icon_Note_24x24","atPhoneCall":"icon_Call_32x32","atToDo":"icon_To_Do_32x32","atAppointment":"icon_Meeting_32x32","atPersonal":"icon_Personal_32x32","atLiterature":"icon_Literature_32x32","atDoc":"icon_mailletter_32x32","atFax":"icon_fax_32x32","atEmail":"icon_mailletter_32x32"}},_picklistMap:{"Regarding":{"atNote":"Note Regarding","atPhoneCall":"Phone Call Regarding","atToDo":"To Do Regarding","atAppointment":"Meeting Regarding","atEmail":"To Do Regarding","atPersonal":"Personal Activity Regarding","atLiterature":"To Do Regarding"},"Category":{"atNote":"Note Category Codes","atPhoneCall":"Phone Call Category Codes","atToDo":"To Do Category Codes","atAppointment":"Meeting Category Codes","atEmail":"To Do Category Codes","atPersonal":"","atLiterature":"To Do Category Codes"},"Result":{"atNote":"Meeting Result Codes","atPhoneCall":"Phone Call Result Codes","atToDo":"To Do Result Codes","atAppointment":"Meeting Result Codes","atEmail":"To Do Result Codes","atPersonal":"Personal Activity Result Codes","atLiterature":"To Do Result Codes"}},_notMyPersonalActivityMixin:{"AccountId":"","AccountName":"","Category":_70e.Personal,"ContactId":"","ContactName":"","Description":_70e.Personal,"LeadId":"","LeadName":"","LongNotes":"","Notes":"","OpportunityId":"","OpportunityName":"","PhoneNumber":"","Priority":"","TicketId":"","TicketNumber":"","Location":""},secureActivityData:function(_759){if((_759.Type==262162)||(_759.Type=="atPersonal")){var _75a;var _75b=Sage.Services.getService("ClientContextService");if(_75b){if(_75b.containsKey("userID")){_75a=_75b.getValue("userID");}}if(_75a===_759.UserId){return;}if(_759.Leader){if(_75a===_759.Leader.$key){return;}}dojo.mixin(_759,Sage.Utility.Activity._notMyPersonalActivityMixin);}},getActivityImage:function(type,size){size=Sage.Utility.Activity._verifySize(size);type=type||"atAppointment";return Sage.Utility.Activity._imageMap[size][type]||Sage.Utility.Activity._imageMap[size]["atAppointment"];},_verifySize:function(size){size=size||"small";size=size.toLowerCase();if(size!=="small"&&size!=="medium"&&size!=="large"){size="small";}return size;},getActivityImageClass:function(type,size){size=Sage.Utility.Activity._verifySize(size);type=type||"atAppointment";return Sage.Utility.Activity._iconClassMap[size][type]||Sage.Utility.Activity._iconClassMap[size]["atAppointment"];},getActivityTypeName:function(type){switch(type){case "atPhoneCall":return _70e.PhoneCall||"Phone Call";case "atToDo":return _70e.ToDo||"To Do";case "atAppointment":return _70e.Meeting||"Meeting";case "atPersonal":return _70e.Personal||"Personal Activity";case "atLiterature":return _70e.Literature||"Literature";case "atFax":return _70e.Fax||"Fax";case "atLetter":return _70e.Letter||"Letter";case "atNote":return _70e.Note||"Note";case "atEMail":return _70e.Email||"E-mail";case "atDoc":return _70e.Document||"Document";case "atDatabaseChange":return _70e.DatabaseChange||"Database Change";case "atInternal":return _70e.Event||"Event";case "atSchedule":return _70e.ScheduledEvent||"Scheduled Event";default:return type;}},getActivityTypeNameFromEnumValue:function(_75c){switch(_75c){case 262146:return _70e.PhoneCall||"Phone Call";case 262147:return _70e.ToDo||"To Do";case 262145:return _70e.Meeting||"Meeting";case 262162:return _70e.Personal||"Personal Activity";case 262163:return _70e.Literature||"Literature";case 262155:return _70e.Fax||"Fax";case 262148:return _70e.Note||"Note";case 262154:return _70e.Email||"E-mail";case 262153:return _70e.Document||"Document";case 262156:return _70e.DatabaseChange||"Database Change";case 0:return _70e.Event||"Event";case 1:return _70e.ScheduledEvent||"Scheduled Event";default:return _75c;}},getActivityTypeCodeFromEnumValue:function(_75d){switch(_75d){case 262146:return "atPhoneCall";case 262147:return "atToDo";case 262145:return "atAppointment";case 262162:return "atPersonal";case 262163:return "atLiterature";case 262155:return "atFax";case 262148:return "atNote";case 262154:return "atEMail";case 262153:return "atDoc";case 262156:return "atDatabaseChange";case 0:return "atInternal";case 1:return "atSchedule";default:return _75d;}},getActivityTypeEnumValue:function(name){switch(name){case "atPhoneCall":return "262146";case "atToDo":return "262147";case "atAppointment":return "262145";case "atPersonal":return "262162";case "atLiterature":return "262163";case "atFax":return "262155";case "atNote":return "262148";case "atEMail":return "262154";case "atDoc":return "262153";case "atDatabaseChange":return "262156";case "atSchedule":return "1";case "atInternal":return "0";default:return name;}},getActivityTypeEnumCode:function(type){switch(type){case 262146:return "atPhoneCall";case 262147:return "atToDo";case "atAppointment":case 262145:return "atAppointment";case 262162:return "atPersonal";case "atLiterature":return "atLiterature";case "atFax":return "atFax";case "atLetter":return "atLetter";case "atNote":return "atNote";case "atEMail":return "atEMail";default:return type;}},getConfirmationTypeEnumCode:function(type){switch(type){case 0:return "New";case 1:return "Change";case 2:return "Deleted";case 3:return "Confirm";case 4:return "Decline";case 5:return "Unknown";case 6:return "Leader";default:return type;}},getConfirmationDisplayName:function(type){switch(type){case "New":return _70e.New||"New";case "Change":return _70e.Change||"Change";case "Deleted":return _70e.Deleted||"Deleted";case "Confirm":return _70e.Confirm||"Confirm";case "Decline":return _70e.Decline||"Decline";case "Unknown":return _70e.Unknown||"Unknown";case "Leader":return _70e.Leader||"Leader";default:return type;}},getActivityPicklistName:function(_75e,_75f){_75e=_75e||"Regarding";if(!Sage.Utility.Activity._picklistMap.hasOwnProperty(_75e)){_75e="Regarding";}return Sage.Utility.Activity._picklistMap[_75e][_75f]||Sage.Utility.Activity._picklistMap[_75e]["atToDo"];},formatActivityStartDate:function(_760,_761){if(!_760){return "";}if(Sage.Utility.Convert.isDateString(_760)){_760=Sage.Utility.Convert.toDateFromString(_760);}if(typeof _761==="undefined"){_761=Sage.Utility.Activity.isDateFiveSecondRuleTimeless(_760);}if(!_761){return _70b.format(_760,{selector:"datetime",fullYear:true});}else{var _762=new Date(_760.getUTCFullYear(),_760.getUTCMonth(),_760.getUTCDate());return _70b.format(_762,{selector:"date",fullYear:true})+" "+this.timelessText;}},getActivityEndDate:function(_763,_764,_765){if(!_763){return false;}if(Sage.Utility.Convert.isDateString(_763)){_763=Sage.Utility.Convert.toDateFromString(_763);}if(typeof _765==="undefined"){_765=Sage.Utility.Activity.isDateFiveSecondRuleTimeless(_763);}if(!_765){return dojo.date.add(_763,"minute",_764);}else{return new Date(_763.getUTCFullYear(),_763.getUTCMonth(),_763.getUTCDate(),0,0,5);}},formatActivityStartDateForCalendar:function(_766,_767,_768){if(!_766){return "";}if(Sage.Utility.Convert.isDateString(_766)){_766=Sage.Utility.Convert.toDateFromString(_766);}var _769=new Date(_766.getFullYear(),_766.getMonth(),_766.getDate(),_766.getHours(),_766.getMinutes());if(_768){_769=new Date(_766.getUTCFullYear(),_766.getUTCMonth(),_766.getUTCDate(),0,0,5);}if(_767){return _70b.format(_769,{selector:"date",datePattern:_767});}else{return _70b.format(_769,{selector:"date",datePattern:"MM/d/yy H:mm"});}},formatActivityEndDateForCalendar:function(_76a,_76b){if(!_76a){return "";}if(Sage.Utility.Convert.isDateString(_76a)){_76a=Sage.Utility.Convert.toDateFromString(_76a);}var _76c=new Date(_76a.getFullYear(),_76a.getMonth(),_76a.getDate(),_76a.getHours(),_76a.getMinutes());var _76d=dojo.date.add(_76c,"minute",_76b);if(dojo.date.compare(_76d,_76c,"date")>0){return _70b.format(_76c,{selector:"date",datePattern:"MM/d/yy 24:00"});}return _70b.format(_76d,{selector:"date",datePattern:"MM/d/yy H:mm"});},formatEventDateForCalendar:function(_76e,_76f){if(!_76e){return "";}if(Sage.Utility.Convert.isDateString(_76e)){_76e=Sage.Utility.Convert.toDateFromString(_76e);}var _770=new Date(_76e.getFullYear(),_76e.getMonth(),_76e.getDate(),_76e.getHours(),_76e.getMinutes());if(_76f){return _70b.format(_770,{selector:"date",datePattern:_76f});}else{return _70b.format(_770,{selector:"date",datePattern:"MM/d/yy H:mm"});}},formatEventDate:function(_771){if(!_771){return "";}if(Sage.Utility.Convert.isDateString(_771)){_771=Sage.Utility.Convert.toDateFromString(_771);}return _70b.format(_771,{selector:"date",fullYear:true});},formatDateAdd:function(dt,mode,_772){if(!dt){return "";}if(Sage.Utility.Convert.isDateString(dt)){dt=Sage.Utility.Convert.toDateFromString(dt);}var _773=new Date(dt.getFullYear(),dt.getMonth(),dt.getDate(),dt.getHours(),dt.getMinutes());_773=dojo.date.add(_773,mode,_772);return _70b.format(_773,{selector:"date",fullYear:true});},formatShortDate:function(dt){if(!dt){return "";}if(Sage.Utility.Convert.isDateString(dt)){dt=Sage.Utility.Convert.toDateFromString(dt);}var _774=new Date(dt.getFullYear(),dt.getMonth(),dt.getDate(),dt.getHours(),dt.getMinutes());return _70b.format(_774,{selector:"date",formatLength:"short",fullYear:true});},formatLongDate:function(dt){if(!dt){return "";}if(Sage.Utility.Convert.isDateString(dt)){dt=Sage.Utility.Convert.toDateFromString(dt);}var _775=new Date(dt.getFullYear(),dt.getMonth(),dt.getDate(),dt.getHours(),dt.getMinutes());return _70b.format(_775,{selector:"date",formatLength:"long",fullYear:true});},roundDateToNextQuarterHour:function(dt){dt.setSeconds(0);var _776=dt.getMinutes();if(_776<15){dt.setMinutes(15);}else{if(_776<30){dt.setMinutes(30);}else{if(_776<45){dt.setMinutes(45);}else{dt.setMinutes(0);dt=dojo.date.add(dt,"hour",1);}}}return dt;},isDateFiveSecondRuleTimeless:function(d){if(!d){return false;}return ((d.getUTCHours()===0)&&(d.getUTCMinutes()===0)&&(d.getUTCSeconds()===5));},formatDuration:function(_777,_778){if(_778){return "";}if(!_777){return "0m";}if(_777<60){return _777+"m";}if(_777>60){var _779=String(_777/60).split(".");var min=_777%60;return _779[0]+"h "+min+"m";}else{return "1hr";}},formatTimelessStartDate:function(_77a){if(!_77a){return "";}var pad=function(n){return n<10?"0"+n:n;};return _77a.getUTCFullYear()+"-"+pad(_77a.getUTCMonth()+1)+"-"+pad(_77a.getUTCDate())+"T00:00:00Z";},formatTimelessEndDate:function(_77b,mode,_77c){if(!_77b){return "";}var _77d=new Date(_77b.getFullYear(),_77b.getMonth(),_77b.getDate());if(mode&&_77c){_77d=dojo.date.add(_77d,mode,_77c);}var pad=function(n){return n<10?"0"+n:n;};var _77e=_77d.getUTCFullYear();var _77f=_77d.getUTCMonth()+1;var _780=_77d.getUTCDate();return _77e+"-"+pad(_77f)+"-"+pad(_780)+"T23:59:59Z";},formatRawTimelessStartDate:function(_781){if(!_781){return "";}var pad=function(n){return n<10?"0"+n:n;};return _781.getFullYear()+"-"+pad(_781.getMonth()+1)+"-"+pad(_781.getDate())+"T00:00:00Z";},formatRawTimelessEndDate:function(_782,mode,_783){if(!_782){return "";}var _784=new Date(_782.getFullYear(),_782.getMonth(),_782.getDate());if(mode&&_783){_784=dojo.date.add(_784,mode,_783);}var pad=function(n){return n<10?"0"+n:n;};var _785=_784.getFullYear();var _786=_784.getMonth()+1;var _787=_784.getDate();return _785+"-"+pad(_786)+"-"+pad(_787)+"T23:59:59Z";},getNthWeekOfMonth:function(d){var _788=new Date(d.getFullYear(),d.getMonth(),d.getDate());var _789=_788.getMonth();for(var i=1;i<7;i++){_788=dojo.date.add(_788,"week",-1);if(_789!==_788.getMonth()){return i;}}return 1;},setDateToNthWeekDay:function(d,_78a,_78b){var i,_78c=new Date(d.getFullYear(),d.getMonth(),d.getDate());if(_78a===5){_78c.setDate(dojo.date.getDaysInMonth(_78c));for(i=0;i<7;i++){if(_78c.getDay()===_78b){break;}_78c=dojo.date.add(_78c,"day",-1);}}else{_78c.setDate(1);for(i=0;i<7;i++){if(_78c.getDay()===_78b){break;}_78c=dojo.date.add(_78c,"day",1);}_78c=dojo.date.add(_78c,"week",_78a-1);}return _78c;},isValidId:function(id){var _78d=false;if(id){if(id.trim()!==""){_78d=true;}}return _78d;},getConfirmStatusName:function(type){if(!type){return _70e.Unknown||"Unknown";}switch(type.toUpperCase().trim()){case "CHANGE":return _70e.confirmTypeChanged||"Changed";case "CONFIRM":return _70e.confirmTypeConfirmed||"Confirmed";case "DELETED":return _70e.confirmTypeDeleted||"Deleted";case "LEADER":return _70e.Leader||"Leader";case "NEW":return _70e.New||"New";default:return type;}},isReocurringId:function(id){if(id.charAt(12)===";"){return true;}return false;},findFailedRequestMessage:function(_78e,def){if(_78e.responseText){var rsp=eval(_78e.responseText);if(dojo.isArray(rsp)){if(rsp[0]){return rsp[0].message||def;}}}return def;},removeMember:function(_78f,_790){var _791=dijit.byId(_78f);if(_791){var args={memberId:_790};_791._removeMember(args);}},getActivityEditLink:function(_792){var key=_792.id;var _793="<a href=\"${0}\" >${1}</a>";var _794=Sage.Utility.Activity._getReccurenceFlag(_792);var desc=_792.Description||Sage.Utility.Activity.getActivityTypeName(Sage.Utility.Activity.getActivityTypeEnumCode(_792.Type));var href="javascript:Sage.Link.editActivity('"+key+"', "+_794+")";return _70d.substitute(_793,[href,desc]);},getActivitySummaryHeader:function(_795){var key=_795.id;var _796="<a href=\"${0}\" >${1}</a>";var _797="";if(_795.Alarm){_797+="<div class=\"Global_Images icon24x24 icon_Alarm_24x24\" > </div>&nbsp;";}if((Sage.Utility.Activity.isReocurringId(_795.id))||(_795.Recurring)){_797+="<div class=\"Global_Images icon16x16 icon_recurring\" > </div>&nbsp;";}_797+="<div class=\"Global_Images icon24x24 "+Sage.Utility.Activity.getActivityImageClass(_795.Type,"medium")+"\"> </div>&nbsp;";var _798=Sage.Utility.Activity._getReccurenceFlag(_795);var desc=_795.Description||Sage.Utility.Activity.getActivityTypeName(Sage.Utility.Activity.getActivityTypeEnumCode(_795.Type));var href="javascript:Sage.Link.editActivity('"+key+"', "+_798+")";_797+=_70d.substitute(_796,[href,desc]);return _797;},getUserActivitySummaryHeader:function(_799){var _79a=_799.Activity;var _79b="";if(_799.Status==="asUnconfirmed"){_79b+="<div class=\"Global_Images icon16x16 icon_unconfirmedActivity16x16\" > </div>";}if(_79a.Alarm){_79b+="<div class=\"Global_Images icon24x24 icon_Alarm_24x24\" > </div>&nbsp;";}if((Sage.Utility.Activity.isReocurringId(_79a.$key))||(_79a.Recurring)){_79b+="<div class=\"Global_Images icon16x16 icon_recurring\" > </div>&nbsp;";}_79b+="<div class=\"Global_Images icon24x24 "+Sage.Utility.Activity.getActivityImageClass(_79a.Type,"medium")+"\"> </div>&nbsp;";var _79c=Sage.Utility.Activity._getReccurenceFlag(_79a);var _79d="<a href=\"${0}\" >${1}</a>";var desc=_79a.Description||Sage.Utility.Activity.getActivityTypeName(Sage.Utility.Activity.getActivityTypeEnumCode(_79a.Type));var href="javascript:Sage.Link.editActivity('"+_79a.$key+"', "+_79c+")";if(_799.Status==="asUnconfirmed"){href="javascript:Sage.Link.confirmActivityFor('"+_79a.$key+"', "+_799.User.$key+")";}_79b+=_70d.substitute(_79d,[href,desc]);return _79b;},getActivityCompleteHref:function(_79e){var key=_79e.$key;var _79f=Sage.Utility.Activity._getReccurenceFlag(_79e);var href="javascript:Sage.Link.completeActivity('"+key+"', "+_79f+")";return href;},_getReccurenceFlag:function(_7a0){if(_7a0.RecurrenceState){if((_7a0.Recurring===true)&&(_7a0.RecurrenceState==="rstMaster")){return false;}if((_7a0.Recurring===true)&&((_7a0.RecurIterations)<0)){return false;}if(_7a0.RecurrenceState==="rstOccurrence"){return true;}}else{if(_7a0.Recurring===true){if((_7a0.RecurIterations)<0){return false;}return true;}return false;}return false;},getCurrentActivityId:function(){var _7a1=Sage.Services.getService("ClientEntityContext");var _7a2=_7a1.getContext();var _7a3=null;if(_7a2&&_7a2.EntityTableName=="ACTIVITY"){_7a3=_7a2.EntityId;}return _7a3;},_getContactData:function(_7a4,_7a5,_7a6){if(!this._contactStore){this._contactStore=new _711({include:["$descriptors","Address"],resourceKind:"contacts",service:_710.getSDataService("dynamic")});}this._contactStore.fetch({predicate:"'"+_7a4+"'",onComplete:function(_7a7){_7a5.call(_7a6,_7a7);},onError:function(){_7a5.call(_7a6,null);},scope:this});},_getLeadData:function(_7a8,_7a9,_7aa){if(!this._leadStore){this._leadStore=new _711({include:["$descriptors","Address"],resourceKind:"leads",service:_710.getSDataService("dynamic")});}this._leadStore.fetch({predicate:"'"+_7a8+"'",onComplete:function(_7ab){_7a9.call(_7aa,_7ab);},onError:function(){_7a9.call(_7aa,null);},scope:this});},activityTypeCell:_714,activityAlarmCell:_723,activityRecurringCell:_725,activityAttachCell:_72b,activityConfirmStatusCell:_730,activityDurationCell:_734,activityNameCell:_73b,activityNameTypeCell:_742,activityAccountCell:_748,activityCompleteCell:_755,historyTypeCell:_71e,activityLeaderCell:_74f};return Sage.Utility.Activity;});},"Sage/UI/nls/TransferBoxWidget":function(){define("Sage/UI/nls/TransferBoxWidget",["Sage/LanguageList","dojo/_base/lang"],function(_7ac,lang){var nls={root:{searchFilterText:"Contains:",loadingText:"Loading parameter options...",noResultsText:"No results",btnAddTooltip:"Add selection(s)",btnRemoveTooltip:"Remove selection(s)",btnRemoveAllTooltip:"Remove all",availableValuesText:"Available Values:",selectedValuesText:"Selected Values:",btnAddAllTooltip:"Add all"}};return lang.mixin(_7ac,nls);});},"url:Sage/UI/templates/JobSchedulingWidget.html":"<div>\r\n    <div dojoAttachPoint=\"divJobSchedulingWidget\">\r\n        <table>\r\n            <tr>\r\n                <td>\r\n                    <label>${lblCreateSchedule}:</label>\r\n                </td>\r\n            </tr>\r\n            <tr style=\"padding-left: 10px\">\r\n                <td>\r\n                    <label style=\"padding-left: 10px\">${lblEveryText}</label>&nbsp;\r\n                    <div dojoAttachPoint=\"divMinutesHours\" class=\"display-none\" style=\"display: -moz-inline-box; display: inline-block\">\r\n                        <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cboMinutesHours\"></select>\r\n                    </div>\r\n                    <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cboFrequency\" dojoAttachEvent=\"onChange:_onFrequencyChange\">\r\n                        <option value=\"minutes\">${lblMinutesFrequency}</option>\r\n                        <option value=\"hourly\">${lblHourlyFrequency}</option>\r\n                        <option value=\"daily\">${lblDailyFrequency}</option>\r\n                        <option value=\"weekday\">${lblWeekDayFrequency}</option>\r\n                        <option value=\"weekly\">${lblWeeklyFrequency}</option>\r\n                        <option value=\"monthly\">${lblMonthlyFrequency}</option>\r\n                        <option value=\"yearly\" selected=\"selected\" disabled=\"disabled\">${lblYearlyFrequency}</option>\r\n                    </select>\r\n                    <label dojoAttachPoint=\"lblOnText\" class=\"display-none\">${lblOnText}</label>&nbsp;\r\n                    <label dojoAttachPoint=\"lblOnTheText\" class=\"display-none\">${lblOnTheText}</label>&nbsp;\r\n                    <div dojoAttachPoint=\"divMonthDay\" style=\"display: -moz-inline-box; display: inline-block\" class=\"display-none\">\r\n                        <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cboMonthDay\">\r\n                            <option value=\"1\" selected=\"selected\">${lblFirstDay}</option>\r\n                            <option value=\"2\">${lblSecondDay}</option>\r\n                            <option value=\"3\">${lblThirdDay}</option>\r\n                            <option value=\"4\">${lblFourthDay}</option>\r\n                        </select>&nbsp;\r\n                    </div>\r\n                    <div dojoAttachPoint=\"divDay\" style=\"display: -moz-inline-box; display: inline-block\" class=\"display-none\">\r\n                        <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cboDay\">\r\n                            <option value=\"SUN\">${lblSunday}</option>\r\n                            <option value=\"MON\" selected=\"selected\">${lblMonday}</option>\r\n                            <option value=\"TUE\">${lblTuesday}</option>\r\n                            <option value=\"WED\">${lblWednesday}</option>\r\n                            <option value=\"THU\">${lblThursday}</option>\r\n                            <option value=\"FRI\">${lblFriday}</option>\r\n                            <option value=\"SAT\">${lblSaturday}</option>\r\n                        </select>&nbsp;\r\n                    </div>\r\n                    <label dojoAttachPoint=\"lblAtText\">${lblAtText}</label>&nbsp;&nbsp;\r\n                    <div dojoAttachPoint=\"divMinutesPastHour\" class=\"display-none\" style=\"display: -moz-inline-box; display: inline-block\">\r\n                        <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cboMinutesPastHour\"></select>&nbsp;\r\n                    </div>\r\n                    <label dojoAttachPoint=\"lblMinutesPastHour\" class=\"display-none\">${lblMinutesPastHour}</label>&nbsp;\r\n                    <div dojoAttachPoint=\"divRunAtTime\" style=\"display: -moz-inline-box; display: inline-block\">\r\n                        <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtRunAtTime\" displayDate=\"false\" displayTime=\"true\" label=\"${lblAtText}\" required=\"true\"></div>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr dojoAttachPoint=\"rowRunFromDate\">\r\n                <td>\r\n                    <label style=\"padding-left: 10px\">${lblFromTimeText}</label>&nbsp;\r\n                    <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtRunFromDate\" displayDate=\"true\" label=\"${lblFromTimeText}\" style=\"width: 140px\"></div>&nbsp;\r\n                    <label>${lblToTimeText}</label>&nbsp;\r\n                    <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtRunToDate\" displayDate=\"true\" label=\"${lblToTimeText}\" style=\"width: 140px\"></div>&nbsp;\r\n                </td>\r\n            </tr>\r\n            <tr dojoAttachPoint=\"rowCronExpression\">\r\n                <td>\r\n                    <label style=\"padding-left: 10px\">${lblCronExpressionText}</label>&nbsp;\r\n                    <div data-dojo-type=\"dijit.form.TextBox\" dojoAttachPoint=\"txtCronExpression\" style=\"width: 375px\"></div>&nbsp\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n</div>","Sage/MainView/ReportManager":function(){define("Sage/MainView/ReportManager",["Sage/UI/SDataMainViewConfigurationProvider","Sage/UI/ListPanel","Sage/Utility","Sage/MainView/ReportMgr/ReportManagerGroupContextService","dojo/_base/declare","Sage/MainView/ReportMgr/ReportManagerActions","Sage/MainView/ReportMgr/ReportWizardController"],function(_7ad,_7ae,_7af,_7b0,_7b1){var _7b2=_7b1("Sage.MainView.ReportManager",_7ad,{_currentTabId:false,_currentTabDescription:false,_mainViewName:"ReportManager",store:false,constructor:function(_7b3){var _7b4=Sage.Services.getService("ClientGroupContext");if(!_7b4||_7b4.declaredClass!=="Sage.MainView.ReportMgr.ReportManagerGroupContextService"){_7b4=new _7b0();Sage.Services.removeService("ClientGroupContext");Sage.Services.addService("ClientGroupContext",_7b4);}var ctx=_7b4.getContext();this._currentTabId=ctx.CurrentGroupID;this._currentTabDescription=ctx.CurrentName;this.titlePaneConfiguration={tabs:this._getTabsConfig(),menu:this._getMenuConfig(),titleFmtString:"${0}"};dojo.subscribe("/group/context/changed",this,"_onCurrentGroupChanged");},_getListPanelConfig:function(){var _7b5=Sage.Services.getService("ClientGroupContext");if(_7b5){this.listPanelConfiguration=_7b5.getCurrentListConfig();this.store=this.listPanelConfiguration.list.store;this.service=this.listPanelConfiguration.list.store.service;}return this.listPanelConfiguration;},requestConfiguration:function(_7b6){if(_7b6.success){_7b6.success.call(_7b6.scope||this,this._getListPanelConfig(),this);}},requestTitlePaneConfiguration:function(_7b7){if(_7b7.success){_7b7.success.call(_7b7.scope||this,this.titlePaneConfiguration,this);}},_getTabsConfig:function(){var _7b8={store:false,selectedTabId:this._currentTabId,tabKeyProperty:"key",tabNameProperty:"descriptor",fetchParams:{},staticTabs:this._getStaticTabs(),onTabSelect:dojo.hitch(this,"_onTabSelected"),onTabClose:false,showTabContextMenus:false};return _7b8;},_getStaticTabs:function(){var _7b9=Sage.Services.getService("ClientGroupContext");var _7ba=_7b9.getStaticTabs();return _7ba;},_onTabSelected:function(tab){var _7bb=Sage.Services.getService("ClientGroupContext");if(_7bb){var ctx=_7bb.getContext();var id=tab.id||tab;if(ctx.CurrentGroupID===id){return;}_7bb.setCurrentGroup(id,tab.title);}},_onCurrentGroupChanged:function(args){var _7bc=args.current;this._currentTabId=_7bc.CurrentGroupID;this._currentTabDescription=_7bc.CurrentName;if(dijit.byId("GroupTabs").selectedChildWidget.id!==_7bc.CurrentGroupID){dijit.byId("GroupTabs").selectChild(_7bc.CurrentGroupID);}},_getMenuConfig:function(){return false;}});return _7b2;});},"Sage/_ConfigurationProvider":function(){define("Sage/_ConfigurationProvider",["dojo/_base/declare"],function(_7bd){var _7be=_7bd("Sage._ConfigurationProvider",null,{_connects:null,_subscribes:null,constructor:function(_7bf){dojo.mixin(this,_7bf);this._connects=[];this._subscribes=[];},"set":function(name,_7c0){this["_"+name]=_7c0;},"get":function(name){return this["_"+name];},requestConfiguration:function(_7c1){},onConfigurationChange:function(){},destroy:function(){dojo.forEach(this._connects,function(_7c2){dojo.disconnect(_7c2);});dojo.forEach(this._subscribes,function(_7c3){dojo.unsubscribe(_7c3);});this.uninitialize();},uninitialize:function(){}});var _7c4=_7bd("Sage.StaticConfigurationProvider",[_7be],{createConfiguration:function(){var _7c5={};for(var name in this){if(this.hasOwnProperty(name)&&!/^_/.test(name)){_7c5[name]=this[name];}}return _7c5;},requestConfiguration:function(_7c6){if(_7c6.success){_7c6.success.call(_7c6.scope||this,this.createConfiguration(_7c6),_7c6,this);}}});return _7be;});},"Sage/Utility/File/nls/AttachmentPropertiesEditForm":function(){define("Sage/Utility/File/nls/AttachmentPropertiesEditForm",["Sage/LanguageList","dojo/_base/lang"],function(_7c7,lang){var nls={root:{fileText:"File",descriptionText:"Description",sizeText:"Size",attachDateText:"Attached Date",attachedByText:"Attached By",uploadFileText:"Select Different File...",editText:"Edit Attachment",okText:"OK",cancelText:"Cancel",browseText:"Browse",urlText:"URL",requestFailedMsg:"The requested operation could not be completed, please try again later."}};return lang.mixin(_7c7,nls);});},"Sage/QuickForms/Design/Editors/NumericBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/NumericBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/NumericBasicPropertyEditor"],function(_7c8,lang,_7c9,_7ca,_7cb,_7cc,_7cd,_7ce,_7cf,_7d0,_7d1,_7d2){return _7c8("Sage.QuickForms.Design.Editors.NumericBasicPropertyEditor",[_7c9,_7d0,_7cf],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.toolTipTooltipText %}\">","<label>{%= $.toolTipText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_toolTip\" data-dojo-attach-event=\"onChange:_onToolTipChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.isReadOnlyTooltipText %}\">","<label>{%= $.isReadOnlyText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_isReadOnly\" data-dojo-attach-event=\"onChange:_onIsReadOnlyChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_7d2);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(_7d3){if(this.isSuspended()){return;}this._designer.set("caption",_7d3);},_onCaptionAlignmentChange:function(_7d4){if(this.isSuspended()){return;}this._designer.set("captionAlignment",_7d4);},_onIsReadOnlyChange:function(_7d5){if(this.isSuspended()){return;}this._designer.set("isReadOnly",_7d5);},_onToolTipChange:function(_7d6){if(this.isSuspended()){return;}this._designer.set("toolTip",_7d6);}});});},"Sage/Data/SingleEntrySDataStore":function(){define("Sage/Data/SingleEntrySDataStore",["Sage/Data/BaseSDataStore","Sage/Utility","dojo/_base/declare"],function(_7d7,_7d8,_7d9){var _7da=_7d9("Sage.Data.SingleEntrySDataStore",_7d7,{_entity:false,_request:false,_okToCache:true,postMixInProperties:function(){},getFeed:function(_7db){},fetch:function(_7dc){if(_7dc.queryOptions&&_7dc.queryOptions.currentEntity&&this._entity){this.returnCollectionProperty(_7dc,_7dc.queryOptions.property);return;}this.verifyService();var _7dd=this._getRequest();if(_7dc.predicate){if(this._entity&&(_7dc.predicate===this._entity.$key)&&this._okToCache){if(_7dc.onComplete){_7dc.onComplete.call(_7dc.scope||this,this._entity,_7dc);return;}}_7dd.setResourceSelector(_7dc.predicate);}if(this.select&&this.select.length>0){_7dd.setQueryArg("select",this.select.join(","));}if(this.include&&this.include.length>0){_7dd.setQueryArg("include",this.include.join(","));}if(this.predicate&&this.predicate.length>0){_7dd.setResourceSelector(this.predicate);}if(_7dc.beforeRequest){_7dc.beforeRequest.call(_7dc.scope||this,_7dd);}_7dd.read({success:dojo.hitch(this,this.onSuccess,_7dc),failure:dojo.hitch(this,this.onFailure,_7dc)});},save:function(_7de){if(this._request&&this._entity){this._okToCache=false;this._request.update(this._entity,_7de);}},setValue:function(item,_7df,_7e0){var _7e1=item||this._entity;if(_7e1){var _7e2=this.getValue(_7e1,_7df,"");_7d8.setValue(_7e1,_7df,_7e0);this.onSet(_7e1,_7df,_7e2,_7e0);}},getCurrentEntity:function(){return this._entity;},newItem:function(args){var _7e3=new Sage.SData.Client.SDataTemplateResourceRequest(this.service);_7e3.setResourceKind(this.resourceKind);_7e3.read({success:function(_7e4){this._entity=_7e4;if((args.onComplete)&&(typeof args.onComplete==="function")){args.onComplete.call(args.scope||this,_7e4);}},failure:function(err){if(args.onError){args.onError.call(args.scope||this,err);}},scope:this});},saveNewEntity:function(_7e5,_7e6,_7e7,_7e8,_7e9){if(!_7e5){_7e5=this._entity;}var _7ea=new Sage.SData.Client.SDataSingleResourceRequest(this.service);_7ea.setResourceKind(this.resourceKind);if(_7e9){_7e9.call(_7e8||this,_7ea,_7e5);}_7ea.create(_7e5,{success:_7e6||function(_7eb){if(typeof console!=="undefined"){}},failure:_7e7||function(_7ec,o){if(typeof console!=="undefined"){}},scope:_7e8||this});},deleteEntity:function(_7ed,_7ee,_7ef,_7f0){_7ed=_7ed||this._entity;if(_7ed){var _7f1=new Sage.SData.Client.SDataSingleResourceRequest(this.service);_7f1.setResourceKind(this.resourceKind);_7f1.setResourceSelector("'"+_7ed["$key"]+"'");_7f1["delete"](_7ed,{success:_7ee||function(_7f2){if(typeof console!=="undefined"){}},failure:_7ef||function(_7f3){if(typeof console!=="undefined"){}},scope:_7f0||this});}},clearCache:function(){this._entity=false;},_getRequest:function(){if(!this._request){var req=new Sage.SData.Client.SDataSingleResourceRequest(this.service);req.setResourceKind(this.resourceKind);this._request=req;}return this._request;},returnCollectionProperty:function(_7f4,_7f5){if(this._entity&&this._entity.hasOwnProperty(_7f5)){var list=this._entity[_7f5].$resources;if(typeof list!=="unknown"){if(_7f4.onBegin){_7f4.onBegin.call(_7f4.scope||this,list.length,_7f4);}if(_7f4.onComplete){_7f4.onComplete.call(_7f4.scope||this,list,_7f4);}}}},onSuccess:function(_7f6,data){if(data){this._okToCache=true;this._entity=data;if(_7f6.onComplete){_7f6.onComplete.call(_7f6.scope||this,data,_7f6);}}else{if(_7f6.onError){_7f6.onError.call(_7f6.scope||this,"invalid feed",_7f6);}}},onFailure:function(_7f7,_7f8,_7f9){this._entity=false;if(_7f7.onError){_7f7.onError.call(_7f7.scope||this,_7f8.responseText,_7f7);}},onSet:function(item,_7fa,_7fb,_7fc){}});return _7da;});},"Sage/MainView/JobMgr/FilterConfigurationProvider":function(){define("Sage/MainView/JobMgr/FilterConfigurationProvider",["Sage/Services/_ServiceMixin","Sage/_ConfigurationProvider","Sage/Utility","Sage/Data/SDataStore","Sage/MainView/JobMgr/JobManagerGroupContextService","dijit/registry","dojo/_base/declare","Sage/Utility/Filters","dojo/_base/lang","dojo/json"],function(_7fd,_7fe,_7ff,_800,_801,_802,_803,_804,lang,json){var _805=_803("Sage.MainView.JobMgr.FilterConfigurationProvider",[_7fe,_7fd],{_configuration:null,_hasLayoutConfiguration:false,_hasFilterHiddenConfiguration:false,serviceMap:{"groupContextService":"ClientGroupContext","metaDataService":{type:"sdata",name:"metadata"},"systemDataService":{type:"sdata",name:"system"}},constructor:function(_806){this.inherited(arguments);if(this.groupContextService.declaredClass!=="Sage.MainView.JobMgr.JobManagerGroupContextService"){Sage.Services.removeService("ClientGroupContext");this.groupContextService=new GroupManagerGroupContextService();Sage.Services.addService("ClientGroupContext",this.groupContextService);}this._subscribes.push(dojo.subscribe("/group/context/changed",this,this._onGroupContextChanged));},_onGroupContextChanged:function(){this.onConfigurationChange();},onConfigurationChange:function(){},_createConfiguration:function(_807,_808){var _809=this.groupContextService.getCurrentListConfig();this._configuration=_809.getFilterConfig(this.metaDataService,_807,_808);if(!this._configuration){this._configuration={};}this._configuration.getFilterManager=function(){var _80a=_802.byId("list");return _80a&&_80a.get("filterManager");};this._hasLayoutConfiguration=true;},requestConfiguration:function(_80b){this._configuration={};this._hasLayoutConfiguration=false;this._hasFilterHiddenConfiguration=false;this._onRequestConfigurationSuccess(_80b,null);this._getHiddenFilters(_80b);},_onRequestConfigurationSuccess:function(_80c,_80d){this._createConfiguration(_80d,_80c);this._callOptionsSuccess(_80c);},_onRequestConfigurationFailure:function(_80e,_80f){if(_80e.failure){_80e.failure.call(_80e.scope||this,_80f,_80e,this);}},getFilterFormatter:function(_810){if(_810){}return false;},ModifyFilterQuery:function(_811,_812){return _812;},_getHiddenFilters:function(_813){var key=this._getHiddenFiltersKey();if(key){_804.getHiddenFilters(key,lang.hitch(this,this._onHiddenFiltersFetchComplete,_813||{}),function(err){console.error(err);});}},_getHiddenFiltersKey:function(){var key=_804.getHiddenFiltersKey();return key;},_onHiddenFiltersFetchComplete:function(_814,_815){if(_815&&_815.response&&_815.response.value){this._configuration._hiddenFilters=json.parse(_815.response.value);if(this._configuration._hiddenFilters&&this._configuration._hiddenFilters.constructor===Array){this._configuration._hiddenFilters={};}}this._configuration._hiddenFiltersKey=this._getHiddenFiltersKey();this._hasFilterHiddenConfiguration=true;this._callOptionsSuccess(_814);},_callOptionsSuccess:function(_816){if(!this._hasLayoutConfiguration||!this._hasFilterHiddenConfiguration){return;}if(_816.success){_816.success.call(_816.scope||this,this._configuration,_816,this);this._hasLayoutConfiguration=false;this._hasFilterHiddenConfiguration=false;}}});return _805;});},"Sage/UI/SLXPreviewGrid/main":function(){define("Sage/UI/SLXPreviewGrid/main",["Sage/UI/SLXPreviewGrid/Grid","Sage/UI/SLXPreviewGrid/FilterPanel","Sage/UI/SLXPreviewGrid/Filter/DateRange","Sage/UI/SLXPreviewGrid/Filter/Text"],function(){});},"Sage/Utility/Filters":function(){define("Sage/Utility/Filters",["dojo/_base/lang","Sage/Data/SDataServiceRegistry","dojo/json"],function(lang,_817,json){Sage.namespace("Utility.Filters");lang.mixin(Sage.Utility.Filters,{getHiddenFiltersKey:function(){var _818=Sage.Services.getService("ClientGroupContext"),_819=_818&&_818.getContext(),_81a="hidden_filters_",_81b=_819&&_819.CurrentGroupID,key="";if(_81b){_81b=_81b.toLowerCase();_81b=_81b.replace(/ /g,"_").replace(/'/g,"_");key=_81a+_81b;}return key;},setHiddenFilters:function(key,_81c){var _81d,_81e,_81f;_81d=_817.getSDataService("system");_81e={"$name":"setHiddenFilters","request":{"key":key,"value":_81c}};_81f=new Sage.SData.Client.SDataServiceOperationRequest(_81d);_81f.setOperationName("setHiddenFilters");_81f.execute(_81e,{});sessionStorage.removeItem(key);},getHiddenFilters:function(key,_820,_821){var _822,_823,_824,data;data=sessionStorage.getItem(key);if(data===null){_822=_817.getSDataService("system");_824={"$name":"getHiddenFilters","request":{"key":key}};_823=new Sage.SData.Client.SDataServiceOperationRequest(_822).setOperationName("getHiddenFilters");_823.execute(_824,{success:lang.hitch(this,this._getHiddenFiltersSuccess,_820,key),failure:_821});}else{_820.call(this,json.parse(data));}},_getHiddenFiltersSuccess:function(_825,key,data){if(_825){sessionStorage.setItem(key,json.stringify(data));_825.call(this,data);}},resolveDataType:function(_826){switch(_826){case "47f90249-e4c8-4564-9ae6-e1fa9904f8b8":case "6b0b3d51-0728-4b67-9473-52836a81da53":case "2596d57d-89d6-4b72-9036-b18c64c5324c":case "f37c635c-9fbf-40d8-98d5-750a54a3cca1":return "numeric";case "ccc0f01d-7ba5-408e-8526-a3f942354b3a":case "76c537a8-8b08-4b35-84cf-fa95c6c133b0":case "b71918bf-fac1-4b62-9ed5-0b0294bc9900":case "517d5e69-9efa-4d0a-8e7a-1c7691f921ba":return "string";case "8edd8fce-2be5-4d3d-bedd-ea667e78a8af":return "enum";case "1f08f2eb-87c8-443b-a7c2-a51f590923f5":return "date";case "30053f5a-8d40-4db1-b185-1e4128eb26cc":return "key";case "92432b4d-8206-4a96-ba7b-e4cbd374f148":case "95ca9d52-6f0b-4a96-bd40-43583f41faf8":return "boolean";case "f4ca6023-9f5f-4e41-8571-50ba94e8f233":return "binary";default:return "unknown";}},resolveDataTypeQB:function(_827){var _828;switch(_827){case "47f90249-e4c8-4564-9ae6-e1fa9904f8b8":case "6b0b3d51-0728-4b67-9473-52836a81da53":_828="Integer";break;case "2596d57d-89d6-4b72-9036-b18c64c5324c":case "f37c635c-9fbf-40d8-98d5-750a54a3cca1":_828="Decimal";break;case "ccc0f01d-7ba5-408e-8526-a3f942354b3a":case "76c537a8-8b08-4b35-84cf-fa95c6c133b0":case "b71918bf-fac1-4b62-9ed5-0b0294bc9900":case "517d5e69-9efa-4d0a-8e7a-1c7691f921ba":_828="String";break;case "1f08f2eb-87c8-443b-a7c2-a51f590923f5":_828="Date/Time";break;case "f4ca6023-9f5f-4e41-8571-50ba94e8f233":_828="Memo/Blob";break;default:_828="String";}return _828;}});return Sage.Utility.Filters;});},"Sage/MainView/ActivityMgr/ConfirmListPanelConfig":function(){define("Sage/MainView/ActivityMgr/ConfirmListPanelConfig",["Sage/MainView/ActivityMgr/BaseListPanelConfig","Sage/Utility","Sage/Utility/Activity","Sage/UI/SummaryFormatterScope","Sage/Data/BaseSDataStore","Sage/UI/Columns/DateTime","dojo/_base/declare","dojo/i18n!./nls/ConfirmListPanelConfig","dojo/i18n!./templates/nls/ConfirmationListSummary","dojo/i18n!./templates/nls/ConfirmationDetailSummary"],function(_829,_82a,_82b,_82c,_82d,_82e,_82f,_830){var _831=_82f("Sage.MainView.ActivityMgr.ConfirmListPanelConfig",[_829],{constructor:function(){this._nlsResources=_830;this._listId="confirmations";this._resourceKind="UserNotifications";this.entityName="UserNotification";this._contextMenu="ConfimationListContextMenu";this._scheduleContextMenu="ScheduleContextMenu";this._structure=this._getStructure();this._select=this._getSelect();this._include=this._getInclude();this._sort=this._getSort();this._where=this._getWhere();this._store=this._getStore();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.toolBar=this._getToolBars();dojo.subscribe("/entity/userNotification/change",this._onListRefresh);dojo.subscribe("/entity/userNotification/delete",this._onListRefresh);},_onListRefresh:function(_832){var _833=Sage.Services.getService("ActivityService");_833.refreshList("confirmations");},_getSelect:function(){var _834=["$key","Type","ActivityId","Activity/Type","Activity/StartDate","Activity/Description","FromUserId","ToUserId","FromUser/UserInfo/UserName","ToUser/UserInfo/UserName"];return _834;},_getInclude:function(){var _835=["UserInfo"];return _835;},_getSort:function(){var sort=[{attribute:"Activity.StartDate",descending:true}];return sort;},_getWhere:function(){var _836=(this._currentUserId)?dojo.string.substitute("ToUser.Id eq \"${0}\" ",[this._currentUserId]):"";return _836;},_getStructure:function(){var _837=this._nlsResources.colNameType||"Activity Type";var _838=this._nlsResources.colNameNotification||"Notification";var _839=this._nlsResources.colNameStartDate||"Start Date";var _83a=this._nlsResources.colNameRegarding||"Regarding";var _83b=this._nlsResources.colNameFromUser||"From";var _83c=this._nlsResources.colNameToUser||"To User";var _83d=_82f("Sage.MainView.ActivityMgr.ConfirmListPanelConfig.ActivityConfirmCell",dojox.grid.cells.Cell,{format:function(_83e,_83f){var key=_82a.getValue(_83f,"$key");var type=_82a.getValue(_83f,"Type");var _840=_82a.getValue(_83f,"ActivityId");var _841=_82a.getValue(_83f,"ToUserId");var _842=_82b.getConfirmStatusName(type);var html="<a href='javascript:Sage.Link.editConfirmation(\""+key+"\")' >"+_842+"</a>";return html;}});var _843=_82f("Sage.MainView.ActivityMgr.ConfirmListPanelConfig.ActivityTypeCell",dojox.grid.cells.Cell,{format:function(_844,_845){var type=this.get(_844,_845);var html="<div><div class='Global_Images icon16x16 "+_82b.getActivityImageClass(type,"small")+"'></div>&nbsp"+_82b.getActivityTypeName(type)+"</div>";return html;}});var _846=[{field:"Type",name:_838,type:_83d,width:"90px"},{field:"Activity.Type",name:_837,type:_843,width:"90px"},{field:"Activity.StartDate",name:_839,type:_82e,timelessField:"Timeless",width:"150px"},{field:"Activity.Description",name:_83a,width:"300px"},{field:"FromUser.UserInfo.UserName",name:_83b,width:"100px"},{field:"ToUser.UserInfo.UserName",name:_83c,width:"100px"}];return _846;},_getDetailConfig:function(){var _847=this._getFormatterScope();var _848={resourceKind:this._resourceKind,requestConfiguration:{mashupName:"ActivityManager",queryName:"ConfirmationDetailSummary_query"},templateLocation:"MainView/ActivityMgr/templates/ConfirmationDetailSummary.html",postProcessCallBack:false};return _848;},_getFormatterScope:function(){var _849=new _82c({requestConfiguration:{mashupName:"ActivityManager",queryName:"ConfirmationListSummary_query"},templateLocation:"MainView/ActivityMgr/templates/ConfirmationListSummary.html"});return _849;},_getToolBars:function(){var _84a={items:[]};return _84a;}});return _831;});},"Sage/QuickForms/Design/HiddenControlDesigner":function(){define("Sage/QuickForms/Design/HiddenControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/NonVisibleAdvancedPropertyEditor","dojo/i18n!./nls/HiddenControlDesigner"],function(_84b,_84c,lang,_84d,_84e,_84f,_850,_851,_852){return _84b("Sage.QuickForms.Design.HiddenControlDesigner",[_84e,_84f,_84d,_850],{designSupport:{visible:false},editors:[_851],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div data-dojo-attach-point=\"containerNode\">","<span data-dojo-attach-point=\"designCaptionNode\"></span>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},helpTopicName:"Hidden_Text_control",quickFormControlType:"Sage.Platform.QuickForms.QFControls.QFHidden, Sage.Platform.QuickForms.QFControls",displayNameText:"Hidden Text",constructor:function(){lang.mixin(this,_852);},_setControlIdAttr:function(_853){this.inherited(arguments);this.set("designCaption",_853);},startup:function(){this.inherited(arguments);this.set("designCaption",this.get("controlId"));}});});},"Sage/MainView/Lead/UpdateLeads":function(){define("Sage/MainView/Lead/UpdateLeads",["dojo/_base/declare","dojo/i18n!./nls/UpdateLeads","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","Sage/UI/Dialogs","Sage/UI/Controls/Lookup","Sage/Utility/Jobs","dijit/form/Form","dijit/form/Select","dijit/form/Textarea","dijit/layout/ContentPane","dojox/layout/TableContainer","dojo/i18n!./nls/UpdateLeads"],function(_854,_855,_856,_857,_858,_859,_85a,_85b,_85c,jobs){var _85d=_854("Sage.MainView.Lead.UpdateLeads",[_859,_85a],{id:"dlgUpdateMultipleLeads",_dialog:false,_selectionInfo:false,_updateableProperties:false,selectedFieldIndex:1,lup_Owner:false,lup_AcctMgr:false,widgetsInTemplate:true,widgetTemplate:new Simplate(["<div>","<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.updateMultipleLeads_Caption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">","<div data-dojo-type=\"dijit.form.Form\" id=\"{%= $.id %}_frmUpdateMultipleLeads\">","<table cellspacing=\"20\">","<tr>","<td>","<label>{%= $.update_Property_Caption %}</label>","</td>","<td>","<select title=\"{%= $.update_Property_Caption %}\" labelWidth=\"20\" name=\"{%= $.id %}_PropertyName\" dojoAttachPoint=\"propertyNameSelect\" dojoAttachEvent=\"onChange:_propertyChanged\" data-dojo-type=\"dijit.form.Select\" style=\"width:150px\">","{% for (var i=0; i < $._updateableProperties.length;i++) { %}","<option value=\"{%= $._updateableProperties[i].propertyName %}\" {% if ($.selectedFieldIndex == i ) { %} selected {% } %} >{%= $._updateableProperties[i].propertyDisplayName %}</option>","{% } %}","</select>","</td>","<td>","<div id=\"divUpdateLeadsTolbl\" dojoAttachPoint=\"divUpdateLeadsTolbl\">","<label>{%= $.update_To_Caption %}</label>","</div>","</td>","<td>","<div dojoAttachPoint=\"divOwnerContainer\" baseClass=\"lookup-container\">","<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.lookupOwnerText %}\" dojoAttachPoint=\"assignOwner_Container\" class=\"removePadding\"></div>","</div>","<div dojoAttachPoint=\"divAcctMgrContainer\" baseClass=\"lookup-container\" class=\"display-none\">","<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_luAccountMgr\" dojoAttachPoint=\"accountMgr_Container\" allowClearingResult=\"false\" class=\"removePadding\"></div>","</div>","</td>","</tr>","</table>","<div class=\"button-bar\" align=\"right\">","<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.ok_Text %}</div>","<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_close\">{%= $.btnCancel_Caption %}</div>","</div>","</div>","</div>","</div>"]),constructor:function(_85e){this._selectionInfo=_85e;dojo.mixin(this,_855);if(!this._updateableProperties){this._updateableProperties=[{propertyName:"",propertyDisplayName:""}];this.loadUpdateableProperties("Owner",this.updateProp_Owner);this.loadUpdateableProperties("AcctMgr",this.updateProp_AcctMgr);}},loadUpdateableProperties:function(_85f,_860){var _861={propertyName:_85f,propertyDisplayName:_860};this._updateableProperties.push(_861);},setSelectionInfo:function(_862){this._selectionInfo=_862;},show:function(){if(!this.lup_Owner){this.createOwnerLookup();}if(!this.lup_AcctMgr){this.createAcctMgrLookup();}this._dialog.show();if(!this._dialog.helpIcon){_857.mixin(this._dialog,new _856());this._dialog.createHelpIconByTopic("updateleads");}},_propertyChanged:function(){if(this.propertyNameSelect){this.setDisplayProperty(this.divAcctMgrContainer,(this.propertyNameSelect.value=="AcctMgr"));this.setDisplayProperty(this.divOwnerContainer,(this.propertyNameSelect.value=="Owner"));}},setDisplayProperty:function(_863,_864){if(_863&&_864){dojo.removeClass(_863,"display-none");}else{if(_863){dojo.addClass(_863,"display-none");}}},createOwnerLookup:function(){this.assignOwnerLookupConfig={id:"_assignOwner",structure:[{defaultCell:{sortable:true,width:"150px",editable:false,styles:"text-align: left;",propertyType:"System.String",excludeFromFilters:false,useAsResult:false,pickListName:null,defaultValue:""},cells:[{name:this.lookupDescriptionColText,field:"Description"},{name:this.lookupTypeColText,field:"Type",PropertyType:"Sage.Entity.Interfaces.OwnerType"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"ownerViews",sort:[{attribute:"Description"}]},isModal:true,initialLookup:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupOwnerText,dialogButtonText:this.ok_Text};this.lup_Owner=new _85c({id:"lu_AssignOwner",config:this.assignOwnerLookupConfig,style:"width:100%"});dojo.place(this.lup_Owner.domNode,this.assignOwner_Container.domNode,"only");},createAcctMgrLookup:function(){this.accountMgrLookupConfig={id:"_acctMgr",structure:[{defaultCell:{sortable:true,width:"150px",editable:false,styles:"text-align: left;",propertyType:"System.String",excludeFromFilters:false,useAsResult:false,pickListName:null,defaultValue:""},cells:[{name:this.lookupNameColText,field:"UserInfo.UserName"},{name:this.lookupTitleColText,field:"UserInfo.Title"},{name:this.lookupDepartmentColText,field:"UserInfo.Department"},{name:this.lookupRegionColText,field:"UserInfo.Region"},{name:this.lookupTypeColText,field:"Type",propertyType:"Sage.Entity.Interfaces.UserType"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"users",sort:[{attribute:"UserInfo.UserName"}]},isModal:true,initialLookup:true,returnPrimaryKey:true,dialogTitle:this.lookupActMgrText,dialogButtonText:this.ok_Text,preFilters:[{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"5"},{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"6"},{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"7"},{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"8"}]};this.lup_AcctMgr=new _85c({id:"lu_AcctMgr",config:this.accountMgrLookupConfig,style:"width:100%"});dojo.place(this.lup_AcctMgr.domNode,this.accountMgr_Container.domNode,"only");},_okClick:function(){var _865=this.getPropertySelectionValue();var self=this;if(!_865&&!_865.value){_85b.showError(this.errorUnspecifiedValue);return;}var _866=[{"name":"EntityName","value":"Lead"},{"name":"PropertyNames","value":_865.name},{"name":"PropertyValues","value":_865.value},{"name":"SelectedIds","value":(this._selectionInfo.selectionCount>0)?this._selectionInfo.selectedIds.join(",")||"":""},{"name":"GroupId","value":(this._selectionInfo.selectionCount===0)?this.getCurrentGroupId()||"":""}];var _867={closable:true,title:this.updateLeadsTitle,key:"Sage.SalesLogix.BusinessRules.Jobs.UpdateEntityJob",parameters:_866,success:function(_868){},failure:function(_869){},ensureZeroFilters:true};jobs.triggerJobAndDisplayProgressDialog(_867);self._close();},getCurrentGroupId:function(){var _86a=Sage.Services.getService("ClientGroupContext");if(_86a){var _86b=_86a.getContext();return _86b.CurrentGroupID;}return "";},getPropertySelectionValue:function(){if(this.propertyNameSelect){switch(this.propertyNameSelect.value){case "AcctMgr":if(this.lup_AcctMgr.selectedObject){return {name:"AccountManager",value:this.lup_AcctMgr.selectedObject.$key};}return false;case "Owner":if(this.lup_Owner.selectedObject){return {name:"Owner",value:this.lup_Owner.selectedObject.$key};}return false;}}return false;},_close:function(){this._dialog.hide();}});return _85d;});},"Sage/Services/ClientBindingManagerService":function(){define("Sage/Services/ClientBindingManagerService",["dojo/_base/declare"],function(_86c){var _86d=_86c("Sage.Services.ClientBindingManagerService",null,{constructor:function(){this._listeners[this.ON_SAVE]=[];this.inherited(arguments);},_WatchChanges:true,_PageExitWarningMessage:"",_ShowWarningOnPageExit:false,_SkipCheck:false,_CurrentEntityIsDirty:false,_SaveBtnID:"",_MsgDisplayID:"",_entityTransactionID:"",_IgnoreDirtyFlag:false,_DirtyAjaxItems:[],_listeners:{},_init:function(){this.positionDirtyDataMessage();dojo.subscribe("Sage/events/markDirty",this,"markDirty");},positionDirtyDataMessage:function(){var _86e=dojo.query("#PageTitle");var _86f=dojo.query(".dirtyDataMessage");if(_86e&&_86e.length>0&&_86f&&_86f.length>0){dojo.place(_86f[0],_86e[0],"after");dojo.style(_86f[0],"top",dojo.marginBox(_86e[0]).t+"px");dojo.style(_86f[0],"left",dojo.marginBox(_86e[0]).w+"px");}},addListener:function(_870,_871,_872){this._listeners[_870]=this._listeners[_870]||[];this._listeners[_870].push({listener:_871,scope:_872});},removeListener:function(_873,_874){this._listeners[_873]=this._listeners[_873]||[];for(var i=0;i<this._listeners[_873].length;i++){if(this._listeners[_873][i].listener==_874){break;}}this._listeners[_873].splice(i,1);},onSave:function(){for(var i=0;i<this._listeners[this.ON_SAVE].length;i++){var fn=this._listeners[this.ON_SAVE][i].listener;var _875=this._listeners[this.ON_SAVE][i].scope||this;if(typeof fn==="function"){fn.call(_875);}}},SetShowWarningOnPageExit:function(_876){this._ShowWarningOnPageExit=(_876);if(this._ShowWarningOnPageExit){window.onbeforeunload=this.onExit;}},onExit:function(e){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){if(mgr._ShowWarningOnPageExit){if(mgr._SkipCheck){return;}var hdd=mgr.hasDirtyData();if(hdd&&(mgr._IgnoreDirtyFlag===false)||Sage.Utility.getModeId()==="insert"){window.setTimeout(function(){Sage.Utility.hideRequestIndicator(null,{});},1000);if(window.event){window.event.returnValue=mgr._PageExitWarningMessage;}else{return mgr._PageExitWarningMessage;}}}}return;},canChangeEntityContext:function(){if((this._WatchChanges)&&(this.hasDirtyData())&&(this._ShowWarningOnPageExit)){if(confirm(this._PageExitWarningMessage)){this.clearDirtyStatus();return true;}else{return false;}}return true;},hasDirtyData:function(){return (this._CurrentEntityIsDirty||(this._DirtyAjaxItems&&this._DirtyAjaxItems.length>0));},markDirty:function(e){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){if(mgr._WatchChanges){mgr._CurrentEntityIsDirty=true;if(mgr._IgnoreDirtyFlag===false){dojo.style(dojo.byId(mgr._MsgDisplayID),"display","inline");}}}},addDirtyAjaxItem:function(_877){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){var len=this._DirtyAjaxItems.length;for(var i=0;i<len;i++){if(this._DirtyAjaxItems[i]===_877){return;}}this._DirtyAjaxItems.push(_877);if(this._WatchChanges){if(this._IgnoreDirtyFlag===false){dojo.style(dojo.byId(mgr._MsgDisplayID),"display","inline");}}}},clearDirtyAjaxItem:function(_878){var len=this._DirtyAjaxItems.length;for(var i=0;i<len;i++){if(this._DirtyAjaxItems[i]===_878){this._DirtyAjaxItems.splice(i,1);}}if(!this.hasDirtyData()){$("#"+this._MsgDisplayID).hide();}},clearDirtyStatus:function(){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){mgr._CurrentEntityIsDirty=false;$("#"+mgr._MsgDisplayID).hide();}},notifyIsSaving:function(){if(Sage.Utility.Validate._isValid){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){Sys.WebForms.PageRequestManager.getInstance().add_endRequest(mgr.handleEndSaveRequest);mgr.clearDirtyStatus();if(Sage.Utility.getModeId()==="insert"){mgr._SkipCheck=true;}mgr.onSave();}}},handleEndSaveRequest:function(_879,args){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){if(!args.get_error()){mgr.clearDirtyStatus();}else{mgr.markDirty();}Sys.WebForms.PageRequestManager.getInstance().remove_endRequest(mgr.handleEndSaveRequest);}},saveForm:function(){var btn=dojo.byId(this._SaveBtnID);if(btn){if((btn.tagName.toLowerCase()==="input")&&(btn.type==="image")){this.notifyIsSaving();Sys.WebForms.PageRequestManager.getInstance()._doPostBack(btn.name,null);}else{if(btn.onClick){this.notifyIsSaving();btn.onClick();}}}},registerResetBtn:function(_87a){if(_87a){var btn=dojo.byId(_87a);if(btn){$addHandler(btn,"click",this.resetCurrentEntity);}}},registerSaveBtn:function(_87b,_87c){if(_87b){var btn=dojo.byId(_87b);if(btn){dojo.connect(btn,"onclick",function(){Sage.Utility.Validate.onWorkSpaceSave(_87c);});$addHandler(btn,"click",this.notifyIsSaving);if(this._SaveBtnID===""){this._SaveBtnID=_87b;}}}},registerDialogCancelBtn:function(_87d){if(_87d){var btn=dojo.byId(_87d);if(btn){$addHandler(btn,"click",this.rollbackCurrentTransaction);}}},registerBoundControls:function(_87e){if((this._WatchChanges)&&(_87e)){var _87f=_87e.split(",");var elem;for(var i=0;i<_87f.length;i++){if(dojo.byId(_87f[i])){elem=dojo.byId(_87f[i]);}else{if(dijit.byId(_87f[i])){elem=dijit.byId(_87f[i]).focusNode;}}if(elem){if(elem.attributes["slxcompositecontrol"]){this.findChildControls(elem);}else{this.attachChangeHandler(elem);}}}}this.findWarningExceptions();},findChildControls:function(elem){if((elem)&&(elem.attributes)&&(elem.attributes["slxchangehook"])&&(!elem.attributes["slxcompositecontrol"])){this.attachChangeHandler(elem);}else{if(elem.childNodes){for(var n=0;n<elem.childNodes.length;n++){this.findChildControls(elem.childNodes[n]);}}}},setDijitControlFocus:function(_880){var _881=dijit.byId(_880);if(_881){_881.focus();if(_881.select){_881.select();}return true;}},setControlFocus:function(_882){var _883=function(elem){if((typeof (elem.select)=="function")||(typeof (elem.select)=="object")){elem.select();try{elem.focus();}catch(ex){return false;}return true;}return false;};var elem=$("#"+_882)[0];if(elem){if(_883(elem)){return;}elem=$("#"+_882+" TEXTAREA")[0];if((elem)&&(_883(elem))){return;}elem=$("#"+_882+" INPUT")[0];if(elem){if(dojo.hasClass(elem,"dijitArrowButtonInner")){if(this.setDijitControlFocus(_882+"-SingleSelectPickList-Combo")){return;}}else{if(dojo.hasClass(elem,"dijitValidationInner")){elem=$("#"+_882+" INPUT")[1];if((elem)&&(_883(elem))){return;}}else{if(dojo.style(elem,"display")=="none"&&elem.classList.length===0){elem=$("#"+_882+" INPUT")[3];if((elem)&&(_883(elem))){return;}}}}if(_883(elem)){return;}}elem=$("#"+_882+" SELECT")[0];if((elem)&&(_883(elem))){return;}}},attachChangeHandler:function(elem){if(elem){if((elem.tagName==="A")||((elem.tagName==="INPUT")&&((elem.type==="button")||(elem.type==="image")||(elem.type==="submit")))){this.registerChildPostBackWarningExceptions(elem);}else{try{elem._events=elem._events||{change:[]};$removeHandler(elem,"change",this.markDirty);}catch(e){console.error(e);}$addHandler(elem,"change",this.markDirty);}}},registerPostBackWarningExceptions:function(elem){if(elem){var _884=$("a,input[type='INPUT'],input[type='BUTTON'],input[type='IMAGE'],input[type='SUBMIT']",elem).get();for(var i=0;i<_884.length;i++){this.registerChildPostBackWarningExceptions(_884[i]);}}},findWarningExceptions:function(){var _885=$("span[slxcompositecontrol], div[slxcompositecontrol]").get();for(var i=0;i<_885.length;i++){this.registerPostBackWarningExceptions(_885[i]);}},registerChildPostBackWarningExceptions:function(elem){if(elem){if($(elem).hasClass("leavesPage")){return;}if((elem.tagName=="A")||((elem.tagName=="INPUT")&&((elem.type=="button")||(elem.type=="image")||(elem.type=="submit")))){try{$removeHandler(elem,"click",this.skipWarning);}catch(e){}$addHandler(elem,"click",this.skipWarning);}}},turnOffWarnings:function(){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){mgr._SkipCheck=true;var x=window.setTimeout(function(){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){mgr._SkipCheck=true;}},500);}},resumeWarning:function(){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){mgr._SkipCheck=false;}},skipWarning:function(){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){mgr._SkipCheck=true;var x=window.setTimeout(function(){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){mgr._SkipCheck=false;}},500);}},resetCurrentEntity:function(){var mgr=Sage.Services.getService("ClientBindingManagerService");mgr.doFormReset();if(mgr){var _886=Sage.Services.getService("ClientContextService");if(_886){if(_886.containsKey("ResetCurrentEntity")){_886.setValue("ResetCurrentEntity","true");}else{_886.add("ResetCurrentEntity","true");}}mgr.clearDirtyStatus();}},rollbackCurrentTransaction:function(){var mgr=Sage.Services.getService("ClientBindingManagerService");mgr.doSectionReset("dialog");if(mgr){var _887=Sage.Services.getService("ClientContextService");if(_887){if(_887.containsKey("RollbackEntityTransaction")){_887.setValue("RollbackEntityTransaction",mgr._entityTransactionID);}else{_887.add("RollbackEntityTransaction",mgr._entityTransactionID);}}}},doFormReset:function(){document.forms[0].reset();},doSectionReset:function(_888){function _889(_88a,_88b){if((_88a=="main")&&(document.getElementById("MainContent"))){return document.getElementById("MainContent").getElementsByTagName(_88b);}else{if((_88a=="tabs")&&(document.getElementById("TabControl"))){return document.getElementById("TabControl").getElementsByTagName(_88b);}else{if(document.getElementById("DialogWorkspace_content")){return document.getElementById("DialogWorkspace_content").getElementsByTagName(_88b);}}}return [];};var elem;var _88c=_889(_888,"INPUT");var i;if(_88c.length>0){for(i=0;i<_88c.length;i++){elem=_88c[i];if((elem.type==="checkbox")||(elem.type==="radio")){if(elem.checked!=elem.defaultChecked){elem.checked=elem.defaultChecked;}}else{if(elem.value!=elem.defaultValue){elem.value=elem.defaultValue;}}}_88c=_889(_888,"TEXTAREA");for(i=0;i<_88c.length;i++){elem=_88c[i];if(elem.value!=elem.defaultValue){elem.value=elem.defaultValue;}}_88c=_889(_888,"SELECT");for(i=0;i<_88c.length;i++){elem=_88c[i];for(var k=0;k<elem.options.length;k++){elem.options[k].selected=elem.options[k].defaultSelected;}}}else{document.forms[0].reset();}},setCurrentTransaction:function(_88d){this._entityTransactionID=_88d;},clearReset:function(){if(Sage.Services){var _88e=Sage.Services.getService("ClientContextService");if(_88e){if(_88e.containsKey("ResetCurrentEntity")){_88e.remove("ResetCurrentEntity");}if(_88e.containsKey("RollbackEntityTransaction")){_88e.remove("RollbackEntityTransaction");}}}}});if(!Sage.Services.hasService("ClientBindingManagerService")){Sage.Services.addService("ClientBindingManagerService",new Sage.Services.ClientBindingManagerService());}return _86d;});},"Sage/TaskPane/SecurityManagerTasksTasklet":function(){define("Sage/TaskPane/SecurityManagerTasksTasklet",["dojo/i18n!./nls/SecurityManagerTasksTasklet","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneContent","Sage/MainView/SecurityMgr/SecurityProfile","dojo/_base/declare"],function(_88f,_890,_891,_892,_893){var _894=_893("Sage.TaskPane.SecurityManagerTasksTasklet",[_890,_891],{addSecurityProfileTitle:"Add Profile",editSecurityProfileTitle:"Edit Profile",taskItems:[],constructor:function(){dojo.mixin(this,_88f);this.taskItems=[{taskId:"AddSecurityProfile",type:"Link",displayName:this.addSecurityProfileTitle,clientAction:"securityManagerTasksActions.addSecurityProfile();",securedAction:"Entities/SecurityManager/AddProfile"},{taskId:"EditSecurityProfile",type:"Link",displayName:this.editSecurityProfileTitle,clientAction:"securityManagerTasksActions.editSecurityProfile();",securedAction:"Entities/SecurityManager/EditProfile"}];},addSecurityProfile:function(){var _895=this.getStore();_895.newItem({onComplete:this.receiveNewProfileToEdit,scope:this});},getStore:function(){if(this.store){return this.store;}var _896=Sage.Data.SDataServiceRegistry.getSDataService("system");this.store=new Sage.Data.SingleEntrySDataStore({service:_896,resourceKind:"securityProfiles",include:[],select:["profileDescription","defaultPermission","profileType"]});return this.store;},receiveNewProfileToEdit:function(_897){this.receiveProfileToEdit(_897,true);},receiveProfileToEdit:function(_898,_899){this._isNew=(_899===true);var dlg=dijit.byId("secProfileDlg");if(dlg){dlg.show();var _89a=dijit.byId("secDlg_Description");var type=dijit.byId("secDlg_Type");if(_898.profileDescription){_89a.set("value",_898.profileDescription);}if(_898.profileType){type.set("value",_898.profileType);}else{type.set("value","UserDefined");}}},addSecurityProfileActionItem:function(_89b){return function(){var _89c=new _892(_89b);_89c.show();};},editSecurityProfile:function(){var _89d;var _89e=Sage.Services.getService("ClientGroupContext");if(_89e){var ctx=_89e.getContext();_89d=ctx.CurrentGroupID;var st=this.getStore();st.fetch({predicate:"\""+_89d+"\"",onComplete:this.receiveProfileToEdit,scope:this});}},save:function(_89f){if(this.store){var _8a0=dijit.byId("secDlg_Description");var _8a1=dijit.byId("secDlg_Type");this.store.setValue(false,"profileDescription",_8a0.value);this.store.setValue(false,"profileType",_8a1.value);if(this._isNew){this.store.saveNewEntity(false,_89f.success,_89f.failure,this);}else{this.store.save(_89f);}}},saveAndClose:function(){this.save({success:function(_8a2){var dlg=dijit.byId("secProfileDlg");dlg.hide();if(this._isNew){var _8a3=new dijit.layout.ContentPane();_8a3.id=_8a2["$key"];_8a3.title=_8a2.profileDescription;var _8a4=dijit.byId("GroupTabs");_8a4.addChild(_8a3);_8a4.selectChild(_8a3);}else{var _8a5=dijit.byId(_8a2["$key"]);_8a5.set("title",_8a2.profileDescription);}},failure:function(err){alert("The profile could not be saved: "+err);}});}});return _894;});},"Sage/UI/Alarms/UnconfirmedPane":function(){define("Sage/UI/Alarms/UnconfirmedPane",["dijit/form/Button","Sage/UI/Alarms/AlertPane","Sage/UI/Alarms/UnconfirmedAlarm","Sage/Link","dojo/i18n","dojo/i18n!./nls/UnconfirmedPane","dojo/_base/declare"],function(_8a6,_8a7,_8a8,link,i18n,_8a9,_8aa){var _8ab=_8aa("Sage.UI.Alarms.UnconfirmedPane",_8a7,{showConfirmationsText:"Show Confirmations",showCalendarText:"Show Calendar",acceptText:"Accept",declineText:"Decline",_acceptButton:false,templateString:["<div>","<div class=\"alarm-items-contents\" dojoAttachPoint=\"_alertContents\"></div>","<div class=\"alarm-snoozebar\" dojoAttachPoint=\"_confButtonBar\">","<table style=\"width:100%\">","<tr>","<td class=\"leftTools\"><a href=\"Calendar.aspx\" title=\"${showCalendarText}\">${showCalendarText}</a>","<td class=\"leftTools\"><a href=\"javascript: Sage.Link.toActivityListView('confirmations')\" title=\"${showConfirmationsText}\">${showConfirmationsText}</a></td>","<td class=\"rightTools\">","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" dojoAttachEvent=\"onClick:_acceptSelected\" dojoAttachPoint=\"_acceptButton\">${acceptText}</button>","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" dojoAttachEvent=\"onClick:_declineSelected\">${declineText}</button>","</td>","</tr>","</table>","</div>","</div>"].join(""),constructor:function(){dojo.mixin(this,_8a9);},onShow:function(){this._acceptButton.focus();},_addAlert:function(_8ac){var _8ad=new _8a8({userNotification:_8ac,selected:this.selectedAlerts.hasOwnProperty(_8ac["$key"])});this.alertWidgets.push(_8ad);dojo.place(_8ad.domNode,this._alertContents);},_acceptSelected:function(){var len=this.alertWidgets.length-1;for(var i=len;i>-1;i--){var wid=this.alertWidgets[i];if(wid.selected){var _8ae=Sage.Services.getService("ActivityService");_8ae.acceptConfirmation({notification:wid.userNotification,success:this.onPostSuccess,failure:function(){this._alertChanged(this.alertWidgets.length);},scope:this});this.alertWidgets.splice(i,1);wid.destroy();}}},_declineSelected:function(){var len=this.alertWidgets.length-1;for(var i=len;i>-1;i--){var wid=this.alertWidgets[i];if(wid.selected){var _8af=Sage.Services.getService("ActivityService");_8af.declineConfirmation({notification:wid.userNotification,success:this.onPostSuccess,failure:function(){this._alertChanged(this.alertWidgets.length);},scope:this});this.alertWidgets.splice(i,1);wid.destroy();}}},getUnhandledAlertCount:function(){return this.alertWidgets.length;},onPostSuccess:function(){this._alertChanged(this.alertWidgets.length);}});return _8ab;});},"Sage/MainView/ActivityMgr/AlarmListPanelConfig":function(){define("Sage/MainView/ActivityMgr/AlarmListPanelConfig",["Sage/MainView/ActivityMgr/BaseListPanelConfig","Sage/Utility","Sage/Utility/Activity","Sage/UI/SummaryFormatterScope","Sage/UI/SDataSummaryFormatterScope","Sage/Data/SDataStore","Sage/UI/Columns/DateTime","dijit/form/FilteringSelect","Sage/MainView/ActivityMgr/SnoozeButton","Sage/MainView/ActivityMgr/SnoozeOptions","Sage/Data/SDataServiceRegistry","dojo/_base/declare","dojo/i18n!./nls/ActivityListPanelConfig","dojo/i18n!./templates/nls/UserActivityDetailSummary","dojo/i18n!./templates/nls/UserActivityListSummary"],function(_8b0,_8b1,_8b2,_8b3,_8b4,_8b5,_8b6,_8b7,_8b8,_8b9,_8ba,_8bb,_8bc){var _8bd=_8bb("Sage.MainView.ActivityMgr.AlarmListPanelConfig",[_8b0],{constructor:function(){this._nlsResources=_8bc;this._listId="alarms";this._resourceKind="userActivities";this.entityName="UserActivity";this._contextMenu="ActivityListContextMenu";this._scheduleContextMenu="ScheduleContextMenu";this._service=_8ba.getSDataService("system");this._structure=this._getStructure();this._select=this._getSelect();this._include=this._getInclude();this._sort=this._getSort();this._where=this._getWhere();this._store=this._getStore();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.toolBar=this._getToolBars();this.keyField="$key";this.hasCompositeKey=true;this.rebuildOnRefresh=true,dojo.subscribe("/entity/activity/change",this._onListRefresh);dojo.subscribe("/entity/activity/delete",this._onListRefresh);dojo.subscribe("/entity/activity/create",this._onListRefresh);dojo.subscribe("/entity/userActivity/change",this._onListRefresh);dojo.subscribe("/entity/userActivity/delete",this._onListRefresh);dojo.subscribe("/entity/userActivity/create",this._onListRefresh);dojo.subscribe("/entity/activity/confirm",this._onListRefresh);dojo.subscribe("/entity/activity/decline",this._onListRefresh);},_onListRefresh:function(_8be){var _8bf=Sage.Services.getService("ActivityService");_8bf.refreshList("alarms");},_getSelect:function(){var _8c0=["Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Alarm","Activity/AlarmTime","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","UserId","AlarmTime","Alarm","Status"];return _8c0;},_getInclude:function(){var _8c1=["Activity","$descriptors"];return _8c1;},_getSort:function(){var sort=[];return sort;},_getWhere:function(){var _8c2;_8c2=dojo.string.substitute("(User.Id eq '${0}' and Status ne 'asDeclned') and ((Alarm eq true and AlarmTime ne null and AlarmTime lt '${1}') or (Alarm eq null and AlarmTime eq null and Activity.Alarm eq true and Activity.AlarmTime lt '${1}'))",[this._currentUserId,Sage.Utility.Convert.toIsoStringFromDate(new Date())]);return _8c2;},_getStructure:function(){var _8c3="<div class='Global_Images icon16x16 icon_attach_to_16' title='"+this._nlsResources.colNameAttachment+"' />";var _8c4="<div class='Global_Images icon16x16 icon_recurring' title='"+this._nlsResources.colNameRecurring+"' />";var _8c5="<div class='Global_Images icon16x16 icon_unconfirmedActivity16x16' title='"+this._nlsResources.colNameUnConfirmStatus+"' />";var _8c6=this._nlsResources.colNameType||"Activity Type";var _8c7=this._nlsResources.colNameStartDate||"Start Date";var _8c8=this._nlsResources.colNameDuration||"Duration";var _8c9=this._nlsResources.colNameContact||"Name";var _8ca=this._nlsResources.colNameAccount||"Account/Company";var _8cb=this._nlsResources.colNameRegarding||"Regarding";var _8cc=this._nlsResources.colNamePriority||"Priority";var _8cd=this._nlsResources.colNameUserId||"Leader";var _8ce=this._nlsResources.colNameTypeName||"Type";var _8cf=[{field:"Status",name:_8c5,type:_8b2.activityConfirmStatusCell,width:"20px"},{field:"Activity.Attachment",name:_8c3,type:_8b2.activityAttachCell,width:"20px"},{field:"Activity.Recurring",name:_8c4,type:_8b2.activityRecurringCell,width:"20px"},{field:"Activity.Type",name:_8c6,type:_8b2.activityTypeCell,width:"90px"},{field:"Activity.StartDate",name:_8c7,type:_8b6,timelessField:"Activity.Timeless",width:"100px"},{field:"Activity.Duration",name:_8c8,type:_8b2.activityDurationCell,width:"40px"},{field:"Activity.ContactId",name:_8ce,type:_8b2.activityNameTypeCell,width:"40px"},{field:"Activity.ContactName",name:_8c9,type:_8b2.activityNameCell,width:"200px"},{field:"Activity.AccountName",name:_8ca,type:_8b2.activityAccountCell,width:"200px"},{field:"Activity.Description",name:_8cb,width:"100px"},{field:"Activity.Priority",name:_8cc,width:"40px"},{field:"Activity.Leader",name:_8cd,type:_8b2.activityLeaderCell,width:"200px"}];return _8cf;},_getSummaryConfig:function(){var _8d0=new _8b5({id:this._listId,service:this._service,resourceKind:this._resourceKind,include:["Activity","$descriptors"],select:["$key"],expandRecurrences:false,where:this._where});var _8d1=[{field:"$key",formatter:"formatSummary",width:"100%",name:"Summary View"}];var _8d2=this._getFormatterScope();var _8d3={structure:_8d1,layout:"layout",store:_8d0,rowHeight:170,rowsPerPage:10,formatterScope:_8d2};return _8d3;},_getDetailConfig:function(){var _8d4=this._getFormatterScope();var _8d5=this._getSummaryDetailRequestConfig();var _8d6={resourceKind:this._resourceKind,requestConfiguration:_8d5,templateLocation:"MainView/ActivityMgr/templates/UserActivityDetailSummary.html"};return _8d6;},_getSummaryListRequestConfig:function(){var _8d7={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Alarm","Status","User","Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","Activity/Location","Activity/TicketId","Activity/TicketNumber","Activity/OpportunityId","Activity/OpportunityName","Activity/Notes","Activity/PhoneNumber","Activity/Details/AttendeeCount"],include:["Activity","$descriptors"],useBatchRequest:true,expandRecurrences:false};return _8d7;},_getSummaryDetailRequestConfig:function(){var _8d8={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Alarm","Status","User","Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","Activity/Location","Activity/TicketId","Activity/TicketNumber","Activity/OpportunityId","Activity/OpportunityName","Activity/LongNotes","Activity/PhoneNumber","Activity/Details/AttendeeCount"],include:["Activity","$descriptors"],useBatchRequest:true,expandRecurrences:false};return _8d8;},_getFormatterScope:function(){var _8d9=this._getSummaryListRequestConfig();var _8da=new _8b4({templateLocation:"MainView/ActivityMgr/templates/UserActivityListSummary.html",resetDataManager:true,requestConfiguration:_8d9});return _8da;},_getToolBars:function(){var _8db={items:[{custom:true,imageClass:"icon_SnoozeAlarm_16x16",tooltip:this._nlsResources.SnoozeAlarm||"Snooze Alarm",onClick:function(){var _8dc=new _8b9();_8dc.show();}},{custom:true,imageClass:"icon_DismissAlarm_16x16",tooltip:this._nlsResources.DismissAlarm||"Dismiss Alarm",onClick:function(){var _8dd=Sage.Services.getService("ActivityService");_8dd.dismissAlarm();}}]};this.updateToolBar=true;return _8db;},getTimelessProperty:function(_8de){return "Activity.Timeless";}});return _8bd;});},"Sage/UI/Alarms/nls/AlarmPane":function(){define("Sage/UI/Alarms/nls/AlarmPane",["Sage/LanguageList","dojo/_base/lang"],function(_8df,lang){var nls={root:{dismissAllText:"Dismiss all",dismissText:"Dismiss",fiveMinText:"5 minutes",tenMinText:"10 minutes",fifteenMinText:"15 minutes",thirtyMinText:"30 minutes",oneHourText:"1 hour",twoHourText:"2 hours",fourHourText:"4 hours",eightHourText:"8 hours",oneDayText:"1 day",twoDayText:"2 days",threeDayText:"3 days",oneWeekText:"1 week",twoWeekText:"2 weeks",snoozeText:"Snooze",snoozeByText:"Snooze by:",snoozeAllText:"Snooze All",showCalendarText:"Show Calendar"}};return lang.mixin(_8df,nls);});},"Sage/UI/Filters/LookupFilter":function(){define("Sage/UI/Filters/LookupFilter",["dijit/_Widget","dijit/_Contained","dojo/NodeList-traverse","Sage/_Templated","Sage/_ActionMixin","dojo/string","dojo/_base/lang","dojo/_base/array","dijit/form/Select","dijit/form/TextBox","dojo/on","dojo/i18n!../nls/ConditionManager","dojo/_base/declare"],function(_8e0,_8e1,_8e2,_8e3,_8e4,_8e5,lang,_8e6,_8e7,_8e8,on,_8e9,_8ea){var _8eb=_8ea("Sage.UI.Filters.LookupFilter",[_8e0,_8e1,_8e4,_8e3],{widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"filter-type-checkbox filter-collapsed\">","<h3 data-action=\"toggleExpand\" data-dojo-attach-point=\"filterNameNode\">{%: $.filter.displayName || $.filter.filterName %}","</h3>","<ul class=\"filter-list\" data-dojo-attach-point=\"listNode\">","<select class=\"lookup-filter-operators\" data-dojo-attach-point=\"operators\" data-dojo-type=\"dijit.form.Select\"></select><br/>","<input class=\"filter-lookup-input\" data-dojo-attach-point=\"textInput\" data-dojo-type=\"dijit.form.TextBox\" />","</ul>","</div>"]),_loaded:false,_filterGroup:"default",appliedValues:null,_hasApplied:false,operatorsMapping:{"Equal":_8e9.equalTo,"NotEqual":_8e9.notEqualTo,"LessThan":_8e9.lessThan,"LessThanEqual":_8e9.equalOrLessThan,"GreaterThan":_8e9.greaterThan,"GreaterThanEqual":_8e9.equalOrGreaterThan,"StartsWith":_8e9.startingWith,"EndsWith":_8e9.endsWith,"Contains":_8e9.contains},filter:null,store:null,_autoSearchHandle:null,_autoSearchDelay:1000,_selectedOp:"Contains",postMixInProperties:function(){this.inherited(arguments);if(this.appliedValues){setTimeout(lang.hitch(this,this.toggleExpand),500);}},postCreate:function(){this.inherited(arguments);this.textInput.on("keyDown",lang.hitch(this,this._onInputKeyDown));if(this.appliedValues){this.textInput.set("value",this.appliedValues.value.value);this._selectedOp=this.appliedValues.value.operator;this._hasApplied=true;}this.resolveDeferred();},_setupAutoSearch:function(){if(this._autoSearchHandle>0){window.clearTimeout(this._autoSearchHandle);}this._autoSearchHandle=setTimeout(lang.hitch(this,function(){this.doSearch();}),this._autoSearchDelay);},uninitialize:function(){this.inherited(arguments);},toggleExpand:function(_8ec,evt,el){var ops=this.filter&&this.filter.details&&this.filter.details.userLookupFilter&&this.filter.details.userLookupFilter.operators;if(this.domNode){dojo.toggleClass(this.domNode,"filter-collapsed");}if(this.operators){if(!this._loaded){this._loaded=true;_8e6.forEach(ops,lang.hitch(this,function(op){var _8ed;_8ed=false;if(op===this._selectedOp){_8ed=true;}this.operators.addOption({disabled:false,label:this.operatorsMapping[op],selected:_8ed,value:op});}));this.operators.set("value",this._selectedOp);}}},_onInputKeyDown:function(_8ee){if(_8ee.keyCode===13||_8ee.keyCode===0){this.doSearch();}else{this._setupAutoSearch();}},doSearch:function(){var _8ef,name=this.filter.filterName,_8f0=this;_8ef={operator:this.operators.get("value"),value:this.textInput.get("value")};this.onSelectionChange(name,_8ef,_8f0);},onSelectionChange:function(name,_8f1,_8f2){dojo.publish(_8e5.substitute("/ui/filters/${0}/change",[this._filterGroup]),[this.filter,name,_8f1,_8f2]);},resolveDeferred:function(){if(this.deferred){this.deferred=this.deferred.resolve();}}});return _8eb;});},"Sage/UI/MenuBarItem":function(){require({cache:{"url:Sage/templates/MenuBarItem.html":"<div class=\"dijitReset dijitInline dijitMenuItem\" data-dojo-attach-point=\"focusNode\" waiRole=\"menuitem\" tabIndex=\"-1\"\r\n    data-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\r\n    <span>\r\n    <img src=\"${_blankGif}\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\r\n    <div class=\"dijitIcon dijitMenuItemIcon Global_Images icon16x16 ${imageClass}\" data-dojo-attach-point=\"iconNodeSprite\"></div>\r\n    <span class=\"dijitMenuItemLabel\" data-dojo-attach-point=\"containerNode\"></span>\n    </span>\n</div>\n"}});define("Sage/UI/MenuBarItem",["Sage/UI/MenuItem","dojo/text!../templates/MenuBarItem.html","dojo/_base/declare"],function(_8f3,_8f4,_8f5){var _8f6=_8f5("Sage.UI.MenuBarItem",_8f3,{iconClass:"",_setIconClassAttr:{node:"iconNode",type:"class"},label:"",_setLabelAttr:{node:"containerNode",type:"innerHTML"},icon:"",_setIconAttr:{node:"iconNode",type:"attribute",attribute:"src"},imageClass:"noIcon",iconStyle:"",_setIconStyleAttr:{node:"iconNode",type:"style"},templateString:_8f4});return _8f6;});},"Sage/TaskPane/ActivityManagerTasklet":function(){define("Sage/TaskPane/ActivityManagerTasklet",["dijit/_Widget","dijit/_Container","Sage/_Templated","Sage/Services/_ServiceMixin","Sage/UI/Dialogs","Sage/Services/ActivityService","dojo/_base/declare"],function(_8f7,_8f8,_8f9,_8fa,_8fb,_8fc,_8fd){var _8fe=_8fd("Sage.TaskPane.ActivityManagerTasklet",[_8f7,_8f8,_8fa,_8f9],{serviceMap:{"groupContextService":"ClientGroupContext","metaDataService":{type:"sdata",name:"metadata"}},widgetsInTemplate:false,widgetTemplate:new Simplate(["<div class=\"activityTask-panel\"  dojoAttachPoint=\"containerNode\">","</div>"]),_configuration:null,_configurationConnects:null,_configurationProvider:null,_configurationProviderType:null,_appliedSet:null,configurationProvider:null,configurationProviderType:null,autoConfigure:true,taskGroup:"default",paneContents:null,constructor:function(){},postCreate:function(){this.inherited(arguments);if(!this._configurationProvider&&this._configurationProviderType){this.set("configurationProvider",new this._configurationProviderType());}if(this.autoConfigure){this.requestConfiguration();}},uninitialize:function(){this.inherited(arguments);if(this._configurationProvider){this._configurationProvider.destroy();}},_handleConfigurationChange:function(){this.requestConfiguration();},_setConfigurationProviderAttr:function(_8ff){if(this._configurationConnects){dojo.forEach(this._configurationConnects,function(_900){this.disconnect(_900);},this);}if(this._configurationProvider){this._configurationProvider.destroy();}this._configurationProvider=_8ff;this._configurationConnects=[];if(this._configurationProvider){this._configurationConnects.push(this.connect(this._configurationProvider,"onConfigurationChange",this._handleConfigurationChange));this._configurationProvider.set("owner",this);if(this._created){if(this.autoConfigure){this.requestConfiguration();}}}},_getConfigurationProviderAttr:function(){return this._configurationProvider;},_setConfigurationProviderTypeAttr:function(_901){this._configurationProviderType=_901;},_getConfigurationProviderTypeAttr:function(){return this._configurationProviderType;},requestConfiguration:function(){if(this._configurationProvider){this._configurationProvider.requestConfiguration({success:dojo.hitch(this,this._applyConfiguration)});}},_applyConfiguration:function(_902){this._configuration=_902;if(!this._configuration){return;}if(this.paneContents){this.paneContents.destroyRecursive();}dojo.place(this._configuration.taskPane.domNode,this.containerNode,"only");this.paneContents=this._configuration.taskPane;}});return _8fe;});},"Sage/TaskPane/nls/LiteratureManagementTasks":function(){define("Sage/TaskPane/nls/LiteratureManagementTasks",["Sage/LanguageList","dojo/_base/lang"],function(_903,lang){var nls={root:{errFulFillmentCancelled:"The fulfillment of the literature request was canceled for LitReqId {0}.",errFulFillmentFailed:"The literature request could not be fulfilled for LitReqId {0}.",errMailMergeService:"The literature request(s) could not be fulfilled because the mail merge service could not be loaded. This may happen if Saleslogix Desktop Integration is not installed or is not installed properly.",errFulFillmentRequest:"The literature request(s) could not be fulfilled.",errFulFillmentRequestEx:"The following literature request(s) could not be fulfilled:",fulFillmentSuccess:"The literature request fulfillment was successful."}};return lang.mixin(_903,nls);});},"Sage/UI/Controls/MultiTab":function(){define("Sage/UI/Controls/MultiTab",["dojo/_base/declare","dojo/dom","dojo/ready","dojo/aspect","dijit/layout/TabContainer","dijit/registry"],function(_904,dom,_905,_906,_907,_908){var _909=_904("Sage.UI.Controls.MultiTab",[_907],{region:"center",tabStrip:false,hiddenFieldId:"",destroyRecursive:function(){if(this.tablist){this.tablist.destroy();}this.inherited(arguments);},postCreate:function(){var _90a=this.domNode.parentNode.id,_90b=_908.byId(_90a),that=this;_90b.resize();setTimeout(function(){_90b.resize();if(that.selectedChildWidget){that._showChild(that.selectedChildWidget);}},50);},startup:function(){this.hiddenFieldId=this.id+"_tabstate";var _90c=dom.byId(this.hiddenFieldId);if(_90c.value!==""){_908.byId(this.id).selectChild(_908.byId(_90c.value));}this.inherited(arguments);}});return _909;});},"Sage/MainView/ActivityMgr/HistoryEditorAttendeesTab":function(){define("Sage/MainView/ActivityMgr/HistoryEditorAttendeesTab",["dojo","dijit/_Widget","Sage/_Templated","dojo/_base/declare","Sage/Data/SDataServiceRegistry","Sage/Utility","Sage/Utility/Activity","Sage/UI/SLXPreviewGrid","Sage/UI/EditableGrid","Sage/UI/Columns/CheckBox","dijit/layout/ContentPane","dojo/_base/array","dojo/_base/lang","dojo/i18n!./nls/HistoryEditorAttendeesTab"],function(dojo,_90d,_90e,_90f,_910,_911,_912,_913,_914,_915,_916,_917,lang,_918){var _919=_90f("Sage.MainView.ActivityMgr.HistoryEditorAttendeesTab",[_90d,_90e],{histEditor:null,lup_Contact:null,lup_ContactConfig:null,lup_Lead:null,lup_LeadConfig:null,widgetsInTemplate:true,_timeZones:[],constructor:function(){lang.mixin(this,_918);var self=this;if(this._timeZones.length==0){Sage.Utility.getTimeZones(function(_91a){self._timeZones=_91a;});}},widgetTemplate:new Simplate(["<div>","<div id=\"{%= $.id %}_hisAttendeesGridPlaceholder\" dojoAttachPoint=\"_histAttendeesGridPlaceholder\" style=\"width:100%;height:100%\"></div>","</div>"]),_newItems:[],startup:function(){this._newItems=[];if(!this.histEditor){return;}this._buildGrid();dojo.connect(this.histEditor,"onHide",this,this._dialogHide);dojo.subscribe("/entity/history/create",this,this._historySaved);dojo.subscribe("/entity/history/change",this,this._historySaved);},_getTimeZoneDisplayName:function(_91b){var _91c=_91b;if(this._timeZones&&this._timeZones.length>0){var obj=this._timeZones.filter(function(val){return val.Keyname===_91b;});if(obj&&obj[0]){_91c=obj[0].Displayname;}}return _91c;},_buildGrid:function(){var self=this;_90f("Sage.Extensions.Activity.primaryContactCheckBox",dojox.grid.cells.Bool,{format:function(_91d,_91e){var _91f=Sage.Utility.getValue(_91e,"IsPrimary");var _920="<input type=\"checkbox\" disabled=\"disabled\" />";if(_91f){_920="<input type=\"checkbox\" checked=\"checked\" disabled=\"disabled\" />";}return _920;}});_90f("Sage.Extensions.Activity.isAttendeeCheckBox",dojox.grid.cells.Bool,{format:function(_921,_922){var _923=Sage.Utility.getValue(_922,"IsAttendee");var _924="<input type=\"checkbox\" disabled=\"disabled\" />";if(_923){_924="<input type=\"checkbox\" checked=\"checked\" disabled=\"disabled\" />";}return _924;}});_90f("Sage.Extensions.Activity.AttendeeStatus",dojox.grid.cells.Select,{format:function(_925,_926){var _927=Sage.Utility.getValue(_926,"IsAttendee");if(_927){return this.inherited(arguments);}else{return "";}}});var _928=function(data,_929){_917.forEach(data,function(item,i){if(item["TimeZone"]){item["TimeZone"]=self._getTimeZoneDisplayName(item["TimeZone"]);}});};var _92a=[{field:"Name",name:this.header_Name,width:"180px"},{field:"AccountName",name:this.header_AccountName,width:"180px"},{field:"EntityType",name:this.header_Type,width:"60px"},{field:"IsPrimary",name:this.header_Primary,width:"40px",type:Sage.Extensions.Activity.primaryContactCheckBox},{field:"IsAttendee",name:this.header_Attendee,width:"40px",type:Sage.Extensions.Activity.isAttendeeCheckBox},{field:"Status",name:this.header_Status,width:"100px",type:Sage.Extensions.Activity.AttendeeStatus,options:["Attended","Not Attended","Declined"],values:["T","F","D"],editable:true},{field:"RoleName",name:this.header_RoleName},{field:"PhoneNumber",name:this.header_Phone,width:"80px"},{field:"Email",name:this.header_Email,width:"150px"},{field:"TimeZone",name:this.header_TimeZone,width:"150px"}];var _92b={columns:_92a,storeOptions:{service:_910.getSDataService("dynamic"),resourceKind:"historyAttendees",select:["EntityType","EntityId","IsPrimary","IsAttendee","Name","Description","Notes","Status"],sort:[{attribute:"Name"}],newItemParentReferenceProperty:"History",onComplete:_928},slxContext:{"workspace":"",tabId:""},contextualCondition:function(){return "HistoryId eq '"+_911.getCurrentEntityId()+"' and ((SLXUserAssociationId in ('',null) and EntityType eq 'User') or (EntityType in ('Contact','Lead')))";},id:this.id+"_histAttendees",rowsPerPage:40};var _92c=_911.getCurrentEntityId();if(!_92c){_92b.storeOptions["isInsertMode"]=true;}var grid=new _913.Grid(_92b,this._histAttendeesGridPlaceholder);grid.setSortColumn("Name");this._grid=grid._grid;dojo.connect(this._grid,"markDirty",function(){var _92d=dojo.byId(this.dirtyDataMsgID);if(_92d){dojo.style(dojo.byId(this.dirtyDataMsgID),"display","none");}var _92e=Sage.Services.getService("ClientBindingManagerService");if(_92e){_92e.clearDirtyAjaxItem(this.id);}});grid.startup();},_dialogHide:function(){this._newItems=[];this._grid.store.clearCache();},_tabfShow:function(){if(this._grid&&!this.gridRefreshed){this._grid.refresh();this.gridRefreshed=true;}},_tabShowdd:function(){if(this._grid&&!this.gridRefreshed){var _92f=this._grid.get("mode");var _930=_911.getCurrentEntityId();if((!_930&&_92f!=="insert")||(_930&&_92f==="insert")){this._grid.set("mode",(!_930)?"insert":"");}this._grid.refresh();this.gridRefreshed=true;}},_tabShow:function(){if(this._grid){var _931=this._grid.get("mode");var _932=_911.getCurrentEntityId();if((!_932&&_931!=="insert")||(_932&&_931==="insert")){this._grid.set("mode",(!_932)?"insert":"");}this._grid.refresh();}},_historySaved:function(_933){this._grid.saveChanges();},_addHistoryAttendee:function(_934){if(!_934.ContactId&&!_934.LeadId){return;}var _935=null;if(_934.ContactId){_912._getContactData(_934.ContactId,function(data){if(data){_935=this._setHistoryAttendeeEntityFromContactLead("Contact",data);_935.History={"$key":_934.$key};this._saveHistoryAttendee(_935);}},this);}else{if(_934.LeadId){_912._getLeadData(_934.LeadId,function(data){if(data){_935=this._setHistoryAttendeeEntityFromContactLead("Lead",data);_935.History={"$key":_934.$key};this._saveHistoryAttendee(_935);}},this);}}},_saveHistoryAttendee:function(_936){var req=new Sage.SData.Client.SDataSingleResourceRequest(_910.getSDataService("dynamic")).setResourceKind("historyAttendees").create(_936,{success:function(){},failure:function(){},scope:this});},_setHistoryAttendeeEntityFromContactLead:function(type,_937){var _938=false;if(_937&&_937.$key){_938={};_938.EntityType=type;_938.EntityId=_937.$key;_938.$key=_937.$key;_938.IsPrimary=true;_938.Name=_937.$descriptor;_938.$descriptor=_937.$descriptor;_938.Account=null;_938.AccountName=_937.AccountName||_937.Company;if(type=="Lead"){_938.Company=_937.Company;_938.LeadFullName=_937.$descriptor;}_938.Company=_937.Company;_938.Email=_937.Email;_938.Description="";_938.Notes="";if(_937.Address){_938.TimeZone=_937.Address.TimeZone;}_938.PhoneNumber=_937.WorkPhone;_938.RoleName="";_938.general=false;}return _938;}});return _919;});},"Sage/QuickForms/Design/Editors/DateTimePickerBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/DateTimePickerBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/DateTimePickerBasicPropertyEditor"],function(_939,lang,_93a,_93b,_93c,_93d,_93e,_93f,_940,_941,_942,_943){return _939("Sage.QuickForms.Design.Editors.DateTimePickerBasicPropertyEditor",[_93a,_941,_940],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.displayDateTooltipText %}\">","<label>{%= $.displayDateText %}</label>","<div data-dojo-attach-point=\"_displayDate\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onDisplayDateChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.displayTimeTooltipText %}\">","<label>{%= $.displayTimeText %}</label>","<div data-dojo-attach-point=\"_displayTime\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onDisplayTimeChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.toolTipTooltipText %}\">","<label>{%= $.toolTipText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_toolTip\" data-dojo-attach-event=\"onChange:_onToolTipChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.isReadOnlyTooltipText %}\">","<label>{%= $.isReadOnlyText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_isReadOnly\" data-dojo-attach-event=\"onChange:_onIsReadOnlyChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_displayDate:null,_displayTime:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",displayDateText:"Display Date:",displayDateTooltipText:"Display the date portion.",displayTimeText:"Display Time:",displayTimeTooltipText:"Display the time portion.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_943);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._displayDate.set("value",this._designer.get("displayDate"));this._displayTime.set("value",this._designer.get("displayTime"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(_944){if(this.isSuspended()){return;}this._designer.set("caption",_944);},_onCaptionAlignmentChange:function(_945){if(this.isSuspended()){return;}this._designer.set("captionAlignment",_945);},_onDisplayDateChange:function(_946){if(this.isSuspended()){return;}this._designer.set("displayDate",_946);},_onDisplayTimeChange:function(_947){if(this.isSuspended()){return;}this._designer.set("displayTime",_947);},_onIsReadOnlyChange:function(_948){if(this.isSuspended()){return;}this._designer.set("isReadOnly",_948);},_onToolTipChange:function(_949){if(this.isSuspended()){return;}this._designer.set("toolTip",_949);}});});},"Sage/TaskPane/LiteratureManagementTasks":function(){define("Sage/TaskPane/LiteratureManagementTasks",["Sage/TaskPane/_BaseTaskPaneTasklet","Sage/UI/Dialogs","dojo/i18n!./nls/LiteratureManagementTasks","dojo/_base/declare"],function(_94a,_94b,_94c,_94d){var _94e=_94d("Sage.TaskPane.LiteratureManagementTasks",_94a,{nlsLitManagementResources:_94c,selectionInfo:false,fulfillLiteratureTask:function(){this.selectionInfo=this.getSelectionInfo();if(this.verifySelection(this.selectionInfo)){this.saveSelections(this.actionItem,this.selectionInfo);return this.doFulfillment();}else{_94b.showWarning(this.selectRecords,this.selectRecordsTitle);return false;}},validateLiteratureTask:function(){this.selectionInfo=this.getSelectionInfo();if(this.selectionInfo!==null){this.saveSelections(this.actionItem,this.selectionInfo);return true;}else{return false;}},doFulfillment:function(){var _94f=0;var _950=this.selectionInfo.selectionCount;var _951=[];var _952=[];var sId=dojo.string.substitute("${0}_hfLastFulfilledIds",[this.clientId]);var _953=$get(sId);if(_953){_953.value="";}var self=this;require(["Sage/MailMerge/Helper","Sage/MailMerge/Service"],function(_954,_955){var _956=_954.GetMailMergeService();var i;if(_956){for(i=0;i<_950;i++){var _957;var _958=self.selectionInfo.selections[i].id;var _959=_956.FulfillLitRequest(_958);if(dojo.isArray(_959)){var _95a=_959[LitReqResult.lrSuccess];if(_95a){_94f++;_952.push(_958);continue;}var _95b=_959[LitReqResult.lrCanceled];if(_95b){_957=dojo.string.substitute(self.nlsLitManagementResources.errFulFillmentCancelled,[_958]);}else{_957=dojo.string.substitute(self.nlsLitManagementResources.errFulFillmentFailed,[_958]);_957+=dojo.string.substitute(" ${0}",[_959[LitReqResult.lrError]]);}}else{_957=dojo.string.substitute(self.nlsLitManagementResources.errFulFillmentFailed,[_958]);}if(_957===""){_957=dojo.string.substitute(self.nlsLitManagementResources.errFulFillmentFailed,[_958]);}_951.push(_957);}}else{_94b.showError(self.nlsLitManagementResources.errMailMergeService);return false;}if(_953){_953.value=_952.join();}if(_94f==_950){_94b.showInfo(self.nlsLitManagementResources.fulFillmentSuccess);return true;}else{var _95c=self.nlsLitManagementResources.errFulFillmentRequest;if(dojo.isArray(_951)&&_951.length>0){_95c=self.nlsLitManagementResources.errFulFillmentRequestEx;for(i=0;i<_951.length;i++){_95c+=dojo.string.substitute(" [${0}] ${1}",i+1,[_951[i]]);}}_94b.showError(_95c);return false;}});},refreshList:function(){var _95d=dijit.byId("list");if(_95d){_95d.refreshGrid();}},printLabels:function(_95e,_95f){var _960=Sage.Services.getService("ReportingService");if(_960){_960.showReport(_95e,"CONTACT",_95f);}},actionItem:function(){}});return _94e;});},"Sage/UI/Dashboard/nls/DashboardWidget":function(){define("Sage/UI/Dashboard/nls/DashboardWidget",["Sage/LanguageList","dojo/_base/lang"],function(_961,lang){var nls={root:{noQueryDataText:"The server has no data for query ",initializingText:"Initializing"}};return lang.mixin(_961,nls);});},"Sage/QuickForms/Design/Editors/_PropertyEditor":function(){define("Sage/QuickForms/Design/Editors/_PropertyEditor",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-class","../PropertyValueError","dojo/i18n!./nls/_PropertyEditor"],function(_962,lang,_963,_964,_965,_966){return _962("Sage.QuickForms.Design.Editors._PropertyEditor",null,{_designer:null,_suspended:false,titleText:"Properties",_setTitleTextAttr:function(_967){this.set("title",_967);},designer:null,constructor:function(){lang.mixin(this,_966);},buildRendering:function(){this.inherited(arguments);_964.add(this.domNode,"design-property-editor");},suspend:function(){this._suspended=true;},resume:function(){this._suspended=false;},isSuspended:function(){return this._suspended;},setup:function(_968){},_setDesignerAttr:function(_969){this.suspend();this._designer=_969;this.setup(_969);setTimeout(lang.hitch(this,this.resume),0);},_getDesignerAttr:function(){return this._designer;}});});},"Sage/QuickForms/Design/Editors/nls/NumericAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/NumericAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_96a,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",decimalDigitsText:"Decimal Digits:",decimalDigitsTooltipText:"The number of digits after the decimal to display and allow for data entry.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",formatTypeText:"Format Type:",formatTypeTooltipText:"Type of format to use when converting number to string.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",strictText:"Strict:",strictTooltipText:"Pads display of number with trailing zeros as necessary.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",numberFormatText:{Number:"Number",Percent:"Percent",Decimal:"Decimal",Scientific:"Scientific"},labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"}}};return lang.mixin(_96a,nls);});},"Sage/Services/ActivityActionProcessor":function(){define("Sage/Services/ActivityActionProcessor",["dojo/i18n","Sage/UI/Dialogs","dijit/_Widget","Sage/_Templated","dojo/i18n!./nls/ActivityActionProcessor","dojo/_base/declare"],function(i18n,_96b,_96c,_96d,_96e,_96f){var _970=_96f("Sage.Services.ActivityActionProcessor",[_96c,_96d],{_dialog:false,_currentUserId:null,_action:false,_processing:false,_selectionContext:false,btnOkayText:"OK",btnCancelText:"Cancel",btnCloseText:"Close",btnHelpText:"Help",processingText:"Processing request please wait...",failureText:"I'm sorry, the action was not successful an error occurred.",titleText:"Process",widgetsInTemplate:true,widgetTemplate:new Simplate(["<div>","<div data-dojo-type=\"dijit.Dialog\" id=\"activityProcessActionDialog\" title=\"{%= $.titleText%}\" dojoAttachPoint=\"_dialog\" style=\"width:400px\">","<div class=\"activityProcess-dialog\">","<div data-dojo-type=\"dijit.layout.ContentPane\" id=\"{%= $.id%}_cp_envet_General\" title=\"\" dojoAttachPoint=\"cp_General\">","<div data-dojo-type=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" class=\"controlPropForm\" labelWidth=\"140\">","<div id=\"{%= $.id%}_div_actionMessage\"  name=\"div_actionMessage\" dojoAttachPoint=\"div_actionMessage\"></div>","</div>","</div>","<table class=\"button-bar\"><tr><td class=\"alignright valignbottom\">","<div data-dojo-type=\"dijit.form.Button\"  id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.btnOkayText %}</div>","<div data-dojo-type=\"dijit.form.Button\"  id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $. btnCancelText %}</div>","<div data-dojo-type=\"dijit.form.Button\"  id=\"{%= $.id%}_btn_Close\" name=\"btn_Close\" dojoAttachPoint=\"btn_Close\" dojoAttachEvent=\"onClick:_closeClick\">{%= $. btnCloseText %}</div>","</td><tr></table>","</div>","</div>","</div>"]),constructor:function(){this._currentUserId=Sage.Utility.getClientContextByKey("userID")||"";dojo.mixin(this,_96e);},destroy:function(){this.inherited(arguments);},start:function(_971){this._processing=false;if(this._selectionContext.count<1){return;}if(!_971){this._setDisplay();this.show();}else{this._execute();}},show:function(){this._dialog.show();},hide:function(){this._action=null;this._dialog.hide();},resize:function(){},_setDisplay:function(){dojo.style(this.btn_Close.domNode,"visibility","hidden");dojo.style(this.btn_OK.domNode,"visibility","visible");dojo.style(this.btn_Cancel.domNode,"visibility","visible");if(this._selectionContext){this.div_actionMessage.innerHTML=this._action.message;this._dialog.set("title",this._action.description);}},_setActionAttr:function(_972){this._action=_972;},_getActionAttr:function(){return this._action;},_setSelectionContextAttr:function(_973){this._selectionContext=_973;},_getSelectionContextAttr:function(){return this._selectionContextInfo;},_execute:function(){if(this._processing){return;}var me=this;this.div_actionMessage.innerHTML=this.processingText;this._processing=true;dojo.style(this.btn_Close.domNode,"visibility","visible");dojo.style(this.btn_OK.domNode,"visibility","hidden");dojo.style(this.btn_Cancel.domNode,"visibility","hidden");if(this._action){this._action.execute({scope:this,success:function(_974,_975){_975.hide();_975.onActionComplete(_974);},failure:function(_976,_977){_977.onActionComplete(_976);Sage.UI.Dialogs.showError(me.failureText);}});}},_okClick:function(){this._execute();},_cancelClick:function(){this.hide();},_closeClick:function(){this.hide();},onActionComplete:function(_978){}});return _970;});},"Sage/MainView/IntegrationContract/nls/CustomerPaymentsRTDV":function(){define("Sage/MainView/IntegrationContract/nls/CustomerPaymentsRTDV",["Sage/LanguageList","dojo/_base/lang"],function(_979,lang){var nls={root:{dialogCaption:"Payment Details",loadingText:"loading...",lblReferenceCaption:"Receipt Number:",lblDateCaption:"Payment Date:",lblProcessDateCaption:"Process Date:",lblNameCaption:"Name:",lblTypeCaption:"Type:",lblStatusCaption:"Status:",lblCurrencyCaption:"Currency:",lblTenderTypeCaption:"Tender Type:",lblTenderReferenceCaption:"Tender Reference:",lblNetTotalCaption:"Net Total:",lblDiscountsCaption:"Discounts:",lblChargesCaption:"Charges:",lblTaxesCaption:"Taxes:",lblGrossTotalCaption:"Payment Amount:",lblSourceCaption:"Source:",lblTaxCodeCaption:"Tax Code:",grdPayments_Reference:"Receipt Number",grdPayments_Date:"Payment Date",grdPayments_Type:"Type",grdPayments_Status:"Status",grdPayments_GrossTotal:"Payment Amount",grdPayments_Currency:"Currency",btnCloseCaption:"Close"}};return lang.mixin(_979,nls);});},"Sage/UI/Filters/nls/FilterPanel":function(){define("Sage/UI/Filters/nls/FilterPanel",["Sage/LanguageList","dojo/_base/lang"],function(_97a,lang){var nls={root:{editText:"Edit Filters",noneText:"No filters selected",clearText:"Clear All"}};return lang.mixin(_97a,nls);});},"Sage/Data/SDataSummaryViewDataManager":function(){define("Sage/Data/SDataSummaryViewDataManager",["Sage/Data/SDataServiceRegistry","Sage/Data/SDataStore","dojo/_base/declare","dojo/_base/lang"],function(_97b,_97c,_97d,lang){var _97e=_97d("Sage.Data.SDataSummaryRequestQueue",null,{select:[],resourceKind:"",fetching:false,serviceName:"dynamic",include:[],service:null,useBatchRequest:false,expandRecurrences:null,constructor:function(_97f){lang.mixin(this,_97f);this.requestHash={};this.fetching=false;},add:function(_980,_981){var _982=this.requestHash[_980];if((_982)&&(_982.id!==_981.id)){if(!_982.duplicates){_982.duplicates=[];}var _983=false;for(var i=0;i<_982.duplicates.length;i++){if(_982.duplicates[i].context.id===_981.id){_983=true;}}if(!_983){_982.duplicates.push({id:_981.id,context:_981});}}else{this.requestHash[_980]=_981;}},send:function(_984,_985){this.fetching=true;this.service=_97b.getSDataService(this.serviceName);var _986=this;if(this.useBatchRequest){var _987=new Sage.SData.Client.SDataBatchRequest(this.service);_987.setResourceKind(this.resourceKind);_987.setQueryArg("select",this.select.join(","));_987.setQueryArg("include",this.include.join(","));_987.using(function(){for(var bid in _986.requestHash){var _988=new Sage.SData.Client.SDataSingleResourceRequest(_986.service);_988.setResourceKind(_986.resourceKind);_988.setResourceSelector("'"+bid+"'");if(_986.expandRecurrences!==null){_988.uri.queryArgs["_expandRecurrences"]=_986.expandRecurrences;}_988.setQueryArg("include",_986.include.join(","));_988.read();}});_987.commit({success:lang.hitch(_985,_984,_986),failure:lang.hitch(this,this.requestFailed,_986)});}else{var _989=[];for(var id in this.requestHash){_989.push("'"+id+"'");}var _98a=new Sage.SData.Client.SDataResourceCollectionRequest(this.service);var _98b="Id in ("+_989.join(",")+")";_98a.setResourceKind(this.resourceKind);_98a.setQueryArg("select",this.select.join(","));_98a.setQueryArg("where",_98b);_98a.setQueryArg("include",this.include.join(","));_98a.read({success:lang.hitch(_985,_984,_986),failure:lang.hitch(this,this.requestFailed,_986)});}},requestFailed:function(a,b,c){}});var _98c=_97d("Sage.Data.SDataSummaryViewDataManager",null,{keyField:"$key",constructor:function(){this._createNewQueue();},_createNewQueue:function(){this.queue=new _97e();this.requestTimeout=false;},requestData:function(_98d,_98e,_98f){if(this.queue.fetching){this.oldQueue=this.queue;this._createNewQueue();}if(_98f.keyField){this.keyField=_98f.keyField;}this.queue.select=_98f.select;this.queue.resourceKind=_98f.resourceKind;this.queue.serviceName=_98f.serviceName;this.queue.include=_98f.include;this.queue.useBatchRequest=_98f.useBatchRequest;if(_98f.expandRecurrences!==null){this.queue.expandRecurrences=_98f.expandRecurrences;}this.queue.add(_98d,_98e);if(this.requestTimeout){window.clearTimeout(this.requestTimeout);}var q=this.queue;var self=this;this.requestTimeout=window.setTimeout(function(){q.send(self.receiveData,self);},250);},requestDataNoWait:function(_990,_991,_992){var _993=new _97e();if(_992.keyField){this.keyField=_992.keyField;}_993.select=_992.select;_993.resourceKind=_992.resourceKind;_993.serviceName=_992.serviceName;_993.include=_992.include;_993.useBatchRequest=_992.useBatchRequest;if(_992.expandRecurrences!==null){_993.expandRecurrences=_992.expandRecurrences;}_993.add(_990,_991);_993.send(this.receiveData,this);},receiveData:function(_994,data){var i;for(i=0;i<data.$resources.length;i++){var _995=data.$resources[i];var id=_995.id;if(!id){id=_995[this.keyField];_995.id=id;}var _996=_994.requestHash[_995.id];if(_996){if(_996.duplicates){try{if(!_996.applied){_996.applied=true;_996.set("entity",_995);var j;for(j=0;j<_996.duplicates.length;j++){try{if(!_996.duplicates[j].context.applied){_996.duplicates[j].context.applied=true;_996.duplicates[j].context.set("entity",_995);}}catch(err){console.error(err);}}}}catch(err){console.error(err);}}else{try{if(!_996.applied){_996.applied=true;_996.set("entity",_995);}}catch(err){console.error(err);}}}}}});return _98c;});},"Sage/TaskPane/nls/_BaseTaskPaneTasklet":function(){define("Sage/TaskPane/nls/_BaseTaskPaneTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_997,lang){var nls={root:{selectRecordsTitle:"Invalid Selection",selectRecords:"Please select a record before continuing.",selectSingleRecord:"Please select a single record before continuing.",noRecordsSelectedProcessAll:"No records selected. The full group, ${0} record(s), will be processed.  Proceed?",invalidSelectionTitle:"Invalid Selection",errorSelectionInfo:"There was an error retrieving information about the selected records.",errorNoData:"No data available.",yesButtonText:"Yes",noButtonText:"No",salesLogixPageTitle:"Saleslogix",okButtonText:"OK",cancelButtonText:"Cancel"}};return lang.mixin(_997,nls);});},"Sage/MainView/ReportMgr/nls/ReportManagerFormatter":function(){define("Sage/MainView/ReportMgr/nls/ReportManagerFormatter",["Sage/LanguageList","dojo/_base/lang"],function(_998,lang){var nls={root:{txtTrue:"True",txtFalse:"False"}};return lang.mixin(_998,nls);});},"Sage/UI/nls/OwnerType":function(){define("Sage/UI/nls/OwnerType",["Sage/LanguageList","dojo/_base/lang"],function(_999,lang){var nls={root:{teamText:"Team",departmentText:"Department",systemText:"System",userText:"User"}};return lang.mixin(_999,nls);});},"Sage/MainView/JobMgr/templates/nls/JobDefinitionsListSummary":function(){define("Sage/MainView/JobMgr/templates/nls/JobDefinitionsListSummary",["Sage/LanguageList","dojo/_base/lang"],function(_99a,lang){var nls={root:{}};return lang.mixin(_99a,nls);});},"Sage/QuickForms/Design/PropertyEditorContainer":function(){define("Sage/QuickForms/Design/PropertyEditorContainer",["dojo/string","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dijit/layout/TabContainer","dijit/layout/BorderContainer","Sage/_EventMapMixin","Sage/_Templated","Sage/Utility","./ControlDesigner","./Help","dojo/i18n!./nls/PropertyEditorContainer"],function(_99b,_99c,_99d,lang,_99e,_99f,_9a0,_9a1,_9a2,_9a3,_9a4,_9a5,Help,_9a6){return _99c("Sage.QuickForms.Design.PropertyEditorContainer",[_9a1,_9a3],{widgetsInTemplate:true,contentTemplate:new Simplate(["<div class=\"design-editor-container-toolbar\" data-dojo-type=\"dijit.Toolbar\" data-dojo-props=\"region: 'top', align: 'right', splitter: false\">","<span class=\"design-editor-title\" data-dojo-attach-point=\"titleNode\"></span>","<div data-dojo-type=\"Sage.UI.ImageButton\" icon=\"images/icons/Help_16x16.png\" tooltip=\"{%: $.helpText %}\" data-dojo-attach-event=\"onClick:help\" class=\"design-panel-help\"></div>","</div>","<div data-dojo-type=\"dijit.layout.TabContainer\" data-dojo-attach-point=\"editorTabContainer\" data-dojo-props=\"region: 'center'\"></div>"]),_setTitleAttr:{node:"titleNode",type:"innerText"},_designGroup:null,_designGroupTopics:null,_designer:null,_designerSource:null,editorTabContainer:null,titleNode:null,helpTopicName:"webFormDesigner",helpSubSystemName:"WebForms",designGroup:"default",specificTitleFormatText:"${0} Properties (${1})",genericTitleFormatText:"${0} Properties",constructor:function(){lang.mixin(this,_9a6);},_getDesignGroupAttr:function(){return this._designGroup;},_setDesignGroupAttr:function(_9a7){if(this._designGroupTopics){_99d.forEach(this._designGroupTopics,function(_9a8){this.unsubscribe(_9a8);},this);}this._designGroup=_9a7;this._designGroupTopics=[this.subscribe(_99b.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),this._onDesignerSelected),this.subscribe(_99b.substitute("/quickforms/design/${0}/designerMoved",[this._designGroup]),this._onDesignerMoved)];},help:function(){if(this._designer){Help.open(this._designer.helpTopicName,this.helpSubSystemName);}else{Help.open(this.helpTopicName,this.helpSubSystemName);}},buildRendering:function(){this.inherited(arguments);_99e.add(this.domNode,"design-editor-container");},uninitialize:function(){this.inherited(arguments);},clear:function(){_99d.forEach(this.editorTabContainer.getChildren(),function(_9a9){this.editorTabContainer.removeChild(_9a9);_9a9.destroyRecursive(false);},this);this._designer=null;this.set("title","");this.layout();},_setDesignerAttr:function(_9aa,_9ab){if(_9aa===this._designer){return;}var _9ac=this.editorTabContainer.selectedChildWidget&&this.editorTabContainer.selectedChildWidget.constructor,_9ad;this.clear();_99d.forEach(_9aa.editors,function(_9ae){var _9af=new _9ae({});this.editorTabContainer.addChild(_9af);if(_9ae===_9ac){_9ad=_9af;}},this);if(_9aa.get("controlId")){this.set("title",_99b.substitute(this.specificTitleFormatText,[_9aa.displayNameText,_9aa.get("controlId")]));}else{this.set("title",_99b.substitute(this.genericTitleFormatText,[_9aa.displayNameText]));}this._designer=_9aa;this._designerSource=_9ab;if(_9ad){this.editorTabContainer.selectChild(_9ad);}this.layout();_99d.forEach(this.editorTabContainer.getChildren(),function(_9b0){_9b0.set("designer",this._designer);},this);},_getDesignerAttr:function(){return this._designer;},_onDesignerSelected:function(_9b1,_9b2,_9b3){if(_9b1&&_9b1.editors){this.set("designer",_9b1,_9b3);}else{this.clear();}},_onDesignerMoved:function(_9b4,_9b5){if(_9b4!==this._designer){return;}_99d.forEach(this.editorTabContainer.getChildren(),function(_9b6){_9b6.set("designer",this._designer);},this);}});});},"dgrid/OnDemandList":function(){define("dgrid/OnDemandList",["./List","./_StoreMixin","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/dom","dojo/on","./util/misc","put-selector/put"],function(List,_9b7,_9b8,lang,_9b9,dom,_9ba,_9bb,put){return _9b8([List,_9b7],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2000,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:_9bb.defaultDelay,keepScrollPosition:false,rowHeight:22,postCreate:function(){this.inherited(arguments);var self=this;_9ba(this.bodyNode,"scroll",_9bb[this.pagingMethod](function(_9bc){self._processScroll(_9bc);},null,this.pagingDelay));},renderQuery:function(_9bd,_9be,_9bf){var self=this,_9c0={query:_9bd,count:0,node:_9be,options:_9bf},_9c1=this.preload,_9c2;if(!_9be){var _9c3={node:put(this.contentNode,"div.dgrid-preload",{rowIndex:0}),count:0,query:_9bd,next:_9c0,options:_9bf};_9c3.node.style.height="0";_9c0.node=_9be=put(this.contentNode,"div.dgrid-preload");_9c0.previous=_9c3;}_9be.rowIndex=this.minRowsPerPage;if(_9c1){if((_9c0.next=_9c1.next)&&_9be.offsetTop>=_9c1.node.offsetTop){_9c0.previous=_9c1;}else{_9c0.next=_9c1;_9c0.previous=_9c1.previous;}_9c0.previous.next=_9c0;_9c0.next.previous=_9c0;}else{this.preload=_9c0;}var _9c4=put(_9be,"-div.dgrid-loading"),_9c5=put(_9c4,"div.dgrid-below");_9c5.innerHTML=this.loadingMessage;function _9c6(err){put(_9c4,"!");if(err){if(self._refreshDeferred){self._refreshDeferred.reject(err);delete self._refreshDeferred;}throw err;}};_9bf=lang.mixin(this.get("queryOptions"),_9bf,{start:0,count:this.minRowsPerPage},"level" in _9bd?{queryLevel:_9bd.level}:null);this._trackError(function(){return _9c2=_9bd(_9bf);});if(typeof _9c2==="undefined"){_9c6();return;}_9b9.when(self.renderArray(_9c2,_9be,_9bf),function(trs){var _9c7=typeof _9c2.total==="undefined"?_9c2.length:_9c2.total;return _9b9.when(_9c7,function(_9c8){var _9c9=trs.length,_9ca=_9be.parentNode,_9cb=self.noDataNode;put(_9c4,"!");if(!("queryLevel" in _9bf)){self._total=_9c8;}if(_9c8===0){if(_9cb){put(_9cb,"!");delete self.noDataNode;}self.noDataNode=_9cb=put("div.dgrid-no-data");_9ca.insertBefore(_9cb,self._getFirstRowSibling(_9ca));_9cb.innerHTML=self.noDataMessage;}var _9cc=0;for(var i=0;i<_9c9;i++){_9cc+=self._calcRowHeight(trs[i]);}if(_9c9&&_9cc){self.rowHeight=_9cc/_9c9;}_9c8-=_9c9;_9c0.count=_9c8;_9be.rowIndex=_9c9;if(_9c8){_9be.style.height=Math.min(_9c8*self.rowHeight,self.maxEmptySpace)+"px";}else{_9be.style.display="none";_9bf.count++;}if(self._previousScrollPosition){self.scrollTo(self._previousScrollPosition);delete self._previousScrollPosition;}self._processScroll();if(self._refreshDeferred){self._refreshDeferred.resolve(_9c2);delete self._refreshDeferred;}return trs;},_9c6);},_9c6);return _9c2;},refresh:function(_9cd){var self=this,keep=(_9cd&&_9cd.keepScrollPosition),dfd,_9ce;if(typeof keep==="undefined"){keep=this.keepScrollPosition;}if(keep){this._previousScrollPosition=this.getScrollPosition();}this.inherited(arguments);if(this.store){dfd=this._refreshDeferred=new _9b9();_9ce=self.renderQuery(function(_9cf){return self.store.query(self.query,_9cf);});if(typeof _9ce==="undefined"){dfd.reject();}return dfd.then(function(_9d0){setTimeout(function(){_9ba.emit(self.domNode,"dgrid-refresh-complete",{bubbles:true,cancelable:false,grid:self,results:_9d0});},0);delete self._refreshDeferred;return _9d0;},function(err){delete self._refreshDeferred;throw err;});}},resize:function(){this.inherited(arguments);this._processScroll();},_getFirstRowSibling:function(_9d1){return _9d1.lastChild;},_calcRowHeight:function(_9d2){var _9d3=_9d2.previousSibling;if(_9d3&&!/\bdgrid-preload\b/.test(_9d3.className)){return _9d2.offsetTop-_9d3.offsetTop;}return _9d2.offsetHeight;},lastScrollTop:0,_processScroll:function(evt){var grid=this,_9d4=grid.bodyNode,_9d5=(evt&&evt.scrollTop)||this.getScrollPosition().y,_9d6=_9d4.offsetHeight+_9d5,_9d7,_9d8,_9d9=grid.preload,_9da=grid.lastScrollTop,_9db=grid.bufferRows*grid.rowHeight,_9dc=_9db-grid.rowHeight,_9dd,_9de,_9df,_9e0=true;var _9e1=1;grid.lastScrollTop=_9d5;function _9e2(_9e3,_9e4,_9e5,_9e6){var _9e7=grid.farOffRemoval,_9d8=_9e3.node;if(_9e4>2*_9e7){var row,_9e8=_9d8[_9e5];var _9e9=0;var _9ea=0;var _9eb=[];while((row=_9e8)){var _9ec=grid._calcRowHeight(row);if(_9e9+_9ec+_9e7>_9e4||(_9e8.className.indexOf("dgrid-row")<0&&_9e8.className.indexOf("dgrid-loading")<0)){break;}var _9e8=row[_9e5];_9e9+=_9ec;_9ea+=row.count||1;grid.removeRow(row,true);_9eb.push(row);}_9e3.count+=_9ea;if(_9e6){_9d8.rowIndex-=_9ea;_9ed(_9e3);}else{_9d8.style.height=(_9d8.offsetHeight+_9e9)+"px";}var _9ee=put("div",_9eb);setTimeout(function(){put(_9ee,"!");},1);}};function _9ed(_9ef,_9f0){_9ef.node.style.height=Math.min(_9ef.count*grid.rowHeight,_9f0?Infinity:grid.maxEmptySpace)+"px";};function _9f1(_9f2,_9f3){do{_9f2=_9f3?_9f2.next:_9f2.previous;}while(_9f2&&!_9f2.node.offsetWidth);return _9f2;};while(_9d9&&!_9d9.node.offsetWidth){_9d9=_9d9.previous;}while(_9d9&&_9d9!=_9d7){_9d7=grid.preload;grid.preload=_9d9;_9d8=_9d9.node;var _9f4=_9d8.offsetTop;var _9f5;if(_9d6+_9e1+_9dc<_9f4){_9d9=_9f1(_9d9,(_9e0=false));}else{if(_9d5-_9e1-_9dc>(_9f4+(_9f5=_9d8.offsetHeight))){_9d9=_9f1(_9d9,(_9e0=true));}else{var _9f6=((_9d8.rowIndex?_9d5-_9db:_9d6)-_9f4)/grid.rowHeight;var _9f7=(_9d6-_9d5+2*_9db)/grid.rowHeight;var _9f8=Math.max(Math.min((_9d5-_9da)*grid.rowHeight,grid.maxRowsPerPage/2),grid.maxRowsPerPage/-2);_9f7+=Math.min(Math.abs(_9f8),10);if(_9d8.rowIndex==0){_9f6-=_9f7;}_9f6=Math.max(_9f6,0);if(_9f6<10&&_9f6>0&&_9f7+_9f6<grid.maxRowsPerPage){_9f7+=Math.max(0,_9f6);_9f6=0;}_9f7=Math.min(Math.max(_9f7,grid.minRowsPerPage),grid.maxRowsPerPage,_9d9.count);if(_9f7==0){_9d9=_9f1(_9d9,_9e0);continue;}_9f7=Math.ceil(_9f7);_9f6=Math.min(Math.floor(_9f6),_9d9.count-_9f7);var _9f9=lang.mixin(grid.get("queryOptions"),_9d9.options);_9d9.count-=_9f7;var _9fa=_9d8,_9fb,_9fc=grid.queryRowsOverlap,_9fd=_9d8.rowIndex>0&&_9d9;if(_9fd){var _9fe=_9d9.previous;if(_9fe){_9e2(_9fe,_9d5-(_9fe.node.offsetTop+_9fe.node.offsetHeight),"nextSibling");if(_9f6>0&&_9fe.node==_9d8.previousSibling){_9f6=Math.min(_9d9.count,_9f6);_9d9.previous.count+=_9f6;_9ed(_9d9.previous,true);_9d8.rowIndex+=_9f6;_9fc=0;}else{_9f7+=_9f6;}_9d9.count-=_9f6;}_9f9.start=_9d8.rowIndex-_9fc;_9f9.count=Math.min(_9f7+_9fc,grid.maxRowsPerPage);_9d8.rowIndex=_9f9.start+_9f9.count;}else{if(_9d9.next){_9e2(_9d9.next,_9d9.next.node.offsetTop-_9d6,"previousSibling",true);var _9fa=_9d8.nextSibling;if(_9fa==_9d9.next.node){_9d9.next.count+=_9d9.count-_9f6;_9d9.next.node.rowIndex=_9f6+_9f7;_9ed(_9d9.next);_9d9.count=_9f6;_9fc=0;}else{_9fb=true;}}_9f9.start=_9d9.count;_9f9.count=Math.min(_9f7+_9fc,grid.maxRowsPerPage);}if(_9fb&&_9fa&&_9fa.offsetWidth){_9fb=_9fa.offsetTop;}_9ed(_9d9);if("level" in _9d9.query){_9f9.queryLevel=_9d9.query.level;}if(!("queryLevel" in _9f9)&&(_9f9.start>grid._total||_9f9.count<0)){continue;}var _9ff=put(_9fa,"-div.dgrid-loading[style=height:"+_9f7*grid.rowHeight+"px]"),_a00=put(_9ff,"div.dgrid-"+(_9fd?"below":"above"));_a00.innerHTML=grid.loadingMessage;_9ff.count=_9f7;var _a01=_9d9.query(_9f9),_a02=grid._trackError(function(){return _a01;});if(_a02===undefined){put(_9ff,"!");return;}(function(_a03,_a04,_a05,_a06){_9df=_9b9.when(grid.renderArray(_a06,_a03,_9f9),function(rows){_9de=_a06;_9fa=_a03.nextSibling;put(_a03,"!");if(_a05&&_9fa&&_9fa.offsetWidth){var pos=grid.getScrollPosition();grid.scrollTo({x:pos.x,y:pos.y+_9fa.offsetTop-_a05,preserveMomentum:true});}_9b9.when(_a06.total||_a06.length,function(_a07){if(!("queryLevel" in _9f9)){grid._total=_a07;}if(_a04){_a04.count=_a07-_a04.node.rowIndex;if(_a04.count===0){_9f9.count++;}_9ed(_a04);}});grid._processScroll();return rows;},function(e){put(_a03,"!");throw e;});}).call(this,_9ff,_9fd,_9fb,_a01);_9d9=_9d9.previous;}}}if(_9df&&(_9dd=this._refreshDeferred)){delete this._refreshDeferred;_9b9.when(_9df,function(){_9dd.resolve(_9de);});}},removeRow:function(_a08,_a09){function _a0a(_a0b,_a0c){return _a0b!=null?_a0b:_a0c;};if(_a08){var _a0d=_a08.previousSibling,_a0e=_a08.nextSibling,_a0f=_a0d&&_a0a(_a0d.observerIndex,_a0d.previousObserverIndex),_a10=_a0e&&_a0a(_a0e.observerIndex,_a0e.nextObserverIndex),_a11=_a08.observerIndex;_a08.observerIndex=undefined;if(_a09){_a08.nextObserverIndex=_a10;_a08.previousObserverIndex=_a0f;}if(this.cleanEmptyObservers&&_a11>-1&&_a11!==_a0f&&_a11!==_a10){var _a12=this.observers;var _a13=_a12[_a11];if(_a13){if(!_a09){var rows=_a13.rows;for(var i=0;i<rows.length;i++){if(rows[i]!=_a08&&dom.isDescendant(rows[i],this.domNode)){return this.inherited(arguments);}}}_a13.cancel();this._numObservers--;_a12[_a11]=0;}}}this.inherited(arguments);}});});},"Sage/UI/Columns/ActivityType":function(){define("Sage/UI/Columns/ActivityType",["dojox/grid/cells/_base","Sage/Utility","Sage/Utility/Activity","dojo/string","dojo/_base/declare"],function(_a14,util,_a15,_a16,_a17){var _a18=_a17("Sage.UI.Columns.ActivityType",_a14,{keyField:false,format:function(_a19,_a1a){var type=this.get(_a19,_a1a);if(!type){return this.defaultValue;}var key=util.getValue(_a1a,this.keyField||"$key");var fmt="<div class=\"Global_Images icon16x16 ${0}\"></div>&nbsp;<a href=\"javascript:Sage.Link.editActivity('${1}')\">${2}</a>";return _a16.substitute(fmt,[_a15.getActivityImageClass(type,"small"),key,_a15.getActivityTypeName(type)]);}});return _a18;});},"Sage/MainView/ActivityMgr/AttendeeLookup/LookupService":function(){define("Sage/MainView/ActivityMgr/AttendeeLookup/LookupService",["Sage/MainView/ActivityMgr/AttendeeLookup/ContactLookupConfig","Sage/MainView/ActivityMgr/AttendeeLookup/LeadLookupConfig","dojo/_base/declare"],function(_a1b,_a1c,_a1d){var _a1e=_a1d("Sage.MainView.ActivityMgr.AttendeeLookup.LookupService",null,{_lookupConfigs:null,constructor:function(){},_initLookupConfigs:function(){this._lookupConfigs=[{lookupName:"Contact",lookupDisplayName:"Contact",configProviderType:_a1b,instance:false},{lookupName:"Lead",lookupDisplayName:"Lead Loookup",configProviderType:_a1c,instance:false}];},getLookupConfigs:function(){if(this._lookupConfigs){return this._lookupConfigs;}this._initLookupConfigs();return this._lookupConfigs;},getLookupConfig:function(_a1f){var _a20=this.getLookupConfigs();for(var i=0;i<_a20.length;i++){if(_a20[i].lookupName.toUpperCase()===_a1f.toUpperCase()){return _a20[i];}}return null;},AddLookupConfig:function(_a21){var _a22=this.getLookupConfig(_a21.lookupName);if(_a22){_a22.configuration=_a21;}else{var _a23={lookupName:_a21.lookupName,lookupDisplayName:_a21.lookupDisplayName,configProviderType:_a21,instance:false};var _a24=this.getLookupConfigs();_a24.push(_a23);}},RemoveLookupConfig:function(_a25){},getLookupConfigInstance:function(_a26){var _a27=this.getLookupConfig(_a26);if(_a27){if(!_a27.instance){_a27.instance=new _a27.configProviderType();return _a27.instance;}else{_a27.instance.rebuild();return _a27.instance;}}},getLookupInstance:function(_a28,uiid){var _a29=this.getLookupConfigInstance(_a28);var _a2a=null;if(_a29){_a2a=_a29.getLookupInstance(uiid);}return _a2a;}});if(!Sage.Services.hasService("LookupService")){Sage.Services.addService("LookupService",new _a1e());}else{var srvc=Sage.Services.getService("LookupService");if(actSvc.declaredClass!=="Sage.MainView.ActivityMgr.AttendeeLookup.LookupService"){Sage.Services.removeService("LookupService");Sage.Services.addService("LookupService",new _a1e()());}}return _a1e();});},"Sage/TaskPane/nls/LeadTasksTasklet":function(){define("Sage/TaskPane/nls/LeadTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_a2b,lang){var nls={root:{updateLeadsTitle:"Update Leads",deleteLeadsTitle:"Delete Leads",deleteJobError:"Sorry an error occurred during the delete lead job: ${0}",confirmDeleteLeads:"Are you sure you want to delete the selected records?"}};return lang.mixin(_a2b,nls);});},"url:Sage/templates/ToggleButton.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\r\t><span class=\"dijitReset dijitInline dijitButtonNode\"\r\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\"\r\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\r\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\r\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\r\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\r\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\r\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\t\t\t\tid=\"${id}_label\"\r\t\t\t\tdata-dojo-attach-point=\"containerNode\"\r\t\t\t></span\r\t\t></span\r\t></span\r\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\r\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\r/></span>\r","Sage/UI/Dashboard/DashboardWidgetCell":function(){define("Sage/UI/Dashboard/DashboardWidgetCell",["dojo/i18n","dojo/i18n!./nls/DashboardWidgetCell","Sage/UI/WidgetEditor","Sage/UI/Dashboard/DashboardWidget","dojox/data/dom","dojox/widget/Portlet","dojo/_base/declare"],function(i18n,_a2c,_a2d,_a2e,dom,_a2f,_a30){var _a31=_a30("Sage.UI.Dashboard.DashboardWidgetCell",[_a2f],{onClose:function(evt){var pg=dijit.byId(this._parentId);pg._childWidgets.removeByAttr("id",this.id);dojo.publish("/ui/dashboard/pageSave",[pg._page]);this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.redrawOnShow){this.redrawOnShow=false;this.refresh(true);}},onHide:function(){this.redrawOnShow=true;this.inherited(arguments);},onDownloadEnd:function(data){if(data){var doc=data.documentElement;for(var i=0,len=doc.childNodes.length;i<len;i++){if(doc.childNodes[i].tagName==="Content"){var _a32=dom.textContent(doc.childNodes[i]);Sage.UI.WidgetDefinitions[this.widgetOptions.name]=dojo.fromJson(_a32);this.widgetDefined=true;dojo.publish("/ui/widget/defined");this._widgetInit();}}}else{}},postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.UI.Dashboard","DashboardWidgetCell"));if(this._page>=0){this.preload=true;}this.href="slxdata.ashx/slx/crm/-/dashboard/widget";this.ioArgs={handleAs:"xml",content:{name:this.widgetOptions.name,family:this.widgetOptions.family||"system"}};this._drawLegend();this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.subscribe("/ui/widget/dropped",function(id,p,c,i){if(id===this.id){return;}if(p!==this._page){return;}if(c!==this.column){return;}if(i>this.index){return;}this._indexUp();});this.connect(this.containerNode,"onmousedown",function(evt){if(dojo.hasClass(evt.target,"dojoxGridScrollbox")){dojo.stopEvent(evt);return false;}return true;});this.arrowNode.title=this.minimizeTooltipText;},refresh:function(_a33){if(_a33){var _a34=this._dashboardWidget;if(_a34){dojo.disconnect(_a34._winResize);dojo.unsubscribe(_a34.dropSub);}this.destroyDescendants();this._removeIcons();}this.inherited(arguments);this._drawLegend();},_drawLegend:function(){if(this.widgetOptions.showLegend==="true"){this.chartWidth="67";this.legendDisplay="block";}else{this.chartWidth="100";this.legendDisplay="none";}},_redrawCharts:function(){if(this._dashboardWidget&&this._dashboardWidget.definition&&this._dashboardWidget.definition.declaredClass==="Sage.UI.Dashboard.ChartingWidget"){this.refresh(true);}},_createIcon:function(_a35,_a36,fn){var _a37="";if(_a35==="dojoxPortletSettingsIcon"){_a37=this.settingsTooltipText;}else{if(_a35==="dojoxCloseNode"){_a37=this.closeTooltipText;}}if(!this._tbarIcons){this._tbarIcons=[];}var icon=dojo.create("div",{"class":"dojoxPortletIcon "+_a35,"waiRole":"presentation","title":_a37});if(this.isNew){if(_a35==="dojoxPortletSettingsIcon"||this._tbarIcons.length<1){dojo.place(icon,this.arrowNode,"before");}else{dojo.place(icon,this._tbarIcons[0],"before");}}else{if(this._tbarIcons.length==1&&_a35==="dojoxPortletSettingsIcon"){try{dojo.place(icon,this._tbarIcons[0],"replace");}catch(e){dojo.place(icon,this.arrowNode,"before");}}else{dojo.place(icon,this.arrowNode,"before");}}if(_a36){this.iconMouseOverEvent=this.connect(icon,"onmouseover",function(){dojo.addClass(icon,_a36);});this.iconMouseOutEvent=this.connect(icon,"onmouseout",function(){dojo.removeClass(icon,_a36);});}if(_a35==="dojoxPortletSettingsIcon"){if(this._tbarIcons.length==1){this._tbarIcons[0]=icon;}else{this._tbarIcons.push(icon);}this.iconClickEvent=this.connect(icon,"onclick",fn);}else{this.connect(icon,"onclick",fn);}return icon;},_removeIcons:function(){this.disconnect(this.iconClickEvent);this.disconnect(this.iconMouseOverEvent);this.disconnect(this.iconMouseOutEvent);if(this._tbarIcons.length>0){dojo.empty(this._tbarIcons[0]);}},_editorAdded:function(){var _a38=this.getChildren();this._placeSettingsWidgets();dojo.forEach(_a38,function(_a39){try{if(!_a39.started&&!_a39._started){_a39.startup();}}catch(e){}});},_load:function(){if(!this.preventRender){this._setContent(this.onDownloadStart(),true);if(!Sage.UI.WidgetDefinitions[this.widgetOptions.name]&&!this.requestPending){this.requestPending=true;var that=this;var _a3a={preventCache:false,url:this.href};if(dojo.isObject(this.ioArgs)){dojo.mixin(_a3a,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||dojo.xhrGet)(_a3a));hand.addCallback(function(data){try{that._isDownloaded=true;that.requestPending=false;that._setContent(that.processingData||"",true);that.onDownloadEnd(data);}catch(err){that._onError("Content",err);}delete that._xhrDfd;});hand.addErrback(function(err){if(!hand.canceled){that._onError("Download",err);}delete that._xhrDfd;return err;});delete this._hrefChanged;}else{if(this.requestPending){this._waitForDefinition();}else{this.widgetDefined=true;this._widgetInit();}}}},_setColumn:function(n){this.column=n;},_setIndex:function(n){this.index=n;},_indexUp:function(){this.index+=1;},_waitForDefinition:function(){this.subscription=this.subscribe("/ui/widget/defined",this,function(){this.widgetDefined=true;this._widgetInit();});},_widgetInit:function(){if(this.widgetDefined&&!this._Widget){this._dashboardWidget=new _a2e({options:this.widgetOptions,parentCell:this});}}});return _a31;});},"Sage/UI/Dashboard/Dashboard":function(){define("Sage/UI/Dashboard/Dashboard",["dojo/i18n","dijit/layout/ContentPane","dijit/layout/TabContainer","Sage/UI/Dashboard/DashboardTabController","Sage/UI/Dashboard/DashboardPage","Sage/Utility","dijit/Menu","dijit/MenuItem","dojo/_base/declare","dojo/i18n!./nls/DashboardTabController","dojo/i18n!./nls/Dashboard"],function(i18n,_a3b,_a3c,_a3d,_a3e,_a3f,menu,_a40,_a41){var _a42=_a41("Sage.UI.Dashboard.Dashboard",_a3c,{controllerWidget:"Sage.UI.Dashboard.DashboardTabController",_stTableOuter:new Simplate(["<div id=\"stTable\" class=\"show-tab-table\"><table>","{%= $.content %}","</table><div class=\"button-bar alignright\"><button data-dojo-type=\"dijit.form.Button\" type=\"button\""," id=\"btnSTOk\" title=\"{%= $.buttonOk %}\">{%= $.buttonOk %}</button>","</div></div>"]),_stTableInner:new Simplate(["<tr id=\"row_{%= $.id %}\"><td><button data-dojo-type=\"dijit.form.Button\"","type=\"button\" id=\"btn_{%= $.id %}\" class=\"btn-show-tab\">{%= $.showText %}</button></td>","<td><span>{%= $.title %}</span></td></tr>"]),_copyNameForm:new Simplate(["<div id=\"copyNameForm\"><table width=\"100%\">","<tr><td>{%= $.titleText %}</td><td><div data-dojo-type=\"dijit.form.ValidationTextBox\" id=\"txtCopyName\""," regExp=\"[^<>;]*\" value=\"\" required=\"true\" invalidMessage=\"{%= $.invalidMessage %}\"></div></td></tr>","<tr><td colspan=\"2\" align=\"right\"><div class=\"button-bar\"><button data-dojo-type=\"dijit.form.Button\" type=\"button\""," id=\"btnCNOK\" title=\"{%= $.buttonOk %}\">{%= $.buttonOk %}</button>","<button data-dojo-type=\"dijit.form.Button\" type=\"button\""," id=\"btnCNCancel\" title=\"{%= $.buttonCancel %}\" >{%= $.buttonCancel %}</button>","</div></td></tr></table></div>"]),resources:{},addRemovePageContextMenu:function(){var _a43=true;for(var i=0;i<this._childPages.length;i++){if(!this._childPages[i]._beingDestroyed){var _a44=dijit.byId("Dashboard_tablist_"+this._childPages[i].id);_a43=false;if(_a44&&_a44.tabContent.style.display=="none"){_a43=true;}else{break;}}}if(_a43){if(this._contextMenu){this._contextMenu.destroyRecursive();}this._contextMenu=new menu({id:this.id+"_ContextMenu",dir:this.dir,targetNodeIds:[this.domNode]});this._contextMenu.addChild(new _a40({label:this.newTabText,dir:this.dir,onClick:function(){var db=dijit.byId("Dashboard");db._createPage(true,db.newTabText);}}));this._contextMenu.addChild(new _a40({label:this.showTabText,dir:this.dir,onClick:dojo.hitch(this,function(){var d=dijit.byId("Dashboard");d._showTabMenu();})}));this.selectShownTab=true;}else{if(this._contextMenu){this._contextMenu.destroyRecursive();this.selectShownTab=false;}}},postCreate:function(){if(!Sage.UI.WidgetDefinitions){Sage.UI.WidgetDefinitions={};}this._getUserOptions();this.subscribe("/ui/dashboard/pageDelete",function(pg){this.closeChild(pg);this._deletePage(pg);this.addRemovePageContextMenu();});this.inherited(arguments);},postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.UI.Dashboard","Dashboard"));dojo.mixin(this,i18n.getLocalization("Sage.UI.Dashboard","DashboardTabController"));dojo.mixin(this.resources,i18n.getLocalization("Sage.UI.Dashboard","WidgetDefinition"));dojo.mixin(this,i18n.getLocalization("dijit","common"));this.inherited(arguments);},_childPages:[],_createPage:function(ans,name){if(!ans){return;}var obj={closable:true,onClose:function(){return true;},name:name,title:name,family:"System",acceptTypes:["Portlet"],hasResizableColumns:false,_columns:[],_page:this._childPages.length,_parentId:this.id,permission:true,_childWidgets:[]};var _a45=new _a3e(obj);this._childPages.push(_a45);this.addChild(this._childPages[this._childPages.length-1]);this.selectChild(this._childPages[this._childPages.length-1]);_a45.isNew=true;_a45._editOptionsMenu();},_showPage:function(_a46){var _a47=Sage.UI.DataStore.Dashboard.userOptions.hidden,pg=_a47[_a46],_a48=false,len;for(var i=0;i<this._childPages.length;i++){if(this._childPages[i].title==pg){var _a49=dijit.byId("Dashboard_tablist_"+this._childPages[i].id);if(_a49){dojo.style(_a49.tabContent,"display","block");_a48=true;if(this.selectShownTab){this.selectChild(this._childPages[i]);this._showChild(this._childPages[i]);}break;}}}if(!_a48){var _a4a=function(){return true;};for(i=0,len=this.info.userPages.length;i<len;i++){var ttl=Sage.Utility.htmlDecode(this.pages[i]["@title"]);var _a4b=ttl;while(_a4b.indexOf(" ")!==-1){_a4b=_a4b.replace(" ","_");}_a4b=_a4b.replace(/'/g,"_").replace(/"/g,"_");if(ttl==pg){var _a4c;if(this.pages[i]["@colWidths"]){_a4c=this.pages[i]["@colWidths"].split(",").length;}var _a4d=this.info.permissions[_a4b];this.pages[i].Columns.Column=_a3f.Convert.toArrayFromObject(this.pages[i].Columns.Column);this._childPages.push(new _a3e({id:_a4b,closable:true,onClose:_a4a,name:ttl,title:this.resources[_a4b]||ttl,family:this.pages[i]["@family"]||"System",nbZones:_a4c||1,acceptTypes:["Portlet"],hasResizableColumns:false,firstButNotDefault:false,colWidths:this.pages[i]["@colWidths"],_columns:this.pages[i].Columns.Column,_page:i,_parentId:this.id,permission:_a4d,_childWidgets:[]}));if(this.pages[i]["@colWidths"]){this._childPages[this._childPages.length-1]._colWidths=this.pages[i]["@colWidths"];}this.addChild(this._childPages[this._childPages.length-1]);if(this.selectShownTab){this.selectChild(this._childPages[this._childPages.length-1]);}break;}}}if(_a46 in _a47){delete _a47[_a46];this._updateUserOptions();}},_copyPageContent:function(pg,_a4e){var page=pg.Dashboard;var len=this._childPages.length;var ttl=_a4e?_a4e:page["@title"];var _a4f=page["@id"];while(_a4f.indexOf(" ")!==-1){_a4f=_a4f.replace(" ","_");}var _a50;if(page["@colWidths"]){_a50=page["@colWidths"].split(",").length;}var _a51=false;if(_a4e){_a51=true;}else{if(page["@permission"]){_a51=page["@permission"];}}this._childPages.push(new _a3e({closable:true,onClose:function(){return true;},name:ttl,title:ttl,family:page["@family"]||"System",nbZones:_a50||1,acceptTypes:["Portlet"],hasResizableColumns:false,colWidths:page["@colWidths"],_columns:page.Columns.Column,_page:len,_parentId:this.id,permission:_a51,_childWidgets:[]}));if(page["@colWidths"]){this._childPages[len]._colWidths=page["@colWidths"];}this.addChild(this._childPages[len]);this._childPages[len]._init();this._childPages[len].copyNotDrawn=true;var uo=Sage.UI.DataStore.Dashboard.userOptions;if(uo.hidden&&_a4f in uo.hidden){delete uo.hidden[_a4f];this._updateUserOptions();}this._childPages[len]._save();},_copyPage:function(pg){var d=new dijit.Dialog({title:this.copyTabText,style:"width:250px"});d.set("content",this._copyNameForm.apply({titleText:this.titleText,buttonOk:this.okButton,buttonCancel:this.buttonCancel,invalidMessage:this.invalidMessage}));var _a52=function(){dojo.disconnect(_a53);dojo.disconnect(ok);dojo.disconnect(_a54);d.destroyRecursive();};var ok=dojo.connect(dijit.byId("btnCNOK"),"onClick",this,function(){var _a55=dijit.byId("txtCopyName");if(!_a55.isValid()||!this._isTitleUnique(_a55.value)){return false;}if(!pg.pageRendered){pg.copyNotDrawn=true;pg._init();}var ttl=_a55.value;var _a56=pg._copy();this._copyPageContent(_a56,ttl);d.hide();});var _a54=dojo.connect(dijit.byId("btnCNCancel"),"onClick",this,function(){d.hide();});var _a53=dojo.connect(d,"hide",this,_a52);d.show();},_createPages:function(){this.pages={};var def=this.info.userOptions.defaultTab;var uo=Sage.UI.DataStore.Dashboard.userOptions;var _a57;var _a58=0;var _a59=function(){return true;};for(var i=0,len=this.info.userPages.length;i<len;i++){var page=dojo.fromJson(this.info.userPages[i]);this.pages[i]=page.Dashboard;var ttl=Sage.Utility.htmlDecode(this.pages[i]["@title"]);var _a5a=ttl;while(_a5a.indexOf(" ")!==-1){_a5a=_a5a.replace(" ","_");}_a5a=_a5a.replace(/'/g,"_").replace(/"/g,"_");if(!uo.hidden||!uo.hidden[_a5a]){var _a5b;if(this.pages[i]["@colWidths"]){_a5b=this.pages[i]["@colWidths"].split(",").length;}else{this.pages[i]["@colWidths"]=0;_a5b=1;}var _a5c=this.info.permissions[_a5a];this.pages[i].Columns.Column=_a3f.Convert.toArrayFromObject(this.pages[i].Columns.Column);this._childPages.push(new _a3e({id:_a5a,closable:true,onClose:_a59,name:ttl,title:this.resources[_a5a]||ttl,family:this.pages[i]["@family"]||"System",nbZones:_a5b||1,acceptTypes:["Portlet"],hasResizableColumns:false,firstButNotDefault:i===0&&ttl!==def,colWidths:this.pages[i]["@colWidths"],_columns:this.pages[i].Columns.Column,_page:i,_parentId:this.id,permission:_a5c,_childWidgets:[]}));if(this.pages[i]["@colWidths"]){this._childPages[_a58]._colWidths=this.pages[i]["@colWidths"];}this.addChild(this._childPages[_a58]);if(ttl===def){_a57=_a58;}_a58++;}}if(_a57){this._childPages[_a57].selected=true;this._childPages[_a57]._init();}else{if(this._childPages.length>0){this._childPages[0].selected=true;this._childPages[0]._init();}}this.addRemovePageContextMenu();},_deletePage:function(pg,_a5d){var uo=Sage.UI.DataStore.Dashboard.userOptions;if(pg.title===uo.defaultTab){uo.defaultTab="";if(!_a5d){this._updateUserOptions();}}var vURL="SLXGroupBuilder.aspx?method=GetGroupIdFromNameFamilyAndType&name="+pg.name+"&family=System&type=36";dojo.xhrGet({url:vURL,error:dojo.hitch(this,function(_a5e){}),load:dojo.hitch(this,function(_a5f){Sage.Groups.GroupManager.GetFromServer(Sage.Groups.GroupManager.GMUrl+"DeleteGroup&gid="+_a5f,"text",function(){},function(req){});})});},_hidePage:function(pg){var uo=Sage.UI.DataStore.Dashboard.userOptions;var _a60=dijit.byId("Dashboard_tablist_"+pg.id);dojo.style(_a60.tabContent,"display","none");if(this.selectedChildWidget==pg){this.selectFirstVisible();}if(!uo.hidden){uo.hidden={};}uo.hidden[pg.id]=pg._hide();this._updateUserOptions();this.addRemovePageContextMenu();},_showTabMenu:function(){var _a61=Sage.UI.DataStore.Dashboard.userOptions.hidden;var _a62=[];var id;if(_a61&&Sage.Utility.size(_a61)){for(id in _a61){_a62.push(this._stTableInner.apply({title:_a61[id],id:id,buttonCancel:this.buttonCancel,showText:this.showText}));}}var d=new dijit.Dialog({title:this.showTabText,style:"width:350px"});d.set("content",this._stTableOuter.apply({content:_a62.join(""),buttonOk:this.buttonOk}));d.show();var _a63=[];if(_a61){for(id in _a61){var _a64=dijit.byId("btn_"+id);_a63.push(dojo.connect(_a64,"onClick",_a64,function(){var db=dijit.byId("Dashboard"),_a65=this.id.replace("btn_",""),_a66=dojo.byId("row_"+_a65);db._showPage(_a65);db.addRemovePageContextMenu();dojo.style(_a66,"display","none");}));}}var ok=dojo.connect(dijit.byId("btnSTOk"),"onClick",null,function(){d.hide();});var _a67=dojo.connect(d,"hide",null,function(){dojo.disconnect(ok);dojo.disconnect(_a67);dojo.forEach(_a63,dojo.disconnect);d.destroyRecursive();});},_isTitleUnique:function(_a68,_a69){var _a6a=true;var _a6b=this._childPages;var _a6c="";if(_a69){_a6c=_a69;}for(var i=0;i<_a6b.length;i++){if(_a6b[i].id!=_a6c&&!_a6b[i]._destroyed&&_a6b[i].title===_a68){_a6a=false;var opts={title:this.warningText,query:this.invalidDuplicateMessage,yesText:this.okButton,style:{width:"300px"}};Sage.UI.Dialogs.raiseQueryDialogExt(opts);break;}}return _a6a;},selectFirstVisible:function(){var _a6d=false;for(var i=0;i<this._childPages.length;i++){var _a6e=dijit.byId("Dashboard_tablist_"+this._childPages[i].id);if(_a6e&&_a6e.tabContent.style.display!="none"){_a6d=true;this.selectChild(this._childPages[i]);break;}}if(!_a6d){try{this.selectChild();}catch(err){}}},selectChild:function(_a6f){this.inherited(arguments);if(_a6f._init){_a6f._init();}if(_a6f.copyNotDrawn){_a6f.copyNotDrawn=false;_a6f._redrawWidgets();}},_getUserOptions:function(){if(Sage.UI.DataStore.Dashboard){this.info=Sage.UI.DataStore.Dashboard;this._createPages();}else{this.subscribe("/ui/dashboard/info",function(info){this.info=info;this._createPages();});}},_updateUserOptions:function(){var uo=Sage.UI.DataStore.Dashboard.userOptions;var uri="slxdata.ashx/slx/crm/-/dashboard/useroption?name=Options&category=Dashboard";var def=dojo.xhrPut({url:uri,handleAs:"text",postData:dojo.toJson(uo),load:function(data){},error:function(_a70){}});}});return _a42;});},"Sage/UI/NumberTextBox":function(){define("Sage/UI/NumberTextBox",["dijit/form/NumberTextBox","dijit/form/ValidationTextBox","dojo/number","Sage/Utility","dojo/_base/declare"],function(_a71,_a72,_a73,_a74,_a75){var _a76=_a75("Sage.UI.NumberTextBox",_a71,{shouldPublishMarkDirty:true,autoPostBack:false,hotKey:"",maxLength:"",formatType:"",attributeMap:{hotKey:{node:"textbox",type:"attribute",attribute:"accessKey"},maxLength:{node:"textbox",type:"attribute",attribute:"maxLength"}},textAlign:"",_getValueAttr:function(){var _a77=this.inherited(arguments);if((typeof _a77==="undefined"||isNaN(_a77))&&this.textbox.value!==""){_a77=this.getTextBoxValue();}return _a77;},_setValueAttr:function(v){this.constraints["locale"]=Sys.CultureInfo.CurrentCulture.name;this.inherited(arguments);},_onFocus:function(){this.onFocusFiring=true;this.inherited(arguments);if(this.constraints.type==="percent"){var _a78=((this.value*10000)/100);this.textbox.value=_a73.format(_a78,{places:this.constraints.places,locale:Sys.CultureInfo.CurrentCulture.name});}this.onFocusFiring=false;},_onBlur:function(){this.onBlurFiring=true;if(this.formatType==="Percent"||this.constraints.type==="percent"){if(this.textbox.value.indexOf(Sys.CultureInfo.CurrentCulture.numberFormat.PercentSymbol)===-1){var _a79=this.getTextBoxValue();var _a7a=_a79/100;if(typeof (this.constraints.places)==="number"){this.set("displayedValue",_a73.format(_a7a,{places:this.constraints.places+2,locale:Sys.CultureInfo.CurrentCulture.name}));}else{if(typeof (this.constraints.places)==="string"&&this.constraints.places.indexOf(",")>0&&this.constraints.places[2]){this.set("displayedValue",_a73.format(_a7a,{places:Math.floor(this.constraints.places[2])+2,locale:Sys.CultureInfo.CurrentCulture.name}));}else{this.set("displayedValue",_a73.format(_a7a,{locale:Sys.CultureInfo.CurrentCulture.name}));}}}}this.onBlurFiring=false;this.inherited(arguments);},_sageUINumberTextBox_IsValid:function(){if(this.formatType!=="Percent"||this.constraints.type!=="percent"){if(dojo.isIE){if(this.oldValue!==this.textbox.value){var trim=this._restrictDD();if(trim!==this.textbox.value){this.textbox.value=trim;}}this.oldValue=this.textbox.value;}else{this.textbox.value=this._restrictDD();}}this.inherited(arguments);},_restrictDD:function(){var _a7b=this.textbox.value;if(this.onBlurFiring||this.onFocusFiring){return _a7b;}if(this.constraints.places){_a7b=_a74.restrictDecimalDigit(this.textbox.value,this.constraints.places);}return _a7b;},_sageUINumberTextBox_KeyPress:function(e){var type=this.constraints.type;if(!_a74.restrictToNumberOnKeyPress(e,type)){dojo.stopEvent(e);}},_sageUINumberTextBox_OnFocus:function(e){dojo.setSelectable(this.domNode,true);},startup:function(){this.inherited(arguments);var self=this;dojo.style(self.focusNode,"textAlign",self.textAlign);self.value=self.value||0;self.onBlurFiring=false;self.onFocusFiring=false;this.connect(self,"isValid",self._sageUINumberTextBox_IsValid);this.connect(self,"onKeyPress",self._sageUINumberTextBox_KeyPress,true);this.connect(self,"onFocus",self._sageUINumberTextBox_OnFocus,true);if(!this.ignorechange){this.connect(self,"onChange",self.valueChanged);}},valueChanged:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}if(this.autoPostBack){if(Sys){Sys.WebForms.PageRequestManager.getInstance()._doPostBack(this.id,null);}}},getTextBoxValue:function(){var _a7c=0;var _a7d=this.textbox.value;if(_a7d.lastIndexOf(Sys.CultureInfo.CurrentCulture.numberFormat.NumberDecimalSeparator)===_a7d.length-1){_a7d=_a7d.slice(0,_a7d.length-1);}_a7c=_a73.parse(_a7d,{locale:Sys.CultureInfo.CurrentCulture.name});if(isNaN(_a7c)){_a7c=this.value;}return _a7c;}});return _a76;});},"Sage/UI/_DetailPane":function(){define("Sage/UI/_DetailPane",["dijit/_Widget","dojo/_base/declare"],function(_a7e,_a7f){var _a80=_a7f("Sage.UI._DetailPane",[_a7e],{constructor:function(){},_applyConfiguration:function(_a81){this._configuration=_a81;},_setConfigurationAttr:function(_a82){this._applyConfiguration(_a82);},_setOwnerAttr:function(_a83){if(this._owner===_a83){return;}if(this._owner){throw new Error("Sage.UI._DetailPane can only be bound to a single Sage.UI.ListPanel.");}this._owner=_a83;this.connect(this._owner,"onRowClick",this._onRowClick);this.connect(this._owner,"onSelected",this._onSelected);},_getOwnerAttr:function(){return this._owner;},_onRowClick:function(_a84,row,grid){},_onSelected:function(_a85,row,grid){}});return _a80;});},"url:Sage/MainView/ReportMgr/Common/templates/ExportOptionsDialog.html":"<div>\r\n    <div data-dojo-type=\"dijit.Dialog\" title=\"{%= $._getDialogTitle() %}\" dojoattachpoint=\"_dialog\" dojoattachevent=\"onCancel:_dialog_OnCancel\" style=\"width: 600px\">\r\n        <div data-dojo-type=\"dijit.form.Form\">\r\n            <div style=\"overflow:auto\">\r\n                <div dojoattachpoint=\"containerDiv\" id=\"containerDiv\" style=\"height:350px; overflow:auto\">\r\n                    <table cellspacing=\"10\">\r\n                        <tr dojoAttachpoint=\"trScheduleDescription\">\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtScheduleDescription_Caption %}:</label>\r\n                            </td>\r\n                            <td>\r\n                                <input type=\"text\" dojoAttachPoint=\"txtScheduleDescription\" required=\"true\" dojoType=\"dijit.form.TextBox\" style=\"width:300px\" />\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtOutputFormat_Caption %}:</label>\r\n                            </td>\r\n                            <td>\r\n                                <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbOutputFormat\" sortByLabel=\"false\" style=\"width:300px\" >\r\n                                </select>\r\n                            </td>\r\n                        </tr>\r\n                        <tr dojoAttachpoint=\"trRunAsUserId\">\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtRunAs_Caption %}:</label>\r\n                            </td>\r\n                            <td>\r\n                                <div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $._nlsResources.txtRunAs_Caption %}\" dojoAttachPoint=\"container_lkpRunAsUserId\" style=\"padding: 0 !important;\"></div>                            \r\n                            </td>\r\n                        </tr>\r\n                        <tr dojoAttachpoint=\"trSchedulingWidget\">                            \r\n                            <td colspan=\"2\">\r\n                                <div data-dojo-type=\"Sage.UI.JobSchedulingWidget\" id=\"jobSchedulingWidget\" data-dojo-attach-point=\"jobSchedulingWidget\"></div>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div align=\"right\" style=\"margin-top:10px\">\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdBack\" dojoAttachEvent=\"onClick:_cmdBack_OnClick\" >{%= Sage.Utility.htmlEncode($._nlsResources.cmdBack_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdNext\" dojoAttachEvent=\"onClick:_cmdNext_OnClick\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdNext_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdCancel_Caption) %}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","Sage/MainView/ReportMgr/templates/nls/ReportDetailSummary":function(){define("Sage/MainView/ReportMgr/templates/nls/ReportDetailSummary",["Sage/LanguageList","dojo/_base/lang"],function(_a86,lang){var nls={root:{txtReportName_Caption:"Name:",txtReportType_Caption:"Type:",txtTable_Caption:"Table:",txtCreateUser_Caption:"Create User:",txtCreateDate_Caption:"Create Date:",txtModifyUser_Caption:"Modify User:",txtModifyDate_Caption:"Modify Date:",txtUserField_Caption:"User Field:",txtDateField_Caption:"Date Field:",txtUseGroupFilter_Caption:"Use Group Filter:",txtUseUserFilter_Caption:"Use User Filter:",txtUseDateFilter_Caption:"Use Date Filter:",txtFileName_Caption:"File Name:"}};return lang.mixin(_a86,nls);});},"Sage/Services/CalendarSecurityService":function(){define("Sage/Services/CalendarSecurityService",["Sage/Data/SDataServiceRegistry","Sage/Utility","dojo/_base/declare"],function(_a87,_a88,_a89){var _a8a=_a89("Sage.Services.CalendarSecurityService",null,{_rawList:[],_accessList:{},_dataAvailable:false,constructor:function(opts){this._dataAvailable=false;this._loading=false;},_waiting:[],hasAccess:function(_a8b,_a8c,_a8d,_a8e){if(this._dataAvailable){var item=this._accessList[_a8b];var _a8f=false;if(item){_a8f=item[_a8c];}if(_a8d){_a8d.call(_a8e||this,_a8f);}}else{this._waiting.push(dojo.connect(this,"onDataAvailable",this,function(){this.hasAccess(_a8b,_a8c,_a8d,_a8e);}));if(!this._loading){this._loadData();}}},getListByAccessLevel:function(_a90,_a91,_a92,_a93,_a94){var _a95=_a93||"userid";var _a96=_a94||"name";if(this._dataAvailable){var list=[];for(var i=0;i<this._rawList.length;i++){var item=this._rawList[i];if(_a90==="view"||item[_a90]){var obj={};obj[_a95]=item["accessUserId"];obj[_a96]=item["accessUserName"];list.push(obj);}}_a91.call(_a92||this,list);}else{this._waiting.push(dojo.connect(this,"onDataAvailable",this,function(){this.getListByAccessLevel(_a90,_a91,_a92,_a93,_a94);}));if(!this._loading){this._loadData();}}},_loadData:function(_a97,_a98,_a99){this._loading=true;var svc=_a87.getSDataService("mashups",false,true,true);var uid=_a88.getClientContextByKey("userID")||"";_a98=_a98||100;_a97=_a97||1;var self=this;var _a9a=new Sage.SData.Client.SDataNamedQueryRequest(svc);_a9a.setApplicationName("$app");_a9a.setResourceKind("mashups");_a9a.uri.setCollectionPredicate("'UserCalendarQueries'");_a9a.setQueryName("execute");_a9a.setQueryArg("_resultName","UserHasAccessToTheseCalendars");_a9a.setQueryArg("_userId",uid);_a9a.setQueryArg("startIndex",_a97);_a9a.setQueryArg("count",_a98);_a9a.read({success:function(data){var _a9b=data.$totalResults;if(_a9b>100&&_a9b>(_a97+_a98)){_a97=_a97==1?(_a97+_a98)-1:_a97+_a98;self._loadData(_a97,(_a9b-_a97),data["$resources"]);}else{if(_a99){_a99.push.apply(_a99,data["$resources"]);self._dataReceived(_a99);}else{self._dataReceived(data["$resources"]);}}},failure:function(){},scope:this});},_dataReceived:function(data){this._rawList=data;var i;for(i=0;i<this._rawList.length;i++){var item=this._rawList[i];this._accessList[item["accessUserId"]]={"name":item["accessUserName"],"userid":item["accessUserId"],"allowAdd":item["allowAdd"],"allowDelete":item["allowDelete"],"allowEdit":item["allowEdit"],"allowSync":item["allowSync"]};}this._dataAvailable=true;this._loading=false;this.onDataAvailable();for(i=0;i<this._waiting.length;i++){dojo.disconnect(this._waiting[i]);}this._waiting=[];},onDataAvailable:function(){}});Sage.Services.addService("CalendarSecurityService",new _a8a());});},"Sage/MainView/ReportMgr/Crystal/nls/_ParameterEditorBase":function(){define("Sage/MainView/ReportMgr/Crystal/nls/_ParameterEditorBase",["Sage/LanguageList","dojo/_base/lang"],function(_a9c,lang){var nls={root:{txtPleaseSpecifyValue:"Please specify a value.",lblAvailableValues_Caption:"Available Values:",lblSelectedValues_Caption:"Selected Values:",lblEnterValue_Caption:"Enter a Value:",btnOK_Caption:"OK",txtTheValueMustBeBetween:"The value must be between {0} and {1} characters long.",txtTheMinimumLengthForThisField:"The minimum length for this field is {0}.",txtTheMaximumLengthForThisField:"The maximum length for this field is {0}.",txtPleaseSpecifyNumberBetween:"Please specify a numeric value between {0} and {1}.",txtPleaseSpecifyNumberLesser:"Please specify a numeric value less than or equal to {0}.",txtPleaseSpecifyNumberGreater:"Please specify a numeric value greater than or equal to {0}.",txtNoLowerValue:"No lower value",txtNoUpperValue:"No upper value",txtIncludeThisValue:"Include this value",txtFrom:"From:",txtTo:"To:",txtPleaseSpecifyFromValue:"Please specify a start range value",txtPleaseSpecifyToValue:"Please specify a end range value",txtPleaseSpecifyDateBetween:"Please specify a date value between {0} and {1}.",txtPleaseSpecifyDateLesser:"Please specify a date value less than or equal to {0}.",txtPleaseSpecifyDateGreater:"Please specify a date value greater than or equal to {0}.",txtFromMustBeLessThanOrEqualToTo:"The start range value must be less than or equal to the end range value.",txtStartOfRange:"Start of Range:",txtEndOfRange:"End of Range:",txtAddRange:"Add Range",lblSelectValue_Caption:"Select a Value:",lblOrValue_Caption:"Or"}};return lang.mixin(_a9c,nls);});},"Sage/UI/Filters/FilterPanel":function(){define("Sage/UI/Filters/FilterPanel",["dijit/_Widget","dijit/_Container","Sage/_Templated","Sage/Services/_ServiceMixin","Sage/_ConfigurationProvider","Sage/UI/Filters/CheckBoxFilter","Sage/UI/Filters/LookupFilter","Sage/UI/Filters/EditFilters","dojo/_base/declare","dojo/i18n","dojo/_base/array","dojo/_base/lang","dojo/query","dojo/on","dojo/i18n!./nls/FilterPanel","dojo/has","dojo/_base/sniff","dojo/ready","dojo/json","dojo/DeferredList","dojo/_base/Deferred","dojo/string"],function(_a9d,_a9e,_a9f,_aa0,_aa1,_aa2,_aa3,_aa4,_aa5,i18n,_aa6,lang,_aa7,on,nls,has,_aa8,_aa9,json,_aaa,_aab,_aac){var _aad=_aa5("Sage.UI.Filters.FilterPanel",[_a9d,_a9e,_aa0,_a9f],{serviceMap:{"groupContextService":"ClientGroupContext","metaDataService":{type:"sdata",name:"metadata"}},knownFilterTypes:{"checkedList":_aa2,"comboWithArgument":_aa3},widgetsInTemplate:false,widgetTemplate:new Simplate(["<div class=\"filter-panel\" data-dojo-attach-point=\"containerNode\">","<div class=\"filter-edit\"><a href=\"#\" data-dojo-attach-point=\"clearAllFiltersNode\">{%= $.clearText %}</a> | <a href=\"#\" data-dojo-attach-point=\"editFiltersNode\">{%= $.editText %}</a></div>","<div class=\"filter-summary\" data-dojo-attach-point=\"filterSummaryNode\">{%= $.noneText %}</div>","</div>"]),_filterGroup:null,_filterSubscriptions:null,_configuration:null,_configurationConnects:null,_configurationProvider:null,_configurationProviderType:null,_appliedSet:null,configurationProvider:null,configurationProviderType:null,autoConfigure:true,store:null,filterGroup:"default",filterManager:null,_appliedFilters:null,_isApplyingConfig:false,_isFirstLoad:true,_editFilters:null,_editFiltersHandle:null,_isFetchingData:false,editText:"Edit Filters",noneText:"No filters selected.",clearText:"Clear All",constructor:function(){var _aae=Sage.Utility.getValue(window,"Sage.UI.DataStore.Filters");if(_aae&&_aae[this.filterGroup]){this._appliedSet=_aae[this.filterGroup].applied;}if(nls){this.editText=nls.editText;this.noneText=nls.noneText;this.clearText=nls.clearText;}this._appliedFilters=[];dojo.subscribe("/group/context/changed",lang.hitch(this,function(){this._isFirstLoad=true;}));},postCreate:function(){this.inherited(arguments);this.startup();},startup:function(){this.inherited(arguments);if(!this._configurationProvider&&this._configurationProviderType){this.set("configurationProvider",new this._configurationProviderType());}if(this.autoConfigure){this.requestConfiguration();}},uninitialize:function(){this.inherited(arguments);if(this._editFilters){this._editFilters.destroy();this._editFiltersHandle.remove();}if(this._configurationProvider){this._configurationProvider.destroy();}},_setFilterGroupAttr:function(_aaf){if(this._filterSubscriptions){dojo.forEach(this._filterSubscriptions,function(_ab0){this.unsubscribe(_ab0);},this);}this._filterGroup=_aaf;this._filterSubscriptions=[];this._filterSubscriptions.push(this.subscribe(_aac.substitute("/ui/filters/${0}/apply",[this._filterGroup]),lang.hitch(this,this._onApply)));this._filterSubscriptions.push(this.subscribe(_aac.substitute("/ui/filters/${0}/change",[this._filterGroup]),lang.hitch(this,this._onChange)));},_getFilterGroupAttr:function(){return this._filterGroup;},_onChange:function(_ab1,name,_ab2,_ab3){var _ab4=false,_ab5,_ab6=false;if((_ab1.details.lookupFilter)||(_ab1.details.userLookupFilter)){_ab6=true;if(_ab2!==null){if(_ab2.hasOwnProperty("value")){if((_ab2.value===null)||(_ab2.value==="")){_ab4=true;}}else{if((_ab2===null)||(_ab2==="")){_ab4=true;}}}}_aa6.forEach(this._appliedFilters,function(_ab7,i){var _ab8=false;if(_ab7.filterName===_ab1.filterName){_ab5=this._appliedFilters[i];_ab8=_aa6.some(_ab5.items,function(item){return item===name;});if(_ab8){if(_ab6){if(_ab2===null){}else{if((_ab2.value===null)||(_ab2.value==="")){_ab5.items=[];this._appliedFilters.splice(i,1);}}}else{_aa6.forEach(_ab5.items,function(item,x){if(item===name){_ab5.items.splice(x,1);}},this);}}else{_ab5.items.push(name);}_ab4=true;}},this);if(!_ab4){this._appliedFilters.push({"filterName":_ab1.filterName,"displayName":_ab1.$descriptor||_ab1.displayName,items:[name]});}this._updateFilterSummary();},_updateFilterSummary:function(){var _ab9=[];_aa6.forEach(_aa6.filter(this._appliedFilters,function(_aba){return (typeof _aba.displayName!=="undefined"&&_aba.displayName!=="")&&(_aba.items&&_aba.items.length>0);}),function(_abb){_ab9.push(_abb.displayName+" ("+_abb.items.length+")");},this);if(_ab9.length===0){this.filterSummaryNode.innerHTML=this.noneText;}else{this.filterSummaryNode.innerHTML=_ab9.join(", ");}},_onApply:function(_abc,_abd,_abe){var key,_abf,_ac0,_ac1;if(_abe&&this._configuration){var _ac2=_abe.getContext();if(_ac2.CurrentGroupID.toUpperCase()!==this._configuration.groupId.toUpperCase()){return;}}this._appliedFilters=[];this._appliedSet=_abc;var _ac3=false;for(key in this._appliedSet){if(this._appliedSet.hasOwnProperty(key)){_ac3=true;_ac1=_abd[key];_abf=this._appliedSet[key];if(_ac1.details.lookupFilter){if(_abf.hasOwnProperty("value")){this._onChange(_ac1,_ac1.filterName,_abf.value);}}else{for(_ac0 in _abf){if(_abf.hasOwnProperty(_ac0)){this._onChange(_ac1,_ac0);}}}}}if((this._configuration)){this.requestData();}},_handleConfigurationChange:function(){this.requestConfiguration();},_setConfigurationProviderAttr:function(_ac4){if(this._configurationConnects){dojo.forEach(this._configurationConnects,function(_ac5){this.disconnect(_ac5);},this);}if(this._configurationProvider&&this._configurationProvider!==_ac4){this._configurationProvider.destroy();}this._configurationProvider=_ac4;this._configurationConnects=[];if(this._configurationProvider){this._configurationConnects.push(this.connect(this._configurationProvider,"onConfigurationChange",this._handleConfigurationChange));this._configurationProvider.set("owner",this);if(this._created){if(this.autoConfigure){this.requestConfiguration();}}}},_getConfigurationProviderAttr:function(){return this._configurationProvider;},_setConfigurationProviderTypeAttr:function(_ac6){this._configurationProviderType=_ac6;},_getConfigurationProviderTypeAttr:function(){return this._configurationProviderType;},requestConfiguration:function(){if(this._configurationProvider&&!this._isApplyingConfig){this._isApplyingConfig=true;this._configurationProvider.requestConfiguration({success:lang.hitch(this,this._applyConfiguration)});}},_applyConfiguration:function(_ac7){this._configuration=_ac7;this.store=_ac7.store;this.filterManager=_ac7.getFilterManager();if(this._editFilters){this._editFilters.destroy();this._editFiltersHandle.remove();}this._editFilters=new _aa4({store:this.store,filterPanel:this});this._editFiltersHandle=on(this.editFiltersNode,"click",lang.hitch(this,function(){this._editFilters.showDialog();}));on(this.clearAllFiltersNode,"click",lang.hitch(this,this._clearAllFilters));this._appliedSet={};this._appliedFilters=[];this._updateFilterSummary();if(this._appliedSet){this.requestData(function(){var _ac8=Sage.Services.getService("ClientGroupContext");_ac8.publishFiltersApplied();});}this._ensureApplyFilterWasPublished();},_ensureApplyFilterWasPublished:function(){var _ac9,_aca;_ac9=Sage.Services.getService("ClientGroupContext");_aca=_ac9&&_ac9.getContext();if(_aca&&_aca.AppliedFilterInfo){_ac9.publishFiltersApplied(_aca.AppliedFilterInfo);}},_clearAllFilters:function(){var q=_aa7("li.filter-selected",this.containerNode),evt;_aa6.forEach(q,function(node){if(node.click){node.click();}else{evt=document.createEvent("MouseEvents");evt.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null);node.dispatchEvent(evt);}});q=_aa7(".filter-lookup-input input",this.containerNode);_aa6.forEach(q,function(node){if(node.value){node.value="";if(has("ie")<9){node.fireEvent("onkeydown");}else{evt=document.createEvent("KeyboardEvent");if(evt.initKeyEvent){evt.initKeyEvent("keydown",true,true,null,false,false,false,false,13,0);}else{evt.initKeyboardEvent("keydown",true,true,null,13,null,null,1,null);}node.dispatchEvent(evt);}}});},refreshFilters:function(_acb){this._refreshing=true;if(_acb!==true){this._clearAllFilters();}this.requestConfiguration();},requestData:function(_acc){if(this._isFetchingData){return;}this._isFetchingData=true;this.destroyDescendants();var _acd,_ace,_acf,_ad0,data;_ace=Sage.Services.getService("ClientGroupContext");_acf=_ace&&_ace.getContext();_acd=_aac.substitute("METADATA_FILTERS_${0}_${1}",[_acf.CurrentEntity,_acf.CurrentGroupID]);_ad0=sessionStorage.getItem(_acd);if(_ad0){data=json.parse(_ad0);this._iterateFetchedItems(data);if(_acc){_acc();}}else{this.store.fetch({onError:lang.hitch(this,this._onFetchError),onComplete:lang.hitch(this,this._onFetchComplete,_acd,_acc)});}},onRequestDataFailure:function(_ad1){},_onFetchError:function(){this._isFetchingData=false;},_onFetchItem:function(_ad2){var data=this._configuration._hiddenFilters||{},_ad3=Sage.Services.getService("ClientGroupContext"),_ad4=_ad3&&_ad3.getContext(),prop=_ad4.CurrentEntity+"_"+_ad2.filterName,_ad5=false,type=_ad2.filterType,_ad6=false,_ad7=new _aab(),_ad8=false;if(data[prop]){_ad5=data[prop].hidden;_ad6=data[prop].expanded;}if(this.knownFilterTypes[type]){if(_ad5===false||typeof _ad5==="undefined"||_ad5===null){this.addChild(new this.knownFilterTypes[type]({configurationProvider:this._configurationProvider,filter:_ad2,store:this._configuration.createStoreForFilter(_ad2),appliedValues:this._appliedSet&&this._appliedSet[_ad2.$key],parent:this,groupId:_ad4.CurrentGroupID,expanded:_ad6,deferred:_ad7}));_ad8=true;}}if(!_ad8){_ad7.resolve();}return _ad7;},_onFetchComplete:function(_ad9,_ada,_adb){sessionStorage.setItem(_ad9,json.stringify(_adb));this._iterateFetchedItems(_adb);if(_ada){_ada();}},_iterateFetchedItems:function(_adc){if(!_adc||!_adc.length){return;}var i,_add,_ade;_add=_adc.length;_ade=[];for(i=0;i<_add;i++){_ade[i]=this._onFetchItem(_adc[i]);}_ade=new _aaa(_ade);_ade.then(lang.hitch(this,function(){this._isFetchingData=false;this._isApplyingConfig=false;if(this._isFirstLoad){this._isFirstLoad=false;this.requestData(function(){var _adf=Sage.Services.getService("ClientGroupContext");_adf.publishFiltersApplied();});}}));}});return _aad;});},"Sage/MailMerge/nls/Service":function(){define("Sage/MailMerge/nls/Service",["Sage/LanguageList","dojo/_base/lang"],function(_ae0,lang){var nls={root:{selectContactCaption:"Select a Contact",selectOppContactCaption:"Select an Opportunity Contact",selectLeadCaption:"Select a Lead",errorAttachmentUpdate:"Unable to update the Attachment record.",errorHistoryUpdate:"Unable to update the History record.",errorXmlHttp:"There was an error processing the request for ${0}. ${1} (${2})."}};return lang.mixin(_ae0,nls);});},"Sage/MainView/ActivityMgr/templates/nls/ConfirmationListSummary":function(){define("Sage/MainView/ActivityMgr/templates/nls/ConfirmationListSummary",["Sage/LanguageList","dojo/_base/lang"],function(_ae1,lang){var nls={root:{txtPhone_Caption:"Phone:",lnkOpportunity_Caption:"Opportunity:",txtStartTime_Caption:"Start Time:",lnkContactName_Caption:"Contact:",lnkLeadName_Caption:"Lead:",lnkTicket_Caption:"Ticket:",txtLocation_Caption:"Location:",txtLeader_Caption:"Leader:",txtDuration_Caption:"Duration:",lnkAccountName_Caption:"Account:",lnkCompanyName_Caption:"Company:",txtNotes_Caption:"Notes:",btnComplete_Caption:"Complete",txtFromUser_Caption:"From:",btnDelete_Caption:"Delete",btnDecline_Caption:"Decline",btnAccept_Caption:"Accept"}};return lang.mixin(_ae1,nls);});},"url:Sage/MainView/Lead/templates/LeadDetailSummary.html":"[\r\n'<table style=\"width:100%\">',\r\n    '<thead>',\r\n        '<tr>',\r\n            '<th>',\r\n                '<div class=\"SummaryTitle\">',\r\n                    '<a href=\"Lead.aspx?entityid={%= $.templateData.id %}\">{%= Sage.Utility.htmlEncode($.templateData.name) %}</a>',\r\n                '</div>',\r\n            '</th>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_address1 %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_citystatezip %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</thead>',\r\n    '<tbody>',\r\n        '<tr>',\r\n            '<td class=\"DataColumn\">',\r\n                '<table>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svCompany_Caption || \"Company:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountname %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTitle_Caption || \"Title:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.title %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWorkPhone_Caption || \"Work Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.workphone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svHomePhone_Caption || \"Home Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.homephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svMobilePhone_Caption || \"Mobile Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.mobilephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svEmail_Caption || \"Email:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.email %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWebAddress_Caption || \"Web:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.webaddress %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svType_Caption || \"Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.type %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccMgr_Caption || \"Acct. Mgr.:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountmanager_userinfo_firstname %} {%= $.templateData.accountmanager_userinfo_lastname %}</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</tbody>',\r\n'</table>',\r\n'<br/>',\r\n'<div style=\"padding-right:20px; text-align:right\">',\r\n    '<asp:Panel runat=\"server\" ID=\"pnlCancel\" CssClass=\"controlslist qfActionContainer\">',\r\n        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Close\" onClick=\"javascript:contactSearchForDuplicates._close();\">{%= $.closeText %}</div>',\r\n    '</asp:Panel>',\r\n'</div>'\r\n]","Sage/MainView/ActivityMgr/ActivityGroupContextService":function(){define("Sage/MainView/ActivityMgr/ActivityGroupContextService",["Sage/Groups/BaseGroupContextService","Sage/Services/ActivityService","dojo/string","Sage/Data/SDataServiceRegistry","dojo/_base/lang","Sage/MainView/ActivityMgr/ActivityListPanelConfig","Sage/MainView/ActivityMgr/AlarmListPanelConfig","Sage/MainView/ActivityMgr/AllOpenListPanelConfig","Sage/MainView/ActivityMgr/ConfirmListPanelConfig","Sage/MainView/ActivityMgr/EventListPanelConfig","Sage/MainView/ActivityMgr/LitRequestListPanelConfig","Sage/MainView/ActivityMgr/PastDueListPanelConfig","dojox/storage/LocalStorageProvider","dojo/_base/declare","dojo/i18n!./nls/ActivityGroupContextService"],function(_ae2,_ae3,_ae4,_ae5,lang,_ae6,_ae7,_ae8,_ae9,_aea,_aeb,_aec,_aed,_aee,_aef){var _af0=_aee("Sage.MainView.ActivityMgr.ActivityGroupContextService",_ae2,{_currentContext:null,_currentTabId:false,_currentTabDescription:false,_currentUserId:false,_currentKeyField:"$key",_currentListConfiguration:false,groupConfigTypes:[{key:"activities",descriptor:_aef.activityTabDisplayName,keyField:"$key",configProviderType:_ae6},{key:"allopen",descriptor:_aef.allOpenTabDisplayName,keyField:"$key",configProviderType:_ae8},{key:"pastdue",descriptor:_aef.pastDueTabDisplayName,keyField:"$key",isCompostie:true,configProviderType:_aec},{key:"alarms",descriptor:_aef.alarmTabDisplayName,keyField:"$key",isCompostie:true,configProviderType:_ae7},{key:"events",descriptor:_aef.eventTabDisplayName,keyField:"$key",configProviderType:_aea},{key:"confirmations",descriptor:_aef.confirmTabDisplayName,keyField:"$key",configProviderType:_ae9},{key:"literature",descriptor:_aef.litTabDisplayName,keyField:"$key",configProviderType:_aeb}],_configsHash:false,_LOCALSTORE_NAMESPACE:"Sage-ActivityManagerView",_STORE_KEY_LASTAB:"_LASTTAB",_tabNameCache:{},constructor:function(){this.inherited(arguments);this._currentContext={};dojo.mixin(this._currentContext,this._emptyContext);this._currentContext.CurrentTableKeyField="$key";this._currentContext.AppliedFilterInfo={};this._currentContext.CurrentFamily=null;this._currentContext.notGroupBased=true;var _af1=this._getDefaultTabId();this.setContext(_af1,"default");this.unsubscribeConnects();this._subscribes=[];this._subscribes.push(dojo.subscribe(_ae4.substitute("/ui/filters/default/refresh"),this,this._onDefaultFilterRefresh));this._onDefaultFilterLoad();},buildCurrentEntityContext:function(){var _af2=this._currentContext.CurrentGroupID;if(!_af2){return;}if(this._currentListConfiguration){this._currentContext.CurrentEntity=this._currentListConfiguration.entityName;this._currentContext.CurrentTableKeyField=this.getKeyField(_af2);if(!this._currentContext.CurrentName){this._currentContext.CurrentName=this.getGroupName(_af2);}}},_ensureConfigsHash:function(){if(!this._configsHash){var hash={};for(var i=0;i<this.groupConfigTypes.length;i++){var cfg=this.groupConfigTypes[i];hash[cfg.key]=lang.mixin(cfg,{instance:false});}this.configsHash=hash;}},_setListConfig:function(){this._ensureConfigsHash();var _af3=this._currentContext.CurrentGroupID;var _af4=(this.configsHash.hasOwnProperty(_af3))?this.configsHash[_af3]:this.configsHash["activities"];if(!_af4.instance){_af4.instance=new _af4.configProviderType();this.onTabConfigCreated(_af4.instance);}else{_af4.instance.rebuild();}this._currentListConfiguration=_af4.instance;return;},getCurrentListConfig:function(){this._setListConfig();return this._currentListConfiguration;},getKeyField:function(_af5){this._ensureConfigsHash();var _af6="$key";if(this.configsHash[_af5]){_af6=this.configsHash[_af5]["keyField"]||"$key";}return _af6;},getGroupName:function(_af7){this._ensureConfigsHash();var name="default";if(this.configsHash[_af7]){name=this.configsHash[_af7]["descriptor"]||"default";}return name;},onCurrentGroupChanged:function(_af8){this._clearFilterManager();var self=this;this._onDefaultFilterLoad(function(){var _af9=self.getContext();dojo.publish("/group/context/changed",[_af8,self]);self._saveToLocalStorage(self._STORE_KEY_LASTAB,_af9.CurrentGroupID);});},_clearFilterManager:function(){var _afa={};var _afb={};dojo.publish("/ui/filters/default/apply",[_afa,_afb,this]);},getContext:function(){if(this._currentContext.CurrentGroupID===null){this.requestContext();}this.buildCurrentEntityContext();return this._currentContext;},requestContext:function(){if(this._isRetrievingContext===true){return;}},setContext:function(id,name){this._currentContext.CurrentGroupID=id;this._currentContext.CurrentName=name;this._setListConfig();this.buildCurrentEntityContext();this._isRetrievingContext=false;this.onContextSet(this._currentContext);},isContextRequired:function(){return !(Sage&&Sage.Groups&&Sage.Groups._groupContext);},setCurrentGroup:function(id,name,_afc){if(this._currentContext.CurrentGroupID===id){return;}if(!name||!_afc){this._currentContext.CurrentGroupID=id;this._currentContext.CurrentName=false;this.buildCurrentEntityContext();name=this._currentContext.CurrentName;}else{this._currentContext.CurrentTableKeyField=_afc;}this.setContext(id,name);this.onCurrentGroupChanged({current:this._currentContext});},_onDefaultFilterLoad:function(_afd){var _afe=this.getContext(),_aff=_ae5.getSDataService("system"),_b00,_b01={"$name":"getEntityFilters","request":{"entityName":_afe.CurrentEntity,"key":_afe.CurrentGroupID}};_b00=new Sage.SData.Client.SDataServiceOperationRequest(_aff).setOperationName("getEntityFilters");_b00.execute(_b01,{success:lang.hitch(this,function(_b02){try{if(_b02.response.appliedFilterInfo){this._currentContext.AppliedFilterInfo.applied=_b02.response.appliedFilterInfo.applied;this._currentContext.AppliedFilterInfo.definitionSet=_b02.response.appliedFilterInfo.definitionSet;if(_afd){_afd();}}}catch(err){console.error(err);}}),failure:function(_b03){console.error(_b03);},async:false});},_onDefaultFilterRefresh:function(_b04,_b05,_b06){var _b07=this.getContext(),_b08=_ae5.getSDataService("system"),_b09={"$name":"applyFilterToEntity","request":{"entityName":_b07.CurrentEntity,"filter":dojo.toJson(_b06.createValueSet()),"key":_b07.CurrentGroupID}},_b0a=new Sage.SData.Client.SDataServiceOperationRequest(_b08).setOperationName("applyFilterToEntity");_b0a.execute(_b09,{});},getStaticTabs:function(){return this.groupConfigTypes;},_saveToLocalStorage:function(key,_b0b,_b0c){this._saveToSessionStorage(key,_b0b,_b0c);return;},_getFromLocalStorage:function(key,_b0d){return this._getFromSessionStorage(key,_b0d);},_getFromSessionStorage:function(key,_b0e){if(!_b0e){_b0e=this._LOCALSTORE_NAMESPACE;}var _b0f=_b0e+"_"+key;return sessionStorage.getItem(_b0f);},_saveToSessionStorage:function(key,_b10,_b11){if(!_b11){_b11=this._LOCALSTORE_NAMESPACE;}var _b12=_b11+"_"+key;sessionStorage.setItem(_b12,_b10);},_getDefaultTabId:function(){var _b13="activities",_b14=this._getUrlTabId(),_b15;if(_b14){_b14=this._validateTabId(_b14);if(_b14){return _b14;}}var _b16=this._getFromLocalStorage(this._STORE_KEY_LASTAB);if(_b16){_b13=_b16;}else{_b15=Sage.Services.getService("ActivityService");if(_b15){_b13=_b15.getDefaultActivityManagerTabId();}}if(!this._configsHash){for(var i=0;i<this.groupConfigTypes;i++){if(_b13===this.groupConfigTypes[i]["key"]){return _b13;}}}return _b13;},_getUrlTabId:function(){var _b17=false,_b18="[\\?&]tabId=([^%#]*)",_b19=new RegExp(_b18),_b1a=_b19.exec(window.location.href);if(_b1a!==null){_b17=_b1a[1];}return _b17;},_validateTabId:function(_b1b){if(_b1b){for(var i=0;i<this.groupConfigTypes.length;i++){var cfg=this.groupConfigTypes[i];if(cfg.key.toUpperCase()===_b1b.toUpperCase()){return cfg.key;}}}return null;},onTabConfigCreated:function(_b1c){}});if(!Sage.Services.hasService("ClientGroupContext")){Sage.Services.addService("ClientGroupContext",new _af0());}else{var _b1d=Sage.Services.getService("ClientGroupContext");if(_b1d.declaredClass!=="Sage.MainView.ActivityMgr.ActivityGroupContextService"){_b1d.unsubscribeConnects();Sage.Services.removeService("ClientGroupContext");Sage.Services.addService("ClientGroupContext",new _af0());}}return _af0;});},"Sage/MainView/ActivityMgr/nls/SnoozeOptions":function(){define("Sage/MainView/ActivityMgr/nls/SnoozeOptions",["Sage/LanguageList","dojo/_base/lang"],function(_b1e,lang){var nls={root:{fiveMinText:"5 minutes",tenMinText:"10 minutes",fifteenMinText:"15 minutes",thirtyMinText:"30 minutes",oneHourText:"1 hour",twoHourText:"2 hours",fourHourText:"4 hours",eightHourText:"8 hours",oneDayText:"1 day",twoDayText:"2 days",threeDayText:"3 days",oneWeekText:"1 week",twoWeekText:"2 weeks",snoozeText:"Snooze",snoozeByText:"Snooze by:",snoozeAllText:"Snooze All",snoozeTitle:"Snooze Alarms"}};return lang.mixin(_b1e,nls);});},"url:Sage/UI/Controls/templates/AddressEdit.html":"<!--\r\nSimplate template\r\nhttps://github.com/mmorton/simplate\r\nhttps://github.com/mmorton/simplate/blob/master/demo/index.html\r\nBasic formatting example: {%= $.id %}\r\n-->\r\n<div>\r\n        <table style=\"width:100%;height:100%;\">\r\n                {% for (var i = 0; i < $.fields.length; i++) { %}\r\n                {% if ($.fields[i].visible) { %}\r\n                    <tr>\r\n                        <td><label>{%= $.fields[i].fieldLabel %}</label></td>\r\n                        <td style=\"width: 150px;\">\r\n                            {% if ($.fields[i].xtype === 'picklistcombo') { %}\r\n                            <select data-dojo-type=\"Sage.UI.Controls.DropDownSelectPickList\"\r\n                                dojoAttachPoint=\"_valueBox\"\r\n                                pickListName=\"{%= $.fields[i].pickList.pickListName %}\"\r\n                                storeMode=\"text\"\r\n                                style=\"width: 100%;\"\r\n                                value=\"{%= $.fields[i].value %}\"\r\n                           {% } %}\r\n                           {% if ($.fields[i].xtype === 'checkbox') { %}\r\n                                <input data-dojo-type=\"Sage.UI.Controls.CheckBox\"\r\n                                       checked=\"{%= $.fields[i].value %}\"\r\n                                       disabled=\"{%= $.fields[i].disabled %}\"\r\n                           {% } %}\r\n                           {% if ($.fields[i].xtype === 'textfield') { %}\r\n                                <input data-dojo-type=\"Sage.UI.Controls.TextBox\"\r\n                                style=\"width: 100%;\" type=\"text\"\r\n                                value=\"{%= $.fields[i].value %}\"\r\n                           {% } %}\r\n                                id=\"{%= $.id %}-{%= $.fields[i].name %}\"\r\n                                name=\"{%= $.fields[i].formClientId %}\"\r\n                                shouldPublishMarkDirty=\"false\"\r\n                                onChange=\"dijit.byId('{%= $.id %}').editorChange();\"\r\n                                textAlign=\"{%= $.fields[i].textAlign %}\" data-dojo-attach-point=\"focusNode\"\r\n                                maxLength=\"{%= $.fields[i].maxLength %}\" />\r\n                        </td>\r\n                   </tr>\r\n                {% } %}          \r\n                {% } %}            \r\n        </table>                    \r\n        <div class=\"button-bar alignright\" style=\"clear: both\">\r\n            <button id=\"{%= $.id %}-OKButton\" data-dojo-type=\"dijit.form.Button\" type=\"submit\" onClick=\"dijit.byId('{%= $.id %}')._okClicked();\">\r\n                {%= $.okText %}\r\n            </button>\r\n            <button id=\"{%= $.id %}-CancelButton\" data-dojo-type=\"dijit.form.Button\" type=\"button\" onClick=\"dijit.byId('{%= $.id %}')._cancelClicked();\">\r\n                {%= $.cancelText %}\r\n            </button>\r\n        </div>\r\n</div>","Sage/QuickForms/Design/Editors/nls/OwnerAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/OwnerAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_b1f,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"}}};return lang.mixin(_b1f,nls);});},"Sage/Groups/main":function(){define("Sage/Groups/main",["Sage/Groups/GroupNavigator","Sage/Groups/GroupContextService","Sage/Groups/GroupLookup","Sage/Groups/GroupManager"],function(){});},"Sage/Utility/Jobs":function(){define("Sage/Utility/Jobs",["Sage/Utility","dojo/date/locale","dojo/string","dojo/_base/declare","Sage/UI/Dialogs","dojo/i18n!./nls/Jobs","dijit/ProgressBar","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dojo/_base/array"],function(_b20,_b21,_b22,_b23,_b24,_b25,_b26,_b27,lang,_b28){Sage.namespace("Utility.Jobs");lang.mixin(Sage.Utility.Jobs,{_intervalId:null,_triggerId:null,_jobService:null,_options:null,_pollIntervalInSeconds:5,progressDialog:false,progressBar:false,triggerJobAndDisplayProgressDialog:function(_b29){var self=this;self._reset();if(!this._validateOptions(_b29)){return;}self._options={key:_b29.key,closable:(typeof _b29.closable==="boolean")?_b29.closable:true,infoMessage:(typeof _b29.infoMessage==="string")?_b29.infoMessage:"",title:(typeof _b29.title==="string")?_b29.title:_b25.defaultProgressDialogTitle,showDismissButton:(typeof _b29.showDismissButton==="boolean")?_b29.showDismissButton:true,width:(typeof _b29.width==="number")?_b29.width:400,indeterminate:(typeof _b29.indeterminate==="boolean")?_b29.indeterminate:false,maximum:(typeof _b29.maximum==="number")?_b29.maximum:100,showCompleteNotification:(typeof _b29.showCompleteNotification==="boolean")?_b29.showCompleteNotification:false,showErrorNotification:(typeof _b29.showErrorNotification==="boolean")?_b29.showErrorNotification:true,failure:_b29.failure,complete:_b29.complete,ensureZeroFilters:_b29.ensureZeroFilters===true?true:false};var _b2a={descriptor:_b29.descriptor,key:_b29.key,parameters:_b29.parameters,success:function(_b2b){self._showProgressDialog(_b2b.response?_b2b.response.triggerId:_b2b.$key);},failure:function(xhr,_b2c){if(self._options.showErrorNotification){_b20.ErrorHandler.handleHttpError(xhr,_b2c);}if(self._options.failure){var _b2d=self._getErrorMessage(xhr);self._options.failure(_b2d);}}};this._jobService=Sage.Services.getService("JobService");this._jobService.scheduleJob(_b2a);dojo.publish("/job/execution/changed",[self]);},formatElapsedTime:function(_b2e){if(!_b2e){_b2e="00:00:00.00000";}var _b2f=_b2e.split(".");return _b2f[0];},formatJobDescription:function(job){return !job?"":job.$descriptor;},formatDate:function(_b30){if(!_b30){return "";}var _b31=new Date(parseInt(_b30.substr(6)));return _b21.format(_b31,{selector:"datetime",fullYear:true});},formatUser:function(user){return user?user.$descriptor:"";},formatRepeatCount:function(_b32){if(_b32===-1){return _b25.repeatIndefinitely;}return _b32;},getTriggerDescription:function(_b33){if(_b33){if(_b33.$descriptor){return _b33.$descriptor;}else{return _b33.$key;}}return "";},formatProgress:function(_b34){if(!_b34||typeof _b34!=="number"){_b34=0;}var _b35=new _b26({indeterminate:false,maximum:100,value:_b34});return _b35;},_validateOptions:function(_b36){if(!_b36){return false;}if(typeof _b36.key!=="string"){return false;}return true;},_reset:function(){this._intervalId=null;this._options=null;this._triggerId=null;},_getErrorMessage:function(xhr){var _b37=_b22.substitute(_b25.errorMessage,[this._options.key,xhr.status,xhr.statusText]);return _b37;},_getUnexpectedErrorMessage:function(){var _b38=_b22.substitute(_b25.unexpectedErrorMessage,[this._options.key]);return _b38;},getParameterRunAsUser:function(_b39){if(_b39){var _b3a=this._getParameterValue(_b39,"RunAsUserId");return _b20.getUserName(_b3a);}return "";},_getParameterValue:function(_b3b,name){var _b3c="";if(_b3b){_b28.some(_b3b,function(_b3d,i){if(_b3d.name===name){_b3c=_b3d.value;return true;}});}return _b3c;},_updateProgressDialog:function(_b3e){if(this.progressBar){if(_b3e&&typeof _b3e.progress==="number"){this.progressBar.update({progress:_b3e.progress});}if(_b3e&&typeof _b3e.title==="string"){this.progressBar.update({title:_b3e.title});}if(_b3e&&typeof _b3e.infoMessage==="string"){var _b3f=dojo.byId("progressDialogMessageDiv");if(_b3f){_b3f.innerHTML=_b3e.infoMessage;}}}},_showProgressDialog:function(_b40){var self=this;self._triggerId=_b40;var _b41=self._options;this.progressDialog=new dijit.Dialog({title:_b41.title,style:dojo.string.substitute("width: ${0}px;",[_b41.width]),closable:_b41.closable});var _b42=new dojo.create("div",{innerHTML:_b41.infoMessage,style:"text-align: left; margin-top: 5px; margin-bottom: 10px",id:"progressDialogMessageDiv"});this.progressDialog.containerNode.appendChild(_b42);var _b43=new dojo.create("div",{style:"text-align: left; margin-top: 5px; margin-bottom: 10px",id:"progressDialogLinkDiv","class":"display-none"});this.progressDialog.containerNode.appendChild(_b43);this.progressBar=new dijit.ProgressBar({style:"margin-top: 10px; margin-bottom: 20px",indeterminate:_b41.indeterminate,maximum:_b41.maximum,progress:0});this.progressDialog.containerNode.appendChild(this.progressBar.domNode);if(_b41.showDismissButton){var _b44=new dijit.form.Button({label:_b25.cancelButtonCaption,id:"progressDialogCancelButton",style:"margin-right: 3px;",dojoType:"dijit.form.Button",onClick:function(_b45){self._cancelJob();}});var _b46=new dijit.form.Button({label:_b25.closeButtonCaption,onClick:function(_b47){self._closeProgressDialog();}});var _b48=new dojo.create("div",{id:"progressDialogButtonDiv",style:"text-align: center;"});_b48.appendChild(_b44.domNode);_b48.appendChild(_b46.domNode);this.progressDialog.containerNode.appendChild(_b48);}this.progressDialog.show();if(!this.progressDialog.helpIcon){lang.mixin(this.progressDialog,new _b27());this.progressDialog.createHelpIconByTopic("jobsProgressDialog");}this._intervalId=setInterval(function(){Sage.Utility.Jobs._updateProgress();},this._pollIntervalInSeconds*1000);},_cancelJob:function(){clearInterval(this._intervalId);if(!this.jobService){this._jobService=Sage.Services.getService("JobService");}this._jobService.interruptExecution(this._options);this._closeProgressDialog();},_closeProgressDialog:function(){clearInterval(this._intervalId);if(this.progressDialog){this.progressDialog.hide();this.progressDialog.destroyDescendants();var _b49=dijit.byId("progressDialogCancelButton");if(_b49){_b49.destroyRecursive();}}},_updateProgress:function(){var self=this;var _b4a=Sage.Services.getService("JobService");var _b4b={triggerId:this._triggerId,success:function(_b4c,_b4d){_b4b={progress:_b4c.progress};self._updateProgressDialog(_b4b);var _b4e=dijit.byId("progressDialogCancelButton");if(_b4c.status==="Complete"){clearInterval(self._intervalId);var _b4f=dojo.byId("progressDialogMessageDiv");if(_b4f){_b4f.innerHTML=_b25.jobCompletedSuccessfully;}var _b50=dojo.byId("progressDialogLinkDiv");if(_b50&&_b4c.result){var _b51=_b4c.result.split("://");if(_b51.length>1){dojo.removeClass(_b50,"display-none");_b50.innerHTML=_b22.substitute("<a onclick=\"Sage.Utility.Jobs._closeProgressDialog();\" href=\"javascript: Sage.Utility.File.Attachment.getAttachment('${1}');\" title=\"${0}\">${0}</a>",[_b4c.trigger?_b4c.trigger.$descriptor:"",_b51[1]]);}}if(_b4e){_b4e.destroyRecursive();}if(self._options.showCompleteNotification){_b24.showInfo(_b25.jobCompletedSuccessfully,self._options.title);}if(self._options.complete){self._options.complete(_b4c);}dojo.publish("/job/execution/changed",[self]);}if(_b4c.status==="Error"){clearInterval(self._intervalId);_b24.closeProgressBar();if(self._options.showErrorNotification){_b20.ErrorHandler.handleHttpError(_b4c,_b4d);}if(self._options.failure){self._options.failure(_b4c);}if(_b4e){_b4e.destroyRecursive();}}},failure:function(_b52,_b53){clearInterval(self._intervalId);_b24.closeProgressBar();if(self._options.showErrorNotification){_b20.ErrorHandler.handleHttpError(_b52,_b53);}if(self._options.failure){self._options.failure(_b52);}var _b54=dijit.byId("progressDialogCancelButton");if(_b54){_b54.destroyRecursive();}}};_b4a.getExecution(_b4b);},refreshList:function(_b55){try{var _b56=dijit.byId("list");if(_b56){var _b57=Sage.Services.getService("ClientGroupContext");if(_b57){var ctx=_b57.getContext();if(_b55===ctx.CurrentGroupID){_b56.refreshView(_b55);}}}}catch(e){}},getCurrentGroupId:function(){var svc=Sage.Services.getService("ClientGroupContext");var _b58=svc.getContext();return _b58.CurrentGroupID;}});return Sage.Utility.Jobs;});},"Sage/QuickForms/Design/Editors/nls/NonVisibleAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/NonVisibleAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_b59,lang){var nls={root:{titleText:"Advanced",controlInfoText:"Control Info",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type."}};return lang.mixin(_b59,nls);});},"Sage/MainView/IntegrationContract/nls/InvoiceRTDV":function(){define("Sage/MainView/IntegrationContract/nls/InvoiceRTDV",["Sage/LanguageList","dojo/_base/lang"],function(_b5a,lang){var nls={root:{dialogCaption:"Invoice Details",loadingText:"loading...",lblInvoiceCaption:"Invoice:",lblNetTotalCaption:"Invoice Amount:",lblInvoiceDateCaption:"Invoice Date:",lblInvoiceDiscountAmountCaption:"Discount:",lblDueDateCaption:"Due Date:",lblInvoiceDiscountPercentCaption:"Discount Percent:",lblCustomerPOCaption:"Customer PO:",lblCarrierTotalPriceCaption:"Shipping:",lblSettlementDiscountPercentCaption:"Settlement Discount Percent:",lblTaxCaption:"Tax:",lblSettlementDiscountTermsCaption:"Payment Terms:",lblNotesCaption:"Comments:",lblOperatingCompanyCurrencyCaption:"Operating Company Currency:",lblCostTotalCaption:"Total Cost:",lblOperatingCompanyCurrencyExchangeRateDateCaption:"Exchange Rate Date:",lblProfitTotalCaption:"Profit Total:",lblOperatingCompanyCurrencyExchangeRateCaption:"Exchange Rate:",lblPriceListCaption:"Price List:",lblOCCurrencyCaption:"Operating Company Currency:",lblCurrencyCaption:"Currency:",lblSalesPersonCaption:"Sales Person:",detailsTabTitle:"Details",addressTabTitle:"Addresses",invoiceLinesTabTitle:"Invoice Lines",paymentsTabTitle:"Payments",deliveriesTabTitle:"Deliveries",grdInvoice_Name:"Invoice #",grdInvoice_Date:"Invoice Date",grdInvoice_Amount:"Invoice Amount",grdInvoice_PO:"Customer PO",grdInvoice_PaymentTerms:"Payment Terms",grdInvoice_NetTotal:"Net Total",grdInvoice_Tax:"Tax",grdAddress_Name:"Description",grdAddress_address1:"Address 1",grdAddress_address2:"Address 2",grdAddress_City:"City",grdAddress_State:"State",grdAddress_Zip:"Postal Code",grdItems_ActualPrice:"Actual Price",grdItems_ChargesTotal:"Charges Total",grdItems_Commodity:"Commodity",grdItems_CommodityDimension:"Dimension",grdItems_CommodityVariant:"Variant",grdItems_DiscountTotal:"Discount Total",grdItems_GrossTotal:"Gross Total",grdItems_InitialPrice:"Initial Price",grdItems_Line:"Line Number",grdItems_NetTotal:"Net Total",grdItems_Quantity:"Quantity",grdItems_Status:"Status",grdItems_TaxTotal:"Tax Total",grdItems_Type:"Line Type",grdItems_UnitOfMeasure:"Unit",grdPayments_Charges:"Charges",grdPayments_Currency:"Currency",grdPayments_Date:"Date",grdPayments_Discounts:"Discounts",grdPayments_GrossTotal:"Gross Total",grdPayments_Name:"Name",grdPayments_NetTotal:"Net Total",grdPayments_ProcessDate:"Date Processed",grdPayments_Status:"Status",grdPayments_Tax:"Taxes",grdPayments_TenderReference:"Tender Reference",grdPayments_TenderType:"Tender Type",grdPayments_Type:"Type",grdDeliveries_ActualDate:"Actual Date",grdDeliveries_ActualTime:"Actual Time",grdDeliveries_Carrier:"Carrier",grdDeliveries_CarrierReference:"Carrier Reference",grdDeliveries_DeliveredQuantity:"Delivered Quantity",grdDeliveries_ExceptionReason:"Exception Reason",grdDeliveries_Method:"Method",grdDeliveries_Number:"Number",grdDeliveries_RequestedDate:"Requested Date",grdDeliveries_RequestedQuantity:"Requested Quantity",grdDeliveries_Status:"Status",grdDeliveries_Type:"Type",btnCloseCaption:"Close"}};return lang.mixin(_b5a,nls);});},"Sage/UI/ToggleButton":function(){require({cache:{"url:Sage/templates/ToggleButton.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\r\t><span class=\"dijitReset dijitInline dijitButtonNode\"\r\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\"\r\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\r\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\r\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\r\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\r\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\r\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\t\t\t\tid=\"${id}_label\"\r\t\t\t\tdata-dojo-attach-point=\"containerNode\"\r\t\t\t></span\r\t\t></span\r\t></span\r\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\r\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\r/></span>\r"}});define("Sage/UI/ToggleButton",["dijit/form/Button","dijit/_Widget","dojo/text","dojo/text!../templates/ToggleButton.html","dojo/_base/declare"],function(_b5b,_b5c,text,_b5d,_b5e){var _b5f=_b5e("Sage.UI.ToggleButton",_b5b,{templateString:_b5d,__setValueAttr:{node:"valueNode",type:"attribute",attribute:"value"},getValue:function(){return this.get("label");},setValue:function(val){this.set("label",val);},_onButtonClick:function(e){}});return _b5f;});},"Sage/UI/nls/SDataLookup":function(){define("Sage/UI/nls/SDataLookup",["Sage/LanguageList","dojo/_base/lang"],function(_b60,lang){var nls={root:{closeText:"Close",cancelText:"Cancel",loadingText:"Loading...",noDataText:"No records returned"}};return lang.mixin(_b60,nls);});},"Sage/QuickForms/Design/nls/RowDesigner":function(){define("Sage/QuickForms/Design/nls/RowDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_b61,lang){var nls={root:{displayNameText:"Row"}};return lang.mixin(_b61,nls);});},"Sage/MainView/ActivityMgr/ActivityListPanelConfig":function(){define("Sage/MainView/ActivityMgr/ActivityListPanelConfig",["dojo/i18n","Sage/MainView/ActivityMgr/BaseListPanelConfig","Sage/Utility/Activity","Sage/UI/SummaryFormatterScope","Sage/UI/SDataSummaryFormatterScope","Sage/Data/BaseSDataStore","Sage/Data/SDataStore","Sage/UI/Columns/DateTime","Sage/Data/SDataServiceRegistry","dojo/_base/declare","dojo/i18n!./nls/ActivityListPanelConfig","dojo/i18n!./templates/nls/UserActivityDetailSummary","dojo/i18n!./templates/nls/UserActivityListSummary"],function(i18n,_b62,_b63,_b64,_b65,_b66,_b67,_b68,_b69,_b6a,_b6b){var _b6c=_b6a("Sage.MainView.ActivityMgr.ActivityListPanelConfig",[_b62],{constructor:function(){this._nlsResources=_b6b;this._listId="Activities";this._resourceKind="userActivities";this.entityName="UserActivity";this._contextMenu="ActivityListContextMenu";this._scheduleContextMenu="ScheduleContextMenu";this._service=_b69.getSDataService("system");this._structure=this._getStructure();this._select=this._getSelect();this._include=this._getInclude();this._sort=this._getSort();this._where=this._getWhere();this._store=this._getStore();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();this.keyField="$key";this.hasCompositeKey=true;dojo.subscribe("/entity/activity/change",this._onListRefresh);dojo.subscribe("/entity/activity/delete",this._onListRefresh);dojo.subscribe("/entity/activity/create",this._onListRefresh);dojo.subscribe("/entity/userActivity/change",this._onListRefresh);dojo.subscribe("/entity/userActivity/delete",this._onListRefresh);dojo.subscribe("/entity/userActivity/create",this._onListRefresh);dojo.subscribe("/entity/activity/confirm",this._onListRefresh);dojo.subscribe("/entity/activity/decline",this._onListRefresh);dojo.subscribe("/entity/userNotification/delete",this._onListRefresh);dojo.subscribe("/entity/activityAttendees/updated",this._onListRefresh);},_onListRefresh:function(_b6d){var _b6e=Sage.Services.getService("ActivityService");_b6e.refreshList("activities");},_getSelect:function(){var _b6f=["Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Alarm","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","UserId","AlarmTime","Alarm","Status","Activity/Details/AttendeeCount"];return _b6f;},_getInclude:function(){var _b70=["Activity","$descriptors"];return _b70;},_getSort:function(){var sort=[{attribute:"Activity.StartDate",descending:true}];return sort;},_getWhere:function(){var _b71=(this._currentUserId)?dojo.string.substitute("(User.Id eq \"${0}\") and (Status ne \"asDeclned\" ) and (Activity.Type ne \"atLiterature\" ) ",[this._currentUserId]):"";return _b71;},_getStructure:function(){var _b72="<div class='Global_Images icon16x16 icon_attach_to_16' title='"+this._nlsResources.colNameAttachment+"' />";var _b73="<div class='Global_Images icon16x16 icon_recurring' title='"+this._nlsResources.colNameRecurring+"' />";var _b74="<img src='images/icons/Alarm_16x16.gif' title='"+this._nlsResources.colNameAlarm+"' alt='"+this._nlsResources.colNameAlarm+"' />";var _b75="<div class='Global_Images icon16x16 icon_unconfirmedActivity16x16' title='"+this._nlsResources.colNameUnConfirmStatus+"' />";var _b76=this._nlsResources.colNameType||"Activity Type";var _b77=this._nlsResources.colNameStartDate||"Start Date";var _b78=this._nlsResources.colNameDuration||"Duration";var _b79=this._nlsResources.colNameAccount||"Account/Company";var _b7a=this._nlsResources.colNameRegarding||"Regarding";var _b7b=this._nlsResources.colNamePriority||"Priority";var _b7c=this._nlsResources.colNameUserId||"Leader";var _b7d=this._nlsResources.colNameTypeName||"Type";var _b7e=this._nlsResources.colNameContactName||"Name";var _b7f=this._nlsResources.colNameAssociationCount||"Participant Count";var _b80=[{field:"Status",name:_b75,type:_b63.activityConfirmStatusCell,width:"20px"},{field:"Alarm",name:_b74,type:_b63.activityAlarmCell,width:"20px"},{field:"Activity.Attachment",name:_b72,type:_b63.activityAttachCell,width:"20px"},{field:"Activity.Recurring",name:_b73,type:_b63.activityRecurringCell,width:"20px"},{field:"Activity.Type",name:_b76,type:_b63.activityTypeCell,width:"90px"},{field:"Activity.StartDate",name:_b77,type:_b68,timelessField:"Activity.Timeless",width:"100px"},{field:"Activity.Duration",name:_b78,type:_b63.activityDurationCell,width:"40px"},{field:"Activity.ContactId",name:_b7d,type:_b63.activityNameTypeCell,width:"40px"},{field:"Activity.ContactName",name:_b7e,type:_b63.activityNameCell,width:"200px"},{field:"Activity.AccountName",name:_b79,type:_b63.activityAccountCell,width:"200px"},{field:"Activity.Description",name:_b7a,width:"100px"},{field:"Activity.Priority",name:_b7b,width:"40px"},{field:"Activity.Leader",name:_b7c,type:_b63.activityLeaderCell,width:"200px"},{field:"Activity.Details.AttendeeCount",name:_b7f,width:"90px"}];return _b80;},_getSummaryConfig:function(){var _b81=new _b67({id:this._listId,service:this._service,resourceKind:this._resourceKind,include:["Activity","$descriptors"],select:["$key"],expandRecurrences:false,where:this._where});var _b82=[{field:"$key",formatter:"formatSummary",width:"100%",name:"Summary View"}];var _b83=this._getFormatterScope();var _b84={structure:_b82,layout:"layout",store:_b81,rowHeight:170,rowsPerPage:10,formatterScope:_b83};return _b84;},_getDetailConfig:function(){var _b85=this._getFormatterScope();var _b86=this._getSummaryDetailRequestConfig();var _b87={resourceKind:this._resourceKind,requestConfiguration:_b86,templateLocation:"MainView/ActivityMgr/templates/UserActivityDetailSummary.html"};return _b87;},_getSummaryListRequestConfig:function(){var _b88={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Alarm","Status","User","Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","Activity/Location","Activity/TicketId","Activity/TicketNumber","Activity/OpportunityId","Activity/OpportunityName","Activity/Notes","Activity/PhoneNumber","Activity/Details/AttendeeCount"],include:["Activity","$descriptors"],useBatchRequest:true,expandRecurrences:false};return _b88;},_getSummaryDetailRequestConfig:function(){var _b89={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Alarm","Status","User","Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","Activity/Location","Activity/TicketId","Activity/TicketNumber","Activity/OpportunityId","Activity/OpportunityName","Activity/LongNotes","Activity/PhoneNumber","Activity/Details/AttendeeCount"],include:["Activity","$descriptors"],useBatchRequest:true,expandRecurrences:false};return _b89;},_getFormatterScope:function(){var _b8a=this._getSummaryListRequestConfig();var _b8b=new _b65({templateLocation:"MainView/ActivityMgr/templates/UserActivityListSummary.html",resetDataManager:true,requestConfiguration:_b8a});return _b8b;},_getToolBars:function(){var _b8c={items:[]};return _b8c;},getTimelessProperty:function(_b8d){return "Activity.Timeless";}});return _b6c;});},"Sage/Utility/_LocalStorageMixin":function(){define("Sage/Utility/_LocalStorageMixin",["dojo/_base/declare","dojox/storage/LocalStorageProvider"],function(_b8e,_b8f){return _b8e("Sage.Utility._LocalStorageMixin",null,{localStorageProvider:null,_setLocalStorageProviderAttr:function(_b90){this.localStorageProvider=_b90;},_getLocalStorageProviderAttr:function(){this._ensureProvider();return this.localStorageProvider;},_ensureProvider:function(){var _b91;if(!this.localStorageProvider){_b91=new _b8f();_b91.initialize();this._setLocalStorageProviderAttr(_b91);}},saveToLocalStorage:function(key,_b92,ns){var _b93=this._getLocalStorageProviderAttr(),_b94=ns,_b95=key;if(!_b93.isValidKey(key)){_b95=this._stripBadValues(key);}if(!_b93.isValidNamespace(ns)){_b94=this._stripBadValues(ns);}_b93.put(_b95,_b92,function(_b96,key,_b97){if(_b96===_b93.FAILED){console.error("Failed writing key: "+key+" in local storage. Message: "+_b97);}},_b94);var mod=new Date(Date.now());_b93.put(_b95+"_modified_at",mod,function(_b98,key,_b99){if(_b98===_b93.FAILED){console.error("Failed writing key: "+key+" in local storage. Message: "+_b99);}},_b94);_b93.put("modified_at",mod,function(_b9a,key,_b9b){if(_b9a===_b93.FAILED){console.error("Failed writing key: "+key+" in local storage. Message: "+_b9b);}},_b94);},getFromLocalStorage:function(key,ns){var _b9c=this._getLocalStorageProviderAttr(),_b9d=ns,_b9e=key;if(!_b9c.isValidKey(key)){_b9e=this._stripBadValues(key);}if(!_b9c.isValidNamespace(ns)){_b9d=this._stripBadValues(ns);}return _b9c.get(_b9e,_b9d);},getKeys:function(ns){var _b9f=this._getLocalStorageProviderAttr();return _b9f.getKeys(ns);},clear:function(ns){var _ba0=this._getLocalStorageProviderAttr();if(ns){_ba0.clear(ns);}else{_ba0.clear();}},_stripBadValues:function(key){return key.replace(/[^A-Za-z0-9]/g,"-");}});});},"url:Sage/MainView/IntegrationContract/templates/SalesOrderRTDV.html":"[\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"{%= $.id%}_salesOrderDetailsDialog\" title=\"{%= $.dialogCaption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:hideDetailsDialog\">',\r\n        '<div dojoAttachPoint=\"loadingContainer\">',\r\n            '<br />',\r\n            '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingText %}</label>',\r\n            '<br />',\r\n            '<br />',\r\n        '</div>',\r\n        '<table cellspacing=\"5\" dojoAttachPoint=\"salesOrderDetails\" border=\"0\" width=\"100%\" class=\"display-none\">',\n            '<div>',\r\n                '<tr>',\n\t\t\t        '<td>',\r\n\t\t\t             '<label for=\"SalesOrder_reference\">{%= $.lblSalesOrderCaption %}</label>',\r\n\t\t\t        '</td>',\r\n                    '<td>',\r\n                        '<input type=\"text\" id=\"{%= $.id%}_reference\" name=\"reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                    '<td>',\n                        '<label for=\"SalesOrder_status\">{%= $.lblStatusCaption %}</label>',\n                    '</td>',\n                    '<td>',\n                        '<input type=\"text\" id=\"{%= $.id%}_status\" name=\"status\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                    '<td>',\n                        '<label for=\"SalesOrder_grossTotal\">{%= $.lblGrossTotalCaption %}</label>',\r\n                    '</td>',\n                    '<td>',\n                        '<input type=\"text\" id=\"{%= $.id%}_grossTotal\" name=\"grossTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                '</tr>',\r\n            '</div>',\r\n        '</table>',\r\n        '<div style=\"height:370px;width:800px\" dojoAttachPoint=\"tabContentDetails\" class=\"display-none\">',\r\n            '<div id=\"{%= $.id%}_salesOrderContainer\" dojoAttachPoint=\"salesOrderContainer\" dojoType=\"dijit.layout.TabContainer\" style=\"width:100%;height:100%;\">',\r\n                '<div id=\"{%= $.id%}_salesOrderContent\" dojoAttachPoint=\"salesOrderContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.detailsTabTitle %}\" selected=\"true\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"{%= $.id%}_divDetails\">',\r\n                        '<table cellspacing=\"5\">',\r\n                            '<col style=\"width:200px\" />',\r\n                            '<col style=\"width:200px\" />',\r\n                            '<tr>',\r\n                                '<td>',\r\n                                    '<label for=\"SalesOrder_OrderDate\">{%= $.lblOrderDateCaption %}</label>',\r\n                                '</td>',\r\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_OrderDate\" name=\"date\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\r\n                                '<td>',\n                                    '<label for=\"SalesOrder_TaxTotal\">{%= $.lblTaxTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_TaxTotal\" name=\"taxTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\r\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\r\n                                    '<label for=\"SalesOrder_HoldStatus\">{%= $.lblHoldStatusCaption %}</label>',\r\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_HoldStatus\" name=\"statusFlagText\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_Currency\">{%= $.lblCurrencyCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Currency\" name=\"currency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_Type\">{%= $.lblTypeCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Type\" name=\"type\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\r\n                                    '<label for=\"SalesOrder_CostTotal\">{%= $.lblCostTotalCaption %}</label>',\r\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_CostTotal\" name=\"costTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_PONumber\">{%= $.lblPONumberCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_PONumber\" name=\"customerReference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_ProfitTotal\">{%= $.lblProfitTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_ProfitTotal\" name=\"profitTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_Quotation\">{%= $.lblQuotationCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Quotation\" name=\"quotation.reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_InvoiceStatus\">{%= $.lblInvoiceStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_InvoiceStatus\" name=\"invoiceStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_Contact\">{%= $.lblContactCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Contact\" name=\"buyerContact.fullName\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_DeliveryDate\">{%= $.lblDeliveryDateCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DeliveryDate\" name=\"deliveryDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_PriceList\">{%= $.lblPriceListCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_PriceList\" name=\"pricelist.name\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_DueDate\">{%= $.lblDueDateCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DueDate\" name=\"dueDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_NetTotal\">{%= $.lblNetTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_NetTotal\" name=\"netTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_Carrier\">{%= $.lblCarrierCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Carrier\" name=\"carrierCompany\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_DiscountTotal\">{%= $.lblDiscountTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DiscountTotal\" name=\"discountTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_AllocationStatus\">{%= $.lblAllocationStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_AllocationStatus\" name=\"allocationStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_DeliveryStatus\">{%= $.lblDeliveryStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DeliveryStatus\" name=\"deliveryStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_ChargesTotal\">{%= $.lblChargesTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_ChargesTotal\" name=\"chargesTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                        '</table>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soAddressesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.addressTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"sdgrdSalesOrderAddresses\" dojoAttachPoint=\"sdgrdSalesOrderAddresses\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesOrderAddresses_Grid\" dojoAttachPoint=\"sdgrdSalesOrderAddresses_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soSalesPersonsContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.salesPersonsTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_SalesPersons\" dojoAttachEvent=\"onShow:initSalesPersons\">',\r\n                    '<div id=\"sdgrdSalesPersons\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesPersons_Grid\" dojoAttachPoint=\"sdgrdSalesPersons_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soLinesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.salesOrderLinesTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"sdgrdSalesOrderLines\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesOrderLines_Grid\" dojoAttachPoint=\"sdgrdSalesOrderLines_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soPaymentsContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.paymentsTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Payments\" dojoAttachEvent=\"onShow:initPayments\">',\r\n                    '<div id=\"sdgrdSOPayments\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSOPayments_Grid\" dojoAttachPoint=\"sdgrdSOPayments_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soDeliveriesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.deliveriesTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Deliveries\" dojoAttachEvent=\"onShow:initDeliveries\">',\r\n                    '<div id=\"sdgrdSODeliveries\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSODeliveries_Grid\" dojoAttachPoint=\"sdgrdSODeliveries_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n            '</div>',\r\n        '</div>',\r\n        '<div class=\"button-bar alignright\">',\r\n            '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_soBtnClose\" type=\"button\" dojoAttachEvent=\"onClick:hideDetailsDialog\">{%= $.btnCloseCaption %}</button>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]","Sage/UI/SummaryContents":function(){define("Sage/UI/SummaryContents",["dijit/_Widget","Sage/_Templated","dojo/_base/lang","dojo/_base/declare"],function(_ba1,_ba2,lang,_ba3){var _ba4=_ba3("Sage.UI.SummaryContents",[_ba1,_ba2],{widgetsInTemplate:true,templateLocation:"",templateString:"",widgetTemplate:"",constructor:function(_ba5){var _ba6=["Sage"];var _ba7=_ba5.templateLocation.split("/");for(var i=0;i<_ba7.length-1;i++){_ba6.push(_ba7[i]);}var path="dojo/i18n!"+_ba6.join("/")+"/nls/"+_ba7[_ba7.length-1].replace(".html","");require([path],lang.hitch(this,function(nls){lang.mixin(this,nls);}));this.templateString=dojo["cache"]("Sage",_ba5.templateLocation||this.templateLocation);var _ba8=eval(this.templateString);this.widgetTemplate=new Simplate(_ba8);}});return _ba4;});},"Sage/Groups/nls/GroupLookup":function(){define("Sage/Groups/nls/GroupLookup",["Sage/LanguageList","dojo/_base/lang"],function(_ba9,lang){var nls={root:{txtNoRecordsFound:"No records found."}};return lang.mixin(_ba9,nls);});},"Sage/TaskPane/nls/OpportunityTasksTasklet":function(){define("Sage/TaskPane/nls/OpportunityTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_baa,lang){var nls={root:{updateOpportunitiesTitle:"Update Opportunities",opportunityStatisticsTitle:"Opportunity Statistics"}};return lang.mixin(_baa,nls);});},"Sage/UI/Filters/nls/CheckBoxFilter":function(){define("Sage/UI/Filters/nls/CheckBoxFilter",["Sage/LanguageList","dojo/_base/lang"],function(_bab,lang){var nls={root:{loadingText:"Loading...",moreText:"Edit Items",clearText:"Clear",emptyText:"(Blank)",nullText:"(Null)",ofText:"/"}};return lang.mixin(_bab,nls);});},"Sage/UI/Alarms/UnconfirmedAlarm":function(){define("Sage/UI/Alarms/UnconfirmedAlarm",["Sage/_Templated","dijit/_Widget","dijit/form/CheckBox","Sage/Utility/Activity","Sage/UI/Alarms/AlarmCountDown","Sage/Link","Sage/UI/Controls/EntityInfoToolTip","dojo/i18n","dojo/i18n!./nls/ActivityAlarm","dojo/_base/declare"],function(_bac,_bad,_bae,_baf,_bb0,link,_bb1,i18n,_bb2,_bb3){var _bb4=_bb3("Sage.UI.Alarms.UnconfirmedAlarm",[_bad,_bac],{widgetsInTemplate:true,userNotification:null,selected:false,key:"",_tooltips:[],widgetTemplate:new Simplate(["<div class=\"alarm-item\">","<table style=\"width:100%\" dojoAttachPoint=\"_item\" dojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">","<col width=\"50px\" />","<col width=\"50%\" />","<col width=\"50%\" />","<tr>","{% var imageClass = Sage.Utility.Activity.getActivityImageClass($.userNotification.Activity.Type, \"medium\"); %}","<td class=\"alarm-icon\">","<div class=\"dijitIcon dijitMenuItemIcon Global_Images icon24x24 {%= imageClass %}\" title=\"{%= $.cleanText($.userNotification.Activity.Description) %}\"></div>","<input type=\"checkbox\" data-dojo-type=\"dijit.form.CheckBox\" size=\"30px\" dojoAttachPoint=\"_checkbox\" />","</td>","<td class=\"alarm-content\">","{% var desc = $.userNotification.Activity.Description;if (!desc) { desc = Sage.Utility.Activity.getActivityTypeName($.userNotification.Activity.Type); } %}","<div class=\"alarm-description\">","{% if ($.userNotification.Activity.Recurring) { %}<div class=\"Global_Images icon16x16 icon_recurring\" title=\"{%= $.recurringText %}\" > </div>&nbsp;&nbsp;{% } %}","<a href=\"javascript:Sage.Link.editConfirmation('{%= $.userNotification.$key %}')\">{%= desc %}</a>","</div>","<div>{%= Sage.Utility.Activity.formatActivityStartDate($.userNotification.Activity.StartDate) %}</div>","<div>{%= $.leaderText %}: {%= $.userNotification.Activity.Leader.$descriptor %}</div>","{% if (($.userNotification.Activity.LeadId) && ($.userNotification.Activity.LeadId.trim() !== \"\")) { %}","<div id=\"{%= $.userNotification.Activity.$key %}_lead\" dojoAttachPoint=\"_leadnode\">","{%= $.leadText %}: <a href=\"Lead.aspx?entityid={%= $.userNotification.Activity.LeadId %}\">{%= $.userNotification.Activity.LeadName %}</a>","</div>","{% if ($.userNotification.Activity.AccountName !== \"\") { %}","<div>{%= $.companyText %}: {%= $.userNotification.Activity.AccountName %}</div>","{% } %}","{% } else { %}","{% if ($.userNotification.Activity.ContactName !== \"\") { %}","<div id=\"{%= $.userNotification.Activity.$key %}_con\" dojoAttachPoint=\"_connode\">","{%= $.contactText %}: <a href=\"Contact.aspx?entityid={%= $.userNotification.Activity.ContactId %}\">{%= $.userNotification.Activity.ContactName %}</a>","</div>","{% } %}","{% if ($.userNotification.Activity.AccountName !== \"\") { %}","<div id=\"{%= $.userNotification.Activity.$key %}_acc\" dojoAttachPoint=\"_accnode\">","{%= $.accountText %}: <a href=\"Account.aspx?entityid={%= $.userNotification.Activity.AcountId %}\">{%= $.userNotification.Activity.AccountName %}</a>","</div>","{% } %}","{% } %}","</td><td class=\"alarm-content\">","{% if ($.userNotification.Activity.Location) { %}","<div id=\"{%= $.userNotification.Activity.$key %}_Location\" dojoAttachPoint=\"_location\">","{%= $.locationText %}: {%= $.userNotification.Activity.Location %}&nbsp;","</div>","{% } %}","{% if ($.userNotification.Activity.OpportunityName) { %}","<div id=\"{%= $.userNotification.Activity.$key %}_opp\" dojoAttachPoint=\"_oppnode\">","{%= $.opportunityText %}: <a href=\"Opportunity.aspx?entityid={%= $.userNotification.Activity.OpportunityId %}\">{%= $.userNotification.Activity.OpportunityName %}</a>","</div>","{% } %}","{% if ($.userNotification.Activity.TicketNumber) { %}","<div id=\"{%= $.userNotification.Activity.$key %}_tick\" dojoAttachPoint=\"_ticknode\">","{%= $.ticketText %}: <a href=\"Ticket.aspx?entityid={%= $.userNotification.Activity.TicketId %}\">{%= $.userNotification.Activity.TicketNumber %}</a>","</div>","{% } %}","</td>","</tr>","</table>","</div>"]),constructor:function(){dojo.mixin(this,_bb2);},postCreate:function(){this.inherited(arguments);this._checkbox.set("checked",this.selected);this._setupTooltips();},_setuserNotificationAttr:function(un){this.userNotification=un;this.key=un["$key"];},_setupTooltips:function(){if(this.userNotification.Activity.AccountName!==""){this._tooltips.push(new _bb1({connectId:this._accnode,position:["below"],entityName:"accounts",entityId:this.userNotification.Activity.AccountId}));}if(this.userNotification.Activity.ContactName!==""){this._tooltips.push(new _bb1({connectId:this._connode,position:["below"],entityName:"contacts",entityId:this.userNotification.Activity.ContactId}));}if(this.userNotification.Activity.LeadName!==""){this._tooltips.push(new _bb1({connectId:this._leadnode,position:["below"],entityName:"leads",entityId:this.userNotification.Activity.LeadId}));}},closeTooltips:function(){for(var i=0;i<this._tooltips.length;i++){this._tooltips[i].close();}},cleanText:function(str){if(!str){return "";}var _bb5=new RegExp("[/:\"*?<>|\r\n'\"`]+","g");return str.replace(_bb5,"");},_onHover:function(){dojo.addClass(this.domNode,"alarm-item-hover");},_onUnhover:function(){dojo.removeClass(this.domNode,"alarm-item-hover");},_onClick:function(){this.selected=!this.selected;this._checkbox.set("checked",this.selected);this._setSelectedStyle();},_setSelectedAttr:function(_bb6){this.selected=_bb6;this._checkbox.set("checked",this.selected);this._setSelectedStyle();},_getSelectedAttr:function(){return this.selected;},_setSelectedStyle:function(){if(this.selected){dojo.addClass(this.domNode,"alarm-item-selected");}else{dojo.removeClass(this.domNode,"alarm-item-selected");}}});return _bb4;});},"url:Sage/MainView/ReportMgr/Crystal/templates/ParameterRangeWidget.html":"<table class=\"crystalTableContainer\">\r\n    <colgroup>\r\n        <col style=\"width:1%\" />\r\n        <col style=\"width:44%\" />\r\n        <col style=\"width:10%\" />\r\n        <col style=\"width:1%\" />\r\n        <col style=\"width:44%\" />\r\n    </colgroup>\r\n    <tr data-dojo-attach-point=\"rowStartEndRangeLabels\">\r\n        <td colspan=\"3\">\r\n            <label style=\"font-weight:bold\">${txtStartOfRange}</label>\r\n        </td>\r\n        <td colspan=\"2\">\r\n            <label style=\"font-weight:bold\">${txtEndOfRange}</label>\r\n        </td>\r\n    </tr>\r\n    <tr data-dojo-attach-point=\"rowStartEndRangeValues\">\r\n        <td></td>\r\n        <td>\r\n            <div dojotype=\"dijit.form.FilteringSelect\" data-dojo-attach-point=\"cboStartRangeValues\" style=\"width:90%\"></div>\r\n            <span data-dojo-attach-point=\"errorStartRange\" class=\"display-none\" style=\"color:red\">*</span>\r\n        </td>\r\n        <td colspan=\"2\"></td>\r\n        <td>\r\n            <select dojotype=\"dijit.form.FilteringSelect\" data-dojo-attach-point=\"cboEndRangeValues\" style=\"width:90%\"></select>\r\n            <span data-dojo-attach-point=\"errorEndRange\" class=\"display-none\" style=\"color:red\">*</span>\r\n        </td>\r\n    </tr>\r\n    <tr data-dojo-attach-point=\"rowStartEndOrValue\">\r\n        <td colspan=\"3\">\r\n            <label style=\"font-weight:bold\">${lblOrValue_Caption}</label><br />\r\n        </td>\r\n        <td colspan=\"2\">\r\n            <label style=\"font-weight:bold\">${lblOrValue_Caption}</label><br />\r\n        </td>\r\n    </tr>\r\n    <tr data-dojo-attach-point=\"rowStartEndCustomValue\">\r\n        <td></td>\r\n        <td>\r\n            <div>\r\n                <label>${lblEnterValue_Caption}</label><br />\r\n                <input data-dojo-type=\"dijit.form.TextBox\" type=\"text\" data-dojo-attach-point=\"txtStartCustomValue\" style=\"width:90%\" />\r\n                <span data-dojo-attach-point=\"errorStartCustomValue\" class=\"display-none\" style=\"color:red\">*</span>\r\n            </div>\r\n        </td>\r\n        <td colspan=\"2\"></td>\r\n        <td>\r\n            <div>\r\n                <label style=\"padding-left:3px\">${lblEnterValue_Caption}</label><br />\r\n                <input data-dojo-type=\"dijit.form.TextBox\" type=\"text\" data-dojo-attach-point=\"txtEndCustomValue\" style=\"width:90%\" />\r\n                <span data-dojo-attach-point=\"errorEndCustomValue\" class=\"display-none\" style=\"color:red\">*</span>\r\n            </div>\r\n        </td>\r\n    </tr>\r\n    <tr>\r\n        <td></td>\r\n        <td>\r\n            <input data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"chkIncludeFromRange\" />\r\n            <label>${txtIncludeThisValue}</label>\r\n        </td>\r\n        <td colspan=\"2\"></td>\r\n        <td>\r\n            <input data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"chkIncludeToRange\" />\r\n            <label>${txtIncludeThisValue}</label>\r\n        </td>\r\n    </tr>\r\n    <tr>\r\n        <td></td>\r\n        <td>\r\n            <input data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"chkNoLowerValue\" dojoAttachEvent=\"onChange:_chkNoLowerValue_OnCheck\" />\r\n            <label>${txtNoLowerValue}</label>\r\n        </td>\r\n        <td colspan=\"2\"></td>\r\n        <td>\r\n            <input data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"chkNoUpperValue\" dojoAttachEvent=\"onChange:_chkNoUpperValue_OnCheck\" />\r\n            <label>${txtNoUpperValue}</label>\r\n        </td>\r\n    </tr>\r\n</table>","Sage/Utility/File/nls/LibraryDocument":function(){define("Sage/Utility/File/nls/LibraryDocument",["Sage/LanguageList","dojo/_base/lang"],function(_bb7,lang){var nls={root:{failureNumber:"Failure #${0}: ",percentComplete:"Uploading, please wait...",uploadError:"There was an error attempting to upload one or more files (failed: ${0}; succeeded: ${1}).",invalidContext:"The file(s) cannot be uploaded outside of the Sales Library.",unknownError:"An unknown error occurred uploading a file."}};return lang.mixin(_bb7,nls);});},"Sage/UI/Controls/EntityInfoToolTip":function(){define("Sage/UI/Controls/EntityInfoToolTip",["dijit/Tooltip","Sage/Data/SingleEntrySDataStore","Sage/Utility","dojo/string","dojo/html","dojo/i18n!./nls/EntityInfoToolTip","dojo/_base/lang","dojo/_base/declare"],function(_bb8,_bb9,util,_bba,_bbb,_bbc,lang,_bbd){var _bbe=_bbd("Sage.UI.Controls.EntityInfoToolTip",_bb8,{entityName:"",entityId:"",dataProps:[],include:[],_store:null,_storeOptions:null,constructor:function(_bbf){lang.mixin(this,_bbc);this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.label="Loading...";},open:function(_bc0){if(!this.entityId||this.entityId.trim()===""){this.set("label",this.noInfoText);}else{if(!this._store){if(this.dataProps.length<1){this.dataProps=this._findPredefined(this.entityName);}if(this.dataProps.length<1){this.set("label",this.errorText);return;}this._setupStore();this._fetchData(_bc0);}}this.inherited(arguments);},_setDataPropsAttr:function(_bc1){this._store=false;this.set("label",this.loadingText);this.dataProps=_bc1;},_getDataPropsAttr:function(){return this.dataProps;},_setEntityIdAttr:function(_bc2){this._store=false;this.set("label",(_bc2==="")?this.noInfoText:this.loadingText);this.entityId=_bc2;},_getEntityIdAttr:function(){return this.entityId;},_setupStore:function(){var _bc3=[],sel="",_bc4=[],_bc5={};for(var i=0;i<this.dataProps.length;i++){sel=this.dataProps[i].property;if(sel.indexOf(".")>0){var _bc6=sel.split("."),inc="";for(var p=0;p<_bc6.length-1;p++){inc+=_bc6[p];if(!_bc5[inc]){_bc4.push(inc);_bc5[inc]=true;}inc+="/";}sel=sel.replace(/\./g,"/");}_bc3.push(sel);}var self=this;var _bc7={include:dojo.isArray(this.include)?this.include:[],select:_bc3,resourceKind:self.entityName};if(_bc4.length>0){_bc7["include"]=_bc4;}var _bc8=new _bb9(_bc7);self._storeOptions=_bc7;self._store=_bc8;},_fetchData:function(_bc9){var t=_bc9;this._store.fetch({predicate:"\""+this.entityId+"\"",onComplete:function(data){this.displayResults(data,t);},onError:function(e){this.set("label",this.errorText);},scope:this});},displayResults:function(data,_bca){var html="<table class=\"propertyTip\">";for(var i=0;i<this.dataProps.length;i++){var dp=this.dataProps[i];var val=util.getValue(data,dp.property);if(val){html+=_bba.substitute("<tr><td class=\"caption\">${0}</td><td class=\"value\">${1}</td></tr>",[dp.label,val]);}}html+="</table>";this.set("label",html);this.close();this.open(_bca);},_findPredefined:function(_bcb){switch(_bcb){case "accounts":return [{label:this.mainText||"Main Phone:",property:"MainPhone"},{label:this.faxText||"Fax:",property:"Fax"},{label:this.tollFreeText||"Toll Free",property:"TollFree"},{label:this.urlText||"Web URL",property:"WebAddress"}];case "contacts":return [{label:this.workText||"Work:",property:"WorkPhone"},{label:this.mobileText||"Mobile:",property:"Mobile"},{label:this.faxText||"Fax:",property:"Fax"},{label:this.emailText||"Email:",property:"Email"}];case "leads":return [{label:this.workText||"Work:",property:"WorkPhone"},{label:this.mobileText||"Mobile:",property:"Mobile"},{label:this.faxText||"Fax:",property:"Fax"},{label:this.emailText||"Email:",property:"Email"}];case "tickets":return [{label:this.contactNameText||"Contact:",property:"Contact.Name"},{label:this.phoneText||"Phone:",property:"Contact.WorkPhone"},{label:this.emailText||"Email:",property:"Contact.Email"}];case "opportunities":return [{label:this.accountText||"Account:",property:"Account.AccountName"},{label:this.mainText||"Main Phone:",property:"Account.MainPhone"}];}return [];}});return _bbe;});},"Sage/QuickForms/Design/Editors/TextBoxBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/TextBoxBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dijit/layout/ContentPane","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/TextBoxBasicPropertyEditor"],function(_bcc,lang,_bcd,_bce,_bcf,_bd0,_bd1,_bd2,_bd3,_bd4,_bd5,_bd6){return _bcc("Sage.QuickForms.Design.Editors.TextBoxBasicPropertyEditor",[_bce,_bd4,_bd3],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.linesTooltipText %}\">","<label>{%= $.linesText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_lines\" data-dojo-props=\"constraints:{min:0,max:1000,places:0}\" data-dojo-attach-event=\"onChange:_onLinesChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.toolTipTooltipText %}\">","<label>{%= $.toolTipText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_toolTip\" data-dojo-attach-event=\"onChange:_onToolTipChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.isReadOnlyTooltipText %}\">","<label>{%= $.isReadOnlyText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_isReadOnly\" data-dojo-attach-event=\"onChange:_onIsReadOnlyChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_lines:null,_isReadOnly:null,_tooltip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",linesText:"Lines:",linesTooltipText:"Number of lines of text displayed.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_bd6);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._lines.set("value",this._designer.get("lines"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));var D=Sage.QuickForms.Design,_bd7=this._designer;if(_bd7 instanceof D.PhoneControlDesigner||_bd7 instanceof D.UrlControlDesigner||_bd7 instanceof D.EmailControlDesigner){_bcd.set(this._lines.domNode.parentNode,"display","none");}},_onCaptionChange:function(_bd8){if(this.isSuspended()){return;}this._designer.set("caption",_bd8);},_onCaptionAlignmentChange:function(_bd9){if(this.isSuspended()){return;}this._designer.set("captionAlignment",_bd9);},_onLinesChange:function(_bda){if(this.isSuspended()||!this._lines.isValid()){return;}this._designer.set("lines",_bda);},_onIsReadOnlyChange:function(_bdb){if(this.isSuspended()){return;}this._designer.set("isReadOnly",_bdb);},_onToolTipChange:function(_bdc){if(this.isSuspended()){return;}this._designer.set("toolTip",_bdc);}});});},"Sage/MainView/ActivityMgr/AttendeeLookup/nls/SpeedSearchLookup":function(){define("Sage/MainView/ActivityMgr/AttendeeLookup/nls/SpeedSearchLookup",["Sage/LanguageList","dojo/_base/lang"],function(_bdd,lang){var nls={root:{dialogTitle:"Lookup Participants",okText:"Add Selected",cancelText:"Close",noDataText:"No records match the selection criteria",srchBtnCaption:"Search",colName:"Name",colType:"Type",colAccount:"Company/Account",colTitle:"Title",colEmail:"Email",colWorkPhone:"Work Phone"}};return lang.mixin(_bdd,nls);});},"Sage/QuickForms/Design/Editors/DataGridAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/DataGridAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/DataGridAdvancedPropertyEditor"],function(_bde,lang,_bdf,_be0,_be1,_be2,_be3,_be4,_be5,_be6,_be7){return _bde("Sage.QuickForms.Design.Editors.DataGridAdvancedPropertyEditor",[_bdf,_be5,_be4],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.renderVerticalTooltipText %}\">","<label>{%= $.renderVerticalText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_renderVertical\" data-dojo-attach-event=\"onChange:_onRenderVerticalChange\"></div>","</div>","<div class=\"editor-field\" style=\"display:none;\" title=\"{%= $.showSortIconTooltipText %}\">","<label>{%= $.showSortIconText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_showSortIcon\" data-dojo-attach-event=\"onChange:_onShowSortIconChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.emptyTableRowTooltipText %}\">","<label>{%= $.emptyTableRowText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_emptyTableRowString\" data-dojo-attach-event=\"onChange:_onEmptyTableRowStringChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.expandableRowsTooltipText %}\">","<label>{%= $.expandableRowsText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_expandableRows\" data-dojo-attach-event=\"onChange:_onExpandableRowsChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.dataSourceTooltipText %}\">","<label>{%= $.dataSourceText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_dataSource\" data-dojo-attach-event=\"onChange:_onDataSourceChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_controlId:null,_controlType:null,_dataSource:null,_emptyTableRowString:null,_expandableRows:null,_renderVertical:null,_showSortIcon:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",dataSourceText:"Data Source:",dataSourceTooltipText:"Source of the data for this control such as another control or an entity.",emptyTableRowText:"Empty Table Row Text:",emptyTableRowTooltipText:"Text to display if grid shows no data.",expandableRowsText:"Expandable Rows:",expandableRowsTooltipText:"Allows user to expand grid rows to show more text.",renderVerticalText:"Render Vertically:",renderVerticalTooltipText:"Show grid rows as columns.",showSortIconText:"Show Sort Icon:",showSortIconTooltipText:"Show sort icon on columns that are sortable.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",constructor:function(){lang.mixin(this,_be7);},setup:function(){this.inherited(arguments);this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._dataSource.set("value",this._designer.get("dataSource"));this._emptyTableRowString.set("value",this._designer.get("emptyTableRowText"));this._expandableRows.set("value",this._designer.get("expandableRows"));this._renderVertical.set("value",this._designer.get("renderVertical"));this._showSortIcon.set("value",this._designer.get("showSortIcon"));this._visible.set("value",this._designer.get("visible"));},_onControlTypeChange:function(_be8){},_onControlIdChange:function(_be9){},_onDataSourceChange:function(_bea){},_onEmptyTableRowStringChange:function(_beb){if(this.isSuspended()){return;}this._designer.set("emptyTableRowText",_beb);},_onExpandableRowsChange:function(_bec){if(this.isSuspended()){return;}this._designer.set("expandableRows",_bec);},_onRenderVerticalChange:function(_bed){if(this.isSuspended()){return;}this._designer.set("renderVertical",_bed);},_onShowSortIconChange:function(_bee){if(this.isSuspended()){return;}this._designer.set("showSortIcon",_bee);},_onVisibleChange:function(_bef){if(this.isSuspended()){return;}this._designer.set("visible",_bef);}});});},"Sage/UI/Alarms/AlertPane":function(){define("Sage/UI/Alarms/AlertPane",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dojo/_base/declare"],function(_bf0,_bf1,_bf2,_bf3){var _bf4=_bf3("Sage.UI.Alarms.AlertPane",[_bf2,_bf0,_bf1],{widgetsInTemplate:true,constructor:function(){this.alertItems=[];this.alertWidgets=[];this.store=null;this._drawn=false;this.selectedAlerts={};},onShow:function(){},_hasDifferentItems:function(_bf5){if(_bf5.length!==this.alertWidgets.length){return true;}if(this.alertItems.length===_bf5.length){for(var i=0;i<_bf5.length;i++){if(this.alertItems[i]["$key"]!==_bf5[i]["$key"]){return true;}}return false;}return true;},_setAlertItemsAttr:function(_bf6,_bf7){if(!this._hasDifferentItems(_bf6)){return;}this.alertItems=_bf6;this._drawn=false;this.selectedAlerts={};var len=this.alertWidgets.length;for(var i=0;i<len;i++){var wid=this.alertWidgets.pop();if(wid.selected){this.selectedAlerts[wid.key]=1;}wid.destroy();}if(len===0&&this.alertItems.length>0){this.selectedAlerts[this.alertItems[0]["$key"]]=1;}this._drawAlerts();this._alertChanged(this.alertWidgets.length);},_ensureOneSelected:function(){var len=this.alertWidgets.length-1;for(var i=0;i<len;i++){if(this.alertWidgets[i].get("selected")){return;}}if(this.alertWidgets.length>0){this.alertWidgets[0].set("selected",true);}},_drawAlerts:function(){if(this._drawn){return;}dojo.html.set(this._alertContents,"");if(this.alertItems){for(var i=0;i<this.alertItems.length;i++){this._addAlert(this.alertItems[i]);}this._drawn=true;}},getUnhandledAlertCount:function(){return this.alertWidgets.length;},_addAlert:function(_bf8){},closeTooltips:function(){for(var i=0;i<this.alertWidgets.length;i++){this.alertWidgets[i].closeTooltips();}},_alertChanged:function(_bf9){this._ensureOneSelected();this.onAlertChanged(_bf9);},onAlertChanged:function(_bfa){}});return _bf4;});},"Sage/TaskPane/SecuredActionTasklet":function(){define("Sage/TaskPane/SecuredActionTasklet",["dojo/i18n!./nls/SecuredActionTasklet","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneContent","Sage/Utility","dojo/_base/declare"],function(_bfb,_bfc,_bfd,_bfe,_bff){var _c00=_bff("Sage.TaskPane.SecuredActionTasklet",[_bfc,_bfd],{addToRoleTitle:"Add To Role",taskItems:[],constructor:function(){dojo.mixin(this,_bfb);this.taskItems=[{taskId:"AddToRole",type:"Link",displayName:this.addToRoleTitle,clientAction:"securedActionTaskletActions.addSecuredActionToRole();",securedAction:"Entities/SecuredAction/Add"}];},addSecuredActionToRole:function(){if(_bfe.getModeId()==="detail"){dojo.byId([this.clientId,"_tskAddSecuredActionsToRole"].join("")).click();}else{this.prepareSelectedRecords(this.actionItem(this));}},actionItem:function(self){return function(){dojo.byId([self.clientId,"_tskAddSecuredActionsToRole"].join("")).click();};}});return _c00;});},"Sage/MainView/ReportMgr/Crystal/CrystalReportsFormatter":function(){define("Sage/MainView/ReportMgr/Crystal/CrystalReportsFormatter",["dojo/_base/declare","dojo/i18n!./nls/CrystalReportsFormatter","Sage/Reporting/Enumerations","Sage/MainView/ReportMgr/ReportManagerUtility","dojo/date/locale","dojo/string"],function(_c01,_c02,_c03,_c04,_c05,_c06){Sage.namespace("Sage.MainView.ReportMgr.Crystal.CrystalReportsFormatter");dojo.mixin(Sage.MainView.ReportMgr.Crystal.CrystalReportsFormatter,{formatConditionType:function(_c07){return _c03.getReportConditionTypeCaption(_c07);},formatOperator:function(_c08){return _c03.getReportConditionOperatorCaption(_c08);},formatEditCondition:function(_c09,_c0a,cell){return "<a href=javascript:dijit.byId('dlgCrystalReportConditions')._editCondition("+_c0a+")>"+_c02.txtEdit+"</a>";},formatDeleteCondition:function(item){return "<a href=javascript:dijit.byId('dlgCrystalReportConditions')._deleteCondition("+item._id+")>"+_c02.txtDelete+"</a>";},formatConditionValue:function(item){var _c0b=null;var _c0c=null;var _c0d=null;switch(String(item.conditionType)){case String(_c03.ReportConditionType.Group):var _c0e=_c04.getGroup(item.tag);var _c0f=_c0e?_c0e.$descriptor:"";return _c0f;case String(_c03.ReportConditionType.DateRange):if(item.operator===_c03.ReportConditionOperator.IsInTheRange){_c0c=_c05.format(item.fromRange,{selector:"datetime",fullYear:true});_c0d=_c05.format(item.toRange,{selector:"datetime",fullYear:true});_c0b=_c06.substitute(_c02.txtRangeValue,[_c0c,_c0d]);return _c0b;}else{return item.value;}break;case String(_c03.ReportConditionType.User):return item.value;case String(_c03.ReportConditionType.Query):var _c10=item.operator;switch(item.dataType){case _c03.FieldDataTypes.Numeric:if(_c10==_c03.ReportConditionOperator.IsInTheRange){_c0b=_c06.substitute(_c02.txtRangeValue,[item.fromRange,item.toRange]);return _c0b;}else{return item.value;}break;case _c03.FieldDataTypes.DateTime:if(_c10==_c03.ReportConditionOperator.IsInTheRange){_c0c=_c05.format(item.fromRange,{selector:"datetime",fullYear:true});_c0d=_c05.format(item.toRange,{selector:"datetime",fullYear:true});_c0b=_c06.substitute(_c02.txtRangeValue,[_c0c,_c0d]);return _c0b;}else{var _c11=_c05.format(item.value,{selector:"datetime",fullYear:true});return _c11;}break;case _c03.FieldDataTypes.String:return item.value;default:console.error("Unsupported field type: "+item.dataType);}break;default:console.error("Unsupported condition type: "+item.conditionType);}}});return Sage.MainView.ReportMgr.Crystal.CrystalReportsFormatter;});},"Sage/QuickForms/Design/DesignPanel":function(){define("Sage/QuickForms/Design/DesignPanel",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/json","dojo/string","dojo/topic","dojo/dom-construct","dojo/dom-class","dojo/dom-attr","dijit/layout/BorderContainer","dijit/layout/ContentPane","dijit/form/Select","Sage/Services/_ServiceMixin","Sage/_Templated","Sage/Utility","Sage/UI/ImageButton","./Help","./DesignSurface","./FormDesigner","./NonVisibleControlContainer","./PropertyEditorContainer","dojo/i18n!./nls/DesignPanel"],function(_c12,_c13,lang,json,_c14,_c15,_c16,_c17,_c18,_c19,_c1a,_c1b,_c1c,_c1d,_c1e,_c1f,Help,_c20,_c21,_c22,_c23,_c24){return _c12("Sage.QuickForms.Design.DesignPanel",[_c19,_c1c,_c1d],{serviceMap:{"dataService":{type:"sdata",name:"metadata"}},widgetsInTemplate:true,contentTemplate:new Simplate(["<div class=\"design-panel-toolbar\" data-dojo-type=\"dijit.Toolbar\" data-dojo-props=\"region: 'top', align: 'right', splitter: false\">","<span class=\"design-panel-culture-label\">{%: $.cultureText %}</span><div class=\"design-panel-culture\" data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_cultureSelect\" data-dojo-attach-event=\"onChange:_onCultureChange\"></div>","<div data-dojo-type=\"Sage.UI.ImageButton\" icon=\"images/icons/Save_16x16.gif\" tooltip=\"{%: $.saveText %}\" data-dojo-attach-point=\"saveIcon\" data-dojo-attach-event=\"onClick:save\" class=\"design-panel-save\"></div>","<div data-dojo-type=\"Sage.UI.ImageButton\" icon=\"images/icons/Help_16x16.png\" tooltip=\"{%: $.helpText %}\" data-dojo-attach-event=\"onClick:help\" class=\"design-panel-help\"></div>","</div>","<div class=\"design-panel-surface\" data-dojo-type=\"Sage.QuickForms.Design.DesignSurface\"  data-dojo-attach-point=\"designSurface\" data-dojo-props=\"region: 'center'\"></div>","<div class=\"design-panel-hidden\" data-dojo-type=\"Sage.QuickForms.Design.NonVisibleControlContainer\" data-dojo-attach-point=\"nonVisibleContainer\" data-dojo-props=\"region: 'bottom', layoutPriority:2, splitter: true\"></div>","<div class=\"design-panel-editor\" data-dojo-type=\"Sage.QuickForms.Design.PropertyEditorContainer\" data-dojo-attach-point=\"editorContainer\" data-dojo-props=\"region: 'bottom', layoutPriority:1, splitter: true\"></div>"]),loadingTemplate:new Simplate(["<div class=\"design-panel-loading-indicator\"><span>{%: $.loadingText %}</span></div>"]),savingTemplate:new Simplate(["<div class=\"design-panel-saving-indicator\"><span>{%: $.savingText %}</span></div>"]),_designGroup:null,_designGroupTopics:null,_cultureSelect:null,_previousName:null,_previousEntry:null,currentCulture:"iv",designSurface:null,nonVisibleContainer:null,editorContainer:null,form:null,formDirty:false,helpTopicName:"Working_with_forms",helpSubSystemName:"WebForms",designGroup:"default",_saveMode:false,cultureList:["iv","de-DE","fr-FR","it-IT","ru-RU"],cultureListText:{"iv":"[invariant]","de_DE":"de-DE","fr_FR":"fr-FR","it_IT":"it-IT","ru_RU":"ru-RU"},helpText:"Help",saveText:"Save",cultureText:"Culture:",loadingText:"Loading...",savingText:"Saving...",saveErrorText:"An error occurred saving the form.",readErrorText:"Could not load the requested form.",cultureReloadConfirmText:"You have unsaved changes.  Are you sure you want to reload the form with a different culture?",constructor:function(){lang.mixin(this,_c24);},_getDesignGroupAttr:function(){return this._designGroup;},_setDesignGroupAttr:function(_c25){if(this._designGroupTopics){_c13.forEach(this._designGroupTopics,function(_c26){this.unsubscribe(_c26);},this);}this._designGroup=_c25;this._designGroupTopics=[this.subscribe("/quickforms/design/designerModified",this._onDesignerModified)];},_ignoreModifiedOn:{"focused":true},_onDesignerModified:function(_c27,name,_c28,_c29,_c2a){if(!this._ignoreModifiedOn[name]&&_c27.get("form")===this.form){this.formDirty=true;}},buildRendering:function(){this.inherited(arguments);_c17.add(this.domNode,"design-panel");_c16.place(this.loadingTemplate.apply(this),this.designSurface.domNode);_c16.place(this.savingTemplate.apply(this),this.designSurface.domNode);},startup:function(){this.inherited(arguments);_c13.forEach(this.cultureList,function(item){this._cultureSelect.addOption({value:item,label:this.cultureListText[item.replace("-","_")]||item,selected:item==this.currentCulture});},this);},_onCultureChange:function(_c2b){if(this.currentCulture===_c2b){return;}if(this.form&&this.formDirty){if(!confirm(this.cultureReloadConfirmText)){this._cultureSelect._onChangeActive=false;this._cultureSelect.set("value",this.currentCulture);this._cultureSelect._onChangeActive=true;return;}}this.currentCulture=_c2b;if(this._previousName){this.read(this._previousName);}else{if(this._previousEntry){this.load(this._previousEntry);}}},help:function(){Help.open(this.helpTopicName,this.helpSubSystemName);},save:function(){if(this._saveMode){return;}this._saveMode=true;var _c2c=new Sage.SData.Client.SDataSingleResourceRequest(this.dataService).setResourceKind("forms").setResourceSelector(_c14.substitute("\"${0}\"",[this.form.get("name")])).setQueryArg("language",this.currentCulture!="iv"?this.currentCulture:"");var _c2d=lang.clone(this.form.get("entry"));_c2d["$etag"]=_c2d["etag"];delete _c2d["etag"];delete _c2d["ifMatch"];delete _c2d["httpStatus"];this._showSavingIndicator();_c2c.update(_c2d,{success:lang.hitch(this,this._onSaveFormSuccess,this.form),failure:lang.hitch(this,this._onSaveFormFailure,this.form)});},_onSaveFormSuccess:function(form,_c2e){this._hideSavingIndicator();this._saveMode=false;form.set("etag",_c2e["etag"]);this.formDirty=false;},_onSaveFormFailure:function(form,xhr){this._hideSavingIndicator();this._saveMode=false;alert(this.saveErrorText);},_showLoadingIndicator:function(){_c17.add(this.domNode,"design-panel-loading");},_showSavingIndicator:function(){_c18.set(this.saveIcon,"disabled",true);_c17.add(this.domNode,"design-panel-saving");},_hideLoadingIndicator:function(){_c17.remove(this.domNode,"design-panel-loading");},_hideSavingIndicator:function(){_c17.remove(this.domNode,"design-panel-saving");_c18.set(this.saveIcon,"disabled",false);},read:function(form){this.clear();this._previousName=form;this._previousEntry=null;var _c2f=new Sage.SData.Client.SDataSingleResourceRequest(this.dataService).setResourceKind("forms").setResourceSelector(_c14.substitute("\"${0}\"",[form])).setQueryArg("language",this.currentCulture!="iv"?this.currentCulture:"");this._showLoadingIndicator();_c2f.read({success:lang.hitch(this,this._onRequestFormSuccess),failure:lang.hitch(this,this._onRequestFormFailure)});},_onRequestFormSuccess:function(_c30){this._hideLoadingIndicator();this._apply(_c30);},_onRequestFormFailure:function(xhr){this._hideLoadingIndicator();alert(this.readErrorText);},clear:function(){_c15.publish(_c14.substitute("/quickforms/design/${0}/clear",[this._designGroup]),this);this.designSurface.clear();this.nonVisibleContainer.clear();this.editorContainer.clear();if(this.form){this.form.destroy();}this.form=null;this.formDirty=false;},load:function(_c31){this.clear();this._previousName=null;this._previousEntry=_c31;this._apply(_c31);},_apply:function(_c32){this.original=_c32;this.form=new _c21({entry:lang.clone(_c32)});this.designSurface.set("form",this.form);_c13.forEach(this.form.get("controls"),function(_c33){if(_c33.designSupport&&_c33.designSupport.visible){this.designSurface.addChild(_c33);}else{this.nonVisibleContainer.addChild(_c33);}},this);this.designSurface.layout();this.nonVisibleContainer.layout();_c15.publish(_c14.substitute("/quickforms/design/${0}/load",[this._designGroup]),_c32,this);_c15.publish(_c14.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),this.form,false,this);}});});},"Sage/Services/SelectionContextService":function(){define("Sage/Services/SelectionContextService",["dojo/_base/declare"],function(_c34){var _c35=_c34("Sage.Services.SelectionContextService",null,{_url:"",constructor:function(){this._url="slxdata.ashx/slx/crm/-/SelectionService";},getSelectionInfo:function(key,_c36){if(typeof key==="undefined"||key===null){key="";}dojo.xhrGet({url:this._url,handleAs:"json",load:function(data){_c36(data);},error:function(_c37,_c38,_c39){}});},getSelectedIds:function(_c3a,_c3b){dojo.xhrGet({url:this._url,handleAs:"json",load:function(data){_c3b(data);},error:function(_c3c,_c3d,_c3e){}});},setSelectionContext:function(key,_c3f,_c40){dojo.xhrPost({url:dojo.string.substitute("${0}/SetSelectionContext?key=${1}",[this._url,key]),handleAs:"json",load:function(data){_c40(data);},error:function(_c41,_c42,_c43){_c40(_c43);},postData:dojo.toJson(_c3f)});}});Sage.Services.addService("SelectionContextService",new Sage.Services.SelectionContextService());return _c35;});},"Sage/Extensions/Activity/ActivityListCustomTabs/CustomTabsConfig":function(){define("Sage/Extensions/Activity/ActivityListCustomTabs/CustomTabsConfig",[],function(){return {};});},"Sage/UI/_DialogLoadingMixin":function(){define("Sage/UI/_DialogLoadingMixin",["dojo/_base/declare","dojox/widget/Standby"],function(_c44,_c45){return _c44("Sage.UI._DialogLoadingMixin",null,{_standby:false,showLoading:function(){if(!this._standby&&this.domNode){var _c46=this.domNode;if(this.containerNode){_c46=this.containerNode;}this._standby=new _c45({target:_c46,color:"white",image:"images/loader_lg.gif",duration:50});document.body.appendChild(this._standby.domNode);this._standby.startup();}var self=this;window.setTimeout(function(){self._standby.show();},0);},hideLoading:function(){var self=this;window.setTimeout(function(){if(self._standby){self._standby.hide();}},1);}});});},"Sage/MainView/JobMgr/SDataSummaryFormatterScope":function(){define("Sage/MainView/JobMgr/SDataSummaryFormatterScope",["Sage/UI/SummaryContainer","dojo/i18n","Sage/UI/SummaryFormatterScope","Sage/MainView/JobMgr/SDataDetailViewDataManager","Sage/UI/Controls/SummaryAggregate","dojo/_base/declare"],function(_c47,i18n,_c48,_c49,_c4a,_c4b){var _c4c=_c4b("Sage.MainView.JobMgr.SDataSummaryFormatterScope",[_c48],{constructor:function(args){dojo.mixin(this,args);this.widgets=[];this.preFetchResources();this._setupDataManager();},_setupDataManager:function(){this.dataManager=new _c49(this.requestConfiguration);if(Sage.Services.hasService("SummaryViewDataManager")){Sage.Services.removeService("SummaryViewDataManager");}Sage.Services.addService("SummaryViewDataManager",this.dataManager);}});return _c4c;});},"Sage/UI/nls/ConditionManager":function(){define("Sage/UI/nls/ConditionManager",["Sage/LanguageList","dojo/_base/lang"],function(_c4d,lang){var nls={root:{addimgalttext:"Add Condition",hideimgalttext:"Remove Condition",addrowlabel:"Lookup by:",hiderowlabel:"And:",srchBtnCaption:"Search",errorOperatorRequiresValue:"The operator requires a value",startingWith:"Starting With",endsWith:"Ends With",contains:"Contains",equalTo:"Equal to",notEqualTo:"Not Equal to",equalOrLessThan:"Equal or Less than",equalOrGreaterThan:"Equal or Greater than",lessThan:"Less than",greaterThan:"Greater than"}};return lang.mixin(_c4d,nls);});},"Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase":function(){define("Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase",["dojo/_base/declare","dojo/_base/array","dojo/number","dijit/_Widget","Sage/_Templated","Sage/Utility","Sage/Reporting/Enumerations","dojo/i18n!./nls/_ParameterEditorBase","Sage/UI/TransferBoxWidget","Sage/UI/TransferBoxWidgetEnumerations","dojo/store/Memory","dojo/store/Observable","dojo/date/locale","Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility","dojo/string"],function(_c4e,_c4f,_c50,_c51,_c52,_c53,_c54,_c55,_c56,_c57,_c58,_c59,_c5a,_c5b,_c5c){var _c5d=_c4e("Sage.MainView.ReportMgr.Crystal._ParameterEditorBase",[_c51,_c52],{widgetsInTemplate:true,_promptParameter:null,_values:null,_initialValues:null,_initialCustomValues:null,_initialIds:null,_allowCustomValues:false,_minimum:null,_maximum:null,_paramDiscreteType:false,_paramDiscreteAndRangeType:false,_paramRangeType:false,_showDescriptionAndValue:false,constructor:function(_c5e){dojo.mixin(this,_c55);this._values=[];this._initialValues=[];this._initialCustomValues=[];this._initialIds=[];this._promptParameter=_c5e;this._initializeParameterProperties();this._getParameterDataTypes();},isValid:function(){return true;},valueWithinMinMaxRange:function(_c5f){if(this._minimum&&(_c5f<this._minimum)){return false;}if(this._maximum&&(_c5f>this._maximum)){return false;}return true;},ensureNewSelectedValue:function(_c60,_c61){var _c62=true;dojo.some(_c60,function(_c63){if(_c63.label===_c61){_c62=false;return _c62;}});return _c62;},initializeTransferBoxWidget:function(_c64,_c65){var data=[];var self=this;if(_c65){_c4f.forEach(this._values,function(_c66,i){data[i]={id:_c66._id,value:_c66.value?_c66.value:_c66.description,displayValue:_c66.description,__selected:false};});}var _c67=_c59(new _c58({identifier:"id",data:data}));this.transferBox=new _c56({store:_c67,sortAttribute:"id",filterProperty:"value",useFilterTypeAhead:true,selectionMode:this.allowMultiValue?_c57.SelectionMode.Extended:_c57.SelectionMode.Single},"transferBox");if(_c65){_c4f.forEach(this._initialIds,function(_c68,i){self.transferBox.addSelectedItem(_c68);});}else{_c4f.forEach(this._initialIds,function(_c69,i){_c4f.some(self._values,function(_c6a,i){if(_c69===_c6a._id){var item={id:_c6a._id,value:_c6a.value?_c6a.value:_c6a.description,displayValue:_c6a.description,__selected:true};self.transferBox.addNewItem(item,false);return true;}});});}_c4f.forEach(this._initialCustomValues,function(_c6b,i){var item={id:_c6b._id,value:_c6b.value?_c6b.value:_c6b.description,displayValue:_c6b.description?_c6b.description:_c6b.value,__selected:true,destroyOnRemove:false};self.transferBox.addNewItem(item);});this.transferBox.placeAt(_c64);},getOriginalParameterValue:function(_c6c){var _c6d=null;_c4f.some(this._promptParameter.defaultValues,function(_c6e,i){if(_c6e._id==_c6c){_c6d=dojo.clone(_c6e);delete _c6d._id;return true;}});return _c6d;},getMinMaxValidationMessage:function(_c6f){switch(this.parameterValueKind){case _c54.SlxParameterValueKind.NumberParameter:if(this._minimum&&(_c6f<this._minimum)){return dojo.replace(this.txtPleaseSpecifyNumberGreater,[this._minimum]);}if(this._maximum&&(_c6f>this._maximum)){return dojo.replace(this.txtPleaseSpecifyNumberLesser,[this._maximum]);}break;case _c54.SlxParameterValueKind.CurrencyParameter:break;case _c54.SlxParameterValueKind.DateParameter:case _c54.SlxParameterValueKind.DateTimeParameter:if(this._minimum&&(_c6f<this._minimum)){this._validationMsg=dojo.replace(this.txtPleaseSpecifyDateGreater,[_c5b.getDateOnlyFormattedDate(this._minimum)]);}if(this._maximum&&(_c6f>this._maximum)){this._validationMsg=dojo.replace(this.txtPleaseSpecifyDateLesser,[_c5b.getDateOnlyFormattedDate(this._maximum)]);}break;case _c54.SlxParameterValueKind.BooleanParameter:break;default:if(this._minimum&&(_c6f.length<this._minimum)){return dojo.replace(this.txtTheMinimumLengthForThisField,[this._minimum]);}if(this._maximum&&(_c6f.length>this._maximum)){return dojo.replace(this.txtTheMaximumLengthForThisField,[this._maximum]);}}return "";},getMinMaxInitializationMessage:function(){var _c70="";switch(this.parameterValueKind){case _c54.SlxParameterValueKind.NumberParameter:if(this._minimum&&!this._maximum){_c70=dojo.replace(this.txtPleaseSpecifyNumberGreater,[this._minimum]);}if(!this._minimum&&this._maximum){_c70=dojo.replace(this.txtPleaseSpecifyNumberLesser,[this._maximum]);}if(this._minimum&&this._maximum){_c70=dojo.replace(this.txtPleaseSpecifyNumberBetween,[this._minimum,this._maximum]);}break;case _c54.SlxParameterValueKind.CurrencyParameter:break;case _c54.SlxParameterValueKind.DateParameter:case _c54.SlxParameterValueKind.DateTimeParameter:if(this._minimum&&!this._maximum){_c70=dojo.replace(this.txtPleaseSpecifyDateLesser,[_c5b.getDateOnlyFormattedDate(this._minimum)]);}if(!this._minimum&&this._maximum){_c70=dojo.replace(this.txtPleaseSpecifyDateGreater,[_c5b.getDateOnlyFormattedDate(this._maximum)]);}if(this._minimum&&this._maximum){_c70=dojo.replace(this.txtPleaseSpecifyDateBetween,[_c5b.getDateOnlyFormattedDate(this._minimum),_c5b.getDateOnlyFormattedDate(this._maximum)]);}break;case _c54.SlxParameterValueKind.BooleanParameter:break;default:if(this._minimum&&!this._maximum){_c70=dojo.replace(this.txtTheMinimumLengthForThisField,[this._minimum]);}if(!this._minimum&&this._maximum){_c70=dojo.replace(this.txtTheMaximumLengthForThisField,[this._maximum]);}if(this._minimum&&this._maximum){_c70=dojo.replace(this.txtTheValueMustBeBetween,[this._minimum,this._maximum]);}}return _c70;},_initializeParameterProperties:function(){var self=this;this._allowCustomValues=this._promptParameter.allowCustomCurrentValues;this._showDescriptionAndValue=(this._promptParameter.defaultValueDisplayType=="DescriptionAndValue");var _c71=this._promptParameter.parameterValueKind;this._paramDiscreteType=this._promptParameter.valueRangeKind===_c54.SlxParameterValueRangeKind.Discrete;this._paramDiscreteAndRangeType=this._promptParameter.valueRangeKind===_c54.SlxParameterValueRangeKind.DiscreteAndRange;this._paramRangeType=this._promptParameter.valueRangeKind===_c54.SlxParameterValueRangeKind.Range;var _c72=0;if(this._promptParameter.defaultValues){_c4f.forEach(this._promptParameter.defaultValues,function(_c73,i){var _c74=self._getZeroPrefixedId(_c72);_c73._id=_c74;var _c75=(_c73.className===_c54.ParameterClassName.DiscreteValue)?_c73.discreteValue.actualValue:_c73.rangeValue;var _c76=_c73.description;if(self._showDescriptionAndValue&&dojo.isString(_c76)){_c76=_c5c.substitute("${0} - ${1}",[_c75,_c76]);}if(!dojo.isString(_c76)){_c76=_c75;}var _c77=_c71===_c54.SlxParameterValueKind.DateParameter||_c71===_c54.SlxParameterValueKind.DateTimeParameter;var _c78={_id:_c74,value:_c75,description:_c77?self._formatDateTimeDescription(_c76):_c76,parameterClass:_c73.className===_c54.ParameterClassName.DiscreteValue?_c54.SlxParameterValueRangeKind.Discrete:_c54.SlxParameterValueRangeKind.Range};self._values.push(_c78);_c72++;});}var _c79=this._promptParameter.currentValues.length>0?this._promptParameter.currentValues:this._promptParameter.initialValues;if(_c79){_c4f.forEach(_c79,function(_c7a,i){var _c7b=(_c7a.className===_c54.ParameterClassName.DiscreteValue)?_c7a.discreteValue.actualValue:_c7a.rangeValue;var _c7c=_c7a.description;var _c7d=null;if(_c7a.rangeDateValue){_c7d=_c7a.rangeDateValue.split(";");_c7b.beginValue=_c7d[0];_c7b.endValue=_c7d[1];}if(_c7a.discreteDateValue){_c7d=_c7a.discreteDateValue.split(";");_c7b=_c7d[0];}var _c7e={value:_c7b,description:_c7a.description?_c7a.description:_c7b,parameterClass:_c7a.className===_c54.ParameterClassName.DiscreteValue?_c54.SlxParameterValueRangeKind.Discrete:_c54.SlxParameterValueRangeKind.Range};self._initialValues.push(_c7e);});}if(this._initialValues.length>0){_c4f.forEach(this._initialValues,function(_c7f,i){var _c80=false;_c4f.some(self._values,function(_c81,i){if(_c81.value===_c7f.value){self._initialIds.push(_c81._id);_c80=true;return true;}});if(!_c80){self._initialCustomValues.push(_c7f);}});}switch(_c71){case _c54.SlxParameterValueKind.DateParameter:case _c54.SlxParameterValueKind.DateTimeParameter:if(this._promptParameter.minimumValue&&this._promptParameter.minimumValue.discreteValue){this._minimum=_c53.Convert.toDateFromString(this._getDateOnlyIsoString(this._promptParameter.minimumValue.discreteValue.actualValue));}if(this._promptParameter.maximumValue&&this._promptParameter.maximumValue.discreteValue){this._maximum=_c53.Convert.toDateFromString(this._getDateOnlyIsoString(this._promptParameter.maximumValue.discreteValue.actualValue));}break;case _c54.SlxParameterValueKind.NumberParameter:case _c54.SlxParameterValueKind.StringParameter:if(this._promptParameter.minimumValue&&this._promptParameter.minimumValue.discreteValue){this._minimum=_c50.parse(this._promptParameter.minimumValue.discreteValue.actualValue);}if(this._promptParameter.maximumValue&&this._promptParameter.maximumValue.discreteValue){this._maximum=_c50.parse(this._promptParameter.maximumValue.discreteValue.actualValue);}break;}},_formatDateTimeDescription:function(_c82){if(this._promptParameter.parameterValueKind===_c54.SlxParameterValueKind.DateTimeParameter){return _c5a.format(_c53.Convert.toDateFromString(_c82,false),{fullYear:true});}else{return _c5a.format(_c53.Convert.toDateFromString(_c82,false),{fullYear:true,selector:this.displayTime?null:"date"});}},_getParameterDataTypes:function(){var _c83=this._promptParameter.defaultValues;if(_c83&&_c83[0].discreteValue){this._promptParameter.actualValueType=_c83[0].discreteValue.actualValueType;this._promptParameter.valueType=_c83[0].discreteValue.valueType;}else{this._promptParameter.actualValueType=this._getDataType(this._promptParameter.parameterValueKind);this._promptParameter.valueType=this._promptParameter.actualValueType;}if(_c83&&_c83[0].rangeValue){this._promptParameter.beginValueType=_c83[0].rangeValue.beginValueType;this._promptParameter.endValueType=_c83[0].rangeValue.endValueType;}else{this._promptParameter.beginValueType=this._getDataType(this._promptParameter.parameterValueKind);this._promptParameter.endValueType=this._promptParameter.beginValueType;}},_getDataType:function(_c84){switch(_c84){case _c54.SlxParameterValueKind.BooleanParameter:return "Boolean";case _c54.SlxParameterValueKind.CurrencyParameter:case _c54.SlxParameterValueKind.NumberParameter:return "Double";case _c54.SlxParameterValueKind.DateParameter:case _c54.SlxParameterValueKind.DateTimeParameter:case _c54.SlxParameterValueKind.TimeParameter:return "DateTime";case _c54.SlxParameterValueKind.StringParameter:return "String";default:return "String";}},_getStringOfZeros:function(_c85){return Array(_c85+1).join("0");},_getZeroPrefixedId:function(_c86){if(isNaN(_c86)){throw "A non-numeric value was passed to _getZeroPrefixedId";}else{var id=_c86.toString();if(id.length<5){return this._getStringOfZeros(5-id.length)+id;}return id;}},_getValue:function(_c87){var _c88=null;_c4f.some(this._values,function(_c89,i){if(_c89._id==_c87){_c88=dojo.clone(_c89);return true;}});return _c88;},_getSelectionMode:function(){var _c8a="";if(this._promptParameter.allowMultiValue){_c8a="MultiSelect";}else{_c8a="SingleSelect";}if(this._allowCustomValues){_c8a=_c8a+"WithCustom";}else{_c8a=_c8a+"NoCustom";}return _c8a;},_getDateOnlyIsoString:function(_c8b){var _c8c=null;if(_c8b.indexOf("T")!==-1){_c8c=_c8b.split("T")[0];}return _c8c;}});return _c5d;});},"Sage/MainView/JobMgr/ExecutionsListPanelConfig":function(){define("Sage/MainView/JobMgr/ExecutionsListPanelConfig",["Sage/MainView/JobMgr/BaseListPanelConfig","Sage/MainView/JobMgr/SDataSummaryFormatterScope","dojo/_base/declare","dojo/i18n!./nls/ExecutionsListPanelConfig","dojo/_base/lang","Sage/Utility/Jobs","dijit/ProgressBar","dojo/i18n!./templates/nls/ExecutionsListSummary","dojo/i18n!./templates/nls/ExecutionDetailSummary"],function(_c8d,_c8e,_c8f,_c90,_c91,_c92){var _c93=_c8f("Sage.MainView.JobMgr.ExecutionsListPanelConfig",[_c8d],{constructor:function(){_c91.mixin(this,_c90);this._listId="Executions";this._resourceKind="executions";this.entityName="Execution";this._contextMenu="JobManagerListContextMenu";this._currentListContextSubMenu="ExecutionsListContextMenu";this._structure=this._getStructure();this._select=this._getSelect();this._sort=this._getSort();this._where=this._getWhere();this._include=this._getInclude();this._store=this._getStore();this.list=this._getListConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();this.keyField="$key";},_getStructure:function(){var _c94=[{field:"job",name:this.colNameJobName,width:"75px",formatter:_c92.formatJobDescription},{field:"user",name:this.colNameUser,width:"50px",formatter:_c92.formatUser},{field:"phase",name:this.colNamePhase,width:"50px"},{field:"phaseDetail",name:this.colNamePhaseDetail,width:"50px"},{field:"progress",name:this.colNameProgress,width:"50px",formatter:_c92.formatProgress},{field:"elapsed",name:this.colNameElapsed,width:"50px",formatter:_c92.formatElapsedTime},{field:"status",name:this.colNameStatus,width:"50px"},{field:"result",name:this.colNameResult,width:"50px"}];return _c94;},_getSelect:function(){var _c95=["$key","job","trigger","user","phase","phaseDetail","progress","elapsed","status","result"];return _c95;},_getWhere:function(){return "";},_getSort:function(){var sort=[{attribute:"job"}];return sort;},_getInclude:function(){var _c96=["$descriptors"];return _c96;},_getSummaryListRequestConfig:function(){var _c97={resourceKind:this._resourceKind,serviceName:"scheduling",keyField:"$key",select:this._getSelect(),include:this._getInclude(),useBatchRequest:false};return _c97;},_getFormatterScope:function(){var _c98=this._getSummaryListRequestConfig();var _c99=new _c8e({templateLocation:"MainView/JobMgr/templates/ExecutionsListSummary.html",resetDataManager:true,requestConfiguration:_c98});return _c99;},_getSummaryDetailRequestConfig:function(){var _c9a={resourceKind:this._resourceKind,serviceName:"scheduling",keyField:"$key",select:["$key","phase","phaseDetail","progress","elapsed","status","result"],include:["$descriptors"],useBatchRequest:false};return _c9a;},_getDetailConfig:function(){var _c9b=this._getFormatterScope();var _c9c=this._getSummaryDetailRequestConfig();var _c9d={resourceKind:this._resourceKind,requestConfiguration:_c9c,templateLocation:"MainView/JobMgr/templates/ExecutionDetailSummary.html"};return _c9d;},_getToolBars:function(){var _c9e={items:[]};return _c9e;},_getResult:function(){return this._nlsResources.loadingText;}});return _c93;});},"Sage/MainView/JobMgr/templates/nls/SchedulesListSummary":function(){define("Sage/MainView/JobMgr/templates/nls/SchedulesListSummary",["Sage/LanguageList","dojo/_base/lang"],function(_c9f,lang){var nls={root:{}};return lang.mixin(_c9f,nls);});},"Sage/MainView/ActivityMgr/templates/nls/UserActivityListSummary":function(){define("Sage/MainView/ActivityMgr/templates/nls/UserActivityListSummary",["Sage/LanguageList","dojo/_base/lang"],function(_ca0,lang){var nls={root:{txtPhone_Caption:"Phone:",lnkOpportunity_Caption:"Opportunity:",txtStartTime_Caption:"Start Time:",lnkContactName_Caption:"Contact:",lnkLeadName_Caption:"Lead:",lnkTicket_Caption:"Ticket:",txtLocation_Caption:"Location:",txtLeader_Caption:"Leader:",txtDuration_Caption:"Duration:",lnkAccountName_Caption:"Account:",lnkCompanyName_Caption:"Company:",txtNotes_Caption:"Notes:",btnComplete_Caption:"Complete",lnkAttendeeCount_Caption:"Participant Count:"}};return lang.mixin(_ca0,nls);});},"Sage/UI/Dashboard/nls/WidgetDefinition":function(){define("Sage/UI/Dashboard/nls/WidgetDefinition",["Sage/LanguageList","dojo/_base/lang"],function(_ca1,lang){var nls={root:{defaultWidgetText:"Edit Widget Settings",settingsText:"Settings",viewGroupText:"View Group",Bar_Chart:"Bar Chart",Column_Chart:"Column Chart",Group_List:"Group List",Pie_Chart:"Pie Chart",Funnel_Chart:"Funnel Chart",Line_Chart:"Line Chart",SData_Feed:"SData Feed",Web_Feed:"Web Feed",Website:"Website",Default:"Default",Links:"Link",Recently_Viewed:"Recently Viewed",Todays_Activities:"Today's Activities",Today_s_Activities:"Today's Activities",Welcome:"Welcome",Closing_Opportunities:"Closing Opportunities",Quick_Actions:"Quick Actions",Do_You_Know___:"Do You Know...",All_Leads:"All Leads",My_Notes:"My Notes",Open_Opportunities:"Open Opportunities",My_Top_Opportunities:"My Top Opportunities",My_Pipeline:"My Pipeline",Recent_Lead_Creation_History:"Recent Lead Creation History",My_Activity_trend:"My Activity trend",My_Completed_Activities_by_Type:"My Completed Activities by Type",Active_Campaigns:"Active Campaigns",All_Open_Opportunities:"All Open Opportunities",Top_Opportunities:"Top Opportunities",Open_Defect_Distribution:"Open Defect Distribution",My_Dashboard:"My Dashboard",Sales:"Sales",Group_List_Description:"Displays a list of group records by entity. For example, a group of active campaigns.",Welcome_Description:"Displays an introduction to Saleslogix with a link to the help topic Introducing Saleslogix for Web.",Line_Chart_Description:"Displays data as a series of data points connected by a line. Useful when the data represents many groups or categories.",Bar_Chart_Description:"Displays data as a set of horizontal bars. Useful for comparing several sets of data.",Column_Chart_Description:"Displays data as a set of vertical bars grouped by category. Useful for showing data changes over a period of time or for illustrating comparisons among items.",Funnel_Chart_Description:"Displays data as progressive proportions in a funnel shape. The data is represented as portions of 100%, and there are no axes.",Pie_Chart_Description:"Displays data as proportions of the whole. Each value is calculated as a percentage of the total. This chart has no axes.",Recently_Viewed_Description:"Displays links to recently viewed records with an icon that identifies the type. For example, Account or Contact.",Todays_Activities_Description:"Displays links to your activities for today.",Links_Description:"Displays links you create. For example, to a detail view in Saleslogix or to an external Web site.",SData_Feed_Description:"Displays a web feed using SData (Sage Data) feeds. For example, a feed from your accounting integration or Saleslogix database.",Web_Feed_Description:"Displays RSS or Atom Feed information.",Website_Description:"Displays a website of your choice."}};return lang.mixin(_ca1,nls);});},"Sage/UI/SummaryDetailPane":function(){define("Sage/UI/SummaryDetailPane",["Sage/UI/_DetailPane","Sage/_Templated","Sage/UI/SummaryContainer","dojo/_base/declare"],function(_ca2,_ca3,_ca4,_ca5){var _ca6=_ca5("Sage.UI.SummaryDetailPane",[_ca2,_ca3],{widgetsInTemplate:false,contentNode:null,paneContents:null,attributeMap:{"content":{node:"contentNode",type:"innerHTML"}},widgetTemplate:new Simplate(["<div class=\"EntityCard\">","<div dojoAttachPoint=\"contentNode\"></div>","</div>"]),clear:function(){if(this.paneContents){this.paneContents.destroyRecursive();}},_onSelected:function(_ca7,row,grid){if(!this._configuration){return;}if(this.paneContents){this.paneContents.destroyRecursive();}var _ca8=Sage.Services.getService("ClientGroupContext");var _ca9=_ca8.getContext();var _caa=_ca9.CurrentTableKeyField;if(_caa&&this._configuration.requestConfiguration){if(this._configuration.keyField){_caa=this._configuration.keyField;}var _cab=this._getKeyValue(row,_caa);var _cac=Sage.Services.getService("SummaryViewDataManager");var pane=new _ca4({id:"det_"+_cab,templateLocation:this._configuration.templateLocation});pane.postProcessCallBack=this._configuration.postProcessCallBack;dojo.place(pane.domNode,this.contentNode,"only");this.paneContents=pane;_cac.requestDataNoWait(_cab,pane,this._configuration.requestConfiguration);}else{this.set("content","Please check the configuration for this panel.");}},_getKeyValue:function(data,_cad){var _cae=_cad.split(".");if(_cae.length<2){return data[_cad];}else{return this._getKeyValue(data[_cae[0]],_cae[1]);}}});return _ca6;});},"Sage/Utility/File/AddURLAttachment":function(){define("Sage/Utility/File/AddURLAttachment",["dijit/_Widget","Sage/_Templated","dojo/string","dijit/Dialog","Sage/UI/_DialogLoadingMixin","dojo/_base/lang","Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/MainView/BindingsManager","Sage/Utility/File","Sage/Utility","Sage/Utility/File/Attachment","Sage/UI/Dialogs","dojo/i18n","dojo/i18n!./nls/AddURLAttachment","dojo/_base/declare"],function(_caf,_cb0,_cb1,_cb2,_cb3,_cb4,_cb5,_cb6,_cb7,_cb8,_cb9,_cba,_cbb,i18n,_cbc,_cbd){var _cbe=_cbd("Sage.Utility.File.AddURLAttachment",[_caf,_cb0],{descriptionText:"Description",urlText:"URL",titleText:"Add URL Attachment",okText:"OK",cancelText:"Cancel",requestFailedMsg:"The requested operation could not be completed, please try again later.",urlBlankMsg:"The URL or description property cannot be blank.",attachmentId:"",attachment:false,widgetsInTemplate:true,_bindingMgr:false,_store:false,id:"",widgetTemplate:new Simplate(["<div>","<div dojoType=\"dijit.Dialog\" id=\"addUrlAttachDialog\" title=\"{%= $.titleText %}\" dojoAttachPoint=\"_dialog\">","<div  class=\"attachment-properties-form\">","<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"160\" >","<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.urlText %}\" id=\"{%= $.id %}_tb_Url\" dojoAttachPoint=\"tb_Url\" ></div>","<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.descriptionText %}\" name=\"description\" id=\"{%= $.id %}_tb_Description\" dojoAttachPoint=\"tb_Description\" maxlength=\"128\" ></div>","</div>","<div class=\"general-dialog-actions\">","<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btnOK\" name=\"_btnOK\" dojoAttachPoint=\"_btnOK\" dojoAttachEvent=\"onClick:_okClick\" >{%= $.okText %}</div>","<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btnCancel\" name=\"_btnCancel\" dojoAttachPoint=\"_btnCancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>","</div>","</div>","</div>","</div>"]),postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.Utility.File","AddURLAttachment"));this.inherited(arguments);},show:function(){this._dialog.show();if(!this._dialog._standby){_cb4.mixin(this._dialog,new _cb3());}this._loadData();},hide:function(){this.attachmentId="";this.attachment=false;if(this._dialog._standby){this._dialog.hideLoading();}this._dialog.hide();},_loadData:function(){if(this._dialog._standby){this._dialog.showLoading();}if(!this._store){this._store=new _cb5({include:[],resourceKind:"attachments",service:_cb6.getService("system")});}this._store.newItem({onComplete:this._receiveAttachment,onError:this._requestFail,scope:this});},_receiveAttachment:function(_cbf){if(this._dialog._standby){this._dialog.hideLoading();}this.attachment=_cbf;_cba.getKnownRelationships(this._receiveRelationships,this);},_ensureBindings:function(){if(!this._bindingMgr){this._bindingMgr=new _cb7({defaultBinding:{boundEntity:this.attachment},items:[{boundWidget:this.tb_Description,entityProperty:"description"},{boundWidget:this.tb_Url,entityProperty:"url",onChange:dojo.hitch(this,this._urlChange)}]});}},_bind:function(){if(!this._bindingMgr.boundEntity||(this.attachment.$key!==this._bindingMgr.boundEntity.$key)){this._bindingMgr.setBoundEntity(this.attachment);}else{this._bindingMgr.bind();}if(this._dialog._standby){this._dialog.hideLoading();}},_receiveRelationships:function(rels){this.attachment=_cb4.mixin(this.attachment,rels);this.attachment.user={"$key":_cb9.getClientContextByKey("userID")||""};this.attachment.attachDate=_cb9.Convert.toIsoStringFromDate(new Date());this._ensureBindings();this._bind();},_urlChange:function(){var desc=this.tb_Description.get("value");if(!desc){var _cc0=this.tb_Url.get("value");if(_cc0){var r=new RegExp(/\.([\w]*)/);var _cc1=r.exec(_cc0);if(_cc1.length>1){this.tb_Description.set("value",_cc1[1]);}}}},_cancelClick:function(){this.hide();},_okClick:function(){if(this._dialog._standby){this._dialog.showLoading();}if((this.attachment.url===null)||(this.attachment.url.trim()==="")){_cbb.showError(this.urlBlankMsg);return;}if((this.attachment.description===null)||(this.attachment.description.trim()==="")){_cbb.showError(this.urlBlankMsg);return;}this._saveAndHide();},_saveAndHide:function(){if(this._dialog._standby){this._dialog.showLoading();}var self=this;window.setTimeout(function(){var _cc2=self.attachment;self._store.saveNewEntity(_cc2,function(_cc3){dojo.publish("/entity/attachment/create",_cc3);this.hide();},self._requestFail,self);},10);},_requestFail:function(req){_cbb.showError(this.requestFailedMsg);this.hide();}});return _cbe;});},"Sage/QuickForms/Design/Editors/ColumnBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/ColumnBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dojox/layout/ContentPane","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/ColumnBasicPropertyEditor"],function(_cc4,lang,_cc5,_cc6,_cc7,_cc8,_cc9,_cca,_ccb,_ccc,_ccd){return _cc4("Sage.QuickForms.Design.Editors.ColumnBasicPropertyEditor",[_cc5,_ccb,_cca],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.indexTooltipText %}\">","<label>{%= $.indexText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_index\" data-dojo-attach-event=\"onChange:_onIndexChange\" data-dojo-props=\"disabled:true\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.widthTooltipText %}\">","<label>{%= $.widthText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_width\" data-dojo-attach-event=\"onChange:_onWidthChange\" required=\"true\" data-dojo-props=\"constraints:{min:0}\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.sizeTypeTooltipText %}\">","<label>{%= $.sizeTypeText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_sizeType\" data-dojo-attach-event=\"onChange:_onSizeTypeChange\">","{% for (var type in $.rowSizeTypeText) { %}","<span value=\"{%= type %}\">{%= $.rowSizeTypeText[type] %}</span>","{% } %}","</div>","</div>","</div>","</fieldset>"]),_index:null,_width:null,_sizeType:null,titleText:"Basic",appearanceText:"Appearance",indexText:"Index:",indexTooltipText:"Number of the row or column, beginning with zero.",widthText:"Width:",widthTooltipText:"Width of this column of controls.",sizeTypeText:"Size Type:",sizeTypeTooltipText:"Method of sizing: Absolute, AutoSize, or Percent.",rowSizeTypeText:{"Absolute":"Absolute","Percent":"Percent","AutoSize":"AutoSize"},constructor:function(){lang.mixin(this,_ccd);},setup:function(){this.inherited(arguments);this._index.set("value",this._designer.get("index"));this._width.set("value",this._designer.get("width"));this._sizeType.set("value",this._designer.get("sizeType"));},_onWidthChange:function(_cce){if(this.isSuspended()){return;}this._designer.set("width",_cce);},_onSizeTypeChange:function(_ccf){if(this.isSuspended()){return;}this._designer.set("sizeType",_ccf);},_onIndexChange:function(_cd0){if(this.isSuspended()){return;}this._designer.set("index",_cd0);}});});},"Sage/MainView/ActivityMgr/templates/nls/AllOpenListSummary":function(){define("Sage/MainView/ActivityMgr/templates/nls/AllOpenListSummary",["Sage/LanguageList","dojo/_base/lang"],function(_cd1,lang){var nls={root:{txtPhone_Caption:"Phone:",lnkOpportunity_Caption:"Opportunity:",txtStartTime_Caption:"Start Time:",lnkContactName_Caption:"Contact:",lnkLeadName_Caption:"Lead:",lnkTicket_Caption:"Ticket:",txtLocation_Caption:"Location:",txtLeader_Caption:"Leader:",txtDuration_Caption:"Duration:",lnkAccountName_Caption:"Account:",lnkCompanyName_Caption:"Company:",txtNotes_Caption:"Notes:",btnComplete_Caption:"Complete",lnkAttendeeCount_Caption:"Participant Count:"}};return lang.mixin(_cd1,nls);});},"Sage/UI/nls/SearchConditionWidget":function(){define("Sage/UI/nls/SearchConditionWidget",["Sage/LanguageList","dojo/_base/lang"],function(_cd2,lang){var nls={root:{trueText:"True",falseText:"False",networkText:"Network",remoteText:"Remote",webText:"Web",webViewerText:"Web Viewer",concurrentText:"Concurrent",retiredText:"Retired",templateText:"Template",addonText:"Addon",adminText:"Admin",userText:"User",teamText:"Team",departmentText:"Department",systemText:"System"}};return lang.mixin(_cd2,nls);});},"Sage/QuickForms/Design/UserControlDesigner":function(){define("Sage/QuickForms/Design/UserControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/UserBasicPropertyEditor","./Editors/UserAdvancedPropertyEditor","dojo/i18n!./nls/UserControlDesigner"],function(_cd3,_cd4,lang,_cd5,_cd6,_cd7,_cd8,_cd9,_cda,_cdb,_cdc){return _cd3("Sage.QuickForms.Design.UserControlDesigner",[_cd6,_cd7,_cd5,_cd8],{designSupport:{visible:true},editors:[_cda,_cdb,_cd9],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %}\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","<div class=\"{%= $.fieldClass %}-icon\"></div>","</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-user",helpTopicName:"User_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXUser, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"User",constructor:function(){lang.mixin(this,_cdc);},_setCaptionAttr:function(_cdd){this.inherited(arguments);this.set("designCaption",_cdd);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_cde){return (_cde["ControlItemName"]=="LookupResultValue");});},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(_cdf){lang.setObject("ControlLabelPlacement",_cdf,this.entry);},_getRequiredAttr:function(){return lang.getObject("Required",false,this.entry);},_setRequiredAttr:function(_ce0){lang.setObject("Required",_ce0,this.entry);},_getLookupBindingModeAttr:function(){return lang.getObject("LookupBindingMode",false,this.entry);},_setLookupBindingModeAttr:function(_ce1){lang.setObject("LookupBindingMode",_ce1,this.entry);},setupFor:function(_ce2){this.inherited(arguments);this.set("lookupBindingMode","Object");this.set("required",false);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"LookupResultValue",DataItemName:_ce2.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:"null"}]);this.set("designBinding",_ce2.propertyPath||"");},startup:function(){this.inherited(arguments);var _ce3=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_ce3&&_ce3["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/UI/SearchConditionWidget":function(){define("Sage/UI/SearchConditionWidget",["dojo/parser","dojo/i18n","dojo/_base/lang","dojo/has","dojo/_base/array","dijit/_Widget","dijit/form/Button","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/DateTextBox","Sage/_Templated","Sage/UI/ImageButton","Sage/UI/Controls/DropDownSelectPickList","Sage/UI/Controls/DropDownSelectUser","Sage/UI/Controls/Phone","dojo/i18n!./nls/SearchConditionWidget","dojo/_base/declare"],function(_ce4,i18n,lang,has,_ce5,_ce6,_ce7,_ce8,_ce9,_cea,_ceb,_cec,_ced,_cee,_cef,_cf0,_cf1,_cf2){var _cf3=_cf2("Sage.UI.SearchConditionWidget",[_ce6,_cec],{widgetsInTemplate:true,isFirstCondition:false,conditionManager:false,label:"",defaultOperator:null,defaultField:null,defaultValue:null,id:"",_valueBox:null,visible:true,_loaded:false,trueText:"true",falseText:"false",networkText:"Network",remoteText:"Remote",webText:"Web",webViewerText:"Web Viewer",concurrentText:"Concurrent",retiredText:"Retired",templateText:"Template",addonText:"Addon",adminText:"Admin",userText:"User",teamText:"Team",departmentText:"Department",systemText:"System",propertyTypeHandler:{},widgetTemplate:new Simplate(["<div id=\"{%= $.id %}\" class=\"lookup-condition-row\" dojoAttachPoint=\"_conditionRow\">","<label class=\"slxlabel lookupLabel\">","{%= $.label %}","</label>","<select id=\"{%= $.id %}_fieldName\" name=\"{%= $.id %}_fieldName\" dojoAttachPoint=\"_fieldNameSelect\" data-dojo-type=\"dijit.form.Select\" style=\"width:150px\">","{% for (var i=0; i < $.conditionManager.fields.length;i++) { %}","<option id=\"{%= $.id %}_fieldOption{%= i %}\" value=\"{%= $.conditionManager.fields[i][$.conditionManager.fieldNameProperty] %}\">{%= $.conditionManager.fields[i][$.conditionManager.fieldDisplayNameProperty] %}</option>","{% } %}","</select>","<select id=\"{%= $.id %}_operators\" name=\"{%= $.id %}_operators\" dojoAttachPoint=\"_operatorSelect\" data-dojo-type=\"dijit.form.Select\" style=\"width:130px\">","</select>","<div style=\"display: inline;\" class=\"searchConditionInput\" dojoAttachPoint=\"_inputWidgetPlaceHolder\"></div>","<div class=\"conditionButton\">","{% if ( $.isFirstCondition ) { %}","<div id=\"{%= $.id %}-AddImageButton\" data-dojo-type=\"Sage.UI.ImageButton\" icon=\"{%= $.conditionManager.addimgurl %}\" tooltip=\"{%= $.conditionManager.addimgalttext %}\" dojoAttachPoint=\"_addConditionButton\" dojoAttachEvent=\"onClick:_addLookupCondition\"></div>","{% } else { %}","<div id=\"{%= $.id %}-RemoveImageButton\" data-dojo-type=\"Sage.UI.ImageButton\" icon=\"{%= $.conditionManager.hideimgurl %}\" tooltip=\"{%= $.conditionManager.hideimgalttext %}\" dojoAttachPoint=\"_removeConditionButton\" dojoAttachEvent=\"onClick:_removeLookupCondition\"></div>","{% } %}","</div>","</div>"]),constructor:function(_cf4){if(_cf1){this.trueText=_cf1.trueText;this.falseText=_cf1.falseText;this.networkText=_cf1.networkText;this.remoteText=_cf1.remoteText;this.webText=_cf1.webText;this.webViewerText=_cf1.webViewerText;this.concurrentText=_cf1.concurrentText;this.retiredText=_cf1.retiredText;this.templateText=_cf1.templateText;this.addonText=_cf1.addonText;this.adminText=_cf1.adminText;this.userText=_cf1.userText;this.teamText=_cf1.teamText;this.departmentText=_cf1.departmentText;this.systemText=_cf1.systemText;}this.registerTypeHandlers();},registerTypeHandlers:function(){this.propertyTypeHandler["default"]={getValue:function(){var _cf5=this._valueBox.get("value");return _cf5;},getTemplate:function(){return ["<input id=\"{%= $.id %}-TextValue\" data-dojo-type=\"dijit.form.TextBox\" dojoAttachPoint=\"_valueBox\" />"];}};this.propertyTypeHandler["System.Boolean"]={getValue:function(){var _cf6;if(this._valueBox.value==="true"){_cf6=true;}else{_cf6=false;}return _cf6;},getTemplate:function(){return ["<select id=\"{%= $.id %}-SelectValue\" class=\"dijitDropDown\" data-dojo-type=\"dijit.form.Select\" dojoAttachPoint=\"_valueBox\">","<option id=\"{%= $.id %}-BooleanOptionTrue\" value=\"true\">{%= $.trueText %}</option>","<option id=\"{%= $.id %}-BooleanOptionFalse\" value=\"false\">{%= $.falseText %}</option>","</select>"];}};this.propertyTypeHandler["Boolean"]={getValue:function(){var _cf7;if(this._valueBox.value==="true"){_cf7="T";}else{_cf7="F";}return _cf7;},getTemplate:function(){return lang.hitch(this,this.propertyTypeHandler["System.Boolean"].getTemplate)();}};this.propertyTypeHandler["SalesLogix.PickList"]={getValue:function(){return lang.hitch(this,this.propertyTypeHandler["default"].getValue)();},getTemplate:function(){return ["<select id=\"{%= $.id %}-PickValue\" class=\"dijitDropDown\" ","data-dojo-type=\"Sage.UI.Controls.DropDownSelectPickList\" ","dojoAttachPoint=\"_valueBox\" ","pickListName=\"{%= $.pickListName %}\" ","storeMode=\"{%= $.pickListStorageMode %}\" ","style=\"display: inline-block\"","/>"];}};this.propertyTypeHandler["System.DateTime"]={getValue:function(){var _cf8=this._valueBox.value;return _cf8;},getTemplate:function(){return ["<input data-dojo-type=\"dijit.form.DateTextBox\" id=\"{%= $.id %}-Date\" dojoAttachPoint=\"_valueBox\"","/>"];}};this.propertyTypeHandler["DateTime"]=this.propertyTypeHandler["System.DateTime"];this.propertyTypeHandler["Fixed"]={getValue:function(){var _cf9=this._valueBox.get("value");return _cf9;},getTemplate:function(){return ["<input id=\"{%= $.id %}-NumericValue\" data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_valueBox\" constraints=\"{ type: 'decimal' }\" value=\"0\" name=\"{%= $.id %}-NumberValue\" />"];}};this.propertyTypeHandler["Integer"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["Positive Integer"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["Percent"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["Currency"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["System.Int32"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["System.Double"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["System.Decimal"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["System.Int16"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["Phone"]={getValue:function(){var _cfa=this._valueBox.get("unformattedValue");return _cfa;},getTemplate:function(){return ["<input id=\"{%= $.id %}-PhoneValue\" data-dojo-type=\"Sage.UI.Controls.Phone\" shouldPublishMarkDirty=\"false\" dojoAttachPoint=\"_valueBox\" />"];}};this.propertyTypeHandler["User"]={getValue:function(){var _cfb=this._valueBox.get("value");return _cfb;},getTemplate:function(){return ["<select id=\"{%= $.id %}-UserValue\" ","data-dojo-type=\"Sage.UI.Controls.DropDownSelectUser\" ","dojoAttachPoint=\"_valueBox\" ","style=\"display: inline-block;\" ","></select>"];}};this.propertyTypeHandler["Sage.Entity.Interfaces.UserType"]={getValue:function(){var _cfc=parseInt(this._valueBox.get("value"),10);return _cfc;},getTemplate:function(){return ["<select id=\"{%= $.id %}-UserTypeValue\" class=\"dijitDropDown\" data-dojo-type=\"dijit.form.Select\" dojoAttachPoint=\"_valueBox\">","<option id=\"{%= $.id %}-UserTypeOption0\" value=\"0\">{%= $.networkText %}</option>","<option id=\"{%= $.id %}-UserTypeOption1\" value=\"1\">{%= $.remoteText %}</option>","<option id=\"{%= $.id %}-UserTypeOption2\" value=\"2\">{%= $.webText %}</option>","<option id=\"{%= $.id %}-UserTypeOption3\" value=\"3\">{%= $.webViewerText %}</option>","<option id=\"{%= $.id %}-UserTypeOption4\" value=\"4\">{%= $.concurrentText %}</option>","<option id=\"{%= $.id %}-UserTypeOption5\" value=\"5\">{%= $.retiredText %}</option>","<option id=\"{%= $.id %}-UserTypeOption6\" value=\"6\">{%= $.templateText %}</option>","<option id=\"{%= $.id %}-UserTypeOption7\" value=\"7\">{%= $.addonText %}</option>","<option id=\"{%= $.id %}-UserTypeOption8\" value=\"8\">{%= $.adminText %}</option>","</select>"];}};this.propertyTypeHandler["Sage.Entity.Interfaces.OwnerType"]={getValue:function(){var _cfd=parseInt(this._valueBox.get("value"),10);return _cfd;},getTemplate:function(){return ["<select id=\"{%= $.id %}-OwnerTypeValue\" class=\"dijitDropDown\" data-dojo-type=\"dijit.form.Select\" dojoAttachPoint=\"_valueBox\">","<option id=\"{%= $.id %}-OwnerTypeOption0\" value=\"1\">{%= $.userText %}</option>","<option id=\"{%= $.id %}-OwnerTypeOption1\" value=\"2\">{%= $.teamText %}</option>","<option id=\"{%= $.id %}-OwnerTypeOption2\" value=\"3\">{%= $.departmentText %}</option>","<option id=\"{%= $.id %}-OwnerTypeOption3\" value=\"0\">{%= $.systemText %}</option>","</select>"];}};this.propertyTypeHandler["Owner"]=this.propertyTypeHandler["default"];this.propertyTypeHandler["None"]=this.propertyTypeHandler["default"];this.propertyTypeHandler["System.String"]=this.propertyTypeHandler["default"];this.propertyTypeHandler["defaultOperators"]=this.propertyTypeHandler["default"];},postCreate:function(){this.refreshDefaults();if(!this.visible){dojo.style(this._conditionRow,"display","none");}this._fieldNameSelect.on("change",lang.hitch(this,this._fieldChanged));this.inherited(arguments);},getCondition:function(){var _cfe=false;if(this.isValidCondition()){_cfe={fieldname:this._fieldNameSelect.get("value"),operator:this._operatorSelect.get("value"),val:this._getFieldValue()};}return _cfe;},isValidCondition:function(){var val=this._getFieldValue(),_cff=false;if(typeof val==="string"){_cff=(val.trim()!=="");}else{_cff=(val!==null&&val!==undefined);}return _cff;},_getFieldValue:function(){var _d00=this._fieldNameSelect.get("value"),_d01=this._operatorSelect.get("value"),_d02=this._getField(_d00),_d03,_d04,_d05;if(_d02){_d04=this._getFieldPropertyTypeValue(_d02);_d05=this.propertyTypeHandler[_d04];if(typeof _d05==="undefined"){_d05=this.propertyTypeHandler["default"];}_d03=lang.hitch(this,_d05.getValue)();}return _d03;},_renderFieldTemplates:function(){var _d06,_d07,_d08,_d09,val=this._fieldNameSelect.get("value"),_d0a=this._getField(val),_d0b,temp,_d0c;if(_d0a){_d0b=this._getFieldPropertyTypeValue(_d0a);_d0c=this.propertyTypeHandler[_d0b];if(typeof _d0c==="undefined"){_d0c=this.propertyTypeHandler["default"];}_d07=lang.hitch(this,_d0c.getTemplate)();_d08=new Simplate(_d07);temp={};dojo.mixin(temp,this);dojo.mixin(temp,{pickListName:_d0a.pickListName});dojo.mixin(temp,{pickListStorageMode:_d0a.pickListStorageMode});_d09=_d08.apply(temp);if(_d09){dojo.forEach(dijit.findWidgets(this._inputWidgetPlaceHolder),function(wid){wid.destroy();},this);this._inputWidgetPlaceHolder.innerHTML="";dojo.place(_d09,this._inputWidgetPlaceHolder);_ce4.parse(this._inputWidgetPlaceHolder);dojo.forEach(dijit.findWidgets(this._inputWidgetPlaceHolder),function(wid){wid.startup();this._valueBox=wid;dojo.connect(this._valueBox,"onKeyDown",this,"_onKeyDown");},this);}}},uninitialize:function(){if(this._inputWidgetPlaceHolder){dojo.forEach(dijit.findWidgets(this._inputWidgetPlaceHolder),function(wid){wid.destroy();},this);}this.inherited(arguments);},_fieldChanged:function(_d0d){var val=this._fieldNameSelect.get("value"),_d0e=this._getField(val),_d0f,_d10,len,i;if(_d0e){this._renderFieldTemplates();_d0f=this.conditionManager.getOperatorsByField(_d0e);if(_d0f){_d10=this._operatorSelect;len=_d10.options.length;for(i=len-1;i>=0;i--){_d10.removeOption(i);}for(i=0;i<_d0f.length;i++){_d0f[i].selected=false;}_d10.addOption(_d0f);}this._setToDefaultOperator();this._setToDefaultValue();}},_onKeyDown:function(_d11){if(_d11.keyCode===13){this.conditionManager._doSearch();}},_getField:function(_d12){if(this.conditionManager.fieldsHash.hasOwnProperty(_d12)){return this.conditionManager.fieldsHash[_d12];}return false;},_getFieldPropertyTypeValue:function(_d13){if(_d13&&_d13.hasOwnProperty(this.conditionManager.fieldTypeProperty)){return _d13[this.conditionManager.fieldTypeProperty];}return null;},_addLookupCondition:function(){this.onAddLookupCondition();dojo.publish("onAddLookupCondition",this);},onAddLookupCondition:function(){},_removeLookupCondition:function(){this.onRemoveLookupCondition(this);dojo.publish("onRemoveLookupCondition",this);},onRemoveLookupCondition:function(_d14){},_setToDefaultValue:function(){if(!this._isOnDefaultField()){return;}if(this.defaultValue){this._valueBox.set("value",this.defaultValue);}},_setToDefaultField:function(){var i,_d15;if(this.defaultField){_d15=this._fieldNameSelect.getOptions();for(i=0;i<_d15.length;i++){if(_d15[i].value===this.defaultField){this._fieldNameSelect.set("value",_d15[i].value);break;}}}},_setToDefaultOperator:function(){var _d16,j;if(!this._isOnDefaultField()){return;}if(this.defaultOperator&&typeof this.defaultOperator==="string"){_d16=this._operatorSelect.getOptions();for(j=0;j<_d16.length;j++){if(_d16[j].label===this.defaultOperator||_d16[j].value===this.defaultOperator){this._operatorSelect.set("value",_d16[j].value);break;}}}},_isOnDefaultField:function(){var _d17=false,_d18;if(this.defaultField){_d18=this._fieldNameSelect.get("value");_d17=(_d18===this.defaultField);}else{_d17=true;}return _d17;},refreshDefaults:function(){this._setToDefaultField();this._fieldChanged();}});return _cf3;});},"Sage/MainView/ActivityMgr/FilterConfigurationProvider":function(){define("Sage/MainView/ActivityMgr/FilterConfigurationProvider",["Sage/Services/_ServiceMixin","Sage/_ConfigurationProvider","Sage/Utility","Sage/Utility/Activity","Sage/Data/SDataStore","Sage/Services/ActivityService","Sage/MainView/ActivityMgr/ActivityGroupContextService","dijit/registry","dojo/_base/declare","Sage/Utility/Filters","dojo/_base/lang","dojo/json"],function(_d19,_d1a,_d1b,_d1c,_d1d,_d1e,_d1f,_d20,_d21,_d22,lang,json){var _d23=_d21("Sage.MainView.ActivityMgr.FilterConfigurationProvider",[_d1a,_d19],{_configuration:null,_hasLayoutConfiguration:false,_hasFilterHiddenConfiguration:false,_currentUserId:false,serviceMap:{"groupContextService":"ClientGroupContext","metaDataService":{type:"sdata",name:"metadata"},"systemDataService":{type:"sdata",name:"system"}},constructor:function(_d24){this.inherited(arguments);if(this.groupContextService.declaredClass!=="Sage.MainView.ActivityMgr.ActivityGroupContextService"){Sage.Services.removeService("ClientGroupContext");this.groupContextService=new _d1f();Sage.Services.addService("ClientGroupContext",this.groupContextService);}var _d25=Sage.Services.getService("ClientContextService");if(_d25){if(_d25.containsKey("userID")){this._currentUserId=_d25.getValue("userID");}}this._subscribes.push(dojo.subscribe("/group/context/changed",this,this._onGroupContextChanged));},_onGroupContextChanged:function(){this.onConfigurationChange();},onConfigurationChange:function(){},_createConfiguration:function(_d26,_d27){var _d28=this.groupContextService.getCurrentListConfig();this._configuration=_d28.getFilterConfig(this.metaDataService,_d26,_d27);if(!this._configuration){this._configuration={};}this._configuration.getFilterManager=function(){var _d29=_d20.byId("list");return _d29&&_d29.get("filterManager");};this._hasLayoutConfiguration=true;},requestConfiguration:function(_d2a){this._configuration={};this._hasLayoutConfiguration=false;this._hasFilterHiddenConfiguration=false;this._onRequestConfigurationSuccess(_d2a,null);this._getHiddenFilters(_d2a);},_onRequestConfigurationSuccess:function(_d2b,_d2c){this._createConfiguration(_d2c,_d2b);this._callOptionsSuccess(_d2b);},_onRequestConfigurationFailure:function(_d2d,_d2e){if(_d2d.failure){_d2d.failure.call(_d2d.scope||this,_d2e,_d2d,this);}},getFilterFormatter:function(_d2f){if(_d2f){if(_d2f.filterName==="Duration"){return _d1c.formatDuration;}}return false;},ModifyFilterQuery:function(_d30,_d31){var _d32=false;if(_d31){_d32=true;}if(_d30.propertyName==="Activity.Duration"){if(_d32){_d31="("+_d31+") and (Activity.Timeless ne true)";}else{_d31="(Activity.Timeless ne true)";}}else{if(_d30.propertyName==="Duration"){if(_d32){_d31="("+_d31+") and (Timeless ne true)";}else{_d31="(Timeless ne true)";}}}return _d31;},_getHiddenFilters:function(_d33){var key=this._getHiddenFiltersKey();if(key){_d22.getHiddenFilters(key,lang.hitch(this,this._onHiddenFiltersFetchComplete,_d33||{}),function(err){console.error(err);});}},_getHiddenFiltersKey:function(){var key=_d22.getHiddenFiltersKey();return key;},_onHiddenFiltersFetchComplete:function(_d34,_d35){if(_d35&&_d35.response&&_d35.response.value){this._configuration._hiddenFilters=json.parse(_d35.response.value);if(this._configuration._hiddenFilters&&this._configuration._hiddenFilters.constructor===Array){this._configuration._hiddenFilters={};}}this._configuration._hiddenFiltersKey=this._getHiddenFiltersKey();this._hasFilterHiddenConfiguration=true;this._callOptionsSuccess(_d34);},_callOptionsSuccess:function(_d36){if(!this._hasLayoutConfiguration||!this._hasFilterHiddenConfiguration){return;}if(_d36.success){_d36.success.call(_d36.scope||this,this._configuration,_d36,this);this._hasLayoutConfiguration=false;this._hasFilterHiddenConfiguration=false;}}});return _d23;});},"Sage/QuickForms/Design/Editors/nls/GenericBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/GenericBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_d37,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_d37,nls);});},"Sage/MainView/JobMgr/nls/JobManagerActions":function(){define("Sage/MainView/JobMgr/nls/JobManagerActions",["Sage/LanguageList","dojo/_base/lang"],function(_d38,lang){var nls={root:{txtInterruptExecutionMessage:"A signal has been sent to the job to cancel execution.",txtInterruptExecutionTitle:"Cancel Job",txtInterruptExecutionConfirmationMessage:"Are you sure you want to cancel execution of job ${0}?",txtYes:"Yes",txtNo:"No",completedJobMessage:"The selected job has already been completed.",jobStatusComplete:"Complete",error_NoRecordSelected:"You must select a record before continuing.",confirm_ScheduleDeletion:"Are you sure you want to delete the selected schedule?"}};return lang.mixin(_d38,nls);});},"Sage/MainView/ActivityMgr/AttendeeLookup/ContactLookupConfig":function(){define("Sage/MainView/ActivityMgr/AttendeeLookup/ContactLookupConfig",["Sage/MainView/ActivityMgr/AttendeeLookup/BaseLookupConfig","Sage/UI/SDataLookup","dojo/i18n!./nls/ContactLookupConfig","dojo/_base/declare","dojo/_base/lang"],function(_d39,_d3a,_d3b,_d3c,lang){var _d3d=_d3c("Sage.MainView.ActivityMgr.AttendeeLookup.ContactLookupConfig",[_d39],{constructor:function(){lang.mixin(this,_d3b);this.lookupType=_d3a;this._initConfig();},_initConfig:function(){this.id="_contactLookup",this.lookupName="Contact";this.lookupDisplayName="Contact Lookup";this.entityName="Contact";this.dialogTitle=this.dialogTitleText,this.cells=null;this.cells=this.getCells();this.defaultCell={"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""};this.storeOptions={resourceKind:"contacts",select:["LastName","FirstName","Title","Type","Account/$key","Account/AccountName","ContactUser/Userid","Address/Timezone"],sort:[{attribute:"LastName"}]};this.preFilters=[];this.gridOptions={};this.query={};this.displayMode=5;this.isModal=true;this.initialLookup=false;this.seedValue="X";this.seedProperty="Account.Id";},getCells:function(){if(this.cells){return this.cells;}this.cells=[{name:this.colFirstName,field:"FirstName"},{name:this.colLastName,field:"LastName"},{name:this.colTitle,field:"Title"},{name:this.colAccount,field:"AccountName"},{name:this.colWorkPhone,field:"WorkPhone"},{name:this.colEmail,field:"Email"}];return this.cells;},doSelected:function(_d3e){alert("overide the doSelect method");},getConfig:function(uiid){var _d3f={id:this.id+"_base_"+uiid,btnToolTip:"",structure:[{defaultCell:this.defaultCell,cells:this.cells,}],gridOptions:this.gridOptions,displayMode:this.displayMode,storeOptions:this.storeOptions,isModal:this.isModal,initialLookup:this.initialLookup,preFilters:this.preFilters,query:this.query,seedValue:this.seedValue,seedProperty:this.seedProperty,overrideSeedValueOnSearch:true,dialogTitle:this.dialogTitle,dialogButtonText:this.dialogButtonText,doSelected:this.doSelected,cancelText:this.cancelText};return _d3f;},getLookupInstance:function(uiid){var _d40=this.getConfig(uiid);var _d41=new this.lookupType(_d40);return _d41;}});return _d3d;});},"Sage/UI/Columns/RadioGroup":function(){define("Sage/UI/Columns/RadioGroup",["dojox/grid/cells/_base","dojo/_base/declare"],function(_d42,_d43){var _d44=_d43("Sage.UI.Columns.RadioGroup",dojox.grid.cells.AlwaysEdit,{options:null,values:null,labels:[],constructor:function(_d45){this.values=this.values||this.options;if(this.labels&&this.labels.length>0){var _d46=["<table style=\"width:100%\"><tr>"];for(var i=0;i<this.labels.length;i++){_d46.push("<td style=\"text-align: center;\">"+this.labels[i]+"</td>");}this.name=_d46.join("");}},formatEditing:function(_d47,_d48){var _d49=["<table style=\"width:100%\"><tr>"];for(var i=0;i<this.values.length;i++){_d49.push(["<td style=\"text-align: center;\">","<input type=\"radio\""," id=\""+this.values[i]+"_"+_d48+"\""," name=\""+this.field+"_"+_d48+"\""," value=\""+this.values[i]+"\"",_d47===this.values[i]?" checked=\"checked\" />":" />"].join(""));}_d49.push("</tr></table>");return _d49.join("");},doclick:function(e){if(e.target.tagName==="INPUT"){var _d4a=this.grid.edit;_d4a.applyCellEdit(e.target.value,this,e.rowIndex);}}});return _d44;});},"Sage/UI/Columns/Cell":function(){define("Sage/UI/Columns/Cell",["dojox/grid/cells","dojox/grid/cells/dijit","dojo/_base/declare"],function(_d4b,_d4c,_d4d){var _d4e=_d4d("Sage.UI.Columns.Cell",_d4b._Widget,{formatNode:function(_d4f,_d50,_d51){if(!this.widgetClass){return _d50;}var _d52=dijit.byId(this._getControlId());if(!_d52){this.widget=this.createWidget.apply(this,arguments);}else{this.widget=_d52;if(_d52.value!==_d50||this.widget.focusNode.value!==_d50){if(this.widget.focusNode.set){this.widget.focusNode.set("value",_d50);}else{this.widget.set("value",_d50);}}this.attachWidget.apply(this,arguments);}this.sizeWidget.apply(this,arguments);this.grid.views.renormalizeRow(_d51);this.grid.scroller.rowHeightChanged(_d51,true);this.focus();return undefined;},setCurrentItems:function(){this.editInfo=this.grid.edit.info;this.item=this.grid.getItem(this.editInfo.rowIndex);},_getControlId:function(){this.setCurrentItems();return [this.item.$key,this.editInfo.cell.field,this.index].join("_");}});return _d4e;});},"Sage/UI/Columns/UserType":function(){define("Sage/UI/Columns/UserType",["Sage/Utility","dojo/i18n!../nls/UserType","dojo/_base/declare"],function(_d53,_d54,_d55){var _d56=_d55("Sage.UI.Columns.UserType",dojox.grid.cells._Base,{constructor:function(){dojo.mixin(this,_d54);this.inherited(arguments);},formatter:function(val,_d57){var _d58={"W":this.administratorText,"P":this.templateText,"M":this.remoteText,"T":this.webOnlyText,"R":this.retiredText,"C":this.concurrentText,"V":this.webViewerText,"N":this.networkText,"A":this.addOnUserText};return (_d58[val]?_d53.htmlEncode(_d58[val]):val);}});return _d56;});},"Sage/MainView/ActivityMgr/AttendeeLookup/nls/ContactLookupConfig":function(){define("Sage/MainView/ActivityMgr/AttendeeLookup/nls/ContactLookupConfig",["Sage/LanguageList","dojo/_base/lang"],function(_d59,lang){var nls={root:{contactText:"Contact",accountText:"Account",lookupContactText:"Lookup Contact",nameText:"Name",cityText:"City",stateText:"State",workphoneText:"Work Phone",emailText:"Email",dialogButtonText:"Add Selected",cancelText:"Close",colFirstName:"First Name",colLastName:"Last Name",colTitle:"Title",colAccount:"Account",colWorkPhone:"Work Phone",colEmail:"Email",dialogTitleText:"Lookup Contacts"}};return lang.mixin(_d59,nls);});},"Sage/QuickForms/Design/nls/DataSourcePanel":function(){define("Sage/QuickForms/Design/nls/DataSourcePanel",["Sage/LanguageList","dojo/_base/lang"],function(_d5a,lang){var nls={root:{loadingText:"Loading..."}};return lang.mixin(_d5a,nls);});},"Sage/TaskPane/CommonTasksTasklet":function(){define("Sage/TaskPane/CommonTasksTasklet",["dijit/Menu","dijit/Dialog","dijit/form/Button","dijit/form/CheckBox","dijit/registry","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/UI/MenuItem","Sage/UI/Dialogs","Sage/Utility/Email","Sage/Groups/GroupManager","dojo/_base/xhr","dojo/_base/lang","dojo/_base/declare","dojo/string","dojo/i18n!./nls/CommonTasksTasklet","dojo/dom-class","Sage/Utility/Jobs"],function(_d5b,_d5c,_d5d,_d5e,_d5f,_d60,_d61,_d62,_d63,_d64,xhr,lang,_d65,_d66,_d67,_d68,jobs){var _d69=_d65("Sage.TaskPane.CommonTasksTasklet",_d60,{constructor:function(args){lang.mixin(this,_d67);},removeCurrentFromGroup:function(){this.getCurrentEntity();var svc=Sage.Services.getService("ClientGroupContext"),_d6a,_d6b;if(svc!==null){_d6a=svc.getContext();_d6b=_d6a.FirstEntityID;if(_d6b===this.currentEntityId){_d6b=_d6a.NextEntityID;}if(_d6b!==""){if(this.contextService){this.contextService.navigateSLXGroupEntity(_d6b,this.currentEntityId);}}Sage.Groups.GroupManager.removeIds(_d6a.CurrentGroupID,_d6a.CurrentName,_d6a.CurrentFamily,[this.currentEntityId],function(){__doPostBack("MainContent","");},function(err){console.error(err);},this);}},removeSelectionsFromGroup:function(){_d64.removeSelectionsFromGroup();},saveSelectionsAsNewGroup:function(){_d64.saveSelectionsAsNewGroup();},showAdHocList:function(e){var svc=Sage.Services.getService("ClientGroupContext"),i,item,_d6c;if(typeof (GroupAdHocListMenu)==="undefined"){GroupAdHocListMenu=new _d5b({id:"GroupAdHocList"});GroupAdHocListMenu.addChild(new _d61({label:this.loadingText}));}svc.getAdHocGroupList(function(list){GroupAdHocListMenu.destroyDescendants();for(i=0;i<list.length;i++){item=list[i];GroupAdHocListMenu.addChild(new _d61({label:item.$descriptor||item.name,ref:_d66.substitute("javascript:Sage.Groups.GroupManager.addSelectionsToGroup('${0}')",[item.$key]),onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;dijit.popup.close(GroupAdHocListMenu);}catch(err){}}}}));}GroupAdHocListMenu.on("blur",function(){dijit.popup.close(GroupAdHocListMenu);});GroupAdHocListMenu.startup();},this);if(!e.pageX&&!e.pageY){e.pageX=e.clientX+document.body.scrollLeft;e.pageY=e.clientY+document.body.scrollTop;}dijit.popup.open({popup:GroupAdHocListMenu,x:e.pageX||250,y:e.pageY||250});_d6c=GroupAdHocListMenu.domNode.parentNode;if(_d6c&&!_d68.contains(_d6c,"commonTaskAdHoc")){_d68.add(_d6c,"commonTaskAdHoc");}},exportToExcel:function(){this.prepareSelectedRecords(this.triggerExportToExcelJob(this.getSelectionInfo(),this));},triggerExportToExcelJob:function(_d6d,self){return function(){var _d6e=[{"name":"SelectedIds","value":(_d6d.selectionCount>0)?_d6d.selectedIds.join(",")||"":""},{"name":"GroupId","value":self.getCurrentGroupId()}];var _d6f=self.getCurrentGroupName();var _d70=dojo.date.locale.format(new Date(),{selector:"date",datePattern:"yyyy_MM_dd_hhmm"});var user="";var _d71=Sage.Services.getService("ClientContextService");if(_d71){if(_d71.containsKey("userPrettyName")){user=_d71.getValue("userPrettyName");}}var _d72=_d66.substitute("${0}_${1}_${2}",[_d6f,user,_d70]);var _d73={descriptor:_d72,closable:true,title:self.exportToExcel_Caption,key:"Sage.SalesLogix.BusinessRules.Jobs.ExportToExcelJob",parameters:_d6e,infoMessage:self.exportProcessingJobMsg,success:function(_d74){},failure:function(_d75){_d62.showError(dojo.string.substitute(self.errorRequestingJobMgr,[_d75.result]));},ensureZeroFilters:true};jobs.triggerJobAndDisplayProgressDialog(_d73);};},exportToFile:function(){this.getCurrentEntity();this.prepareSelectedRecords(this.fileFormatCheck(this));},fileFormatCheck:function(self){return function(){var _d76=cookie.getCookie("formatIsSaved"),_d77=cookie.getCookie("format");if(_d76==="true"&&_d77.length>0){dojo.byId([self.clientId,"_tskExportToExcel"].join("")).click();}else{self.promptForFileFormat();}};},promptForFileFormat:function(){var self=this,_d78="promptForFileFormat-Dialog",_d79=dijit.byId(_d78);if(!_d79){_d79=new _d5c({id:_d78,title:self.exportToFile_DialogTitle});}_d79.attr("content",this.getPromptForFileFormatTemplate().apply({dialogId:_d78}));_d79.show();},getPromptForFileFormatTemplate:function(){return new Simplate(["<div>","<label style=\"padding-left:5px\">{%= commonTaskActions.selectFileFormat %}</label>","<br />","<div style=\"padding-left:10px; padding-top:7px\">","<input id=\"radioCSV\" name=\"format_type\" type=\"radio\" data-dojo-type=\"dijit.form.RadioButton\" value=\"csv\" checked=\"true\" />{%= commonTaskActions.exportToFile_OptionCSV %}","</div>","<div style=\"padding-left:10px; padding-top:7px\">","<input id=\"radioTab\" name=\"format_type\" type=\"radio\" data-dojo-type=\"dijit.form.RadioButton\" value=\"tab\" />{%= commonTaskActions.exportToFile_OptionTab %}","</div>","<div style=\"padding-left:11px; padding-top:7px\">","<input id=\"exportFormatSaved\" dojoAttachPoint=\"exportFormatSaved\" data-dojo-type=\"dijit.form.CheckBox\" value=\"true\" />{%= commonTaskActions.exportToFile_OptionSaveFormat %}","</div>","<div style=\"padding-right:5px; padding-bottom:5px; text-align:right;\">","<button data-dojo-type=\"dijit.form.Button\" type=\"submit\" class=\"ok-button\" onClick=\"commonTaskActions.onExportToFileClick();\">{%= commonTaskActions.exportToFile_OK %}</button>","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" class=\"cancel-button\" onClick=\"dijit.byId('promptForFileFormat-Dialog').hide();\">{%= commonTaskActions.exportToFile_Cancel %}</button>","</div>","</div>"]);},onExportToFileClick:function(){var _d7a=dojo.byId("exportFormatSaved");var _d7b;if(_d7a!==undefined&&_d7a.checked){document.cookie="formatIsSaved=true; expires=1/01/2020";}if(dojo.byId("radioCSV").checked){_d7b="csv";}else{_d7b="tab";}document.cookie="format="+_d7b+"; expires=1/01/2020";dojo.byId([this.clientId,"_tskExportToExcel"].join("")).click();},emailSend:function(){this.getCurrentEntity();var url="slxdata.ashx/slx/crm/-/namedqueries?columnaliases=email&format=json&hql=";var sHql=this.getURL(this.currentEntityTableName);if(sHql===null){_d62.showError(this.noPrimaryEmail);return;}url=url+sHql;var self=this;dojo.xhrGet({url:url,handleAs:"json",load:function(data){self.sendEmail(data);},error:function(_d7c){_d62.showError(_d7c.StatusText);}});},getURL:function(_d7d){var url=null;switch(_d7d){case "CONTACT":url=dojo.string.substitute("select con.Email from Contact con where con.id like '${0}'",[this.currentEntityId]);break;case "ACCOUNT":url=dojo.string.substitute("select con.Email from Contact as con where con.Account.id like '${0}' and con.IsPrimary like 'T'",[this.currentEntityId]);break;case "OPPORTUNITY":url=dojo.string.substitute("select con.Email from Opportunity as opp left join opp.Contacts as oppCon left join oppCon.Contact as con where opp.id like '${0}' and oppCon.IsPrimary like 'T'",[this.currentEntityId]);break;case "LEAD":url=dojo.string.substitute("select le.Email from Lead le where le.id like '${0}'",[this.currentEntityId]);break;case "CAMPAIGN":url=dojo.string.substitute("select ufo.Email from Campaign as cam left join cam.AccountManager as usr left join usr.UserInfo as ufo where cam.id like '${0}'",[this.currentEntityId]);break;case "TICKET":url=dojo.string.substitute("select ufo.Email from User as usr left join usr.UserInfo as ufo where usr.DefaultOwner in  (select own.id from Ticket as tic left join tic.AssignedTo as own where tic.id like '${0}')",[this.currentEntityId]);break;case "DEFECT":url=dojo.string.substitute("select ufo.Email from User as usr left join usr.UserInfo as ufo where usr.DefaultOwner in (select own.id from Defect as def left join def.AssignedTo as own where def.id like '${0}')",[this.currentEntityId]);break;case "CONTRACT":url=dojo.string.substitute("select con.Email from Contract as crt left join crt.Contact as con where crt.id like '${0}'",[this.currentEntityId]);break;case "SALESORDER":url=dojo.string.substitute("select so.ShippingContact.Email from SalesOrder as so where so.Id eq '${0}'",[this.currentEntityId]);break;case "RMA":url=dojo.string.substitute("select con.Email from Return as ret left join ret.ReturnedBy as con where ret.id like '${0}'",[this.currentEntityId]);break;}return url;},sendEmail:function(_d7e){if(_d7e.count>0){var _d7f=_d7e.items[0].email;if(_d7f){_d7f="mailto:"+_d7f;document.location.href=_d7f;return;}}_d62.showError(this.noPrimaryEmail);},copyUser:function(){var _d80=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"CopyUser",selectionInfoKey:_d80});},copyUserProfile:function(){var _d81=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"CopyUserProfile",selectionInfoKey:_d81});},deleteUsers:function(){var _d82=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"DeleteUsers",selectionInfoKey:_d82});},addToTeam:function(){var _d83=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"AddToTeam",selectionInfoKey:_d83});},removeFromTeam:function(){var _d84=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"RemoveFromTeam",selectionInfoKey:_d84});},removeFromAllTeams:function(){var _d85=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"RemoveFromAllTeams",selectionInfoKey:_d85});},assignRole:function(){var _d86=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"AssignRole",selectionInfoKey:_d86});},replaceTeamMember:function(){var _d87=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"ReplaceTeamMember",selectionInfoKey:_d87});},deleteTeam:function(){var _d88=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"DeleteTeam",selectionInfoKey:_d88});},deleteDepartment:function(){var _d89=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"DeleteDepartment",selectionInfoKey:_d89});},copyTeam:function(){var _d8a=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"CopyTeam",selectionInfoKey:_d8a});},copyDepartment:function(){var _d8b=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"CopyDepartment",selectionInfoKey:_d8b});},showDetailReport:function(){var _d8c=Sage.Services.getService("ReportingService");if(_d8c){_d8c.showDefaultReport();}},writeEmailToGroupSelection:function(){_d63.writeEmailToGroupSelection();}});return _d69;});},"url:Sage/MainView/ReportMgr/Crystal/templates/BooleanParameterEditor.html":"<div>\r\n    <div dojoattachpoint=\"promptParameterContainer\" class=\"crystalParameterContainer\">\r\n        <div dojoattachpoint=\"paramsHeaderContainer\"></div>\r\n        <div>\r\n            <div dojotype=\"dijit.form.FilteringSelect\" data-dojo-attach-point=\"cmbValues\" style=\"width:40%\"></div>\r\n            <span dojoAttachPoint=\"errorInvalidOption\" class=\"display-none\" style=\"color:red\">*</span>\r\n        </div>\r\n        <div dojoattachpoint=\"divValidationMessage\" style=\"color:red\">\r\n            <span dojoattachpoint=\"spanValidationMessage\">&nbsp;</span>\r\n        </div>\r\n    </div>\r\n    <div>\r\n        <br />\r\n    </div>\r\n</div>","Sage/QuickForms/Design/Editors/ComboBoxAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/ComboBoxAdvancedPropertyEditor",["dojo/string","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dojo/store/Memory","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/ComboBoxAdvancedPropertyEditor"],function(_d8d,_d8e,lang,_d8f,_d90,_d91,_d92,_d93,_d94,_d95,_d96,_d97,_d98,_d99){return _d8e("Sage.QuickForms.Design.Editors.ComboBoxAdvancedPropertyEditor",[_d90,_d97,_d96],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlLabelPlacementTooltipText %}\">","<label>{%= $.controlLabelPlacementText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_controlLabelPlacement\" data-dojo-attach-event=\"onChange:_onControlLabelPlacementChange\">","{% for (var placement in $.labelPlacementText) { %}","<span value=\"{%= placement %}\">{%= $.labelPlacementText[placement] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.enabledTooltipText %}\">","<label>{%= $.enabledText %}</label>","<div data-dojo-attach-point=\"_enabled\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onEnabledChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.itemGroupText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.dataSourceTooltipText %}\">","<label>{%= $.dataSourceText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_dataSource\" data-dojo-attach-event=\"onChange:_onDataSourceChange\" data-dojo-props=\"disabled:true\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.itemsTooltipText %}\">","<label>{%= $.itemsText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_items\" data-dojo-attach-event=\"onChange:_onItemsChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.textFieldTooltipText %}\">","<label>{%= $.textFieldText %}</label>","<div data-dojo-type=\"dijit.form.ComboBox\" data-dojo-attach-point=\"_textField\" data-dojo-attach-event=\"onChange:_onTextFieldChange\" data-dojo-props=\"disabled:true\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.valueFieldTooltipText %}\">","<label>{%= $.valueFieldText %}</label>","<div data-dojo-type=\"dijit.form.ComboBox\" data-dojo-attach-point=\"_valueField\" data-dojo-attach-event=\"onChange:_onValueFieldChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.defaultDataBindingTooltipText %}\">","<label>{%= $.defaultDataBindingText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_defaultDataBinding\" data-dojo-attach-event=\"onChange:_onDefaultDataBindingChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_controlId:null,_controlLabelPlacement:null,_controlType:null,_dataSource:null,_defaultDataBinding:null,_enabled:null,_items:null,_textField:null,_valueField:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",itemGroupText:"Items",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",dataSourceText:"Data Source:",dataSourceTooltipText:"Source of the data for this control such as another control or an entity.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",itemsText:"Items:",itemsTooltipText:"Values the user can select.",textFieldText:"Text Field:",textFieldTooltipText:"The name of the data source field used to populate the visible text portion of the list items.",valueFieldText:"Value Field:",valueFieldTooltipText:"The name of the data source field used to populate the value portion of the list items.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},hasItemsText:"Set",noItemsText:"Not Set",constructor:function(){lang.mixin(this,_d99);},setup:function(){this.inherited(arguments);this._controlId.set("value",this._designer.get("controlId"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._controlType.set("value",this._designer.get("controlName"));this._enabled.set("value",this._designer.get("enabled"));this._items.set("value",this._designer.get("hasItems")?this.hasItemsText:this.noItemsText);this._visible.set("value",this._designer.get("visible"));var _d9a=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_d9a&&_d9a["DataItemName"])||"");this.setDataSources();this._dataSource.set("value",this._designer.get("dataSource"));this._textField.set("value",this._designer.get("textField"));this._valueField.set("value",this._designer.get("valueField"));},setDataSources:function(){var _d9b=this.getDataSources(),_d9c=this._dataSource;_d9c.removeOption(_d9c.getOptions());_d9c.addOption({label:"",value:"_-1"});_d9c.addOption({label:"MainEntity",value:"MainEntity"});_d8f.forEach(_d9b,function(_d9d){this.addOption(lang.mixin({label:_d9d.get("controlId"),value:_d9d.get("controlId")},_d9d.entry));},_d9c);},getDataSources:function(){var _d9e=this._designer.get("form").get("controls"),_d9f=[];_d8f.forEach(_d9e,function(_da0){if(_da0 instanceof Sage.QuickForms.Design.DataSourceDesigner){this.push(_da0);}},_d9f);return _d9f;},getSelectedItem:function(_da1){var _da2=this._dataSource;for(var i=0;i<_da2.options.length;i++){var item=_da2.options[i];if(item.value===_da1){return item||null;}}return null;},updateFieldStore:function(_da3,_da4,_da5){if(_da3.store.destroy){_da3.store.destroy();}_da3.set("store",_da4);_da3.set("searchAttr",_da5);_da3.set("disabled",false);},createSDataPropertyStore:function(_da6){return new Sage.Data.SDataStore({service:Sage.Data.SDataServiceRegistry.getService("metadata"),collection:"$resources.0.properties.$resources",resourceKind:"entities",resourcePredicate:_d8d.substitute("'${0}'",[_da6])});},_onControlIdChange:function(_da7){},_onControlLabelPlacementChange:function(_da8){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",_da8);},_onControlTypeChange:function(_da9){},_onDefaultDataBindingChange:function(_daa){},_onDataSourceChange:function(_dab){},_onEnabledChange:function(_dac){if(this.isSuspended()){return;}this._designer.set("enabled",_dac);},_onItemsChange:function(_dad){},_onTextFieldChange:function(_dae){if(this.isSuspended()){return;}this._designer.set("textField",_dae);},_onValueFieldChange:function(_daf){if(this.isSuspended()){return;}this._designer.set("valueField",_daf);},_onVisibleChange:function(_db0){if(this.isSuspended()){return;}this._designer.set("visible",_db0);}});});},"Sage/MainView/ReportMgr/templates/nls/SchedulesListSummary":function(){define("Sage/MainView/ReportMgr/templates/nls/SchedulesListSummary",["Sage/LanguageList","dojo/_base/lang"],function(_db1,lang){var nls={root:{txtTrue:"True",txtFalse:"False"}};return lang.mixin(_db1,nls);});},"Sage/UI/SLXPreviewGrid/Filter/Text":function(){define("Sage/UI/SLXPreviewGrid/Filter/Text",["dijit/form/TextBox","Sage/UI/SLXPreviewGrid/Filter/_previewGridFilterMixin","dojo/_base/declare"],function(_db2,_db3,_db4){var text=_db4("Sage.UI.SLXPreviewGrid.Filter.Text",[_db2,_db3],{postMixInProperties:function(){this.type="text";this.style="width: 200px";this.inherited(arguments);},reset:function(){this.set("displayedValue","");this.set("value","");}});return text;});},"Sage/Extensions/Activity/ListPanelOverrides/ActivityListPanelConfig":function(){define("Sage/Extensions/Activity/ListPanelOverrides/ActivityListPanelConfig",["Sage/MainView/ActivityMgr/ActivityListPanelConfig","Sage/UI/Columns/SlxLink","dojo/_base/declare","dojo/_base/lang","dojo/i18n!./nls/ActivityListPanelConfig"],function(_db5,_db6,_db7,lang,_db8){var _db9=_db7("Sage.Extensions.Activity.ListPanelOverrides.ActivityListPanelConfig",[_db5],{constructor:function(){lang.mixin(this,_db8);this._select.push("Activity/Details/AttendeeCount");this._structure.push({field:"Activity.Details.AttendeeCount",name:this.colNameAssociationCount,width:"90px"});}});return _db9;});},"Sage/Library/nls/Manager":function(){define("Sage/Library/nls/Manager",["Sage/LanguageList","dojo/_base/lang"],function(_dba,lang){var nls={root:{AddFiles:"Add Files",AddFolder:"Add Folder",Confirm:"Confirm",ConfirmDownload:"The file has not been downloaded. Would you like to get it the next time you synchornize?",ConfirmDownloadReorder:"The file has not been downloaded but has already been ordered. Would you like re-order the file to get it the next time you synchornize?",Created:"Created",DeleteFolder:"Delete Folder",DeleteSelectedFile:"Delete Selected File",Description:"Description",DirectoryInformationError:"There was an unexpected error attempting to retreive document directory information.",DocumentInformationError:"There was an unexpected error attempting to retreive document information.",EditFolder:"Edit Folder Name",Expires:"Expires",File:"File",FileProperties:"File Properties",Help:"Help",InvalidRoot:"Invalid root directory: \"${0}\" (${1}).",Library:"Library",LibraryDataError:"There was an unexpected error processing library directory data.",Never:"Never",No:"No",Revised:"Revised",Size:"Size",Yes:"Yes"}};return lang.mixin(_dba,nls);});},"Sage/UI/nls/GroupsTitlePaneConfigProvider":function(){define("Sage/UI/nls/GroupsTitlePaneConfigProvider",["Sage/LanguageList","dojo/_base/lang"],function(_dbb,lang){var nls={root:{groupText:"Groups",addGroupButtonTooltip:"Add Group",groupButtonTooltip:"Manage Groups",lookupText:"Lookup",lookupResultsText:"Lookup Results",groupColumnText:"Group",visibleColumnText:"Visible"}};return lang.mixin(_dbb,nls);});},"Sage/MainView/ActivityMgr/EditEventEditor":function(){define("Sage/MainView/ActivityMgr/EditEventEditor",["dijit/_Widget","Sage/_Templated","dijit/Toolbar","dijit/layout/TabContainer","dijit/layout/ContentPane","dijit/form/Textarea","dijit/form/ComboBox","Sage/UI/TextBox","Sage/UI/Controls/DateTimePicker","Sage/UI/SDataLookup","dojox/layout/TableContainer","Sage/Data/SingleEntrySDataStore","Sage/MainView/BindingsManager","dijit/Dialog","Sage/UI/Dialogs","Sage/Utility","Sage/Data/SDataServiceRegistry","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dojo/_base/declare","dojo/i18n!./nls/EditEventEditor","dijit/focus","dojo/_base/lang"],function(_dbc,_dbd,_dbe,_dbf,_dc0,_dc1,_dc2,_dc3,_dc4,_dc5,_dc6,_dc7,_dc8,_dc9,_dca,_dcb,_dcc,_dcd,_dce,_dcf,_dd0,_dd1,lang){var _dd2=_dcf("Sage.MainView.ActivityMgr.EditEventEditor",[_dbc,_dbd],{eventId:null,mode:false,_dialog:false,_currentUserId:null,_eventService:false,_eventData:false,_eventStore:false,_bindingMgr:false,_eventChangeConnection:false,lup_User:false,eventDefaultValues:{},eventConnections:[],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div>","<div data-dojo-type=\"dijit.Dialog\" id=\"eventDialog\" title=\"\" dojoAttachPoint=\"_dialog\" >","<div class=\"event-dialog\">","<div data-dojo-type=\"dijit.layout.ContentPane\" id=\"{%= $.id%}_cp_event\" title=\"\" dojoAttachPoint=\"cp_Event\" class=\"tabContent\">","<div data-dojo-type=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"140\">","<div data-dojo-type=\"Sage.UI.Controls.DateTimePicker\" shouldPublishMarkDirty=\"false\" label=\"{%= $.lblStartDateText %}\" id=\"{%= $.id%}_tb_StartDate\" name=\"tb_StartDateName\" dojoAttachPoint=\"tb_StartDate\" displayDate=\"true\" displayTime=\"false\"  ></div>","<div data-dojo-type=\"Sage.UI.Controls.DateTimePicker\" shouldPublishMarkDirty=\"false\" label=\"{%= $.lblEndDateText %}\" id=\"{%= $.id%}_tb_EndDate\" name=\"tb_EndDateName\" dojoAttachPoint=\"tb_EndDate\" displayDate=\"true\" displayTime=\"false\" ></div>","<select  dojoAttachPoint=\"tb_DayType\" data-dojo-type=\"dijit.form.ComboBox\" required=\"false\" name=\"tb_DayType\"  label=\"{%= $.lblDayTypeText %}\" id=\"{%= $.id%}_tb_DayType\" >","<option value=\"Active\" >{%=$.eventTypeActiveText %}</option>","<option value=\"Business Trip\" >{%=$.eventTypeBusinessTripText %}</option>","<option value=\"Conference\" >{%=$.eventTypeConferenceText%}</option>","<option value=\"Holiday\" selected=\"selected\" >{%=$.eventTypeHolidayText%}</option>","<option value=\"Off\" >{%=$.eventTypeOffText%}</option>","<option value=\"Trade Show\" >{%=$.eventTypeTradeShowText%}</option>","<option value=\"Unavailable\" >{%=$.eventTypeUnavailableText%}</option>","<option value=\"Vacation\" >{%=$.eventTypeVacationText%}</option>","</select>","<input data-dojo-type=\"dijit.form.TextBox\" id=\"{%= $.id %}_tb_Location\" label=\"{%= $.lblLocationText %}\" dojoAttachPoint=\"tb_Location\" maxLength=\"255\" />","<textarea data-dojo-type=\"dijit.form.SimpleTextarea\" label=\"{%= $.lblDescriptionText %}\" id=\"{%= $.id%}_tb_Description\" name=\"tb_Description\" dojoAttachPoint=\"tb_Description\" rows=\"4\" cols=\"1\"  maxLength=\"128\"  ></textarea>","<div class=\"event-dialog remove-padding\">","<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.lblUserText %}\" dojoAttachPoint=\"container_UserLup\" class=\"remove-padding lookup-container\"></div>","</div>","</div>","</div>","<div class=\"button-bar alignright\">","<div data-dojo-type=\"dijit.form.Button\"  id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.btnOkayText %}</div>","<div data-dojo-type=\"dijit.form.Button\"  id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $. btnCancelText %}</div>","</div>","</div>","</div>","</div>"]),constructor:function(){dojo.mixin(this,_dd0);this._eventService=_dcc.getSDataService("dynamic");this._setEventStore();this._currentUserId=_dcb.getClientContextByKey("userID")||"";},destroy:function(){if(this._eventChangeConnection){dojo.disconnect(this._eventChangeConnection);this._eventChangeConnection=false;}if(this._bindingMgr){this._bindingMgr.destroy();}if(this.lup_User){this.lup_User.destroy();}this.inherited(arguments);},show:function(_dd3){if(!this.lup_User){this._createUserLookup();}if(this.mode==="New"){this._dialog.set("title",this.titleScheduleText);}else{this._dialog.set("title",this.titleEditText);}this.eventDefaultValues=_dd3||{};this._loadData();this._dialog.set("refocus",false);this._dialog.show();if(!this._dialog.helpIcon){_dce.mixin(this._dialog,new _dcd());this._dialog.createHelpIconByTopic("addevent");}},hide:function(){this._dialog.hide();},resize:function(){},_setModeAttr:function(mode){this.mode=mode;if(mode.indexOf("New")===0){this.mode="New";this._eventData=false;}},_setEventIdAttr:function(_dd4){if(this.eventId!==_dd4){this.eventId=_dd4;this._eventData=false;}},_getEventIdAttr:function(){return this.eventId;},_setEventStore:function(){if(!this._eventStore){this._eventStore=new _dc7({include:[],select:["StartDate","EndDate","Description","Type","Location","UserId"],resourceKind:"events",service:this._eventService});}},onChange:function(_dd5,_dd6,_dd7,_dd8){},setMode:function(mode){this._mode=mode;},_loadData:function(){this._eventData=false;if(this._eventStore){if(this.mode!=="New"){this._eventStore.fetch({predicate:"'"+this.eventId+"'",onComplete:this._receivedEvent,onError:this._requestFailure,scope:this});}else{this._eventStore.newItem({onComplete:function(_dd9){_dcb.setValue(_dd9,"UserId",this._currentUserId);this._receivedEvent(_dd9);},scope:this});}}},_receivedEvent:function(_dda){if(this.mode==="New"){this._eventData=(dojo.mixin(_dda,this.eventDefaultValues));}else{this._eventData=_dda;}this._bind();},_requestFailure:function(msg,_ddb,opts){},_bind:function(){if(this._eventData){if(!this._bindingMgr){this._bindingMgr=new _dc8({defaultBinding:{boundEntity:this._eventData},items:[{boundWidget:this.tb_StartDate,entityProperty:"StartDate",dataType:"date"},{boundWidget:this.tb_EndDate,entityProperty:"EndDate",dataType:"date"},{boundWidget:this.tb_DayType,entityProperty:"Type"},{boundWidget:this.tb_Description,entityProperty:"Description"},{boundWidget:this.tb_Location,entityProperty:"Location"}]});this._eventChangeConnection=dojo.connect(this._bindingMgr,"onChange",this,"onChange");}else{if(!this._bindingMgr.boundEntity||(this._eventData["$key"]!==this._bindingMgr.boundEntity["$key"])){this._bindingMgr.setBoundEntity(this._eventData);}else{this._bindingMgr.bind();}}this._bindUserLookup();}},_bindUserLookup:function(){if(this._eventData.UserId){if(this._eventData.UserId===this._currentUserId){var _ddc={"$key":this._currentUserId,"$descriptor":_dcb.getClientContextByKey("userPrettyName")};this.lup_User.set("selectedObject",_ddc);}else{this._getUserInfoFor(this._eventData.UserId,function(user){this.lup_User.set("selectedObject",user);});}}else{this.lup_User.set("selectedObject",null);}},_getUserInfoFor:function(_ddd,_dde){var _ddf=new Sage.SData.Client.SDataSingleResourceRequest(_dcc.getSDataService("dynamic",false,true,true));_ddf.setResourceKind("userInfo");_ddf.setResourceSelector("'"+_ddd+"'");_ddf.setQueryArg("precedence","0");_ddf.read({success:_dde,scope:this,failure:function(){}});},_createUserLookup:function(){var _de0={id:"_eventUser",structure:[{cells:[{name:this.nameText,field:"Name",sortable:true,width:"400px",editable:false,propertyType:"System.String",excludeFromFilters:false,defaultValue:""}]}],gridOptions:{contextualCondition:function(){return "AllowAdd AND (AccessId eq '"+_dcb.getClientContextByKey("userID")+"' OR AccessId eq 'EVERYONE') AND Type eq 'User'";},contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"activityresourceviews",sort:[{attribute:"Name"}]},isModal:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupUserText,dialogButtonText:this.btnOkayText};this.lup_User=new Sage.UI.Controls.Lookup({id:"event_lu_user",config:_de0});this.eventConnections.push(dojo.connect(this.lup_User,"onChange",this,"_userChanged"));dojo.place(this.lup_User.domNode,this.container_UserLup.domNode,"only");},_userChanged:function(_de1){_dcb.setValue(this._eventData,"UserId",(_de1)?_de1["$key"].substr(0,12):"");},datesValid:function(){var _de2=this.tb_StartDate.value;var _de3=this.tb_EndDate.value;_de3=new Date(_de3.getFullYear(),_de3.getMonth(),_de3.getDate(),0,0);this._eventData.EndDate=new Date(_de3.getFullYear(),_de3.getMonth(),_de3.getDate(),new Date().getHours(),new Date().getMinutes(),new Date().getSeconds());this._eventData.StartDate=new Date(_de2.getFullYear(),_de2.getMonth(),_de2.getDate(),new Date().getHours(),new Date().getMinutes(),new Date().getSeconds());_de2=new Date(_de2.getFullYear(),_de2.getMonth(),_de2.getDate(),0,0);if(_de2>_de3){_dca.showError(this.invaildDatesText);return false;}return true;},_okClick:function(){var _de4=_dd1.curNode;if(_de4){_de4.blur();}setTimeout(lang.hitch(this,function(){if(!this.datesValid()){return;}if(this.mode==="New"){this._eventStore.saveNewEntity(this._eventData,this._successEventCreated,this._failedEventCreated,this);}else{this._eventStore.save({scope:this,success:this._successEventUpdated,failure:this._failedEventUpdated});}}),1);},_cancelClick:function(){this.hide();},_successEventCreated:function(_de5){dojo.publish("/entity/event/create",[_de5,this]);this.hide();},_failedEventCreated:function(_de6){_dca.showError(this.errorText);},_successEventUpdated:function(_de7){dojo.publish("/entity/event/change",[_de7,this]);this.hide();},_failedEventUpdated:function(_de8){_dca.showError(this.errorText);}});return _dd2;});},"Sage/UI/SLXPreviewGrid/Grid":function(){define("Sage/UI/SLXPreviewGrid/Grid",["Sage/UI/EditableGrid","dijit/layout/BorderContainer","dijit/form/SimpleTextarea","dijit/_Widget","dijit/_Templated","dojo/i18n!../nls/SLXPreviewGrid","dojo/_base/declare"],function(_de9,_dea,_deb,_dec,_ded,_dee,_def){var Grid=_def("Sage.UI.SLXPreviewGrid.Grid",[_dec,_dea],{filterText:"Filter",previewField:"",columns:null,tools:null,slxContext:null,dblClickAction:null,contextualConditionFunction:null,liveSplitters:true,gutters:false,gridNodeId:"",_filter:null,_grid:null,_preview:null,constructor:function(){this.connections=[];},amIInATab:function(){if(this.slxContext&&this.slxContext.workspace){return (this.slxContext.workspace.indexOf("TabWorkspace")>-1);}return false;},isMyTabVisible:function(){if(this.amIInATab()&&TabControl){return TabControl.getState().isTabVisible(this.slxContext.tabId);}return true;},postMixInProperties:function(){dojo.mixin(this,_dee);this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);if(this.previewField){this._preview=this._buildPreview();}this._filter=this._buildFilter();this._grid=this._buildGrid();},startup:function(){if(this._started){return;}this.inherited(arguments);this.domNode.style.visibility="visible";if(this._preview){var _df0=this.getSplitter("right");this.connections.push(dojo.connect(_df0,"_stopDrag",this,function(){this._setPref("previewSize",this._preview.domNode.style.width);this.layout();}));}},getSelectedRecords:function(_df1){var _df2=this._grid.selection.getSelected();return dojo.map(_df2,function(rec){var _df3={};dojo.forEach(_df1,function(_df4){_df3[_df4]=this._grid.store.getValue(rec,_df4);},this);return _df3;},this);},refresh:function(){this._grid.refresh();},setSortIndex:function(_df5,_df6){this._grid.setSortIndex(_df5,_df6);},setSortColumn:function(_df7,_df8){var _df9=0;for(var i=0;i<this.columns.length;i++){if(_df7===this.columns[i].field){_df9=i;}}this._grid.setSortIndex(_df9,_df8);},addAssociatedItems:function(){this._grid.addAssociatedItems.apply(this._grid,arguments);},onSelected:function(){},_buildPreview:function(){var _dfa=new _deb({style:"height:100%; overflow: auto; width: "+this._getPref("previewSize","150px"),region:"right",splitter:true,readOnly:true});this.addChild(_dfa);dojo.addClass(_dfa.domNode,"preview-grid-text");return _dfa;},_buildGrid:function(){var _dfb=[];if(this._filter){_dfb.push({id:this.id+"_Filter",imageClass:"icon_Filter_16x16",tooltip:this.filterText,handler:dojo.hitch(this,function(){this._filter.toggle();this.layout();})});}if(this.tools){dojo.forEach(this.tools,function(item){_dfb.push(item);});}var _dfc={fn:this.contextualConditionFunction||this.contextualCondition,conditions:this._filter?this._filter.getQuery():null};if(!this.storeOptions){throw ("SLXPreviewGrid configuration is missing storeOptions");}this.storeOptions.select=this.storeOptions.select||[];this.storeOptions.select.push("Id");this.storeOptions.select.push(this.previewField);var grid=new _de9({id:this.domNode.id+"_grid",gridNodeId:this.id,tabId:this.slxContext.tabId,context:this.slxContext,region:"center",columnDefaults:{editable:false},columns:this.columns,tools:_dfb,contextualCondition:_dfc,storeOptions:this.storeOptions,keepSelection:true});this.connections.push(dojo.connect(grid,"onSelected",this,this._updatePreviewText));this.connections.push(dojo.connect(grid.store,"onSuccess",this,this._updatePreviewText));if(this.dblClickAction){dojo.connect(grid,"onRowDblClick",this,function(e){var rec=grid.getItem(e.rowIndex);var id=grid.store.getValue(rec,"$key");this.dblClickAction(id,rec);});}if(this._filter){dojo.connect(this._filter,"onFilterApply",this,function(_dfd){_dfc.conditions=this._filter.getQuery();grid.refresh();});}this.addChild(grid);return grid;},destroy:function(){var len=this.connections.length;for(var i=0;i<len;i++){dojo.disconnect(this.connections.pop());}this.inherited(arguments);},resetContextualCondition:function(_dfe){this.contextualConditionFunction=_dfe;var _dff={fn:this.contextualConditionFunction||this.contextualCondition,conditions:this._filter?this._filter.getQuery():null};this._grid.resetContextualCondition(_dff);},_updatePreviewText:function(){if(this.previewField){var sel=this._grid.selection.getSelected();var note="";if(sel.length>0&&sel[0]){note=sel[0][this.previewField]||this._grid.store.getValue(sel[0],this.previewField);}this._preview.set("value",note);}},_buildFilter:function(){var _e00=[];dojo.forEach(this.columns,function(cc){if(cc.filterConfig){var fc=dojo.mixin(dojo.clone(cc),cc.filterConfig);if(!fc.label){fc.label=cc.name;}_e00.push(fc);}});if(_e00.length===0){return null;}var _e01=new Sage.UI.SLXPreviewGrid.FilterPanel({id:this.id+"_filterpanel",region:"top",filterConfig:_e00,style:"display: none"});this.addChild(_e01);return _e01;},_getPref:function(_e02,_e03){var _e04=window["localStorage"];var key=this.id+_e02;if(_e04&&_e04[key]){return _e04[key];}return _e03;},_setPref:function(_e05,_e06){var _e07=window["localStorage"];if(_e07){_e07[this.id+_e05]=_e06;}}});return Grid;});},"Sage/Utility/EntityRelationships":function(){define("Sage/Utility/EntityRelationships",["Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/UI/Dialogs","dojo/_base/lang","dojo/string","Sage/Utility"],function(_e08,_e09,_e0a,_e0b,_e0c,_e0d){Sage.namespace("Utility.EntityRelationships");Sage.Utility.EntityRelationships={_store:false,getRelationships:function(_e0e,_e0f,_e10){var _e11={};if(_e0e.EntityId!==""){var id=_e0e.EntityId;var _e12=_e0e.EntityType.split(".");var _e13=_e12[_e12.length-1];switch(_e13){case "IAccount":this._getAccountRelationships(id,_e0f,_e10);return;case "IContact":this._getContactRelationships(id,_e0f,_e10);return;case "IOpportunity":this._getOpportunityRelationships(id,_e0f,_e10);return;case "ITicket":this._getTicketRelationships(id,_e0f,_e10);return;case "ISalesOrder":this._getSalesOrderRelationships(id,_e0f,_e10);return;case "IActivity":this._getActivityRelationships(id,_e0f,_e10);return;case "IHistory":this._getHistoryRelationships(id,_e0f,_e10);return;case "IContract":this._getContractRelationships(id,_e0f,_e10);return;case "IReturn":this._getReturnRelationships(id,_e0f,_e10);return;}var _e14=_e0e.EntityTableName.toLowerCase()+"Id";_e11[_e14]=id;_e0f.call(_e10||this,_e11);return;}_e0f.call(_e10||this,{});},_getRequest:function(_e15,id){var req=new Sage.SData.Client.SDataSingleResourceRequest(_e09.getSDataService("dynamic"));req.setResourceKind(_e15);req.setResourceSelector("\""+id+"\"");req.setQueryArg("precedence","0");return req;},_getAccountRelationships:function(id,_e16,_e17){var req=this._getRequest("accounts",id);req.setQueryArg("include","Contacts,$descriptors");req.setQueryArg("select","Contacts/IsPrimary");req.read({success:function(acc){var obj={AccountId:_e0d.getValue(acc,"$key"),AccountName:_e0d.getValue(acc,"$descriptor")};var _e18="";var _e19="";var _e1a=acc.Contacts.$resources;if(_e1a.length>0){_e18=_e1a[0].$key;}for(var i=0;i<_e1a.length;i++){if(_e1a[i].IsPrimary){_e18=_e1a[i].$key;_e19=_e0d.getValue(_e1a[i],"$descriptor");}}obj["ContactId"]=_e18;obj["ContactName"]=_e19;_e16.call(_e17||this,obj);},failure:function(){_e16.call(_e17||this,{"AccountId":id});},scope:this});},_getContactRelationships:function(id,_e1b,_e1c){var req=this._getRequest("contacts",id);req.setQueryArg("include","Account,$descriptors");req.setQueryArg("select","Account");req.read({success:function(_e1d){var obj={AccountId:_e0d.getValue(_e1d,"Account.$key"),AccountName:_e0d.getValue(_e1d,"Account.$descriptor"),ContactId:_e1d.$key,ContactName:_e0d.getValue(_e1d,"$descriptor")};_e1b.call(_e1c||this,obj);},failure:function(){_e1b.call(_e1c||this,{"ContactId":id});},scope:this});},_getOpportunityRelationships:function(id,_e1e,_e1f){var req=this._getRequest("opportunities",id);req.setQueryArg("include","Account,Contacts,$descriptors");req.setQueryArg("select","Account,Contacts/IsPrimary");req.read({success:function(opp){var obj={AccountId:_e0d.getValue(opp,"Account.$key"),AccountName:_e0d.getValue(opp,"Account.$descriptor"),OpportunityId:opp.$key,OpportunityName:_e0d.getValue(opp,"$descriptor")};var _e20="";var _e21="";var _e22=opp.Contacts.$resources;if(_e22.length>0){_e20=_e22[0].$key;}for(var i=0;i<_e22.length;i++){if(_e22[i].IsPrimary){_e20=_e22[i].$key;_e21=_e0d.getValue(_e22[i],"$descriptor");}}obj["ContactId"]=_e20;obj["ContactName"]=_e21;_e1e.call(_e1f||this,obj);},failure:function(){_e1e.call(_e1f||this,{"OpportunityId":id});},scope:this});},_getSalesOrderRelationships:function(id,_e23,_e24){var req=this._getRequest("salesorders",id);req.setQueryArg("include","Account,$descriptors");req.read({success:function(so){var obj={AccountId:_e0d.getValue(so,"Account.$key"),SalesOrderId:so.$key};_e23.call(_e24||this,obj);},failure:function(){_e23.call(_e24||this,{"SalesOrderId":id});},scope:this});},_getTicketRelationships:function(id,_e25,_e26){var req=this._getRequest("tickets",id);req.setQueryArg("include","Account,Contact,$descriptors");req.read({success:function(_e27){var obj={AccountId:_e0d.getValue(_e27,"Account.$key"),AccountName:_e0d.getValue(_e27,"Account.$descriptor"),ContactId:_e0d.getValue(_e27,"Contact.$key"),ContactName:_e0d.getValue(_e27,"Contact.$descriptor"),TicketId:_e27.$key,TicketNumber:_e0d.getValue(_e27,"$descriptor")};_e25.call(_e26||this,obj);},failure:function(){_e25.call(_e26||this,{"ticketId":id});},scope:this});},_getReturnRelationships:function(id,_e28,_e29){var req=this._getRequest("returns",id);req.setQueryArg("include","Account,ReturnedBy,Ticket,$descriptors");req.read({success:function(rma){var obj={ReturnId:rma.$key,ReturnNumber:_e0d.getValue(rma,"$descriptor"),AccountId:_e0d.getValue(rma,"Account.$key"),AccountName:_e0d.getValue(rma,"Account.$descriptor"),TicketId:_e0d.getValue(rma,"Ticket.$key"),TicketNumber:_e0d.getValue(rma,"Ticket.$descriptor"),ContactId:_e0d.getValue(rma,"ReturnedBy.$key"),ContactName:_e0d.getValue(rma,"ReturnedBy.$descriptor")};_e28.call(_e29||this,obj);},failure:function(){_e28.call(_e29||this,{returnId:id});},scope:this});},_getActivityRelationships:function(id,_e2a,_e2b){var req=this._getRequest("activities",id);req.setQueryArg("select","AccountId,ContactId,LeadId,OpportunityId,TicketId");req.read({success:function(_e2c){var obj={AccountId:_e0d.getValue(_e2c,"AccountId"),ActivityId:_e2c.$key,ContactId:_e0d.getValue(_e2c,"ContactId"),LeadId:_e0d.getValue(_e2c,"LeadId"),OpportunityId:_e0d.getValue(_e2c,"OpportunityId"),TicketId:_e0d.getValue(_e2c,"TicketId")};_e2a.call(_e2b||this,obj);},failure:function(){_e2a.call(_e2b||this,{"ActivityId":id});},scope:this});},_getHistoryRelationships:function(id,_e2d,_e2e){var req=this._getRequest("history",id);req.setQueryArg("select","AccountId,ContactId,LeadId,OpportunityId,TicketId");req.read({success:function(_e2f){var obj={AccountId:_e0d.getValue(_e2f,"AccountId"),HistoryId:_e2f.$key,ContactId:_e0d.getValue(_e2f,"ContactId"),LeadId:_e0d.getValue(_e2f,"LeadId"),OpportunityId:_e0d.getValue(_e2f,"OpportunityId"),TicketId:_e0d.getValue(_e2f,"TicketId")};_e2d.call(_e2e||this,obj);},failure:function(){_e2d.call(_e2e||this,{"HistoryId":id});},scope:this});},_getContractRelationships:function(id,_e30,_e31){var req=this._getRequest("contracts",id);req.setQueryArg("include","Account,Contact,$descriptors");req.read({success:function(_e32){var obj={AccountId:_e0d.getValue(_e32,"Account.$key"),AccountName:_e0d.getValue(_e32,"Account.$descriptor"),ContractId:_e32.$key,ContractNumber:_e0d.getValue(_e32,".$descriptor"),ContactId:_e0d.getValue(_e32,"Contact.$key"),ContactName:_e0d.getValue(_e32,"Contact.$descriptor")};_e30.call(_e31||this,obj);},failure:function(){_e30.call(_e31||this,{"ContractId":id});},scope:this});}};return Sage.Utility.EntityRelationships;});},"dgrid/_StoreMixin":function(){define("dgrid/_StoreMixin",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on","dojo/aspect","put-selector/put"],function(_e33,_e34,lang,_e35,_e36,_e37,put){function noop(_e38){return _e38;};function _e39(err){if(typeof err!=="object"){err=new Error(err);}else{if(err.dojoType==="cancel"){return;}}err.grid=this;if(_e36.emit(this.domNode,"dgrid-error",{grid:this,error:err,cancelable:true,bubbles:true})){console.error(err);}};return _e34(null,{store:null,query:null,queryOptions:null,getBeforePut:true,noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};_e37.before(this,"configStructure",lang.hitch(this,function(){this._columnsWithSet={};}));},postCreate:function(){this.inherited(arguments);if(this.store){this._updateNotifyHandle(this.store);}},destroy:function(){this.inherited(arguments);if(this._notifyHandle){this._notifyHandle.remove();}},_configColumn:function(_e3a){if(_e3a.set){this._columnsWithSet[_e3a.field]=_e3a;}this.inherited(arguments);},_updateNotifyHandle:function(_e3b){if(this._notifyHandle){this._notifyHandle.remove();delete this._notifyHandle;}if(_e3b&&typeof _e3b.notify==="function"){this._notifyHandle=_e37.after(_e3b,"notify",lang.hitch(this,"_onNotify"),true);var sort=this.get("sort");if(!sort||!sort.length){}}},_setStore:function(_e3c,_e3d,_e3e){this._updateNotifyHandle(_e3c);this.store=_e3c;this.dirty={};this.set("query",_e3d,_e3e);},_setQuery:function(_e3f,_e40){var sort=_e40&&_e40.sort;this.query=_e3f!==undefined?_e3f:this.query;this.queryOptions=_e40||this.queryOptions;sort?this.set("sort",sort):this.refresh();},setStore:function(_e41,_e42,_e43){_e33.deprecated("setStore(...)","use set(\"store\", ...) instead","dgrid 0.4");this.set("store",_e41,_e42,_e43);},setQuery:function(_e44,_e45){_e33.deprecated("setQuery(...)","use set(\"query\", ...) instead","dgrid 0.4");this.set("query",_e44,_e45);},_getQueryOptions:function(){var _e46=lang.delegate(this.queryOptions,{});if(typeof (this._sort)==="function"||this._sort.length){_e46.sort=this._sort;}return _e46;},_getQuery:function(){var q=this.query;return typeof q=="object"&&q!=null?lang.delegate(q,{}):q;},_setSort:function(_e47,_e48){if(this.store){this._lastCollection=null;}this.inherited(arguments);},_onNotify:function(_e49,_e4a){this.inherited(arguments);if(_e49&&this._numObservers<1){this.refresh({keepScrollPosition:true});}},insertRow:function(_e4b,_e4c,_e4d,i,_e4e){var _e4f=this.store,_e50=this.dirty,id=_e4f&&_e4f.getIdentity(_e4b),_e51;if(id in _e50&&!(id in this._updating)){_e51=_e50[id];}if(_e51){_e4b=lang.delegate(_e4b,_e51);}return this.inherited(arguments);},updateDirty:function(id,_e52,_e53){var _e54=this.dirty,_e55=_e54[id];if(!_e55){_e55=_e54[id]={};}_e55[_e52]=_e53;},setDirty:function(id,_e56,_e57){_e33.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(id,_e56,_e57);},save:function(){var self=this,_e58=this.store,_e59=this.dirty,dfd=new _e35(),_e5a=dfd.promise,_e5b=function(id){var data;return (self.getBeforePut||!(data=self.row(id).data))?function(){return _e58.get(id);}:function(){return data;};};function _e5c(id,_e5d){return function(_e5e){var _e5f=self._columnsWithSet,_e60=self._updating,key,data;if(typeof _e5e.set==="function"){_e5e.set(_e5d);}else{for(key in _e5d){_e5e[key]=_e5d[key];}}for(key in _e5f){data=_e5f[key].set(_e5e);if(data!==undefined){_e5e[key]=data;}}_e60[id]=true;return _e35.when(_e58.put(_e5e),function(){delete _e59[id];delete _e60[id];});};};for(var id in _e59){var put=_e5c(id,_e59[id]);_e5a=_e5a.then(_e5b(id)).then(put);}dfd.resolve();return _e5a;},revert:function(){this.dirty={};this.refresh();},_trackError:function(func){var _e61;if(typeof func=="string"){func=lang.hitch(this,func);}try{_e61=func();}catch(err){_e39.call(this,err);}return _e35.when(_e61,noop,lang.hitch(this,_e39));},newRow:function(){var row=this.inherited(arguments);if(this.noDataNode){put(this.noDataNode,"!");delete this.noDataNode;}return row;},removeRow:function(_e62,_e63){var row={element:_e62};if(!_e63&&this.noDataMessage&&(this.up(row).element===_e62)&&(this.down(row).element===_e62)){this.noDataNode=put(this.contentNode,"div.dgrid-no-data");this.noDataNode.innerHTML=this.noDataMessage;}return this.inherited(arguments);}});});},"Sage/QuickForms/Design/nls/NonVisibleControlContainer":function(){define("Sage/QuickForms/Design/nls/NonVisibleControlContainer",["Sage/LanguageList","dojo/_base/lang"],function(_e64,lang){var nls={root:{headerText:"Non-Visual Controls"}};return lang.mixin(_e64,nls);});},"Sage/MainView/JobMgr/SchedulesListPanelConfig":function(){define("Sage/MainView/JobMgr/SchedulesListPanelConfig",["Sage/MainView/JobMgr/BaseListPanelConfig","Sage/MainView/JobMgr/SDataSummaryFormatterScope","dojo/_base/declare","dojo/i18n!./nls/SchedulesListPanelConfig","dojo/_base/lang","Sage/Utility/Jobs","dojo/i18n!./templates/nls/SchedulesListSummary","dojo/i18n!./templates/nls/ScheduleDetailSummary"],function(_e65,_e66,_e67,_e68,_e69,_e6a){var _e6b=_e67("Sage.MainView.JobMgr.SchedulesListPanelConfig",[_e65],{constructor:function(){_e69.mixin(this,_e68);this._listId="Schedules";this._resourceKind="triggers";this._contextMenu="JobManagerListContextMenu";this._currentListContextSubMenu="SchedulesListContextMenu";this._structure=this._getStructure();this._select=this._getSelect();this._sort=this._getSort();this._where=this._getWhere();this._include=this._getInclude();this._store=this._getStore();this.list=this._getListConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();this.keyField="$key";},_getStructure:function(){return [{field:"$descriptor",name:this.colNameTriggerName,width:"100px"},{field:"job",name:this.colNameJobName,width:"100px",formatter:_e6a.formatJobDescription},{field:"user",name:this.colNameUser,width:"100px",formatter:_e6a.formatUser},{field:"startTimeUtc",name:this.colNameStartTimeUtc,width:"100px",formatter:_e6a.formatDate},{field:"endTimeUtc",name:this.colNameEndTimeUtc,width:"100px",formatter:_e6a.formatDate},{field:"priority",name:this.colNamePriority,width:"100px"},{field:"status",name:this.colNameStatus,width:"100px"},{field:"timesTriggered",name:this.colNameTimesTriggered,width:"100px"}];},_getSelect:function(){var _e6c=["$key","job","user","startTimeUtc","endTimeUtc","repeatCount","repeatInterval","priority","status","timesTriggered"];return _e6c;},_getWhere:function(){return "";},_getSort:function(){var sort=[{attribute:"job"}];return sort;},_getInclude:function(){var _e6d=["$descriptors,$key"];return _e6d;},_getSummaryListRequestConfig:function(){var _e6e={resourceKind:this._resourceKind,serviceName:"scheduling",keyField:"$key",select:this._getSelect(),include:this._getInclude(),useBatchRequest:false,sort:this._getSort()};return _e6e;},_getFormatterScope:function(){var _e6f=this._getSummaryListRequestConfig();var _e70=new _e66({templateLocation:"MainView/JobMgr/templates/SchedulesListSummary.html",resetDataManager:true,requestConfiguration:_e6f});return _e70;},_getSummaryDetailRequestConfig:function(){var _e71={resourceKind:this._resourceKind,serviceName:"scheduling",keyField:"$key",select:["$key","description","job","user"],include:["$descriptors"],useBatchRequest:false};return _e71;},_getDetailConfig:function(){var _e72=this._getFormatterScope();var _e73=this._getSummaryDetailRequestConfig();var _e74={resourceKind:this._resourceKind,requestConfiguration:_e73,templateLocation:"MainView/JobMgr/templates/ScheduleDetailSummary.html"};return _e74;},_getToolBars:function(){var _e75={items:[]};return _e75;}});return _e6b;});},"Sage/UI/Controls/nls/Name":function(){define("Sage/UI/Controls/nls/Name",["Sage/LanguageList","dojo/_base/lang"],function(_e76,lang){var nls={root:{okText:"OK",cancelText:"Cancel",dialogTitle:"Edit Name",prefixText:"Prefix:",nameFirstText:"First:",nameMiddleText:"Middle:",nameLastText:"Last:",suffixText:"Suffix:",buttonTooltip:"Edit"}};return lang.mixin(_e76,nls);});},"Sage/UI/GridMenuItem":function(){require({cache:{"url:Sage/templates/GridMenuItem.html":"<tr class=\"dijitGridMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"4\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\" style=\"display:none\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"display:none\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n    <td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\" style=\"display:none\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n</tr>\n"}});define("Sage/UI/GridMenuItem",["dijit/MenuItem","dojox/grid/EnhancedGrid","dojo/text!../templates/GridMenuItem.html","dojo/_base/declare","dojo/dom-style","dojo/dom-construct","dojo/aspect","dojo/_base/lang","dojo/topic"],function(_e77,_e78,_e79,_e7a,_e7b,_e7c,_e7d,lang,_e7e){var _e7f=_e7a("Sage.UI.GridMenuItem",_e77,{grid:null,templateString:_e79,startup:function(){this.inherited(arguments);_e7d.after(this.getParent(),"onOpen",lang.hitch(this,this.startGrid));var h=this.gridOptions.height||this.height||"250px",w=this.gridOptions.width||this.width||"150px";_e7b.set(this.focusNode,{height:h,width:w});},startGrid:function(){if(this.grid&&this.grid.started){if(this.grid.lastScrollTop===0){this.grid.resize();}else{this.grid.setScrollTop(this.grid.lastScrollTop);}return;}else{if(typeof this.gridOptions!=="undefined"){var _e80=(this.gridOptions.hasOwnProperty("cssClass"))?this.gridOptions.cssClass:"",_e81;this.gridOptions.cssClass=_e80+" menuGrid";if(this.grid){var _e82=this.grid.layout.cells[2].hidden;if(_e82!==this.gridOptions.structure[2].hidden){if(_e82){this.gridOptions.structure[1].width="260px";}else{this.gridOptions.structure[1].width="205px";}this.gridOptions.structure[2].hidden=_e82;}this.grid.destroyRecursive();}this.grid=new _e78(this.gridOptions);_e7c.place(this.grid.domNode,this.containerNode,"only");this.grid.canSort=function(col){if(Math.abs(col)===1){return false;}return true;};if(this.gridOptions.hasOwnProperty("_onCellClick")){this.grid.on("cellClick",lang.hitch(this.gridOptions,this.gridOptions._onCellClick));}if(this.gridOptions.hasOwnProperty("_onCanSelect")){this.grid.on("canSelect",lang.hitch(this.gridOptions,this.gridOptions._onCanSelect));}this.grid.startup();this.grid.started=true;_e81=_e7d.after(this.grid,"_onFetchComplete",lang.hitch(this,function(){_e7e.publish("sage/ui/groups/gridMenuStarted",this);_e81.remove();}));}}},_onClick:function(e){e.stopPropagation();}});return _e7f;});},"Sage/UI/Controls/DependencyLookup":function(){define("Sage/UI/Controls/DependencyLookup",["dijit/Dialog","Sage/UI/Controls/DependControl","dojo/_base/declare"],function(_e83,_e84,_e85){var _e86=_e85("Sage.UI.Controls.DependencyLookup",null,{ClientId:"",PanelId:"",InitCall:null,LookupControls:null,CurrentIndex:0,AutoPostBack:false,panel:null,Title:"",Size:"",constructor:function(_e87,_e88,size,_e89,_e8a){this.ClientId=_e87;this.PanelId=_e87+"_Panel";this.InitCall=_e88;this.LookupControls=[];this.CurrentIndex=0;this.Size=size+"px";this.AutoPostBack=_e89;this.panel=null;this.Title=_e8a;},CanShow:function(){var _e8b=false;if(Sys){var prm=Sys.WebForms.PageRequestManager.getInstance();_e8b=prm.get_isInAsyncPostBack();}if(!_e8b){return true;}else{var id=this.ClientId+"_obj";var _e8c=function(){window[id].Show("");};Sage.SyncExec.call(_e8c);return false;}},Show:function(){if(this.CanShow()){if(this.panel===null){this.panel=dijit.byId(this.PanelId+"_Dialog");var _e8d=dojo.byId(this.PanelId);if(!this.panel){_e8d.style.display="block";dojo.place(_e8d,dojo.byId("mainform"),"last");this.panel=new _e83({id:this.PanelId+"_Dialog",content:_e8d,title:this.Title||""});this.panel.startup();dojo.place(this.panel.domNode,dojo.byId("mainform"),"last");}else{this.panel.setContent(_e8d);_e8d.style.display="block";}if((this.CurrentIndex===0)||(this.LookupControls[i]!==undefined)){this.Init();}for(var i=0;i<this.CurrentIndex;i++){if(this.LookupControls[i]!==undefined){var text=dojo.byId(this.LookupControls[i].TextId);var _e8e="";if(i>0){_e8e=this.GetSeeds(i);}if((text.value!=="")||(_e8e!=="")||(i===0)){this.LookupControls[i].CurrentValue=text.value;var _e8f=this.LookupControls[i].ListId;var list=dojo.byId(_e8f);if(list.options.length===0){this.LookupControls[i].LoadList(_e8e);}}}}}this.panel.show();}},AddControl:function(_e90,_e91,_e92,type,_e93,_e94){var _e95=new _e84(_e90,_e91,_e92,type,_e93,_e94);this.LookupControls[this.CurrentIndex]=_e95;this.CurrentIndex++;},AddFilters:function(_e96,_e97){},SelectionChanged:function(_e98){if((_e98+1)<this.CurrentIndex){this.LookupControls[_e98+1].LoadList(this.GetSeeds(_e98+1));for(var i=_e98+2;i<this.CurrentIndex;i++){this.LookupControls[i].ClearList();}}},Ok:function(){this.panel.hide();for(var i=0;i<this.CurrentIndex;i++){var text=document.getElementById(this.LookupControls[i].TextId);var list=document.getElementById(this.LookupControls[i].ListId);if((list.selectedIndex!==undefined)&&(list.selectedIndex!=-1)){text.value=list.options[list.selectedIndex].text;}else{text.value="";}this.InvokeChangeEvent(text);}if(this.AutoPostBack){if(Sys){Sys.WebForms.PageRequestManager.getInstance()._doPostBack(this.ClientId,null);}else{document.forms(0).submit();}}},Init:function(){eval(this.InitCall);},InvokeChangeEvent:function(_e99){if(document.createEvent){var _e9a=document.createEvent("HTMLEvents");_e9a.initEvent("change",true,true);_e99.dispatchEvent(_e9a);}else{_e99.fireEvent("onchange");}},GetSeeds:function(_e9b){var _e9c="";for(var i=_e9b;i>0;i--){var _e9d=this.LookupControls[i-1];var _e9e=this.LookupControls[i];var list=dojo.byId(_e9d.ListId);if(list.selectedIndex==-1){return _e9c;}var seed=list.options[list.selectedIndex];_e9c+=_e9e.SeedProperty+","+seed.text+"|";}_e9c=_e9c.substr(0,_e9c.length-1);return _e9c;},close:function(){this.panel.hide();}});return _e86;});},"Sage/UI/Columns/SlxEdit":function(){define("Sage/UI/Columns/SlxEdit",["dojo/i18n!./nls/SlxEdit","dojo/_base/declare"],function(_e9f,_ea0){var _ea1=_ea0("Sage.UI.Columns.SlxEdit",dojox.grid.cells.Cell,{field:"",entityType:"",cellValue:"",smartPart:"",appliedSecurity:"",dialogTitle:"",isCentered:true,dialogTop:0,dialogLeft:0,dialogHeight:0,dialogWidth:0,formObjectName:"",constructor:function(){dojo.mixin(this,_e9f);if(!this.hidden){if(!this.appliedSecurity&&arguments.appliedSecurity){this.appliedSecurity=arguments.appliedSecurity;}if(this.appliedSecurity){var svc=Sage.Services.getService("RoleSecurityService");if(svc){this.hidden=!svc.hasAccess(this.appliedSecurity);}}}this.inherited(arguments);},format:function(_ea2,_ea3){if(_ea3===null){return this.defaultValue;}var _ea4=this.cellValue;if(this.cellValue===""&&this.field!==""){_ea4=Sage.Utility.getValue(_ea3,this.field);}if(this.cellValue===""&&_ea4===""){_ea4=this.editText;}var _ea5=Sage.Utility.getValue(_ea3,"$key");if(_ea5.match(/[=]/)){_ea5=_ea5.match(/[=]\S{12}/g).join(",").replace(/=/g,"");}return String.format("<a href=\"{0}\">{1}</a>",String.format("javascript:Sage.Utility.loadDetailsDialog( {{ entityType:'{0}', smartPart:'{1}', entityId:'{2}', dialogTitle:'{3}', isCentered:{4}, dialogTop:{5}, dialogLeft:{6}, dialogHeight:{7}, dialogWidth:{8} }} );",this.entityType,this.smartPart,_ea5,this.dialogTitle,this.isCentered,this.dialogTop,this.dialogLeft,this.dialogHeight,this.dialogWidth),_ea4);}});return _ea1;});},"Sage/MainView/JobMgr/nls/ExecutionsListPanelConfig":function(){define("Sage/MainView/JobMgr/nls/ExecutionsListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_ea6,lang){var nls={root:{loadingText:"Loading...",colNameJobName:"Type",colNameUser:"User",colNamePhase:"Phase",colNamePhaseDetail:"Phase Detail",colNameProgress:"Progress",colNameElapsed:"Elapsed Time",colNameStatus:"Status",colNameResult:"Result"}};return lang.mixin(_ea6,nls);});},"Sage/Services/RoleSecurityService":function(){define("Sage/Services/RoleSecurityService",["dijit/_Widget","Sage/Data/SDataServiceRegistry","Sage/Utility/_LocalStorageMixin","dojo/_base/declare"],function(_ea7,_ea8,_ea9,_eaa){var _eab=_eaa("Sage.Services.RoleSecurityService",[_ea7,_ea9],{_currentUserId:"",_accessListCache:false,_enabled:true,_nameSpace:"Sage_SalesLogix_RoleSecurityService",_clearCache:false,constructor:function(_eac){this.inherited(arguments);dojo.mixin(this,_eac);this._currentUserId=this._getCurrentUserId();},postCreate:function(_ead){this._getFromCache();},_getCurrentUserId:function(){if(!this._currentUserId){var _eae=Sage.Services.getService("ClientContextService");if(_eae){if(_eae.containsKey("userID")){this._currentUserId=_eae.getValue("userID");}}}return this._currentUserId;},_virtuald:function(){var _eaf=/^\/([^\/]+)\//.exec(location.pathname);return _eaf?_eaf[1]:"";},hasAccess:function(_eb0,_eb1){var _eb2=this._internalHasAccess(_eb0);if(_eb1){_eb1(_eb2);}return _eb2;},_internalHasAccess:function(_eb3){if(!this._enabled){return true;}if(!_eb3){return true;}if(_eb3.trim()===""){return true;}if(this._getCurrentUserId().trim()==="ADMIN"){return true;}var _eb4=this._getAccessList();if(_eb4){for(var i=0;i<_eb4.length;i++){if(_eb4[i]===_eb3){return true;}}}return false;},_getAccessList:function(){if(this._accessListCache){return this._accessListCache.securedActions;}else{var _eb5=this._getFromCache();if(_eb5){return _eb5.securedActions;}}return false;},_getFromCache:function(){var me=this;var _eb6=this._getCurrentUserId();var _eb7=this.getFromLocalStorage(this._nameSpace,this._nameSpace);if(_eb7){for(var i=0;i<_eb7.length;i++){if(_eb7[i].userId===_eb6){if(this._clearCache){this._clearCache=false;_eb7.splice(i,1);}else{this._accessListCache=_eb7[i];return _eb7[i];}}}}this._loadUserAccessList(function(_eb8){if(!_eb7){_eb7=[];}me._accessListCache=_eb8;_eb7.push(_eb8);me.saveToLocalStorage(me._nameSpace,_eb7,me._nameSpace);});return false;},_loadUserAccessList:function(_eb9){var _eba=new Sage.SData.Client.SDataServiceOperationRequest(Sage.Data.SDataServiceRegistry.getSDataService("system")).setContractName("system").setOperationName("getCurrentUser");_eba.execute({},{success:function(data){if(_eb9){_eb9(data.response);}},failure:function(data){},scope:this});}});if(!Sage.Services.hasService("RoleSecurityService")){Sage.Services.addService("RoleSecurityService",new Sage.Services.RoleSecurityService());}return _eab;});},"url:Sage/MainView/IntegrationContract/templates/InvoiceRTDV.html":"[\n'<div>',\n    '<div dojoType=\"dijit.Dialog\" id=\"{%= $.id%}_invoiceDetailsDialog\" title=\"{%= $.dialogCaption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:hideDetailsDialog\">',\n        '<div dojoAttachPoint=\"loadingContainer\">',\r\n            '<br />',\r\n            '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingText %}</label>',\r\n            '<br />',\r\n            '<br />',\r\n        '</div>',\n        '<div dojoAttachPoint=\"invoiceDialogContent\" class=\"display-none\">',\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\">',\n                 '<input dojoType=\"dijit.form.TextBox\" name=\"reference\" id=\"{%= $.id%}_reference\" label=\"{%= $.lblInvoiceCaption %}\" readonly=\"true\" />',\n                 '<input dojoType=\"dijit.form.TextBox\" name=\"grossTotal\" id=\"{%= $.id%}_grossTotal\" label=\"{%= $.lblNetTotalCaption %}\" readonly=\"readonly\" />',\n            '</div >',\n            '<div style=\"height:350px;width:800px\">',\r\n                '<div id=\"{%= $.id%}_invoiceTabContainer\" dojoAttachPoint=\"invoiceTabContainer\" dojoType=\"dijit.layout.TabContainer\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"{%= $.id%}_invoiceContent\" dojoAttachPoint=\"invoiceContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.detailsTabTitle %}\" selected=\"true\">',\r\n                        '<div id=\"{%= $.id%}_divInvoiceDetails\">',\r\n                            '<table cellspacing=\"5\">',\n                                '<col style=\"width:200px\" />',\r\n                                '<col style=\"width:200px\" />',\n                                '<tr>',\n                                    '<td>',\r\n                                        '<label for=\"Invoice_date\">{%= $.lblInvoiceDateCaption %}</label>',\r\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_invoiceDate\" name=\"date\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"invoiceDiscountPercent\">{%= $.lblInvoiceDiscountPercentCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_discountPercent\" name=\"invoiceDiscountPercent\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\r\n                                        '<label for=\"Invoice_deliveryDate\">{%= $.lblDueDateCaption %}</label>',\r\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_deliveryDate\" name=\"deliveryDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_carrierTotalPrice\">{%= $.lblCarrierTotalPriceCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_carrierTotalPrice\" name=\"carrierTotalPrice\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"Invoice_customerReference\">{%= $.lblCustomerPOCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_customerReference\" name=\"customerReference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                    '<td>',\r\n                                        '<label for=\"Invoice_taxTotal\">{%= $.lblTaxCaption %}</label>',\r\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_taxTotal\" name=\"taxTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"settlementDiscountPercent\">{%= $.lblSettlementDiscountPercentCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_settlementDiscountPercent\" name=\"settlementDiscountPercent\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_notes\">{%= $.lblNotesCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_notes\" name=\"notes\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"settlementDiscountTerms\">{%= $.lblSettlementDiscountTermsCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_settlementDiscountTerms\" name=\"settlementDiscountTerms\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_costTotal\">{%= $.lblCostTotalCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_costTotal\" name=\"costTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"operatingCompanyCurrency\">{%= $.lblOCCurrencyCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_operatingCompanyCurrency\" name=\"operatingCompanyCurrency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_profitTotal\">{%= $.lblProfitTotalCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_profitTotal\" name=\"profitTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"operatingCompanyCurrencyExchangeRateDate\">{%= $.lblOperatingCompanyCurrencyExchangeRateDateCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_operatingCompanyCurrencyExchangeRateDate\" name=\"operatingCompanyCurrencyExchangeRateDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_priceList\">{%= $.lblPriceListCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_priceList\" name=\"pricelist.name\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"Invoice_currency\">{%= $.lblCurrencyCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_currency\" name=\"currency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_salesPerson\">{%= $.lblSalesPersonCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_salesPerson\" name=\"buyerContact.fullName\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"Invoice_invoiceDiscountAmount\">{%= $.lblInvoiceDiscountAmountCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_invoiceDiscountAmount\" name=\"invoiceDiscountAmount\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\r\n                            '</table>',\r\n                        '</div>',\r\n                    '</div>',\r\n                    '<div id=\"{%= $.id%}_addressesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.addressTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"sdgrdInvoiceAddresses\" style=\"width:100%;height:100%;\">',\r\n                            '<div id=\"{%= $.id%}_sdgrdInvoiceAddresses_Grid\" dojoAttachPoint=\"sdgrdInvoiceAddresses_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                        '</div>',\r\n                    '</div>',\r\n                    '<div id=\"{%= $.id%}_invoiceLinesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.invoiceLinesTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"sdgrdInvoiceLines\" style=\"width:100%;height:100%;\">',\r\n                            '<div id=\"{%= $.id%}_sdgrdInvoiceLines_Grid\" dojoAttachPoint=\"sdgrdInvoiceLines_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                        '</div>',\r\n                    '</div>',\r\n                    '<div id=\"{%= $.id%}_paymentsContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.paymentsTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Payments\" dojoAttachEvent=\"onShow:initPayments\">',\r\n                        '<div id=\"sdgrdPayments\" style=\"width:100%;height:100%;\">',\r\n                            '<div id=\"{%= $.id%}_sdgrdPayments_Grid\" dojoAttachPoint=\"sdgrdPayments_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                        '</div>',\r\n                    '</div>',\r\n                    '<div id=\"{%= $.id%}_deliveriesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.deliveriesTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Deliveries\" dojoAttachEvent=\"onShow:initDeliveries\">',\r\n                        '<div id=\"sdgrdDeliveries\" style=\"width:100%;height:100%;\">',\r\n                            '<div id=\"{%= $.id%}_sdgrdDeliveries_Grid\" dojoAttachPoint=\"sdgrdDeliveries_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                        '</div>',\r\n                    '</div>',\r\n                '</div>',\r\n            '</div>',\r\n            '<div class=\"button-bar alignright\">',\r\n                 '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_invoiceBtnClose\" type=\"button\" dojoAttachEvent=\"onClick:hideDetailsDialog\">{%= $.btnCloseCaption %}</button>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]","Sage/QuickForms/Design/nls/PhoneControlDesigner":function(){define("Sage/QuickForms/Design/nls/PhoneControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_ebb,lang){var nls={root:{displayNameText:"Phone"}};return lang.mixin(_ebb,nls);});},"url:Sage/UI/Controls/templates/CopyToClipboard.html":"<div>\r\n    <div data-dojo-type=\"dijit.Dialog\" dojoAttachPoint=\"dialogNode\">\r\n        \r\n        <span>${helpText}</span>\r\n        <div style=\"width: 550px; height: 400px;\">\r\n            <div data-dojo-type=\"dijit.layout.TabContainer\" dojoAttachPoint=\"tabNode\" style=\"width: 100%; height: 100%;\">\r\n                <div data-dojo-type=\"dijit.layout.ContentPane\" title=\"${textTab}\">\r\n                    <div dojoAttachPoint=\"contentNode\"></div>\r\n                </div>\r\n            \r\n                <div data-dojo-type=\"dijit.layout.ContentPane\" title=\"${sourceTab}\">\r\n                    <textarea dojoAttachPoint=\"textNode\" data-dojo-type=\"dijit.form.SimpleTextarea\" style=\"width: 100%; height: 95%;\"></textarea>\r\n                </div>\r\n            </div>\r\n        </div>\r\n            \r\n        <div style=\"float:right;padding-bottom:8px;\">\r\n            <button data-dojo-type=\"dijit.form.Button\" type=\"submit\" dojoAttachEvent=\"onClick:_closeClicked\">\r\n                ${closeText}\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n","Sage/MainView/Lead/nls/UpdateLeads":function(){define("Sage/MainView/Lead/nls/UpdateLeads",["Sage/LanguageList","dojo/_base/lang"],function(_ebc,lang){var nls={root:{updateMultipleLeads_Caption:"Update Multiple Leads",labelWidth:"100",btnCancel_Caption:"Cancel",ok_Text:"OK",update_To_Caption:"To:",update_Property_Caption:"Update:",updateProp_Owner:"Owner",lookupOwnerText:"Lookup Owner:",lookupDescriptionColText:"Description",updateProp_AcctMgr:"Account Manager",lookupActMgrText:"Lookup Account Manager",lookupNameColText:"Name",lookupTitleColText:"Title",lookupDepartmentColText:"Department",lookupRegionColText:"Region",lookupTypeColText:"Type",errorUnspecifiedValue:"Please specify a value before continuing.",errorRequestingJobMgr:"An error occurred requesting the job manager.",updateLeadsTitle:"Update Leads"}};return lang.mixin(_ebc,nls);});},"Sage/MainView/ReportMgr/Crystal/CrystalReportParametersDialog":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/CrystalReportParametersDialog.html":"<div>\r\n    <div data-dojo-type=\"dijit.Dialog\" title=\"{%= $._getDialogTitle() %}\" dojoattachpoint=\"_dialog\" dojoattachevent=\"onCancel:_dialog_OnCancel\" style=\"width: 625px\">\r\n        <div data-dojo-type=\"dijit.form.Form\">\r\n            <div style=\"overflow:auto\">\r\n                <div dojoattachpoint=\"paramsContainerDiv\" id=\"paramsContainerDiv\" style=\"height:400px; overflow:auto\"></div>\r\n            </div>\r\n            <div align=\"right\" style=\"margin-top:10px\">\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdBack\" dojoAttachEvent=\"onClick:_cmdBack_OnClick\" >{%= Sage.Utility.htmlEncode($._nlsResources.cmdBack_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdNext\" dojoAttachEvent=\"onClick:_cmdNext_OnClick\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdNext_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdCancel_Caption) %}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"}});define("Sage/MainView/ReportMgr/Crystal/CrystalReportParametersDialog",["dojo/_base/declare","dojo/_base/array","dojo/text!./templates/CrystalReportParametersDialog.html","dojo/i18n!./nls/CrystalReportParametersDialog","Sage/Reporting/Enumerations","Sage/MainView/ReportMgr/Common/_WizardDialogBase","Sage/MainView/ReportMgr/Crystal/BooleanParameterEditor","Sage/MainView/ReportMgr/Crystal/DateParameterEditor","Sage/MainView/ReportMgr/Crystal/SimpleParameterEditor","Sage/MainView/ReportMgr/Crystal/MultiSelectParameterEditor","Sage/Utility"],function(_ebd,_ebe,_ebf,_ec0,_ec1,_ec2,_ec3,_ec4,_ec5,_ec6,_ec7){var _ec8=_ec7.makeTemplateFromString(_ebf.replace("\n",""));var _ec9=_ebd("Sage.MainView.ReportMgr.Crystal.CrystalReportParametersDialog",[_ec2],{id:"dlgCrystalReportParameters",widgetTemplate:_ec8,_nlsResources:_ec0,_helpIconTopic:"RptscheduleWiz",_parameterWidgets:null,_parameters:null,_currentStep:_ec1.CrystalReportWizardStep.Parameters,constructor:function(_eca){this._initializeWizardOptions(_eca);this._parameterWidgets=[];this._parameters=(_eca.parameters&&_eca.parameters.length>0)?_eca.parameters:_eca.reportMetadata.parameters;},destroy:function(){_ebe.forEach(this._parameterWidgets,function(_ecb,i){_ecb.destroyRecursive();});this._dialog.destroyRecursive();this.inherited(arguments);},startup:function(){this.inherited(arguments);this._loadPromptParameters();},isValid:function(){var _ecc=true;_ebe.forEach(this._parameterWidgets,function(_ecd,i){_ecc=_ecc&&_ecd.isValid();});return _ecc;},_loadPromptParameters:function(){var self=this;_ebe.forEach(this._parameters,function(_ece,i){if(!_ece.name.toUpperCase().startsWith("PM-")){var _ecf=self._getParameterEditor(_ece);if(_ecf){_ecf.placeAt(self.paramsContainerDiv);_ecf.startup();self._parameterWidgets.push(_ecf);}else{console.error("This report uses parameters that are not currently supported.");}}});},_getDialogTitle:function(){return this._nlsResources.txtDialogTitle+" ["+this._reportMetadata.displayName+"]";},_getWizardStepResult:function(){var _ed0=[];_ebe.forEach(this._parameterWidgets,function(_ed1,i){_ed0.push(_ed1.get("value"));});var _ed2={parameters:_ed0};return _ed2;},_getParameterEditor:function(_ed3){switch(_ed3.parameterValueKind){case _ec1.SlxParameterValueKind.BooleanParameter:return new _ec3(_ed3);case _ec1.SlxParameterValueKind.StringParameter:case _ec1.SlxParameterValueKind.NumberParameter:if(_ed3.allowMultiValue){return new _ec6(_ed3);}else{return new _ec5(_ed3);}break;case _ec1.SlxParameterValueKind.DateParameter:case _ec1.SlxParameterValueKind.DateTimeParameter:return new _ec4(_ed3);case _ec1.SlxParameterValueKind.TimeParameter:console.error("Unknown parameter type: "+_ed3.parameterValueKind+"/"+_ed3.valueRangeKind);break;default:console.error("Unknown parameter type. valueKind:"+_ed3.parameterValueKind+"/rangeKind:"+_ed3.valueRangeKind+"/multiValue:"+_ed3.allowMultiValue);return null;}return null;}});return _ec9;});},"Sage/MainView/BindingsManager":function(){define("Sage/MainView/BindingsManager",["dijit/_Widget","dojo/_base/declare","Sage/Utility/Activity"],function(_ed4,_ed5,_ed6){var _ed7=_ed5("Sage.MainView.DataBinding",_ed4,{boundEntity:false,boundWidget:false,widgetEvent:"onChange",widgetProperty:"value",entityProperty:false,defaultValue:"",twoWay:true,_connection:false,bind:function(){if(this.boundWidget&&this.boundEntity&&this.entityProperty){this.boundWidget.set(this.widgetProperty,this._formatValueFromEntity(Sage.Utility.getValue(this.boundEntity,this.entityProperty,this.defaultValue)));if(this.twoWay&&!this._connection){this._connection=dojo.connect(this.boundWidget,this.widgetEvent,dojo.hitch(this,"applyWidgetChange",this.boundWidget));}}},_formatValueFromEntity:function(val){return val;},applyWidgetChange:function(_ed8,_ed9){if(!_ed9){_ed9=_ed8.get(this.widgetProperty);}var _eda=Sage.Utility.getValue(this.boundEntity,this.entityProperty);var _edb=this._formatValueFromControl(_ed9);if(_eda!=_edb){Sage.Utility.setValue(this.boundEntity,this.entityProperty,_edb);this.onChange(this.boundEntity,this.entityProperty,_eda,_ed9);}},_formatValueFromControl:function(val){return val;},_setBoundEntityAttr:function(_edc){this.boundEntity=_edc;this.bind();},destroy:function(){dojo.disconnect(this._connection);this.inherited(arguments);},onChange:function(_edd,_ede,_edf,_ee0){}});var _ee1=_ed5("Sage.MainView.DateDataBinding",_ed7,{_formatValueFromEntity:function(val){var _ee2=Sage.Utility.Convert.toDateFromString(val);if(_ee2&&_ed6.isDateFiveSecondRuleTimeless(_ee2)){_ee2=new Date(_ee2.getUTCFullYear(),_ee2.getUTCMonth(),_ee2.getUTCDate(),0,0,5);}return _ee2;},_formatValueFromControl:function(val){if(!val||!val.getUTCFullYear){val=this.boundWidget.get(this.widgetProperty);if(!val||!val.getUTCFullYear){return "";}}return Sage.Utility.Convert.toIsoStringFromDate(val);}});var _ee3=_ed5("Sage.MainView.BindingsManager",null,{constructor:function(opts){this._bindings=[];this._connections=[];this.boundEntity=false;this._defaultBindingOptions={boundEntity:false,boundWidget:false,widgetEvent:"onChange",widgetProperty:"value",entityProperty:false,defaultValue:"",twoWay:true,dataType:"string"};var o=opts||{};var def=dojo.mixin(this._defaultBindingOptions,o.defaultBinding||{});var bdgs=o.items||[];for(var i=0;i<bdgs.length;i++){this._addNew(dojo.mixin({},def,bdgs[i]));}},add:function(_ee4){if(_ee4 instanceof Sage.MainView.DataBinding){this._connections.push(dojo.connect(_ee4,"onChange",this,"onChange"));this._bindings.push(_ee4);}},_addNew:function(_ee5){if(_ee5.dataType==="date"){this.add(new _ee1(_ee5));}else{this.add(new _ed7(_ee5));}},addBindings:function(_ee6){if(dojo.isArray(_ee6)){for(var i=0;i<_ee6.length;i++){this._addNew(dojo.mixin(this._defaultBindingOptions,_ee6[i]));}}else{this._addNew(dojo.mixin(this._defaultBindingOptions,_ee6));}},bind:function(){for(var i=0;i<this._bindings.length;i++){if(this._bindings[i] instanceof Sage.MainView.DataBinding){this._bindings[i].bind();}}},setBoundEntity:function(_ee7){this._entity=_ee7;for(var i=0;i<this._bindings.length;i++){if(this._bindings[i] instanceof Sage.MainView.DataBinding){this._bindings[i].set("boundEntity",_ee7);}}},destroy:function(){var i,l=this._connections.length;for(i=0;i<l;i++){dojo.disconnect(this._connections.length);}this._connections=[];l=this._bindings.length;for(i=0;i<l;i++){var item=this._bindings.pop();item.destroy();}this._bindings=[];},onChange:function(_ee8,_ee9,_eea,_eeb){}});return _ee3;});},"Sage/TaskPane/ActivityTaskPaneItem":function(){define("Sage/TaskPane/ActivityTaskPaneItem",["dijit/_Widget","dijit/_TemplatedMixin","dojo/_base/declare"],function(_eec,_eed,_eee){var _eef=_eee("Sage.TaskPane.ActivityTaskPaneItem",[_eec,_eed],{securedAction:"",linkText:"",action:"",postCreate:function(){this.checkSecurityAccess();},templateString:"<a dojoAttachPoint=\"linkTextNode\" href=\"#\"></a>",attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{linkText:{node:"linkTextNode",type:"innerHTML"},action:{node:"linkTextNode",type:"attribute",attribute:"href"}}),_getCurrentUserId:function(){var _ef0="";var _ef1=Sage.Services.getService("ClientContextService");if(_ef1){_ef0=_ef1.getValue("userID");}return _ef0;},checkSecurityAccess:function(){if(this.securedAction.length>0){var _ef2=this._getCurrentUserId();var _ef3=this.linkTextNode;var _ef4=Sage.Services.getService("RoleSecurityService");_ef4.hasAccess(this.securedAction,function(_ef5){var _ef6="none";if(_ef5){_ef6="inline";}dojo.style(_ef3,{"display":_ef6});});}else{dojo.style(this.linkTextNode,{"display":"inline"});}}});return _eef;});},"Sage/MainView/ActivityMgr/SnoozeOptions":function(){define("Sage/MainView/ActivityMgr/SnoozeOptions",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/Dialog","dijit/form/Button","dijit/form/FilteringSelect","dojo/_base/declare","dojo/i18n!./nls/SnoozeOptions"],function(_ef7,_ef8,_ef9,_efa,_efb,_efc,_efd,_efe){var _eff=_efd("Sage.MainView.ActivityMgr.SnoozeOptions",[_ef9,_ef7,_ef8],{fiveMinText:"5 minutes",tenMinText:"10 minutes",fifteenMinText:"15 minutes",thirtyMinText:"30 minutes",oneHourText:"x1 hour",twoHourText:"2 hours",fourHourText:"4 hours",eightHourText:"8 hours",oneDayText:"1 day",twoDayText:"2 days",threeDayText:"3 days",oneWeekText:"1 week",twoWeekText:"2 weeks",snoozeText:"Snooze",snoozeByText:"Snooze by:",snoozeAllText:"Snooze All",snoozeTitle:"Snooze Alarms",widgetsInTemplate:true,templateString:["<div>","<div data-dojo-type=\"dijit.Dialog\" id=\"_snoozeDialog\" title=\"${snoozeTitle}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:hide\">","<div class=\"alarm-snoozebar\" dojoAttachPoint=\"_snoozebar\">","<table>","<tr>","<td class=\"snoozeText\">${snoozeByText}</td>","<td class=\"snoozeBy\">","<select name=\"selectSnoozeBy\" dojoAttachPoint=\"_selSnoozeBy\" data-dojo-type=\"dijit.form.FilteringSelect\">","<option value=\"5\" selected=\"selected\">${fiveMinText}</option>","<option value=\"10\" >${tenMinText}</option>","<option value=\"15\" >${fifteenMinText}</option>","<option value=\"30\" >${thirtyMinText}</option>","<option value=\"60\" >${oneHourText}</option>","<option value=\"120\" >${twoHourText}</option>","<option value=\"240\" >${fourHourText}</option>","<option value=\"480\" >${eightHourText}</option>","<option value=\"1440\" >${oneDayText}</option>","<option value=\"2880\" >${twoDayText}</option>","<option value=\"4320\" >${threeDayText}</option>","<option value=\"10080\" >${oneWeekText}</option>","<option value=\"20160\" >${twoWeekText}</option>","</select>","</td>","<td class=\"snoozeActions\">","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" dojoAttachEvent=\"onClick:_snooze\">${snoozeText}</button>","</td>","</tr>","</table>","</div>","</div>","</div>"].join(""),constructor:function(){dojo.mixin(this,_efe);},show:function(){this._showWithUserOptions();},_showWithUserOptions:function(){var _f00=Sage.Services.getService("UserOptions");if(_f00){_f00.getByCategory("ActivityAlarm",this._receivedOptions,this);}},_receivedOptions:function(data){var opts=data["$resources"];for(var i=0;i<opts.length;i++){var opt=opts[i];if(opt["name"].toUpperCase()==="DEFAULTSNOOZE"){var _f01=opt["value"];this._selSnoozeBy.setValue(_f01);}}this._dialog.show();},hide:function(){this.destroy();},destroy:function(){this._dialog.destroyRecursive();},_snooze:function(_f02){var _f03=Sage.Services.getService("ActivityService");var _f04=this._getNewAlarmTimeOptions();this.hide();_f03.snooze(null,_f04);},_snoozeAll:function(){},_getNewAlarmTime:function(){var _f05=this._getNewAlarmTimeOptions();var _f06=dojo.date.add(new Date(),_f05.interval,_f05.duration);return Sage.Utility.Convert.toIsoStringFromDate(_f06);},_getNewAlarmTimeOptions:function(){var dur=5,_f07="minute";var _f08=this._selSnoozeBy.get("displayedValue");var _f09=this._selSnoozeBy.get("value");switch(_f09){case this.tenMinText:dur=10;break;case this.fifteenMinText:dur=15;break;case this.thirtyMinText:dur=30;break;case this.oneHourText:dur=1;_f07="hour";break;case this.twoHourText:dur=2;_f07="hour";break;case this.fourHourText:dur=4;_f07="hour";break;case this.eightHourText:dur=8;_f07="hour";break;case this.oneDayText:dur=1;_f07="day";break;case this.twoDayText:dur=2;_f07="day";break;case this.threeDayText:dur=3;_f07="day";break;case this.oneWeekText:dur=1;_f07="week";break;case this.twoWeekText:dur=2;_f07="week";break;default:dur=_f09;}var _f0a={name:_f08,duration:dur,interval:_f07};return _f0a;},_showSnooze:function(){}});return _eff;});},"Sage/UI/Controls/PickListAsText":function(){require({cache:{"url:Sage/UI/Controls/templates/PickListAsText.html":"<div>\r\n    <span id=\"${id}-Span\" data-dojo-attach-point=\"textSpan\"></span>\r\n</div>\r\n"}});define("Sage/UI/Controls/PickListAsText",["dijit/_Widget","dijit/_Templated","dojo/data/ItemFileReadStore","dojo/data/ObjectStore","dojo/store/Memory","Sage/UI/Controls/PickList","dojo/text!./templates/PickListAsText.html","dojo/_base/declare"],function(_f0b,_f0c,_f0d,_f0e,_f0f,_f10,_f11,_f12){var _f13=_f12("Sage.UI.Controls.PickListAsText",[_f10,_f0b,_f0c],{constructor:function(_f14){if(_f14.clientId){this.id=_f14.clientId+"-PickListAsText";}this.inherited(arguments);},_loadData:function(){var def=new dojo.Deferred();this.getPickListData(def);def.then(dojo.hitch(this,function(data){if(typeof data==="string"){this.textSpan.innerHTML=data;}var _f15=[];for(var i=0;i<data.items.$resources.length;i++){var item=data.items.$resources[i];_f15.push({id:item.$key,code:item.code,number:item.number,text:item.text});}this.storeData={identifier:"id",label:"text",items:_f15};var _f16=new _f0d({data:this.storeData});var _f17=dojo.byId(this.textId);var _f18=dojo.byId(this.codeId);if(_f17&&_f17.value){this.initialValue=_f17.value;this.textSpan.innerHTML=this.initialValue;}if(!this.initialCode&&_f18&&_f18.value){this.initialCode=_f18.value;}if(this.initialCode){var _f19=this.getStoreItemById(this.initialCode);if(_f19){this.initialValue=_f19.text;this.textSpan.innerHTML=this.initialValue;}}}),function(e){console.error(e);});},getStoreItemById:function(id){var _f1a=null;if(this.storeData){dojo.forEach(this.storeData.items,function(item,_f1b,_f1c){if(item.id===id){_f1a=item;}},this);}return _f1a;},_setPickListNameAttr:function(_f1d){this.inherited(arguments);this._loadData();},templateString:_f11,widgetsInTemplate:true,storeData:null,initialValue:"",initialCode:"",textId:"",codeId:""});return _f13;});},"Sage/UI/WidgetEditor":function(){define("Sage/UI/WidgetEditor",["dojo/data/ItemFileReadStore","dojox/widget/Portlet","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/declare","dojo/i18n!./Dashboard/nls/WidgetDefinition","dojo/dom-style","dojo/on","dojo/_base/lang"],function(_f1e,_f1f,_f20,_f21,_f22,_f23,on,lang){var _f24=_f21("Sage.UI.WidgetEditor",[dojox.widget.PortletDialogSettings],{_grpUrl:new Simplate("slxdata.ashx/slx/crm/-/groups/context/grouplist/{%= $.grp %}"),_dimUrl:new Simplate("slxdata.ashx/slx/crm/-/analytics/dimension/{%= $.dim %}"),_metUrl:new Simplate("slxdata.ashx/slx/crm/-/analytics/metric/{%= $.met %}"),_entityUrl:"slxdata.ashx/slx/crm/-/groups/context/entityList?filter=analytics",_getStore:function(uri){return new _f1e({url:uri});},_addEnt:function(str){return "Sage.Entity.Interfaces.I"+str;},_remEnt:function(str){return str.replace("Sage.Entity.Interfaces.I","");},_remAmp:function(str){return str[str.length-1]==="&"?str.slice(0,-1):str;},_pushEnt:function(val){this._entStr=dojo.string.substitute("entity=${0}&",[val]);},_pushGrp:function(val){this._grpStr=dojo.string.substitute("groupname=${0}&",[val]);},_pushDim:function(val){this._dimStr=dojo.string.substitute("dimension=${0}&",[val]);},_pushMet:function(val){this._metStr=dojo.string.substitute("metric=${0}&",[val]);},_pushLim:function(val){this._limStr=dojo.string.substitute("limit=${0}&",[val]);},_pushOth:function(val){this._othStr=dojo.string.substitute("combineother=${0}",[val]);},_checkHydrate:function(){var opts=this.portlet.widgetOptions;if(opts.groupname&&this._grpField){if(this._originalGroup){opts.groupname=this._originalGroup;}var _f25=this._grpField;_f25.store.fetch({query:{groupName:opts.groupname},onComplete:function(i,r){_f25.set("value",_f25.store.getValue(i[0],"displayName"));},queryOptions:{deep:true}});this._originalGroup=opts.groupname;}if(opts.dimension&&this._dimField){if(this._originalDimension){opts.dimension=this._originalDimension;}var df=this._dimField;df.store.fetch({query:{name:opts.dimension},onComplete:function(i,r){df.set("value",df.store.getValue(i[0],"displayName"));},queryOptions:{deep:true}});this._originalDimension=opts.dimension;}if(opts.metric&&this._metField){if(this._originalMetric){opts.metric=this._originalMetric;}var mf=this._metField;mf.store.fetch({query:{name:opts.metric},onComplete:function(i,r){mf.set("value",mf.store.getValue(i[0],"displayName"));},queryOptions:{deep:true}});this._originalMetric=opts.metric;}this._hydrateChecked=true;},_setFields:function(_f26){switch(_f26.id){case this.portlet.id+"_ttlField":this._ttlField=_f26;break;case this.portlet.id+"_subField":this._subField=_f26;break;case this.portlet.id+"_entCombo":this._entField=_f26;on.once(this._entField._buttonNode,"click",lang.hitch(this,function(){var _f27=dojo.byId(this.portlet.id+"_loading");_f23.set(_f27,"display","block");this._entField.set("store",this._getStore(this._entityUrl));this._entField.store.fetch({query:"",onComplete:function(){_f23.set(_f27,"display","none");window.entityField.loadAndOpenDropDown();window.entityField.focus();}});}));break;case this.portlet.id+"_grpCombo":this._grpField=_f26;break;case this.portlet.id+"_dimCombo":this._dimField=_f26;break;case this.portlet.id+"_metCombo":this._metField=_f26;break;case this.portlet.id+"_goalField":this._goalField=_f26;break;case this.portlet.id+"_xField":this._xField=_f26;break;case this.portlet.id+"_yField":this._yField=_f26;break;case this.portlet.id+"_numberMaximum":this._numberMaximum=_f26;this._numberMaximum.constraints.min=1;break;case this.portlet.id+"_rdoOthY":this._rdoOthY=_f26;break;case this.portlet.id+"_rdoOthN":this._rdoOthN=_f26;break;case this.portlet.id+"_rdoLegY":this._rdoLegY=_f26;break;case this.portlet.id+"_rdoLegN":this._rdoLegN=_f26;break;case this.portlet.id+"_rdoLabY":this._rdoLabY=_f26;break;case this.portlet.id+"_rdoLabN":this._rdoLabN=_f26;break;case this.portlet.id+"_rdoTruY":this._rdoTruY=_f26;break;case this.portlet.id+"_rdoTruN":this._rdoTruN=_f26;break;case this.portlet.id+"_truncField":this._truncField=_f26;this._truncField.constraints.min=1;break;case this.portlet.id+"_btnOK":this._btnOK=_f26;break;case this.portlet.id+"_btnCancel":this._btnCancel=_f26;this._btnCancel.set("style","margin-left:10px;");break;default:this[_f26.id]=_f26;if(!this.customOptions){this.customOptions=[];}var _f28=_f26.id.split(this.portlet.id);if(_f28.length==2){if(_f28[1].indexOf("_")===0){_f28[1]=_f28[1].substring(1);}this.customOptions.push({id:_f26.id,option:_f28[1]});}break;}},_validateOOTBRequired:function(){var _f29=true;if(this._entField&&!this._entField.isValid()){this._entField.set("state","Error");_f29=false;}if(this._grpField&&!this._grpField.isValid()){this._grpField.set("state","Error");_f29=false;}if(this._dimField&&!this._dimField.isValid()){this._dimField.set("state","Error");_f29=false;}if(this._metField&&!this._metField.isValid()){this._metField.set("state","Error");_f29=false;}return _f29;},toggle:function(){var that=this;var _f2a=dijit.byId(that.portlet._parentId);var i,len;if(_f2a.permission){if(!this._childWidgets){this._childWidgets=this.getChildren();for(i=0,len=this._childWidgets.length;i<len;i++){this._setFields(this._childWidgets[i]);}}if(!this.dialog){dojo.require("dijit.Dialog");this.dialog=new dijit.Dialog({title:this.title});this.dialog.containerNode.style.height=this.dimensions[1]+"px";if(!this.dialog.helpIcon){dojo.mixin(this.dialog,new _f20());this.dialog.createHelpIconByTopic("Using_Widgets");}dojo.body().appendChild(this.dialog.domNode);this.dialog.containerNode.appendChild(this.domNode);dojo.style(this.dialog.domNode,{"width":this.dimensions[0]+"px","height":(this.dimensions[1]+50)+"px"});dojo.style(this.domNode,"display","");}if(this.dialog.open){this._hydrateChecked=false;this.dialog.hide();}else{var opts=this.portlet.widgetOptions;this.dialog.show(this.domNode);if(opts.title&&this._ttlField){var _f2b=opts.title.replace(/'/g,"_").replace(/ /g,"_");this._ttlField.set("value",_f22[_f2b]||opts.title);}if(this._entField){if(this._entField&&!this._entChange){this._entChange=dojo.connect(this._entField,"onChange",this,function(arg){var _f2c=this._entField.item?this._entField.item.fullName[0]:this._addEnt(arg),_f2d=this._remEnt(_f2c);this._pushEnt(_f2c);opts.entity=_f2c;opts.resource=_f2d;if(this._grpField){this._grpField.set("store",this._getStore(this._grpUrl.apply({grp:_f2d})));this._grpField.store.urlPreventCache=true;this._grpField.set("value","");}if(this._dimField){this._dimField.set("store",this._getStore(this._dimUrl.apply({dim:_f2d})));this._dimField.set("value","");}if(this._metField){this._metField.set("store",this._getStore(this._metUrl.apply({met:_f2d})));this._metField.set("value","");}this._checkHydrate();});}if(this._grpField&&!this._grpChange){this._grpChange=dojo.connect(this._grpField,"onChange",this,function(arg){if(!this._grpField.isValid()){return false;}var _f2e=this._grpField.store;_f2e.fetch({query:{displayName:arg},onComplete:function(i,r){var gn=_f2e.getValue(i[0],"groupName");that._pushGrp(gn);opts.groupname=gn;},queryOptions:{deep:true}});});}if(this._dimField&&!this._dimChange){this._dimChange=dojo.connect(this._dimField,"onChange",this,function(arg){if(!this._dimField.isValid()){return false;}var _f2f=this._dimField.store;_f2f.fetch({query:{displayName:arg},onComplete:function(i,r){var n=_f2f.getValue(i[0],"name");that._pushDim(n);opts.dimension=n;},queryOptions:{deep:true}});});}if(this._metField&&!this._metChange){this._metChange=dojo.connect(this._metField,"onChange",this,function(arg){if(!this._metField.isValid()){return false;}var _f30=this._metField.store;_f30.fetch({query:{displayName:arg},onComplete:function(i,r){var m=_f30.getValue(i[0],"name");that._pushMet(m);opts.metric=m;},queryOptions:{deep:true}});});}if(opts.entity){if(this._originalEntity){if(this._originalEntity===opts.entity){this._checkHydrate();}else{this._entField.set("value",this._remEnt(this._originalEntity));}}else{this._entField.set("value",this._remEnt(opts.entity));this._originalEntity=opts.entity;}}}if(this._subField){if(opts.subtitle){this._subField.set("value",opts.subtitle);}else{this._subField.set("value","");}}if(this._xField){if(opts.xAxisName){this._xField.set("value",opts.xAxisName);}else{this._xField.set("value","");}}if(this._yField){if(opts.yAxisName){this._yField.set("value",opts.yAxisName);}else{this._yField.set("value","");}}if(this._numberMaximum){if(opts.numberMaximum){this._numberMaximum.set("value",opts.numberMaximum);}else{this._numberMaximum.set("value","10");}}if(this._goalField){if(opts.goal){this._goalField.set("value",opts.goal);}else{this._goalField.set("value","");}}if(this._rdoOthY){if(!opts.combineother){this._rdoOthN.set("checked",true);}else{if(opts.combineother==="true"){this._rdoOthY.set("checked",true);}else{this._rdoOthN.set("checked",true);}}}if(this._rdoLegY){if(!opts.showLegend){this._rdoLegN.set("checked",true);}else{if(opts.showLegend==="true"){this._rdoLegY.set("checked",true);}else{this._rdoLegN.set("checked",true);}}}if(this._rdoLabY){if(!opts.showLabels){this._rdoLabN.set("checked",true);}else{if(opts.showLabels==="true"){this._rdoLabY.set("checked",true);}else{this._rdoLabN.set("checked",true);}}}if(this._rdoTruY){if(!opts.truncLabels){this._rdoTruN.set("checked",true);}else{if(opts.truncLabels==="true"){this._rdoTruY.set("checked",true);}else{this._rdoTruN.set("checked",true);}}}if(this._truncField){if(opts.truncNum){this._truncField.set("value",opts.truncNum);}else{this._truncField.set("value","");}}if(this.customOptions){for(i=0;i<this.customOptions.length;i++){var _f31=this.customOptions[i].option,_f32=this.customOptions[i].id;if(opts[_f31]){this[_f32].set("value",opts[_f31]);}}}for(i=0;i<this._childWidgets.length;i++){if(this._childWidgets[i]._myEditRowInit){this._childWidgets[i]._myEditRowInit(opts);}}if(!this._cancelClick){this._cancelClick=dojo.connect(this._btnCancel,"onClick",this,function(){for(i=0;i<this._childWidgets.length;i++){if(this._childWidgets[i]._myEditRowCancel){this._childWidgets[i]._myEditRowCancel(opts);}}this.toggle();if(this.portlet.isNew){this.portlet.onClose();this.portlet.destroy();}});}if(!this._okClick){this._okClick=dojo.connect(this._btnOK,"onClick",this,function(){var _f33=["slxdata.ashx/slx/crm/-/analytics?"];if(this._ttlField){if(!this._ttlField.isValid()){return false;}var _f34=this._ttlField.get("value");var _f35=opts.title.replace(/'/g,"_").replace(/ /g,"_");if(_f34){this.portlet.set("title",_f34);if(_f34!=_f22[_f35]){opts.title=_f34;}}}if(this._subField){var sub=this._subField.get("value");if(sub){opts.subtitle=sub;}else{opts.subtitle="";}if(!this._subField.isValid()){return false;}}if(this._xField){var xa=this._xField.get("value");if(xa){opts.xAxisName=xa;}else{opts.xAxisName="";}if(!this._xField.isValid()){return false;}}if(this._yField){var ya=this._yField.get("value");if(ya){opts.yAxisName=ya;}else{opts.yAxisName="";}if(!this._yField.isValid()){return false;}}if(this._numberMaximum){var _f36=this._numberMaximum.get("value");if(_f36){opts.numberMaximum=_f36;}else{opts.numberMaximum="5";}this._pushLim(opts.numberMaximum);if(!this._numberMaximum.isValid()){return false;}}if(this._goalField){var gl=this._goalField.get("value");if(gl){opts.goal=gl;}else{opts.goal="";}if(!this._goalField.isValid()){return false;}}if(this._rdoLabY){var _f37=this._rdoLabY.get("value");if(_f37){opts.showLabels="true";}else{opts.showLabels="false";}}if(this._rdoTruY){var _f38=this._rdoTruY.get("value");if(_f38){opts.truncLabels="true";}else{opts.truncLabels="false";}}if(this._rdoOthY){var _f39=this._rdoOthY.get("value");if(_f39){opts.combineother="true";this._pushOth("true");}else{opts.combineother="false";this._pushOth("false");}}if(this._rdoLegY){var _f3a=this._rdoLegY.get("value");if(_f3a){opts.showLegend="true";}else{opts.showLegend="false";}}if(this._truncField){var num=this._truncField.get("value");if(num){opts.truncNum=num;}if(!this._truncField.isValid()){return false;}}if(!this._validateOOTBRequired()){return false;}if(this._grpField){if(!this._grpStr){this._grpField.store.fetch({query:{displayName:this._grpField.get("value")},onComplete:function(i,r){that._pushGrp(that._grpField.store.getValue(i[0],"groupName"));},queryOptions:{deep:true}});}}if(this._dimField){if(!this._dimStr){this._dimField.store.fetch({query:{displayName:this._dimField.get("value")},onComplete:function(i,r){that._pushDim(that._dimField.store.getValue(i[0],"name"));},queryOptions:{deep:true}});}}if(this._metField){if(!this._metStr){this._metField.store.fetch({query:{displayName:this._metField.get("value")},onComplete:function(i,r){that._pushMet(that._metField.store.getValue(i[0],"name"));},queryOptions:{deep:true}});}}if(this.customOptions){for(i=0;i<this.customOptions.length;i++){var _f3b=this.customOptions[i].option,_f32=this.customOptions[i].id;opts[_f3b]=this[_f32].value;}}for(i=0;i<this._childWidgets.length;i++){if(this._childWidgets[i]._myEditRowSave){this._childWidgets[i]._myEditRowSave(opts);}}if(this._dimStr){_f33.push(this._dimStr);}if(this._metStr){_f33.push(this._metStr);}if(this._entStr){_f33.push(this._entStr);}if(this._grpStr){_f33.push(this._grpStr);}if(this._limStr){_f33.push(this._limStr);}if(this._othStr){_f33.push(this._othStr);}opts.datasource=this._remAmp(_f33.join(""));dojo.publish("/ui/dashboard/pageSave",[this.portlet._page]);if(this.portlet.isNew){this.portlet.isNew=false;}this.portlet.refresh(true);this.toggle();});}}}else{_f2a._raisePermissionInvalidMessage();}}});return _f24;});},"Sage/QuickForms/Design/ColumnDesigner":function(){define("Sage/QuickForms/Design/ColumnDesigner",["dojo/string","dojo/topic","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dijit/_WidgetBase","./Editors/ColumnBasicPropertyEditor","dojo/i18n!./nls/ColumnDesigner"],function(_f3c,_f3d,_f3e,lang,_f3f,_f40,_f41,_f42){return _f3e("Sage.QuickForms.Design.ColumnDesigner",[_f40],{entry:null,editors:[_f41],helpTopicName:"Column_properties",displayNameText:"Column",constructor:function(){lang.mixin(this,_f42);},set:function(name,_f43){var _f44=this.inherited(arguments);var _f45=this._getAttrNames(name),_f46=this[_f45.s];if(lang.isFunction(_f46)){_f3d.publish("/quickforms/design/designerModified",this,name,_f43,_f44,this);}return _f44;},_getWidthAttr:function(){return lang.getObject("Width",false,this.entry);},_setWidthAttr:function(_f47){lang.setObject("Width",_f47,this.entry);},_getSizeTypeAttr:function(){return lang.getObject("SizeType",false,this.entry);},_setSizeTypeAttr:function(_f48){lang.setObject("SizeType",_f48,this.entry);}});});},"Sage/Library/nls/FileHandler":function(){define("Sage/Library/nls/FileHandler",["Sage/LanguageList","dojo/_base/lang"],function(_f49,lang){var nls={root:{AccessError:"You do not have the role security required to execute this action.",Available:"Available",Confirm:"Confirm",DeleteFileCnfmFmt:"Are you sure you want to delete the file \"${0}\"?",Delivered:"Delivered: Not read",DeliveredRead:"Delivered: Read",DocumentPropertiesError:"There was an unexpected error attempting to retrieve the document properties.",DocumentPropertiesUpdateError:"There was an unexpected error attempting to update document properties.",DocumentUpdateConflictError:"The file has been updated by another user, please refresh and retry.",FileDeleteError:"There was an unexpected error attempting to delete a file.",FileStatusError:"There was an unexpected error attempting to update the file status.",LogRequestError:"There was an unexpected failure attempting to log the document synchronization request.",No:"No",NoAccessMessage:"You do not have permission to add files to the Library. For more information contact your Saleslogix administrator.",Ordered:"Ordered",PleaseSelectFile:"Please select a file.",PleaseWait:"Please wait",Revised:"Revised",RevisionOrdered:"Revision Ordered",UploadError:"There was an error attempting to upload a file.",Unknown:"Unknown",Yes:"Yes"}};return lang.mixin(_f49,nls);});},"Sage/UI/Controls/DropDownSelectPickList":function(){require({cache:{"url:Sage/UI/Controls/templates/DropDownSelectPickList.html":"<div>\r\n    <select id=\"${id}-Select\" data-dojo-type=\"Sage.UI.ComboBox\" shouldPublishMarkDirty=\"false\" dojoAttachPoint=\"comboBox\" value=\"${value}\" dojoAttachEvent=\"onBlur: _onBlur,onChange:_onChange\">\r\n    </select>\r\n</div>\r\n"}});define("Sage/UI/Controls/DropDownSelectPickList",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/form/ComboBox","dojo/data/ItemFileReadStore","dojo/data/ObjectStore","dojo/store/Memory","Sage/UI/ComboBox","Sage/UI/Controls/PickList","dojo/_base/array","dojo/text!./templates/DropDownSelectPickList.html","dojo/_base/declare"],function(_f4a,_f4b,_f4c,_f4d,_f4e,_f4f,_f50,_f51,_f52,_f53,_f54,_f55){var _f56=_f55("Sage.UI.Controls.DropDownSelectPickList",[_f52,_f4c,_f4a,_f4b],{constructor:function(_f57){if(_f57.clientId){this.id=_f57.clientId+"-DropDownSelectPickList";}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);},_onChange:function(_f58){this.onChange(_f58);},_loadData:function(){var def=new dojo.Deferred();this.getPickListData(def);def.then(dojo.hitch(this,function(data){if(typeof data==="string"){this.comboBox.set("value",data);}var _f59=[];for(var i=0;i<data.items.$resources.length;i++){var item=data.items.$resources[i];_f59.push({id:item.$key,code:item.code,number:item.number,text:item.text});}this.storeData={identifier:"id",label:"text",items:_f59};var _f5a=new _f4e({data:this.storeData});this.comboBox.set("store",_f5a);this.comboBox.set("searchAttr","text");}),function(e){console.error(e);});},uninitialize:function(){this.inherited(arguments);},_getValueAttr:function(){var _f5b=this.comboBox.get("value");if(this.storeMode==="id"){_f53.forEach(this.storeData.items,function(item){if(_f5b==item.text){_f5b=item.id;}},this);}return _f5b;},_setPickListNameAttr:function(_f5c){this.inherited(arguments);this._loadData();},value:"",templateString:_f54,widgetsInTemplate:true,storeData:null,lastValidValue:"",onChange:function(_f5d){}});return _f56;});},"Sage/UI/SLXPreviewGrid":function(){define("Sage/UI/SLXPreviewGrid",["./SLXPreviewGrid/Grid","./SLXPreviewGrid/FilterPanel","./SLXPreviewGrid/Filter/DateRange","./SLXPreviewGrid/Filter/Text"],function(Grid,_f5e,_f5f,Text){return {Grid:Grid,FilterPanel:_f5e,Filter:{DateRange:_f5f,Text:Text}};});},"Sage/QuickForms/Design/EmailControlDesigner":function(){define("Sage/QuickForms/Design/EmailControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","./TextBoxControlDesigner","./Editors/LayoutPropertyEditor","./Editors/TextBoxBasicPropertyEditor","./Editors/TextBoxAdvancedPropertyEditor","dojo/i18n!./nls/EmailControlDesigner"],function(_f60,_f61,lang,_f62,_f63,_f64,_f65,_f66){return _f60("Sage.QuickForms.Design.EmailControlDesigner",[_f62],{designSupport:{visible:true},editors:[_f64,_f65,_f63],widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %} design-email\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","<div class=\"design-email-icon\"></div>","</div>","</div>"]),helpTopicName:"Email_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXEmail, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Email",constructor:function(){lang.mixin(this,_f66);}});});},"Sage/Utility/PickList":function(){define("Sage/Utility/PickList",["dojo/_base/lang","dojo/_base/declare","Sage/Data/SDataServiceRegistry","dojo/json","./_LocalStorageMixin","../Utility"],function(lang,_f67,_f68,json,_f69,util){var _f6a=_f67("Sage.Utility.PickList",[_f69],{_storageNameSpace:"PickListData",checkStaleCache:function(){var _f6b=this.getFromLocalStorage("modified_at",this._storageNameSpace);var _f6c=sessionStorage.getItem("PickListChangeStateCheck");if(_f6b&&_f6c===null){_f6b=new Date(Date.parse(_f6b));var _f6d,_f6e,_f6f,data;data=sessionStorage.getItem("pickListExpireCheck");if(data===null){_f6d=_f68.getSDataService("system");_f6e=new Sage.SData.Client.SDataServiceOperationRequest(_f6d);_f6e.setOperationName("getPickListsChangeState");_f6e.execute({},{success:lang.hitch(this,function(data){if(!data||!data.response||!data.response.lastModifiedDate){return;}var _f70=util.Convert.toDateFromString(data.response.lastModifiedDate);if(this._isLocalStorageExpired(_f6b,_f70)){this.clear(this._storageNameSpace);}})});sessionStorage.setItem("PickListChangeStateCheck","true");}}},_isLocalStorageExpired:function(_f71,_f72){_f71.setSeconds(0);_f72.setSeconds(0);_f71.setMilliseconds(0);_f72.setMilliseconds(0);return _f72.valueOf()>=_f71.valueOf();},});Sage.namespace("Utility.PickList");lang.mixin(Sage.Utility.PickList,new _f6a());return Sage.Utility.PickList;});},"Sage/UI/Dashboard/BaseWidget":function(){define("Sage/UI/Dashboard/BaseWidget",["Sage/UI/Dashboard/BaseWidget","Sage/Utility","dojo/i18n","Sage/UI/EditorContainer","dojo/_base/declare","dojo/i18n!./nls/WidgetDefinition"],function(_f73,util,i18n,_f74,_f75){var _f76=_f75("Sage.UI.Dashboard.BaseWidget",null,{constructor:function(def){dojo.safeMixin(this,def);},postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.UI.Dashboard","WidgetDefinition"));this.inherited(arguments);},family:"System",prefHeight:0.33,timestamp:true,_getEditorString:function(_f77,_f78){var _f79=i18n.getLocalization("Sage.UI.Dashboard","WidgetDefinition");var _f7a=_f79[this.name];if(_f7a){_f7a+=" "+_f79["settingsText"];}else{_f7a=_f79["defaultWidgetText"];}_f77._pcid=_f78;var cont=new _f74(_f77);if(!cont){}if(this._editorTpl){return this._editorTpl.apply({title:_f7a,id:_f78+"_editor",content:cont.doTemplate()});}return "";}});return _f76;});},"Sage/TaskPane/ActivityTaskConfigurationProvider":function(){define("Sage/TaskPane/ActivityTaskConfigurationProvider",["Sage/Services/_ServiceMixin","Sage/_ConfigurationProvider","Sage/Services/ActivityService","Sage/TaskPane/ActivityTaskContents","Sage/TaskPane/ActivityTaskPaneItem","dojo/on","dojo/_base/lang","dojo/i18n!./nls/ActivityTaskConfigurationProvider","dojo/_base/declare"],function(_f7b,_f7c,_f7d,_f7e,_f7f,on,lang,_f80,_f81){var _f82=_f81("Sage.TaskPane.ActivityTaskConfigurationProvider",[_f7c,_f7b],{serviceMap:{"groupContextService":"ClientGroupContext"},_roleSecurityService:null,_currentUserId:null,scheduleText:"Schedule",eventText:"Event",phoneCallText:"Phone Call",toDoText:"To-Do",meetingText:"Meeting",personalActivityText:"Personal Activity",deleteConfirmationText:"Delete Confirmation",acceptConfirmationText:"Accept Confirmation",declineConfirmationText:"Decline Confirmation",completeActivityText:"Complete Activity",deleteActivityText:"Delete Activity",deleteEventText:"Delete Event",scheduleEventText:"Schedule Event",scheduleRequestText:"Schedule Request",deleteRequestText:"Delete Request",recordsSelectedText:"record(s) selected",clearText:"Clear",actionNameSpace:"Sage.TaskPane.ActivityTaskPaneActions",_taskConfigs:false,constructor:function(_f83){lang.mixin(this,_f80);this.inherited(arguments);this._subscribes.push(dojo.subscribe("/group/context/changed",this,this._onGroupContextChanged));var _f84=Sage.Services.getService("ClientContextService");if(_f84){if(_f84.containsKey("userID")){this._currentUserId=_f84.getValue("userID");}}this._roleSecurityService=Sage.Services.getService("RoleSecurityService");},_onGroupContextChanged:function(){this.onConfigurationChange();},onConfigurationChange:function(){},_createConfiguration:function(){var _f85;var _f86=this.groupContextService&&this.groupContextService.getContext();var _f87=_f86&&_f86["CurrentGroupID"];var _f88=this.getTaskConfiguration(_f87);var _f89=new _f7e({taskTemplate:_f88.configuration.taskTemplate});_f89.startup();var _f8a={tabId:_f88.configuration.key,taskPane:_f89};return _f8a;},getTaskConfiguration:function(key){var _f8b=this.getTaskConfigurations();for(var i=0;i<_f8b.length;i++){if(_f8b[i].key.toUpperCase()===key.toUpperCase()){return _f8b[i];}}var _f8c={key:"default",configuration:this._getDefaultConfig()};return _f8c;},getTaskConfigurations:function(){if(this._taskConfigs){return this._taskConfigs;}this._taskConfigs=[{key:"activities",configuration:this._getActivityConfig()},{key:"allopen",configuration:this._getActivityConfig()},{key:"pastdue",configuration:this._getPastDueConfig()},{key:"alarms",configuration:this._getAlarmConfig()},{key:"events",configuration:this._getEventConfig()},{key:"confirmations",configuration:this._getConfirmConfig()},{key:"literature",configuration:this._getLitRequestConfig()}];return this._taskConfigs;},_getTaskTemplateString:function(_f8d,_f8e){var ts=[];ts.push("<div class=\"task-pane-item-common-tasklist\">");ts.push("<span id=\"selectionCount\" class=\"task-pane-item-common-selectionText\"> 0 </span><span id=\"selectionText\"> "+this.recordsSelectedText+"</span><br>");ts.push("<a id=\"clearSelection\" href=\"#\" class=\"task-pane-item-common-clearselection\" dojoAttachEvent=\"click:_clearSelection\">"+this.clearText+"</a><br>");ts.push("<hr>");for(var i=0;i<_f8d.length;i++){var task=_f8d[i];var _f8f=this.actionNameSpace;if(task.actionNameSpace){_f8f=task.actionNameSpace;}if(task.template){ts.push(task.template);}else{ts.push("<li>");var _f90="";if(task.style){_f90=task.style;}ts.push(dojo.string.substitute("<div dojotype=\"Sage.TaskPane.ActivityTaskPaneItem\" class=\"task-pane-item-common-tasklist\" style=\"${4}\"  linkText=\"${3}\" securedAction=\"${4}\" action=\"javascript: ${1}.${2}\"></div>",[task.taskId,_f8f,task.action,task.displayName,task.securedAction,_f90]));}}ts.push("</div>");return ts;},_getCommonTasks:function(){var _f91=[];return _f91;},_getCommonActivityTasks:function(){var _f92=this._getCommonTasks();_f92.push({template:"<div class='slxLabel'>"+this.scheduleText+"</div>"});_f92.push({template:"<div style='padding-left:15px;'>"});_f92.push({taskId:"SchedulePhoneCall",type:"Link",displayName:this.phoneCallText,action:"schedulePhoneCall();",securedAction:"",style:"padding-left:15px;"});_f92.push({taskId:"ScheduleMeeting",displayName:this.meetingText,action:"scheduleMeeting()",securedAction:"",style:"padding-left:15px;"});_f92.push({taskId:"ScheduleToDo",type:"Link",displayName:this.toDoText,action:"scheduleToDo();",securedAction:"",style:"padding-left:15px;"});_f92.push({taskId:"SchedulePersonal",type:"Link",displayName:this.personalActivityText,action:"schedulePerosnalActivity();",securedAction:"",style:"padding-left:15px;"});_f92.push({template:"</div>"});_f92.push({taskId:"Complete",type:"Link",displayName:this.completeActivityText,action:"completeActivity();",securedAction:""});_f92.push({taskId:"Delete",type:"Link",displayName:this.deleteActivityText,action:"deleteActivity();",securedAction:""});return _f92;},_getActivityConfig:function(_f93,_f94){var _f95=this._getCommonActivityTasks();var _f96="Activities";var _f97=this._getTaskTemplateString(_f95,_f96);var _f98=new Simplate(_f97);var _f99={key:"activities",taskTemplate:_f98};return _f99;},_getPastDueConfig:function(_f9a,_f9b){var _f9c=this._getCommonActivityTasks();var _f9d="Past Due";var _f9e=this._getTaskTemplateString(_f9c,_f9d);var _f9f=new Simplate(_f9e);var _fa0={key:"PastDue",taskTemplate:_f9f};return _fa0;},_getAlarmConfig:function(_fa1,_fa2){var _fa3="<div>Test</div>";var _fa4=this._getCommonActivityTasks();var _fa5="Alarms";var _fa6=this._getTaskTemplateString(_fa4,_fa5);var _fa7=new Simplate(_fa6);var _fa8={key:"Alarms",taskTemplate:_fa7};return _fa8;},_getLitRequestConfig:function(_fa9,_faa){var _fab=this._getCommonTasks();_fab.push({taskId:"ScheduleLitRequest",displayName:this.scheduleRequestText,action:"scheduleLitRequest();",securedAction:"",style:"padding-left:15px;"});_fab.push({taskId:"DeleteRequest",displayName:this.deleteRequestText,action:"deleteLitRequest();",securedAction:""});var _fac="Litature Requests";var _fad=this._getTaskTemplateString(_fab,_fac);var _fae=new Simplate(_fad);var _faf={key:"LitRequests",taskTemplate:_fae};return _faf;},_getEventConfig:function(_fb0,_fb1){var _fb2=this._getCommonTasks();_fb2.push({taskId:"ScheduleEvent",displayName:this.scheduleEventText,action:"scheduleEvent();",securedAction:"",style:"padding-left:15px;"});_fb2.push({taskId:"DeleteEvent",displayName:this.deleteEventText,action:"deleteEvent();",securedAction:""});var _fb3="Events";var _fb4=this._getTaskTemplateString(_fb2,_fb3);var _fb5=new Simplate(_fb4);var _fb6={key:"Events",taskTemplate:_fb5};return _fb6;},_getConfirmConfig:function(_fb7,_fb8){var _fb9=this._getCommonTasks();_fb9.push({taskId:"AcceptConfirmation",displayName:this.acceptConfirmationText,action:"acceptConfirmation();",securedAction:""});_fb9.push({taskId:"DeclineConfirmation",displayName:this.declineConfirmationText,action:"declineConfirmation();",securedAction:""});_fb9.push({taskId:"DeleteConfirmation",displayName:this.deleteConfirmationText,action:"deleteConfirmation();",securedAction:""});var _fba="Confirmations";var _fbb=this._getTaskTemplateString(_fb9,_fba);var _fbc=new Simplate(_fbb);var _fbd={key:"Confirmations",taskTemplate:_fbc};return _fbd;},_getDefaultConfig:function(_fbe,_fbf){var _fc0={};var _fc1="Default";var _fc2=this._getTaskTemplateString(_fc0,_fc1);var _fc3=new Simplate(_fc2);var _fc4={key:"Default",taskTemplate:_fc3};return _fc4;},buildTaskConfiguration:function(key,_fc5,_fc6){var _fc7=this._getTaskTemplateString(_fc6,_fc5);var _fc8=new Simplate(_fc7);var _fc9={key:key,taskTemplate:_fc8};return _fc9;},addTaskConfiguration:function(_fca){var _fcb=this.getTaskConfiguration(_fca.key);if(_fcb.key==="default"){var _fcc={key:_fca.key,configuration:_fca};var _fcd=this.getTaskConfigurations();_fcd.push(_fcc);}else{_fcb.configuration=_fca;}},requestConfiguration:function(_fce){this._onRequestConfigurationSuccess(_fce,null);},_onRequestConfigurationSuccess:function(_fcf,_fd0){if(_fcf.success){_fcf.success.call(_fcf.scope||this,this._createConfiguration(_fd0,_fcf),_fcf,this);}this._createConfiguration(_fd0,_fcf);},_onRequestConfigurationFailure:function(_fd1,_fd2){if(_fd1.failure){_fd1.failure.call(_fd1.scope||this,_fd2,_fd1,this);}},_scheduleMeeting:function(_fd3){}});return _f82;});},"Sage/UI/nls/ListPanel":function(){define("Sage/UI/nls/ListPanel",["Sage/LanguageList","dojo/_base/lang"],function(_fd4,lang){var nls={root:{listText:"List",summaryText:"Summary",detailText:"Detail",hideDetailText:"Hide Detail",unsavedDataText:"*unsaved data",helpText:"Help",refreshText:"Refresh",displayingText:"Displaying",ofText:"of",overflowText:"Your search returned a large number of results. Narrow your search by applying filters."}};return lang.mixin(_fd4,nls);});},"Sage/UI/ActivityScheduler":function(){define("Sage/UI/ActivityScheduler",["dojo/i18n","dojo/date","dijit/Menu","Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/Utility/UserOptions","Sage/Utility/Activity","Sage/Utility","Sage/MainView/ActivityMgr/OccurrenceOrSeriesQueryDlg","dojo/i18n!./nls/ActivityScheduler","dojo/_base/declare","dojo/_base/lang","dojo/string"],function(i18n,_fd5,_fd6,_fd7,_fd8,_fd9,_fda,_fdb,_fdc,_fdd,_fde,_fdf,_fe0){var _fe1=_fde("Sage.UI.ActivityScheduler",null,{_weekStart:null,_scheduler:null,_schedulerId:"slxLogixScheduler",schedulerContextMenu:null,eventConnections:[],_menuItems:null,_contentWindow:null,_iFrameId:null,_userOptions:{},_schedulerLaunched:false,self:this,_recurringIcon:"../../images/icons/recurring_14x14.png",_attachmentIcon:"../../images/icons/attach_14x14.png",_alarmIcon:"../../images/icons/alarm_14x14.png",_activityCompleteIcon:"../../images/icons/completed_step_14x14.png",_userActivityData:{},_currentActivity:{},_securityAccessData:[],constructor:function(_fe2,_fe3,_fe4,_fe5){_fdf.mixin(this,_fdd);this._userOptions={daystarttime:"9",dayendtime:"6",defaultactivity:"meeting",starttime:"8",endtime:"5",weekstart:"1",numevents:"3",defaultcalendarview:"month",defaultinterval:15,displaycontactaccount:"0",rememberusers:true,workweekmon:true,workweektue:true,workweekwed:true,workweekthu:true,workweekfri:true,workweeksat:false,workweeksun:false,workweek:[1,2,3,4,5],showonopportunities:false,showonregarding:false,showonphonenumber:false,showontime:false};_scheduler=_fe4.scheduler;this._schedulerId=_fe3;this._menuItems=[];this._contentWindow=_fe4;this._iFrameId=_fe5;this._preloadCalendarUserOptions();var self=this;dojo.subscribe("/entity/activity/updateScheduler",function(data){self._updateSchedulerEvent(data);});dojo.subscribe("/entity/activity/clearScheduler",function(){self._clearScheduler();});dojo.subscribe("/entity/activity/addToScheduler",function(data){self._addSchedulerEvent(data);});dojo.subscribe("/entity/activity/deleteFromScheduler",function(id){if(id){if(id.indexOf("result")==-1){self._deleteSchedulerEvent(id);}}});},_loadAllEvents:function(data){setTimeout(function(){this._scheduler.parse(data,"json");},100);},_addSchedulerEvent:function(data){if(data!==null){var _fe6=dojo.clone(data);var _fe7=[];_fe7.push(_fe6);self._scheduler.parse(_fe7,"json");}},_updateSchedulerEvent:function(data){if(data!==null){var _fe8=dojo.clone(data);self._scheduler.deleteEvent(_fe8.id);var _fe9=[];_fe9.push(_fe8);self._scheduler.parse(_fe9,"json");}},_deleteSchedulerEvent:function(_fea){_scheduler.deleteEvent(_fea);},_setCurrentDate:function(date){_scheduler.setCurrentView(date);},_getSchedulerDate:function(){return _scheduler._date;},_launchScheduler:function(){_scheduler.init(this._schedulerId,new Date(),this._userOptions["defaultcalendarview"]);this._schedulerLaunched=true;this._userOptions["date"]=_scheduler.date;this._userOptions["weekStartDate"]=_scheduler._week_min_date;this._userOptions["weekEndDate"]=_scheduler._week_max_date;this._userOptions["workWeekStartDate"]=_scheduler._workweek_min_date;this._userOptions["workWeekEndDate"]=_scheduler._workweek_max_date;dojo.publish("/entity/activity/SchedulerCreated",[this._userOptions,this]);},_clearScheduler:function(){_scheduler.clearAll();},_clearSchedulerEvents:function(data){if(data){for(var i=0;i<data.length;i++){_scheduler.deleteEvent(data[i]);}}},_loadTimelessActivities:function(){var ar=[];ar.push(_scheduler._mode);ar.push(_scheduler._date);ar.push(self._getWeekStart());dojo.publish("/entity/activity/calendar/schedulerDateChanged",[ar,this]);},_initScheduler:function(){_scheduler.config.scroll_hour=this._userOptions["daystarttime"];_scheduler.config.workWeek=this._userOptions["workweek"];_scheduler.config.workHours=[0,this._userOptions["daystarttime"]*60,this._userOptions["dayendtime"]*60,24*60];_scheduler.config.eventsMaxCount=this._userOptions["numevents"];_scheduler.locale={date:this.scheduler_dates,labels:this.scheduler_labels};_scheduler.templates.day_scale_date=function(d){var _feb=_scheduler.date.date_to_str("%l");return _feb(d);};_scheduler.templates.day_date=function(dt){return _fda.formatLongDate(dt);};_scheduler.templates.week_date=function(d1,d2){var _fec=_scheduler.date.date_to_str("%F %d");var _fed=_scheduler.date.date_to_str("%d, %Y");if(d1.getMonth()!=d2.getMonth()){return _fda.formatLongDate(d1)+" &ndash; "+_fda.formatLongDate(_scheduler.date.add(d2,-1,"day"));}else{var d3=scheduler.date.add(d2,-1,"day");return _fda.formatLongDate(d1)+" &ndash; "+_fda.formatLongDate(_scheduler.date.add(d2,-1,"day"));}};var _fee=function(id){var _fef=false;if(id){if(id.trim()!==""){_fef=true;}}return _fef;};var _ff0=_scheduler.date.date_to_str("%g:%i %A");var _ff1=_scheduler.date.date_to_str("%m/%d/%Y");_scheduler.templates.tooltip_text=function(_ff2,end,_ff3){var type=_ff3.type;var _ff4="";var _ff5=(_ff3.subType===null)?"":_ff3.subType.replace("at","");if(type=="event"){_ff4="<b>"+self.tooltipType+" :</b> Event<br><b>"+self.tooltipDayType+" :</b> "+_ff5;_ff4+="<br/><b>"+self.tooltipStartDate+" :</b> "+_fda.formatEventDate(_ff2);_ff4+="<br/><b>"+self.tooltipEndDate+" :</b> "+_fda.formatDateAdd(end,"day",-1);if(_ff3.location){_ff4+="<br/><b>"+self.tooltipLocation+" :</b> "+_ff3.location;}if(_ff3.description){_ff4+="<br/><b>"+self.tooltipDescription+" :</b> "+_ff3.description;}}else{_ff4="<b>"+self.tooltipTime+" :</b> "+_ff0(_ff2)+" - "+_ff0(end);if(_fee(_ff3.leadId)){if(_ff3.leadName){_ff4+="<br/><b>"+self.tooltipLeadName+" :</b> "+_ff3.leadName;}if(_ff3.accountName){_ff4+="<br/><b>"+self.tooltipCompanyName+" :</b> "+_ff3.accountName;}}else{if(_ff3.contactName){_ff4+="<br/><b>"+self.tooltipContactName+" :</b> "+_ff3.contactName;}if(_ff3.accountName){_ff4+="<br/><b>"+self.tooltipAccountName+" :</b> "+_ff3.accountName;}}if(_ff3.phoneNumber){_ff4+="<br/><b>"+self.tooltipPhoneNumber+" :</b> "+_ff3.phoneNumber;}if(_ff3.location){_ff4+="<br/><b>"+self.tooltipLocation+" :</b> "+_ff3.location;}if(_ff3.regarding){_ff4+="<br/><b>"+self.tooltipRegarding+" :</b> "+_ff3.regarding;}if(_ff3.priority){_ff4+="<br/><b>"+self.tooltipPriority+" :</b> "+_ff3.priority;}if(_ff3.notes){_ff4+="<br/><b>"+self.tooltipNotes+" :</b> "+_ff3.notes;}}return _ff4;};_scheduler.clearAll();var self=this;_scheduler.attachEvent("onTemplatesReady",function(){_scheduler.date.workweek_start=_scheduler.date.WorkWeekStart;_scheduler.templates.workweek_date=_scheduler.templates.week_date;_scheduler.templates.workweek_scale_date=_scheduler.templates.week_scale_date;_scheduler.date.add_workweek=function(date,inc){return _scheduler.date.add(date,inc*7,"day");};_scheduler.date.get_workweek_end=function(date){var _ff6=self._userOptions["workweek"][(self._userOptions["workweek"].length)-1]-self._userOptions["workweek"][0];return _scheduler.date.add(date,_ff6,"day");};});_scheduler.date.WorkWeekStart=function(date){var _ff7=self._userOptions["workweek"][0];if(date===null){date=new Date();}var _ff8=date.getDay();_ff8=_ff7-_ff8;var _ff9=_scheduler.date.add(date,_ff8,"day");if(_ff9>date){_ff9=_scheduler.date.add(_ff9,-7,"day");}return _scheduler.date.date_part(_ff9);};_scheduler.templates.event_title_class=function(_ffa,end,_ffb){var mode=_scheduler.getState().mode;if(mode!=="month"&&_ffb.type!=="event"){if(!_ffb.confirmed){return "pending";}}return "";};_scheduler.date.getDay=function(_ffc){var _ffd=_ffc;if(_ffc.length>1){var _ffe=[];_ffe["SUNDAY"]=0;_ffe["MONDAY"]=1;_ffe["TUESDAY"]=2;_ffe["WEDNESDAY"]=3;_ffe["THURSDAY"]=4;_ffe["FRIDAY"]=5;_ffe["SATURDAY"]=6;_ffd=_ffe[_ffc.toUpperCase()];}if(!_ffd){_ffd=1;}return _ffd;};_scheduler.templates.event_header=function(_fff,end,ev){var html="";var _1000=_scheduler.date.date_to_str("%g:%i %A");var _1001=_scheduler.date.date_to_str("%g:%i");if(ev.endsAfterMidnight){end=ev.actualEndDate;}if(ev.iconSrc){html+="<img src=\""+ev.iconSrc+"\" style=\"float:left;padding-right:4px;\"/>";}if(ev["recurring"]){html+="  <img src=\""+self._recurringIcon+"\" style=\"float:left;padding-right:4px;\"/>";}if(_scheduler._mode==="day"){if(ev["attachment"]){html+="  <img src=\""+self._attachmentIcon+"\" style=\"float:left;padding-right:4px;\"/>";}if(ev["alarm"]){html+="  <img src=\""+self._alarmIcon+"\" style=\"float:left;padding-right:4px;\"/>";}}if(ev["id"].toString().indexOf("-hist")>0){html+="  <img src=\""+self._activityCompleteIcon+"\" style=\"float:left;padding-right:4px;\"/>";}if(_scheduler._mode==="day"){html+=_1000(_fff)+"-"+_1000(end);}else{html+=_1001(_fff)+"-"+_1001(end);}return html;},_scheduler.templates.event_text=function(start,end,ev){var _1002="";var _1003=_scheduler.date.date_to_str("%g:%i %A");if(ev.endsAfterMidnight){end=ev.actualEndDate;}if(_scheduler._mode!=="month"){var _1004=ev["contactId"];var _1005=ev["contactName"];var _1006=ev["leadId"];var _1007=ev["leadName"];var _1008=ev["accountId"];var _1009=ev["accountName"];var _100a=ev["opportunityId"];var _100b=ev["opportunity"];var _100c="";var _100d="";var _100e=false;if(_100e){_1002+="</br>";}if(_fee(_1006)&&_1009){if(_1007){_100c="<a href=\"javascript:void(window.parent.location ='../../Lead.aspx?entityid="+_1006+"')\" >"+_1007+"</a><br>";}_100d="<a href=\"javascript:void(window.parent.location ='../../Lead.aspx?entityid="+_1006+"')\" >"+_1009+"</a><br>";}else{if(_fee(_1008)&&_1009){_100d="<a href=\"javascript:void(window.parent.location = '../../Account.aspx?entityid="+_1008+"')\">"+_1009+"</a><br>";}if(_fee(_1004)){_100c="<a href=\"javascript:void(window.parent.location ='../../Contact.aspx?entityid="+_1004+"')\" >"+_1005+"</a><br>";}}switch(self._userOptions["displaycontactaccount"]){case "0":_1002+=_100c;break;case "1":_1002+=_100d;break;case "2":_1002+=_100c;_1002+=_100d;break;case "3":_1002+=_100d;_1002+=_100c;break;case "4":_1002+="";break;}if(self._userOptions["showonopportunities"]&&_fee(_100a)){_1002+="<a href=\"javascript:void(window.parent.location ='../../Opportunity.aspx?entityid="+_100a+"&modeid=Detail')\" >"+_100b+"</a><br>";}if(self._userOptions["showonphonenumber"]&&ev["phoneNumber"]){_1002+=ev["phoneNumber"]+"<br/>";}if(self._userOptions["showonregarding"]&&ev["regarding"]){_1002+=ev["regarding"]+"<br/>";}if(self._userOptions["showontime"]){_1002+=_1003(start)+"-"+_1003(end)+"<br/>";}if(ev["location"]){_1002+=ev["location"]+"<br/>";}if(ev["priority"]){_1002+=ev["priority"]+"<br/>";}if(ev["notes"]){_1002+=ev["notes"];}}else{_1002=ev.text;}return _1002;};_scheduler.date.week_start=function(date){var _100f=self._userOptions["weekstart"];if(date===null){date=new Date();}var shift=date.getDay();shift=_100f-shift;var _1010=_scheduler.date.add(date,shift,"day");if(_1010>date){_1010=_scheduler.date.add(_1010,-7,"day");}return _scheduler.date.date_part(_1010);};_scheduler.date.arraySort=function(a,b){return a-b;};_scheduler.addEventNow=function(start,end,type){var sdate,edate,_1011;if(start===null){if(_scheduler._mode==="month"){sdate=_fda.roundDateToNextQuarterHour(new Date());}else{sdate=new Date();}}else{var nDate=new Date(start);if(_scheduler._mode==="month"){nDate.setMinutes(new Date().getMinutes());nDate.setHours(new Date().getHours());sdate=_fda.roundDateToNextQuarterHour(nDate);}else{sdate=nDate;}}edate=end===null?sdate:new Date(end);if(type===null||typeof type==="object"){type=self._userOptions["defaultactivity"];}if(end!==null){_1011=dojo.date.difference(sdate,new Date(end),"minute");}else{_1011="60";}var svc=Sage.Services.getService("ActivityService");if(type=="event"){var args={StartDate:Sage.Utility.Convert.toIsoStringFromDate(sdate),EndDate:Sage.Utility.Convert.toIsoStringFromDate(edate)};svc.scheduleEvent(args);}else{if(type!==null){if(type.toLowerCase().indexOf("phone")>-1){type="PhoneCall";}else{if(type.toLowerCase().indexOf("meeting")>-1){type="Meeting";}else{if(type.toLowerCase().indexOf("to")>-1){type="ToDo";}else{if(type.toLowerCase().indexOf("personal")>-1){type="PersonalActivity";}else{type="Meeting";}}}}}svc.scheduleActivity({type:type,preConfigured:{StartDate:Sage.Utility.Convert.toIsoStringFromDate(sdate),Duration:_1011}});}};_scheduler.xy.menu_width=0;_scheduler.config.details_on_dblclick=true;_scheduler.config.details_on_create=true;_scheduler.attachEvent("onClick",function(){return false;});_scheduler.showLightbox=function(_1012){if(_1012!==null&&_1012!==undefined){if(typeof _1012=="string"){var eId=_1012.replace("0:","");var _1013=eId.split("-");if(_1013[2]=="act"){if(_scheduler._events[_1012]&&!_scheduler._events[_1012].confirmed){Sage.Link.confirmActivityFor(_1013[0],_1013[1]);}else{Sage.Link.editActivity(_1013[0],false,_1013[1]);}}else{if(_1013[1]=="evt"||_1013[2]=="evt"){Sage.Link.editEvent(_1013[0]);}else{if(_1013[1]=="hist"||_1013[2]=="hist"){Sage.Link.editHistory(_1013[0]);}}}}}};_scheduler.getCalendarEventID=function(_1014){var _1015=_1014;if(_1014!==null&&_1014!==undefined){if(typeof _1014=="string"){_1014=_1014.replace("0:","");var eId=_1014.split("-");_1015=eId[0];}}return _1015;};_scheduler.getCalendarEventUserID=function(_1016){var _1017=_1016;if(_1016!==null&&_1016!==undefined){if(typeof _1016=="string"){_1016=_1016.replace("0:","");var eId=_1016.split("-");_1017=eId[1];}}return _1017;};_scheduler.goToActivityAssociation=function(_1018,_1019){var _101a=null;if(_scheduler._events&&_scheduler._events[_1019]){switch(_1018){case "Contact":_101a=_scheduler._events[_1019].contactId;break;case "Account":_101a=_scheduler._events[_1019].accountId;break;case "Lead":_101a=_scheduler._events[_1019].leadId;break;case "Opportunity":_101a=_scheduler._events[_1019].opportunityId;break;case "Ticket":_101a=_scheduler._events[_1019].ticketId;break;}}if(_fee(_101a)){Sage.Link.entityDetail(_1018,_101a);}};_scheduler.openActivity=function(_101b){_scheduler.showLightbox(_101b);};_scheduler.completeActivity=function(_101c){Sage.Link.completeActivity(_scheduler.getCalendarEventID(_101c));};_scheduler.getMenuActivityAction=function(_101d,_101e){if(!_101d){return false;}var _101f=false;var _1020=_scheduler.getCalendarEventUserID(_101d);var _1021=_scheduler._events[_101d]["leaderUserId"];var _1022=_fdb.getClientContextByKey("userID");var _1023=_scheduler._events[_101d]["confirmed"]||false;var _1024=_scheduler._events[_101d]["allowDelete"];var _1025=_scheduler._events[_101d]["allowEdit"];switch(_101e){case "delete":if(_1024){if(_1020===_1021){_101f="delete";}else{if(_1023){_101f="declineConfirmed";}else{_101f="decline";}}}else{if(_1022===_1020){if(_1022===_1021){_101f="delete";}else{if(_1023){_101f="declineConfirmed";}else{_101f="decline";}}}else{_101f=false;}}break;case "complete":if(_1023&&_1020===_1021&&_1025){_101f=true;}break;}return _101f;};_scheduler.deleteActivity=function(_1026){var _1027=_scheduler.getCalendarEventID(_1026);Sage.Link.deleteActivity(_1027);};_scheduler.declineConfirmedUserActivity=function(_1028){var _1029=_scheduler.getCalendarEventID(_1028);var _102a=_scheduler.getCalendarEventUserID(_1028);var _102b=_scheduler._events[_1028]["leaderUserId"];_1029=_1029.indexOf(";")>0?_1029.substring(0,12):_1029;var _102c={"$key":_1029,"Leader":{"$key":_102b}};var _102d=Sage.Services.getService("ActivityService");_102d.declineMemberConfirmation(_102c,_102a);};_scheduler.declineActivity=function(_102e){var _102f=_scheduler.getCalendarEventID(_102e);var _1030=_scheduler.getCalendarEventUserID(_102e);var _1031=Sage.Services.getService("ActivityService");_1031.confirmActivityFor(_102f,_1030,self._loadNotification,self);};_scheduler.deleteActivityEvent=function(_1032){Sage.Link.deleteEvent(_scheduler.getCalendarEventID(_1032));};_scheduler.attachEvent("onEventAdded",function(_1033,_1034){if(typeof _1033!="string"){_scheduler.addEventNow(_1034.start_date,_1034.end_date,"atAppointment");_scheduler.deleteEvent(_1033);}});_scheduler.attachEvent("onBeforeEventChanged",function(_1035,_1036,isNew){if(isNew){switch(this._mode){case "day":case "week":case "workweek":_scheduler.addEventNow(_1035.start_date,_1035.end_date,self._userOptions["defaultactivity"]);_scheduler.deleteEvent(_1035.id);break;case "month":var _1037=_1035.end_date;if(dojo.date.compare(_1035.end_date,_1035.start_date)>0){_1037=dojo.date.add(_1035.end_date,"day",-1);}_scheduler.addEventNow(_1035.start_date,_1037,"event");_scheduler.deleteEvent(_1035.id);break;}}else{if(!_1035.allowEdit){return false;}var _1038={Id:_1035.id,Text:_1035.text,StartDate:_1035.start_date,Alarm:_1035.alarm,EndDate:Sage.Utility.Convert.toIsoStringFromDate(_1035.end_date),AlarmMinutesBefore:_1035.alarmMinutesBefore||-15,Duration:dojo.date.difference(_1035.start_date,_1035.end_date,"minute")};if(typeof _1035.id=="string"){if(_1035.id&&_1035.id.indexOf("-act")>0){_1038.Id=_scheduler.getCalendarEventID(_1035.id);_1038.UserId=_scheduler.getCalendarEventUserID(_1035.id);if(_1038.AlarmMinutesBefore){_1038.AlarmTime=dojo.date.add(_1038.StartDate,"minute",_1038.AlarmMinutesBefore);_1038.AlarmTime=Sage.Utility.Convert.toIsoStringFromDate(_1038.AlarmTime);}_1038.StartDate=Sage.Utility.Convert.toIsoStringFromDate(_1038.StartDate);self._currentActivity=_1038;if(_1035.id.indexOf(";")>0){self.onEditRecurrenceActivity(_1038.Id);}else{self._updateUserActivity();}}else{if(_1035.id&&_1035.id.indexOf("-evt")>0){_1038.Id=_1035.id.replace("-evt","");_1038.EndDate=dojo.date.add(_1035.end_date,"day",-1);self._updateEvent(_1038);}}}}return true;});_scheduler.attachEvent("onViewChange",function(mode,date){var _1039={};_1039.mode=mode;_1039.date=date;_1039.weekStartDate=_scheduler._week_min_date;_1039.weekEndDate=_scheduler._week_max_date;_1039.workWeekStartDate=_scheduler._workweek_min_date;_1039.workWeekEndDate=_scheduler._workweek_max_date;dojo.publish("/entity/activity/calendar/schedulerDateChanged",[_1039,this]);});_scheduler.attachEvent("onContextMenu",function(_103a,_103b){var pos=_scheduler._mouse_coords(_103b);var start=_scheduler._min_date.valueOf()+(pos.y*_scheduler.config.time_step+(_scheduler._table_view?0:pos.x)*24*60)*60000;start=_scheduler._correct_shift(start);self._bindContextMenu(_103a,start);});var _103c=_scheduler.date.date_to_str("%g %A");_scheduler.config.hour_size_px=(60/this._userOptions["defaultinterval"])*42;_scheduler.templates.hour_scale=function(date){var html="";for(var i=0;i<60/self._userOptions["defaultinterval"];i++){if(i===0){html+="<div style='height:21px;line-height:21px;border-bottom: 1px solid #DcDcDc;'>"+_103c(date)+"</div>";date=_scheduler.date.add(date,self._userOptions["defaultinterval"],"minute");}else{html+="<div style='height:21px;line-height:21px;'></div>";}}return html;};_scheduler.render_event_bar=function(ev){if(this._cols[ev._sday]===0){return;}var _103d=this._rendered_location;var x=this._colsS[ev._sday];var x2=this._colsS[ev._eday];if(x2==x){x2=this._colsS[ev._eday+1];}var hb=this.xy.bar_height;var y=this._colsS.heights[ev._sweek]+(this._colsS.height?(this.xy.month_scale_height+2):2)+(ev._sorder*hb);var d=document.createElement("DIV");var cs=ev._timed?"dhx_cal_event_clear":"dhx_cal_event_line";var cse=_scheduler.templates.event_class(ev.start_date,ev.end_date,ev);if(cse){cs=cs+" "+cse;}var _103e=(ev.color?("background-color:"+ev.color+";"):"");var color=(ev.textColor?("color:"+ev.textColor+";"):"");var html="";var _103f=10;var _1040=(this.xy.month_scale_height+_103f)+2;var _1041=this._colsS.heights[ev._sweek+1]-y;if(this._mode!=="month"||(this._mode==="month"&&(_1041>_1040))){var _1042=x2-x-15;if(ev["id"].toString().indexOf("-evt")===-1){x+=5;_1042=x2-x-8;}html="<div event_id=\""+ev.id+"\" class=\""+cs+"\" style=\"position:absolute; top:"+y+"px; left:"+x+"px; width:"+_1042+"px;"+color+""+_103e+""+(ev._text_style||"")+"\" id =\""+_scheduler.uid()+"\">";if(ev._timed){if(ev.iconSrc){html+="<img src=\""+ev.iconSrc+"\" style=\"float:left;padding-right:4px;\"/>";}if(ev["id"].toString().indexOf("-hist")>0){html+="  <img src=\""+self._activityCompleteIcon+"\" style=\"float:left;padding-right:4px;\"/>";}html+=_scheduler.templates.event_bar_date(ev.start_date,ev.end_date,ev);}html+=_scheduler.templates.event_bar_text(ev.start_date,ev.end_date,ev)+"</div>";html+="</div>";}else{if(_1041>(_103f+2)){var uId=_scheduler.uid();html="<div style=\"position:absolute; top:"+y+"px; left:"+x+"px;width:"+(x2-x-5)+"px;\" id =\""+uId+"\">";html+="<a title=\""+self.tooltipMoreActivities+"\" href =\"javascript:window.scheduler.setCurrentView(new Date('"+ev.start_date+"'),'day');\">";html+="<img src=\"../../images/CalendarMoreArrow.png\" style=\"float:right\" />";html+="</a></div>";}else{html="<div></div>";}}d.innerHTML=html;this._rendered.push(d.firstChild);_103d.appendChild(d.firstChild);};this.eventConnections.push(dojo.connect(document.body,"onclick",this,"_bodyClicked"));this.eventConnections.push(dojo.connect(window.parent.document.body,"onclick",this,"_bodyClicked"));this._bindContextMenu(null,new Date());},_loadNotification:function(_1043){this._notificationData=false;if(!this._notificationStore){this._notificationStore=new _fd7({include:["Activity","$descriptors"],resourceKind:"userNotifications",service:_fd8.getSDataService("system")});}this._notificationStore.fetch({predicate:"'"+_1043+"'",onComplete:this._receivedNotification,onError:this._requestFailure,scope:this});},_requestFailure:function(){},_receivedNotification:function(_1044){this._notificationData=_1044;var _1045=Sage.Services.getService("ActivityService");_1045.declineConfirmation({notification:this._notificationData,success:this._successfulDeclineConfirmation,failure:this._failedAcceptDecline,scope:this});},_successfulDeclineConfirmation:function(){dojo.publish("/entity/activity/decline",[this._getActivityDataFromNotificationData(),null]);dojo.publish("/entity/userNotification/delete",[this._notificationData["$key"],this]);},_getActivityDataFromNotificationData:function(){var _1046=null;var _1047=null;if(this._notificationData){if(this._notificationData.Activity){_1046=this._notificationData.Activity.$key;}if(this._notificationData.ToUser){_1047=this._notificationData.ToUser.$key;}}var _1048={"activityId":_1046,"userId":_1047};return _1048;},onEditRecurrenceActivity:function(actId){if(!this._editOccSeriesDlg){this._editOccSeriesDlg=new _fdc({id:"editOccSeriesQueryCalendar",mode:"edit",disableSeriesOption:"disabled"});dojo.connect(this._editOccSeriesDlg,"onSelectOccurrence",this,function(actid,sDate){this._updateActivity(this._currentActivity);});}this._editOccSeriesDlg.set("activityId",actId);this._editOccSeriesDlg.show();},_bodyClicked:function(){if(this.schedulerContextMenu&&this.schedulerContextMenu.isShowingNow){this.schedulerContextMenu._popupWrapper.style.display="none";}},_updateUserActivity:function(){var _1049=this._currentActivity;var _104a=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("system"));_104a.setResourceKind("userActivities");var key=dojo.string.substitute("\"ActivityId=${0};UserId=${1}\"",[_1049.Id,_1049.UserId]);_104a.setResourceSelector(key);this._userActivityData={$key:key,Id:_1049.Id,StartDate:_1049.StartDate,Alarm:_1049.Alarm,Duration:_1049.Duration};if(_1049.AlarmMinutesBefore){this._userActivityData.AlarmTime=_1049.AlarmTime;}_104a.update(this._userActivityData,{scope:this,success:function(act){this._updateActivity();},failure:function(e){}});},_updateActivity:function(_104b){if(!_104b){_104b=this._userActivityData;}_104b.$key=_104b.Id;var _104c=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("system"));_104c.setResourceKind("activities");_104c.setResourceSelector(dojo.string.substitute("\"${0}\"",[_104b.$key]));_104c.update(_104b,{success:function(act){var _104d=[];var i;var actId=_104b.$key.substring(0,12);for(i in this._scheduler._events){var evt=this._scheduler._events[i];if(evt.id.indexOf(actId)>-1){_104d.push(evt.id);}}if(_104d){for(i=0;i<_104d.length;i++){this._scheduler.deleteEvent(_104d[i]);}}dojo.publish("/entity/activity/activityScheduler/reloadActivity",[actId,this]);if(actId!==act.$key){dojo.publish("/entity/activity/activityScheduler/reloadActivity",[act.$key,this]);}},failure:function(){},scope:dojo.global});},_getWeekStart:function(date){var _104e=this._userOptions["weekstart"];if(date===null){date=new Date();}var shift=date.getDay();shift=_104e-shift;var _104f=_scheduler.date.add(date,shift,"day");if(_104f>date){_104f=_scheduler.date.add(_104f,-7,"day");}return _scheduler.date.date_part(_104f);},_getWorkWeekStart:function(date){},_getMonthStart:function(date){return date.setDate(1);},_updateEvent:function(_1050){var _1051=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));_1051.setResourceKind("events");_1051.setResourceSelector(dojo.string.substitute("\"${0}\"",[_1050.Id]));var event={$key:_1050.Id,StartDate:Sage.Utility.Convert.toIsoStringFromDate(_1050.StartDate),EndDate:Sage.Utility.Convert.toIsoStringFromDate(_1050.EndDate)};_1051.update(event,{success:function(act){},failure:function(){},scope:dojo.global});},_preloadCalendarUserOptions:function(){var _1052=Sage.Services.getService("UserOptions");if(_1052){_1052.getByCategory("Calendar",this._receivedCalendarOptions,this,this._failedCalendarOptions);}},_receivedCalendarOptions:function(data){var opts=data["$resources"];if(opts.length>0){this._userOptions["workweek"]=[];}for(var i=0;i<opts.length;i++){var opt=opts[i];switch(opt["name"].toUpperCase()){case "WEEKSTART":this._userOptions["weekstart"]=_fd9.getDay(opt["value"]);break;default:this._userOptions[opt["name"].toLowerCase()]=_fd9.getConvertedOptionValue(opt["name"],opt["value"]);break;}}if(this._userOptions["workweeksun"]){this._userOptions["workweek"].push(0);}if(this._userOptions["workweekmon"]){this._userOptions["workweek"].push(1);}if(this._userOptions["workweektue"]){this._userOptions["workweek"].push(2);}if(this._userOptions["workweekwed"]){this._userOptions["workweek"].push(3);}if(this._userOptions["workweekthu"]){this._userOptions["workweek"].push(4);}if(this._userOptions["workweekfri"]){this._userOptions["workweek"].push(5);}if(this._userOptions["workweeksat"]){this._userOptions["workweek"].push(6);}if(this._userOptions["workweek"]){this._userOptions["workweek"].sort(_fd9.arraySort);}this._initScheduler();this._launchScheduler();},_failedCalendarOptions:function(data){this._initScheduler();this._launchScheduler();},_bindContextMenu:function(_1053,_1054){if(this.schedulerContextMenu){this.schedulerContextMenu.unBindDomNode(this._iFrameId);}this.schedulerContextMenu=new dijit.Menu({});var _1055=null;if(_1053===null){_1055="mnuCalendarSchedule";}else{if(_1053.indexOf("-act")>0){_1055="mnuCalendarActivity";}else{if(_1053.indexOf("-evt")>0){_1055="mnuCalendarEvent";}else{if(_1053.indexOf("-hist")>0){_1055="mnuCalendarHistory";}}}}var _1056=Sage.UI.DataStore.ContextMenus.calendar_activityContextMenu.items;var len=_1056.length;for(var i=0;i<len;i++){var mDef=_1056[i];if(mDef.id===_1055){this._buildChildMenu(mDef.submenu,null,_1053,_1054);break;}}this.schedulerContextMenu.bindDomNode(this._iFrameId);},_buildChildMenu:function(_1057,_1058,_1059,_105a){var len=_1057.length;for(var i=0;i<len;i++){var mDef=_1057[i];if(mDef.submenu.length>0){var _105b=new dijit.Menu();this._buildChildMenu(mDef.submenu,_105b,_1059,_105a);var _105c=new dijit.PopupMenuItem({label:mDef.text,popup:_105b});if(_1058){_1058.addChild(_105c);}else{this.schedulerContextMenu.addChild(_105c);}}else{var _105d=null;if((mDef.text==="-")||(mDef.text===" ")||(mDef.isspacer)){_105d=new dijit.MenuSeparator();}else{var href=mDef.href;href=href.replace("javascript:Sage.Link.","javascript:parent.Sage.Link.");var _105e=false;var _105f=false;if(href.toUpperCase()==="DELETEACTIVITY"){_105f=_scheduler.getMenuActivityAction(_1059,"delete");if(!_105f){_105e=true;}}else{if(href.toUpperCase()==="COMPLETEACTIVITY"){var _1060=_scheduler.getMenuActivityAction(_1059,"complete");if(!_1060){_105e=true;}}}_105d=new Sage.UI.MenuItem({label:mDef.text||"...",icon:"Libraries/dojo/dojo/resources/blank.gif",title:mDef.tooltip||"",ref:href,deleteAction:_105f,disabled:_105e,onClick:function(){switch(this.ref.toUpperCase()){case "SCHEDULEPHONECALL":_scheduler.addEventNow(_105a,null,"PhoneCall");break;case "SCHEDULEMEETING":_scheduler.addEventNow(_105a,null,"Meeting");break;case "SCHEDULETODO":_scheduler.addEventNow(_105a,null,"ToDo");break;case "SCHEDULEPERSONALACTIVITY":_scheduler.addEventNow(_105a,null,"PersonalActivity");break;case "SCHEDULEEVENT":_scheduler.addEventNow(_105a,null,"event");break;case "OPENACTIVITY":case "OPENEVENT":case "OPENHISTORY":_scheduler.openActivity(_1059);break;case "COMPLETEACTIVITY":_scheduler.completeActivity(_scheduler.getCalendarEventID(_1059));break;case "DELETEACTIVITY":if(this.deleteAction==="delete"){_scheduler.deleteActivity(_1059);}else{if(this.deleteAction==="decline"){_scheduler.declineActivity(_1059);}else{if(this.deleteAction==="declineConfirmed"){_scheduler.declineConfirmedUserActivity(_1059);}}}break;case "GOTOACCOUNT":_scheduler.goToActivityAssociation("Account",_1059);break;case "GOTOCONTACT":_scheduler.goToActivityAssociation("Contact",_1059);break;case "GOTOOPPORTUNITY":_scheduler.goToActivityAssociation("Opportunity",_1059);break;case "GOTOTICKET":_scheduler.goToActivityAssociation("Ticket",_1059);break;case "GOTOLEAD":_scheduler.goToActivityAssociation("Lead",_1059);break;case "DELETEEVENT":_scheduler.deleteActivityEvent(_scheduler.getCalendarEventID(_1059));break;}}});}if(_1058){_1058.addChild(_105d);}else{this.schedulerContextMenu.addChild(_105d);}}}}});return _fe1;});},"Sage/Utility/Sql":function(){define("Sage/Utility/Sql",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/i18n!./nls/Sql"],function(array,_1061,lang,nls){var _1062=_1061("Sage.Utility.Sql",null,{_allQuotesReg:null,_badQuotesReg:null,_closingQuotesReg:null,_normalQuotesReg:null,_openingQuotesReg:null,_selectInClauseReg:null,_closingQuotes:["'","´","’","’"],_openingQuotes:["'","`","‘","‘"],resources:nls,quoteType:{apostrophe:0,accent:1,curly:2,unicode:3},constructor:function(){this.inherited(arguments);this._allQuotesReg=new RegExp("['`´‘’‘’]");this._badQuotesReg=new RegExp("[`´‘’‘’]");this._closingQuotesReg=new RegExp("['´’’]");this._normalQuotesReg=new RegExp("'");this._openingQuotesReg=new RegExp("['`‘‘]");},fixQuoted:function(value){var temp=value;if(value&&lang.isString(value)&&value.length>0){if(this._badQuotesReg.test(temp)){temp=this.removeBadOuterQuotes(temp);}if(this._normalQuotesReg.test(temp)){var ch=temp.charAt(0);if(this._normalQuotesReg.test(ch)){temp=temp.substr(1,temp.length-1);}if(temp===""){return "";}ch=temp.charAt(temp.length-1);if(this._normalQuotesReg.test(ch)){temp=temp.substr(0,temp.length-1);}}}else{return "''";}return "'"+temp+"'";},fixQuotes:function(_1063){if(_1063&&lang.isArray(_1063)){array.forEach(_1063,function(value,idx){_1063[idx]=this.fixQuoted(value);},this);return _1063.join(",");}return false;},fixInClause:function(_1064){var empty="('')";if(_1064&&typeof _1064!=="undefined"&&lang.isString(_1064)===false){if(lang.isArray(_1064)){_1064="'"+_1064.toString().replace(/,/g,"','")+"'";}else{_1064="'"+_1064.toString()+"'";}}var temp;if(_1064&&lang.isString(_1064)&&lang.trim(_1064).length>0){if(this.hasValidApostropheQuoteCount(_1064)===false){throw new Error(this.resources.InvalidApostropheCount);}temp=_1064.replace(/\r\n/g," ").replace(/\n/g," ").replace(/\r/g," ").trim();if(temp===""){return empty;}if(this._badQuotesReg.test(temp)){if(temp.charAt(0)==="("&&temp.charAt(temp.length-1)===")"){temp=temp.substr(1,temp.length-1);temp=temp.substr(0,temp.length-1);}if(temp===""){return empty;}var _1065=temp.toUpperCase().indexOf("SELECT")===0;if(_1065){var _1066=false;var _1067=-1;var _1068=[];for(var i=0;i<temp.length;i++){var ch=temp.charAt(i);if(_1066===false){if(this._openingQuotesReg.test(ch)){_1066=true;switch(ch){case "'":_1067=this.quoteType.apostrophe;break;case "`":_1067=this.quoteType.accent;_1068.push(i);break;case "‘":_1067=this.quoteType.curly;_1068.push(i);break;case "‘":_1067=this.quoteType.unicode;_1068.push(i);break;}}}else{if(this._closingQuotesReg.test(ch)){var _1069=this.translateQuoteType(ch);if(_1069==-1){continue;}if(_1067==_1069){_1066=false;switch(_1067){case this.quoteType.accent:case this.quoteType.curly:case this.quoteType.unicode:_1068.push(i);break;}_1067=-1;}}}}if(_1068&&lang.isArray(_1068)&&_1068.length>0){array.forEach(_1068,function(_106a){temp=temp.substr(0,_106a)+"'"+temp.substr(_106a+1);});}if(typeof console!=="undefined"){}if(this.hasValidApostropheQuoteCount(temp)===false){throw new Error(this.resources.InvalidApostropheCount);}return "("+temp+")";}else{var _106b=temp.split(",");array.forEach(_106b,function(value,idx){_106b[idx]=value.trim();});var fixed=this.fixQuotes(_106b);if(fixed){if(typeof console!=="undefined"){}if(this.hasValidApostropheQuoteCount(fixed)===false){throw new Error(this.resources.InvalidApostropheCount);}return "("+fixed+")";}if(typeof console!=="undefined"){}return empty;}}else{if(temp.charAt(0)!="("){if(typeof console!=="undefined"){}return "("+temp+")";}if(typeof console!=="undefined"){}return temp;}}else{if(_1064&&lang.isString(_1064)){temp=_1064.replace(/\r\n/g,"").replace(/\n/g,"").replace(/\r/g,"");if(temp.length>0){if(typeof console!=="undefined"){}return "('"+temp+"')";}if(typeof console!=="undefined"){}return empty;}}if(typeof console!=="undefined"){}return _1064;},hasBadOuterQuotes:function(value){if(value&&lang.isString(value)&&value.length>0){if(this._badQuotesReg.test(value)){var ch=value.charAt(0);if(this._badQuotesReg.test(ch)){return true;}ch=value.charAt(value.length-1);if(this._badQuotesReg.test(ch)){return true;}}}return false;},hasValidApostropheQuoteCount:function(value){if(value&&lang.isString(value)&&value.length>0){if(this._normalQuotesReg.test(value)){var _106c=value.match(/'/g);if(_106c&&lang.isArray(_106c)&&_106c.length>0){return (_106c.length%2)===0;}}}return true;},removeBadOuterQuotes:function(value){if(this.hasBadOuterQuotes(value)){var temp=value;var ch=temp.charAt(0);if(this._badQuotesReg.test(ch)){temp=temp.substr(1,temp.length-1);}if(temp===""){return "";}ch=temp.charAt(temp.length-1);if(this._badQuotesReg.test(ch)){temp=temp.substr(0,temp.length-1);}return temp;}return value;},replaceQuotesAroundValues:function(value){if(value&&lang.isString(value)&&value.length>0){var temp=value;array.forEach([/`(.*?)´/g,/‘(.*?)’/g,/\u2018(.*?)\u2019/g],function(reg){var _106d=temp.match(reg);array.forEach(_106d,function(match){if(match.length==2){temp=temp.replace(match,"''");}else{var _106e=match.substr(1,match.length-1);_106e=_106e.substr(0,_106e.length-1);temp=temp.replace(match,"'"+_106e+"'");}});return temp;});}return value;},translateQuoteType:function(ch){if(ch&&lang.isString(ch)&&ch.length==1&&this._allQuotesReg.test(ch)){switch(ch){case "'":return this.quoteType.apostrophe;case "`":case "´":return this.quoteType.accent;case "‘":case "’":return this.quoteType.curly;case "‘":case "’":return this.quoteType.unicode;}}return -1;}});return _1062;});},"Sage/Utility/nls/Sql":function(){define("Sage/Utility/nls/Sql",["Sage/LanguageList","dojo/_base/lang"],function(_106f,lang){var nls={root:{InvalidApostropheCount:"The number of apostrophes in the SQL IN clause is invalid."}};return lang.mixin(_106f,nls);});},"Sage/UI/Columns/DataType":function(){define("Sage/UI/Columns/DataType",["dojox/grid/cells/_base","dojo/string","dojo/_base/declare","Sage/Utility/Filters"],function(_1070,_1071,_1072,_1073){var _1074=_1072("Sage.UI.Columns.DataType",_1070,{constructor:function(){this.inherited(arguments);},formatter:function(val,index){var t=_1073.resolveDataTypeQB(val),_1075="string";switch(t){case "Integer":_1075="int";break;case "Decimal":_1075="float";break;case "Date/Time":_1075="date";break;case "Memo/Blob":_1075="blob";break;default:_1075="string";break;}return _1071.substitute("<img src=\"images/ft_${0}.gif\" class=\"dataTypeColumnDimensions\" />",[_1075]);}});return _1074;});},"Sage/QuickForms/Design/Editors/DateTimePickerAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/DateTimePickerAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/DateTimePickerAdvancedPropertyEditor"],function(_1076,lang,_1077,_1078,_1079,_107a,_107b,_107c,_107d,_107e,_107f){return _1076("Sage.QuickForms.Design.Editors.DateTimePickerAdvancedPropertyEditor",[_1077,_107d,_107c],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.buttonToolTipTooltipText %}\">","<label>{%= $.buttonToolTipText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_buttonToolTip\" data-dojo-attach-event=\"onChange:_onButtonToolTipChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.displayModeTooltipText %}\">","<label>{%= $.displayModeText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_displayMode\" data-dojo-attach-event=\"onChange:_onDisplayModeChange\">","{% for (var mode in $.displayModeTypeText) { %}","<span value=\"{%= mode %}\">{%= $.displayModeTypeText[mode] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlLabelPlacementTooltipText %}\">","<label>{%= $.controlLabelPlacementText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_controlLabelPlacement\" data-dojo-attach-event=\"onChange:_onControlLabelPlacementChange\">","{% for (var placement in $.labelPlacementText) { %}","<span value=\"{%= placement %}\">{%= $.labelPlacementText[placement] %}</span>","{% } %}","</div>","</div>","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.enabledTooltipText %}\">","<label>{%= $.enabledText %}</label>","<div data-dojo-attach-point=\"_enabled\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onEnabledChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.requiredTooltipText %}\">","<label>{%= $.requiredText %}</label>","<div data-dojo-attach-point=\"_required\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onRequiredChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.defaultDataBindingTooltipText %}\">","<label>{%= $.defaultDataBindingText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_defaultDataBinding\" data-dojo-attach-event=\"onChange:_onDefaultDataBindingChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.timelessTooltipText %}\">","<label>{%= $.timelessText %}</label>","<div data-dojo-attach-point=\"_timeless\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onTimelessChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_buttonToolTip:null,_controlType:null,_controlId:null,_enabled:null,_controlLabelPlacement:null,_defaultDataBinding:null,_displayMode:null,_required:null,_timeless:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",buttonToolTipText:"Button Tooltip:",buttonToolTipTooltipText:"The tooltip  to display when the user's mouse hovers over the button part of the control.",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",displayModeText:"Display Mode:",displayModeTooltipText:"Mode of display of control: text box, hyperlink, or plain text.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",timelessText:"Timeless:",timelessTooltipText:"Use date without time and no DST conversion.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},displayModeTypeText:{"AsControl":"As Control","AsText":"As Text","AsHyperlink":"As Hyperlink"},constructor:function(){lang.mixin(this,_107f);},setup:function(){this.inherited(arguments);this._buttonToolTip.set("value",this._designer.get("buttonToolTip"));this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._displayMode.set("value",this._designer.get("displayMode"));this._enabled.set("value",this._designer.get("enabled"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._required.set("value",this._designer.get("required"));this._timeless.set("value",this._designer.get("timeless"));this._visible.set("value",this._designer.get("visible"));var _1080=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_1080&&_1080["DataItemName"])||"");},_onButtonToolTipChange:function(value){if(this.isSuspended()){return;}this._designer.set("buttonToolTip",value);},_onControlTypeChange:function(value){},_onControlIdChange:function(value){},_onDefaultDataBindingChange:function(value){},_onDisplayModeChange:function(value){if(this.isSuspended()){return;}this._designer.set("displayMode",value);},_onEnabledChange:function(value){if(this.isSuspended()){return;}this._designer.set("enabled",value);},_onControlLabelPlacementChange:function(value){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",value);},_onRequiredChange:function(value){if(this.isSuspended()){return;}this._designer.set("required",value);},_onTimelessChange:function(value){if(this.isSuspended()){return;}this._designer.set("timeless",value);},_onVisibleChange:function(value){if(this.isSuspended()){return;}this._designer.set("visible",value);}});});},"url:Sage/templates/MenuBarItem.html":"<div class=\"dijitReset dijitInline dijitMenuItem\" data-dojo-attach-point=\"focusNode\" waiRole=\"menuitem\" tabIndex=\"-1\"\r\n    data-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\r\n    <span>\r\n    <img src=\"${_blankGif}\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\r\n    <div class=\"dijitIcon dijitMenuItemIcon Global_Images icon16x16 ${imageClass}\" data-dojo-attach-point=\"iconNodeSprite\"></div>\r\n    <span class=\"dijitMenuItemLabel\" data-dojo-attach-point=\"containerNode\"></span>\n    </span>\n</div>\n","url:Sage/MainView/Opportunity/templates/OpportunityStatistics.html":" [\r\n    '<div>',\r\n        '<div data-dojo-type=\"dijit.Dialog\" id=\"{%= $.id%}_dlgOpportunityStatistics\" title=\"{%= $.opportunityStatistics_Caption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n            '<div dojoAttachPoint=\"loadingContainer\">',\r\n                '<br />',\r\n                '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingMessge %}</label>',\r\n                '<br />',\r\n                '<br />',\r\n            '</div>',\r\n            '<table cellspacing=\"20\" dojoAttachPoint=\"statisticsContentsContainer\" class=\"display-none\">',\r\n                '<tr>',\r\n                    '<td >',\r\n                        '<label>{%= $.opportunityCount %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<label dojoAttachPoint=\"opportunityCount\"></label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.salesPotentialTotal %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"salesPotential\" dojoAttachPoint=\"salesPotentialTotal_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"salesPotentialAverage\" dojoAttachPoint=\"salesPotentialAverage_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.weightedPotentialTotal %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"weightedPotential\" dojoAttachPoint=\"weightedPotentialTotal_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"weightedPotentialAverage\" dojoAttachPoint=\"weightedPotentialAverage_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.averageCloseProbability %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div dojoType=\"Sage.UI.Controls.Numeric\" constraints=\"{ places: 2, maxPlaces: 2, type: \\'percent\\' }\" dojoAttachPoint=\"closeProbability_Container\" readonly=\"readonly\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.actualAmountTotal %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"actualAmount\" dojoAttachPoint=\"actualAmountTotal_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"actualAmountAverage\" dojoAttachPoint=\"actualAmountAverage_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.averageDaysOpen %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<label dojoAttachPoint=\"daysOpen_Container\"></label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.rangeEstClose %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<label dojoAttachPoint=\"rangeEstClose_Container\"></label>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n            '<div class=\"button-bar alignright\">',\r\n                '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" type=\"button\" dojoAttachEvent=\"onClick:_close\">{%= $.btnClose_Caption %}</button>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>'\r\n]","Sage/UI/Filters/nls/EditFilters":function(){define("Sage/UI/Filters/nls/EditFilters",["Sage/LanguageList","dojo/_base/lang"],function(_1081,lang){var nls={root:{selectAllText:"Select All",dialogTitle:"Edit Filters",okText:"OK",cancelText:"Cancel"}};return lang.mixin(_1081,nls);});},"Sage/UI/Controls/Numeric":function(){define("Sage/UI/Controls/Numeric",["dojo/_base/html","dijit/_Widget","Sage/_Templated","Sage/UI/NumberTextBox","dojo/currency","dojo/_base/declare","dojo/_base/sniff","dojo/has"],function(html,_1082,_1083,_1084,_1085,_1086,_1087,has){dojo.mixin(dijit.form.ValidationTextBox.prototype.attributeMap,{slxchangehook:"focusNode"});var _1088=_1086("Sage.UI.Controls.Numeric",[_1082,_1083],{displayModes:{"AsHyperlink":0,"AsControl":1,"AsText":2},modeTemplates:{"AsHyperlink":new Simplate(["<div data-dojo-type=\"dijit.form.Button\" showLabel=\"true\">ONE</div>"]),"AsControl":new Simplate(["<input  data-dojo-type=\"Sage.UI.NumberTextBox\" ","dojoAttachEvent=\"onChange:onChanged\" ","constraints=\"{ {%= $.constraintsToString() %} }\" ","formatType=\"{%= $.formatType %}\" ","ignorechange=\"true\" ","required=\"{%= $.required %}\" ","id=\"{%= $.id %}_NumberTextBox\" ","style=\"width:inherit;\" ","textAlign=\"{%= $.textAlign %}\" ","hotKey=\"{%= $.hotKey %}\" ","{% if($.disabled === \"disabled\") { %} ","disabled=\"disabled\" ","{% } %}","{% if($.readonly === \"readonly\") { %} ","readonly=\"readonly\" ","{% } %}","name=\"{%= $.name %}\" type=\"text\" ","value=\"{%= $.value %}\" required=\"{%= $.required %}\" dojoAttachPoint=\"focusNode\" ","maxLength=\"{%= $.maxLength %}\">"]),"AsText":new Simplate(["<div data-dojo-type=\"dijit.form.Button\" showLabel=\"true\">{%= $.formattedText() %}</div>"])},postMixInProperties:function(){this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(this.domNode.parentNode&&this.domNode.parentNode.tagName=="SPAN"){this.domNode.parentNode.tabIndex=-1;}},constructor:function(_1089){this.constraints={};this.inherited(arguments);},widgetTemplate:new Simplate(["<div style=\"width:inherit;\" slxcompositecontrol=\"true\" id=\"{%= $.id %}\" >","{%= $.modeTemplates[$.displayMode].apply($) %}","</div>"]),value:0,autoPostBack:false,width:15,maxLength:128,style:"",enabled:true,visible:true,readonly:"",disabled:"",hotKey:"",tabIndex:0,required:false,displayMode:"AsControl",widgetsInTemplate:true,styles:"text-align: right;",constraints:null,name:"",formattedText:function(){return this.value;},formatType:"",constraintsToString:function(){var tmp=[];var prop;for(prop in this.constraints){if(this.constraints.hasOwnProperty(prop)){var value=this.constraints[prop];if(typeof value==="string"){value="'"+value+"'";}tmp.push(prop+":"+value);}}var _108a=tmp.join(",");return _108a;},onChanged:function(e){if(this.autoPostBack&&!has("ie")){if(Sys){Sys.WebForms.PageRequestManager.getInstance()._doPostBack(this.id,null);}}}});return _1088;});},"Sage/UI/Controls/Address":function(){require({cache:{"url:Sage/UI/Controls/templates/Address.html":"<div class=\"address-container\" id=\"{%= $.clientId %}\" >\r\n    <!--\r\n    -- IMPORTANT: Comments in a widget template must be placed inside the root node.\r\n    Simplate template\r\n    https://github.com/mmorton/simplate\r\n    https://github.com/mmorton/simplate/blob/master/demo/index.html\r\n    Basic formatting example: {%= $.id %}\r\n    -->\r\n    <textarea id=\"{%= $.clientId %}_displayText\" class=\"address-textarea\" style=\"height:{%= $.height %};\"\r\n        data-dojo-type=\"Sage.UI.Controls.SimpleTextarea\" readonly=\"readonly\" dragRestriction=\"true\"  tabindex=\"{%= $.tabIndex %}\"\r\n    {% if ($.enabled && !$.readOnly) { %}\r\n        data-dojo-attach-event=\"onDblClick: showDialog, ondijitclick: showDialog\"\r\n    {% } %}\r\n        slxchangehook=\"true\" >{%= $.displayValue %}</textarea>\r\n    {% if ($.enabled && !$.readOnly) { %}\r\n    <img alt=\"{%= $.imageData.imageEditAltText %}\" data-dojo-attach-event=\"ondijitclick: showDialog\" class=\"address-edit-button\"\r\n         src=\"{%= $.imageData.imageEditUrl %}\" title=\"{%= $.imageData.imageEditToolTip %}\" id=\"{%= $.clientId %}-Button\" \r\n          tabindex=\"{%= $.tabIndex %}\" />\r\n    {% } %}\r\n    {% if ($.enabled && $.showButton) { %}\r\n    <img alt=\"{%= $.imageData.imageMapQuestAltText %}\" data-dojo-attach-event=\"ondijitclick: showMap\" class=\"address-map-button\"\r\n         src=\"{%= $.imageData.imageMapQuestUrl %}\" title=\"{%= $.imageData.imageMapQuestToolTip %}\" id=\"{%= $.clientId %}-MapQuest\" \r\n          tabindex=\"{%= $.tabIndex %}\" />\r\n    {% } %}\r\n</div>","url:Sage/UI/Controls/templates/AddressEdit.html":"<!--\r\nSimplate template\r\nhttps://github.com/mmorton/simplate\r\nhttps://github.com/mmorton/simplate/blob/master/demo/index.html\r\nBasic formatting example: {%= $.id %}\r\n-->\r\n<div>\r\n        <table style=\"width:100%;height:100%;\">\r\n                {% for (var i = 0; i < $.fields.length; i++) { %}\r\n                {% if ($.fields[i].visible) { %}\r\n                    <tr>\r\n                        <td><label>{%= $.fields[i].fieldLabel %}</label></td>\r\n                        <td style=\"width: 150px;\">\r\n                            {% if ($.fields[i].xtype === 'picklistcombo') { %}\r\n                            <select data-dojo-type=\"Sage.UI.Controls.DropDownSelectPickList\"\r\n                                dojoAttachPoint=\"_valueBox\"\r\n                                pickListName=\"{%= $.fields[i].pickList.pickListName %}\"\r\n                                storeMode=\"text\"\r\n                                style=\"width: 100%;\"\r\n                                value=\"{%= $.fields[i].value %}\"\r\n                           {% } %}\r\n                           {% if ($.fields[i].xtype === 'checkbox') { %}\r\n                                <input data-dojo-type=\"Sage.UI.Controls.CheckBox\"\r\n                                       checked=\"{%= $.fields[i].value %}\"\r\n                                       disabled=\"{%= $.fields[i].disabled %}\"\r\n                           {% } %}\r\n                           {% if ($.fields[i].xtype === 'textfield') { %}\r\n                                <input data-dojo-type=\"Sage.UI.Controls.TextBox\"\r\n                                style=\"width: 100%;\" type=\"text\"\r\n                                value=\"{%= $.fields[i].value %}\"\r\n                           {% } %}\r\n                                id=\"{%= $.id %}-{%= $.fields[i].name %}\"\r\n                                name=\"{%= $.fields[i].formClientId %}\"\r\n                                shouldPublishMarkDirty=\"false\"\r\n                                onChange=\"dijit.byId('{%= $.id %}').editorChange();\"\r\n                                textAlign=\"{%= $.fields[i].textAlign %}\" data-dojo-attach-point=\"focusNode\"\r\n                                maxLength=\"{%= $.fields[i].maxLength %}\" />\r\n                        </td>\r\n                   </tr>\r\n                {% } %}          \r\n                {% } %}            \r\n        </table>                    \r\n        <div class=\"button-bar alignright\" style=\"clear: both\">\r\n            <button id=\"{%= $.id %}-OKButton\" data-dojo-type=\"dijit.form.Button\" type=\"submit\" onClick=\"dijit.byId('{%= $.id %}')._okClicked();\">\r\n                {%= $.okText %}\r\n            </button>\r\n            <button id=\"{%= $.id %}-CancelButton\" data-dojo-type=\"dijit.form.Button\" type=\"button\" onClick=\"dijit.byId('{%= $.id %}')._cancelClicked();\">\r\n                {%= $.cancelText %}\r\n            </button>\r\n        </div>\r\n</div>"}});define("Sage/UI/Controls/Address",["dijit/_Widget","Sage/_Templated","Sage/Utility","Sage/UI/Controls/TextBox","Sage/UI/Controls/PickList","Sage/UI/Controls/DropDownSelectPickList","dijit/Dialog","Sage/UI/Controls/_DialogHelpIconMixin","dojo/i18n!./nls/Address","dojo/text!./templates/Address.html","dojo/text!./templates/AddressEdit.html","dojo/_base/declare","dojo/_base/array"],function(_108b,_108c,_108d,_108e,_108f,_1090,_1091,_1092,_1093,_1094,_1095,_1096,array){var _1097=_1096("Sage.UI.Controls.Address",[_108b,_108c],{widgetTemplate:new Simplate(_1094.split("\r")),dialogContent:new Simplate(_1095.split("\r")),templateOverridePath:"",widgetsInTemplate:true,clientId:"",tabIndex:0,autoPostBack:false,readOnly:false,enabled:true,showButton:true,displayValue:"",displayValueClientId:"",height:"",imageData:{imageEditUrl:"",imageEditToolTip:"",imageEditAltText:"",imageMapQuestUrl:"",imageMapQuestToolTip:"",imageMapQuestAltText:""},fields:[],mapQuestValues:{},editorChange:function(){this.isDirty=true;},isDirty:false,name:"",constructor:function(_1098){dojo.mixin(this,_1098);_1098.id=_1098.clientId;this.resources=_1093;if(_1098.templateOverridePath&&_1098.templateOverridePath.length>0){try{this.dialogContent=new Simplate(dojo["cache"]("Sage.UI.Controls",_1098.templateOverridePath).split("\r"));}catch(e){}}this.inherited(arguments);},setAttribute:function(attr,val){this.set(attr,val);},postCreate:function(){this.inherited(arguments);this.setAttribute("tabindex","-1");},showDialog:function(){this.editDialog=dijit.byId([this.id,"-Dialog"].join(""));if(!this.editDialog){this.editDialog=new _1091({title:this.resources.dialogTitle,id:[this.id,"-Dialog"].join(""),"class":"address-edit"});dojo.mixin(this.editDialog,new _1092());this.editDialog.createHelpIconByTopic("accountaddresschange");}this.htmlEncodeForEditDialog();this.editDialog.set("content",this.dialogContent.apply({id:this.id,cancelText:this.resources.cancelText,okText:this.resources.okText,fields:this.fields}));this.isDirty=false;this.editDialog.show();if(this.modality==="modeless"){dojo.destroy([this.id,"-Dialog_underlay"].join(""));}},htmlEncodeForEditDialog:function(){array.forEach(this.fields,function(entry,i){if(entry.xtype==="textfield"&&entry.value.indexOf("\"")>-1){entry.value=_108d.htmlEncode(entry.value);}});},showMap:function(){this.createFormItems();var _1099=this.getAddressValues();var map={"streetaddress":"addr1","city":"city","state":"state","zip":"postalcode","country":"country"};var _109a={};for(var key in map){if(_1099[map[key]]){_109a[key]=(typeof _1099[map[key]]==="object")?_1099[map[key]].text:_1099[map[key]];}}_109a.level=9;_109a.iconid=0;_109a.height=300;_109a.width=500;var _109b=[];for(var _109c in _109a){_109b.push(_109c+"="+encodeURIComponent(_109a[_109c]));}var url="http://www.mapquest.com/cgi-bin/ia_free?"+_109b.join("&");var _109d="directories=no,location=no,menubar=no,pageXOffset=0px,pageYOffset=0px,scrollbars=yes,status=no,titlebar=no,toolbar=yes";window.open(url,"",_109d);},createFormItems:function(){var items=[];for(var i=0;i<this.fields.length;i++){if(this.fields[i].visible===false){continue;}this.mapQuestValues[this.fields[i].name]=this.fields[i];var f=$.extend(this.fields[i],this.fields[i].pickList,{id:this._clientId+"_field_"+this.fields[i].name,stateful:false,anchor:(this.fields[i].xtype!="checkbox")?"100%":false});if(f.maxLength>0){f.autoCreate={tag:"input",type:"text",maxlength:this.fields[i].maxLength};}f.tabIndex=i+1;items.push(f);}return items;},getAddressValues:function(){var _109e={};for(var name in this.mapQuestValues){var field=this.mapQuestValues[name];if(field){_109e[name]=field.value;}}return _109e;},getEditFields:function(){this.setDataFields();},setDataFields:function(){var _109f,_10a0,xtype;for(var i=0;i<this.fields.length;i++){_109f=dijit.byId([this.id,"-",this.fields[i].name].join(""));_10a0=dojo.byId(this.fields[i].formClientId);xtype=this.fields[i].xtype;if(_109f){if(xtype==="picklistcombo"){if(_10a0){_10a0.value=_109f.get("value");}this.fields[i].value=_109f.get("value");}if(xtype==="checkbox"){if(_10a0){_10a0.checked=_109f.get("checked");}this.fields[i].value=_109f.get("checked");}if(xtype==="textfield"){if(_10a0){_10a0.value=_109f.get("value");}this.fields[i].value=_109f.get("value");}}}},_okClicked:function(){var that=this;setTimeout((function(d){return function(){that._updateValues();};})(that),1);},_updateValues:function(){if(this.isDirty){this.getEditFields();var _10a1=dojo.byId(this.resultValueClientId);dijit.byId(this.clientId+"_displayText").set("value",Sage.Format.Address.formatAddress(this.fields,true));_10a1.value=Sage.Format.Address.formatAddress(this.fields,true);dojo.publish("Sage/events/markDirty");if(this.autoPostBack){__doPostBack(_10a1.name,"");}}},_cancelClicked:function(){this.editDialog.hide();}});return _1097;});},"Sage/QuickForms/Design/Editors/nls/FormUsagesPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/FormUsagesPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_10a2,lang){var nls={root:{titleText:"Usage",portalText:"Portal",viewText:"View",modesText:"Modes",descriptionText:"Description"}};return lang.mixin(_10a2,nls);});},"Sage/UI/Controls/nls/DurationSelect":function(){define("Sage/UI/Controls/nls/DurationSelect",["Sage/LanguageList","dojo/_base/lang"],function(_10a3,lang){var nls={root:{minuteText:"minute",minutesText:"minutes",hourText:"hour",hoursText:"hours",dayText:"day",daysText:"days"}};return lang.mixin(_10a3,nls);});},"Sage/MainView/Options/OptionsDialog":function(){require({cache:{"url:Sage/MainView/Options/templates/OptionsDialog.html":"<div>\r\n    <div data-dojo-type=\"dijit.Dialog\" title=\"{%= $._nlsResources.txtOptions %}\" dojoattachpoint=\"_dialog\" dojoattachevent=\"onCancel:_dialog_OnCancel\" style=\"width: 450px\">\r\n        <div data-dojo-type=\"dijit.form.Form\" dojoAttachPoint=\"frmOptions\" id=\"frmOptions\" >\r\n            <div style=\"overflow:auto\">\r\n                <div>\r\n                    <table cellspacing=\"10\">\r\n\r\n                        <tr>\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtColumns %}:</label>\r\n                            </td>\r\n                            <td>                                \r\n                                <div style=\"display:inline-block;\"><input type=\"text\" dojoType=\"Sage.UI.Controls.Numeric\" dojoAttachPoint=\"txtFieldCount\" id=\"txtFieldCount\" style=\"width:25px\" /></div>\r\n                                <label>{%= $._nlsResources.txtZero %}</label>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td colspan=\"2\">\r\n                                <div dojoType=\"dijit.form.CheckBox\" label=\"{%= $._nlsResources.txtHideOnSelection %}\" id=\"chkHideOnSelection\" name=\"chkHideOnSelection\" dojoAttachPoint=\"chkHideOnSelection\" ></div>\r\n                                <label class=\"checkbox-label\" for=\"chkHideOnSelection\">{%= $._nlsResources.txtHideOnSelection %}</label>\r\n                            </td>\r\n                        </tr>                        \r\n                        <tr>\r\n                            <td colspan=\"2\">\r\n                                <div dojoType=\"dijit.form.CheckBox\" label=\"{%= $._nlsResources.txtStayInDetailViewOnLookup %}\" id=\"chkStayInDetailView\" name=\"chkStayInDetailView\" dojoAttachPoint=\"chkStayInDetailView\" ></div>\r\n                                <label class=\"checkbox-label\" for=\"chkStayInDetailView\">{%= $._nlsResources.txtStayInDetailViewOnLookup %}</label>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td colspan=\"2\">\r\n                                <div dojoType=\"dijit.form.CheckBox\" label=\"{%= $._nlsResources.txtDisplayExtendedGroupListOnLookup %}\" id=\"chkShowOnLookup\" name=\"chkShowOnLookup\" dojoAttachPoint=\"chkShowOnLookup\" ></div>\r\n                                <label class=\"checkbox-label\" for=\"chkShowOnLookup\">{%= $._nlsResources.txtDisplayExtendedGroupListOnLookup %}</label>\r\n                            </td>\r\n                        </tr>\r\n                        \r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div align=\"right\" style=\"margin-top:10px\">                \r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdOk\" dojoAttachEvent=\"onClick:_cmdOk_OnClick\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdOk_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdCancel_Caption) %}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"}});define("Sage/MainView/Options/OptionsDialog",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/topic","Sage/UI/Controls/_DialogHelpIconMixin","dojo/text!./templates/OptionsDialog.html","dojo/i18n!./nls/OptionsDialog","Sage/Utility","dijit/_Widget","Sage/_Templated","dijit/Dialog","dijit/form/Form","dijit/form/Select"],function(_10a4,_10a5,lang,topic,_10a6,_10a7,_10a8,_10a9,_10aa,_10ab){var _10ac=_10a9.makeTemplateFromString(_10a7);var _10ad=_10a4("Sage.MainView.Options.OptionsDialog",[_10aa,_10ab],{id:"dlgOptions",_nlsResources:_10a8,_dialog:null,widgetsInTemplate:true,_helpIconTopic:"GroupListOptions",widgetTemplate:_10ac,constructor:function(){},destroy:function(){this.inherited(arguments);},show:function(){this._dialog.show();if(this._helpIconTopic){if(!this._dialog.helpIcon){lang.mixin(this._dialog,new _10a6());this._dialog.createHelpIconByTopic(this._helpIconTopic);}}},startup:function(){var svc=Sage.Services.getService("UserOptions");if(svc){svc.get("FieldCount","ExtendedGroupList",lang.hitch(this,function(_10ae){if(_10ae&&_10ae.value){this.txtFieldCount.set("value",_10ae.value);this.txtFieldCount.focusNode.textbox.value=_10ae.value;}else{this.txtFieldCount.set("value",0);this.txtFieldCount.focusNode.textbox.value=0;}}));svc.get("HideOnSelection","ExtendedGroupList",lang.hitch(this,function(_10af){if(_10af&&_10af.value){if(_10af.value==="T"){this.chkHideOnSelection.set("checked",true);}else{this.chkHideOnSelection.set("checked",false);}}else{this.chkHideOnSelection.set("checked",false);}}));svc.get("ShowOnLookup","ExtendedGroupList",lang.hitch(this,function(_10b0){if(_10b0&&_10b0.value){if(_10b0.value==="T"){this.chkShowOnLookup.set("checked",true);}else{this.chkShowOnLookup.set("checked",false);}}else{this.chkShowOnLookup.set("checked",false);}}));svc.get("StayInDetailView","GroupLookup",lang.hitch(this,function(_10b1){if(_10b1&&_10b1.value){if(_10b1.value==="T"){this.chkStayInDetailView.set("checked",true);}else{this.chkStayInDetailView.set("checked",false);}}else{this.chkStayInDetailView.set("checked",false);}}));}},_cmdOk_OnClick:function(){this._saveUserOptions();this._dialog.hide();},_cmdCancel_OnClick:function(){this._dialog.hide();},_dialog_OnCancel:function(){this._dialog.hide();},_saveUserOptions:function(){var svc=Sage.Services.getService("UserOptions");if(svc){var _10b2={extendedGroupList:{},groupLookup:{}};if(this.frmOptions.attr("value").rbLayout==="all"){_10b2.extendedGroupList.fieldCount=0;}else{_10b2.extendedGroupList.fieldCount=parseInt(this.txtFieldCount.focusNode.textbox.value);}svc.set("FieldCount","ExtendedGroupList",_10b2.extendedGroupList.fieldCount);var value=(this.chkHideOnSelection.checked)?"T":"F";svc.set("HideOnSelection","ExtendedGroupList",value);_10b2.extendedGroupList.hideOnSelection=this.chkHideOnSelection.checked;value=(this.chkShowOnLookup.checked)?"T":"F";svc.set("ShowOnLookup","ExtendedGroupList",value);_10b2.extendedGroupList.showOnLookup=this.chkShowOnLookup.checked;value=(this.chkStayInDetailView.checked)?"T":"F";svc.set("StayInDetailView","GroupLookup",value);_10b2.groupLookup.stayInDetailView=this.chkStayInDetailView.checked;topic.publish("userOptions/changed",_10b2);}}});return _10ad;});},"Sage/UI/Alarms/nls/AlarmCountDown":function(){define("Sage/UI/Alarms/nls/AlarmCountDown",["Sage/LanguageList","dojo/_base/lang"],function(_10b3,lang){var nls={root:{startsInText:"Starts in",overduebyText:"Overdue by",minuteText:"minute",minutesText:"minutes",hourText:"hour",hoursText:"hours",dayText:"day",daysText:"days",weekText:"week",weeksText:"weeks",monthText:"month",monthsText:"months",yearText:"year",yearsText:"years",startsNowText:"Starts now"}};return lang.mixin(_10b3,nls);});},"Sage/UI/Dashboard/DashboardTabController":function(){define("Sage/UI/Dashboard/DashboardTabController",["dijit/layout/ScrollingTabController","dojo/i18n","dijit/Menu","dijit/MenuItem","dijit/MenuSeparator","dojo/i18n!./nls/DashboardTabController","dojo/i18n!../nls/Boolean","dojo/_base/declare"],function(_10b4,i18n,menu,_10b5,_10b6,_10b7,_10b8,_10b9){var _10ba=_10b9("dijit.layout._TabButton",dijit.layout._ScrollingTabControllerButton,{baseClass:"dijitTab",postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.UI.Dashboard","DashboardTabController"));dojo.mixin(this,i18n.getLocalization("Sage.UI","Boolean"));},postCreate:function(){this.inherited(arguments);dojo.setSelectable(this.containerNode,false);},_setCloseButtonAttr:function(disp){var _10bb=i18n.getLocalization("dijit","common");if(disp){if(this.closeNode){dojo.attr(this.closeNode,"title",_10bb.itemClose);}this._closeMenu=new menu({id:this.id+"_Menu",dir:this.dir,targetNodeIds:[this.domNode]});this._closeMenu.addChild(new _10b5({label:this.newTabText,dir:this.dir,id:this._closeMenu.id+"_New",onClick:function(){var db=dijit.byId("Dashboard");db._createPage(true,db.newTabText);}}));this._closeMenu.addChild(new _10b5({label:this.addContentText,dir:this.dir,id:this._closeMenu.id+"_AddContent",onClick:dojo.hitch(this,function(){var id=this.id.replace("Dashboard_tablist_","");var d=dijit.byId(id);d._newWidgetMenu();})}));this._closeMenu.addChild(new _10b5({label:this.editOptionsText,dir:this.dir,id:this._closeMenu.id+"_Edit",onClick:dojo.hitch(this,function(){var id=this.id.replace("Dashboard_tablist_","");var d=dijit.byId(id);d._editOptionsMenu();})}));this._closeMenu.addChild(new _10b5({label:this.shareTabText,dir:this.dir,id:this._closeMenu.id+"_Share",onClick:dojo.hitch(this,function(){var id=this.id.replace("Dashboard_tablist_","");var d=dijit.byId(id);d._releaseManager.page=d;d._releaseManager.share();})}));this._closeMenu.addChild(new _10b5({label:this.hideTabText,dir:this.dir,id:this._closeMenu.id+"_Hide",onClick:dojo.hitch(this,function(){var id=this.id.replace("Dashboard_tablist_","");var d=dijit.byId(id);var db=dijit.byId("Dashboard");db._hidePage(d);})}));this._closeMenu.addChild(new _10b5({label:this.copyTabText,dir:this.dir,id:this._closeMenu.id+"_Copy",onClick:dojo.hitch(this,function(){var id=this.id.replace("Dashboard_tablist_","");var d=dijit.byId(id);var db=dijit.byId("Dashboard");db._copyPage(d);})}));this._closeMenu.addChild(new _10b5({label:this.showTabText,dir:this.dir,id:this._closeMenu.id+"_Show",onClick:dojo.hitch(this,function(){var d=dijit.byId("Dashboard");d._showTabMenu();})}));var id=this.id.replace("Dashboard_tablist_","");var d=dijit.byId(id);if(d.permission){this._closeMenu.addChild(new _10b5({label:this.deleteTabText,dir:this.dir,id:this._closeMenu.id+"_Delete",onClick:dojo.hitch(this,function(){var id=this.id.replace("Dashboard_tablist_","");var d=dijit.byId(id);var fn=function(ans){if(ans){if(d.permission){dojo.publish("/ui/dashboard/pageDelete",[d]);}else{var opts={title:d.resources.errorText,query:d.resources.permissionErrorText,yesText:d.resources.okButton,style:{width:"350px"},align:"right"};Sage.UI.Dialogs.raiseQueryDialogExt(opts);}}};var opts={title:this.deleteTabText,query:this.deleteTabConfirmText,callbackFn:fn,yesText:this.yesText,noText:this.noText,style:{width:"350px"},align:"right"};Sage.UI.Dialogs.raiseQueryDialogExt(opts);})}));}this._closeMenu.addChild(new _10b6());this._closeMenu.addChild(new _10b5({label:this.helpText,dir:this.dir,id:this._closeMenu.id+"_Help",onClick:dojo.hitch(this,function(){Sage.Utility.openHelp("Working_with_the_Dashboard","MCWebHelp");})}));}else{if(this._closeMenu){this._closeMenu.destroyRecursive();delete this._closeMenu;}}},_setLabelAttr:function(_10bc){this.inherited(arguments);if(this.showLabel===false&&!this.params.title){this.iconNode.alt=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");}},destroy:function(){if(this._closeMenu){this._closeMenu.destroyRecursive();delete this._closeMenu;}this.inherited(arguments);}});var _10bd=_10b9("Sage.UI.Dashboard.DashboardTabController",_10b4,{tabPosition:"top",buttonWidget:"dijit.layout._TabButton",addChild:function(){this.inherited(arguments);if(!this.perfomedHeightResizing){this.perfomedHeightResizing=true;dojo.style(this.containerNode,"height","37px");dojo.style(this.containerNode,"top","4px");}},_rectifyRtlTabList:function(){if(0>=this.tabPosition.indexOf("-h")){return;}if(!this.pane2button){return;}var _10be=0;for(var pane in this.pane2button){var ow=this.pane2button[pane].innerDiv.scrollWidth;_10be=Math.max(_10be,ow);}for(pane in this.pane2button){this.pane2button[pane].innerDiv.style.width=_10be+"px";}}});return _10bd;});},"Sage/Utility/Validate":function(){define("Sage/Utility/Validate",[],function(){Sage.namespace("Utility.Validate");dojo.mixin(Sage.Utility.Validate,{findNestedWidgets:function(_10bf){return dojo.query("[widgetid]",_10bf).map(dijit.byNode).filter(function(wid){return wid;});},shouldSubmit:function(){if(!this._isValid){this._isValid=true;return false;}return true;},_isValid:true,_getWorkspaceNode:function(_10c0){var node;switch(_10c0){case "Sage.Platform.WebPortal.Workspaces.DialogWorkspace":node="DialogWorkspace_window";break;default:node="mainform";}return node;},onWorkSpaceSave:function(_10c1){var node=this._getWorkspaceNode(_10c1);this._isValid=this.runValidation(node);},runValidation:function(node){var _10c2=this.findNestedWidgets(dojo.byId(node)),_10c3=false;dojo.forEach(_10c2,function(_10c4){if(_10c4.validate){_10c4._hasBeenBlurred=true;var valid=_10c4.disabled||!_10c4.validate||_10c4.validate();if(!valid&&!_10c3){dojo.window.scrollIntoView(_10c4.containerNode||_10c4.domNode);_10c4.focus();_10c3=true;}}},this);if(_10c3){return false;}return true;}});});},"Sage/UI/Controls/CurrencyTextBox":function(){define("Sage/UI/Controls/CurrencyTextBox",["dijit/form/CurrencyTextBox","dojo/currency","Sage/Utility","dojo/_base/declare","dojo/_base/lang"],function(_10c5,_10c6,_10c7,_10c8,lang){var _10c9=_10c8("Sage.UI.Controls.CurrencyTextBox",[_10c5],{shouldPublishMarkDirty:true,autoPostBack:false,hotKey:"",attributeMap:{hotKey:{node:"textbox",type:"attribute",attribute:"accessKey"}},onBlur:function(){var _10ca=Sys.CultureInfo.CurrentCulture.numberFormat.CurrencyDecimalSeparator;this.textbox.value=_10c7.maximizeDecimalDigit(this.textbox.value,this.constraints.places,_10ca);},_sageUICurrencyTextBox_IsValid:function(){if(this.constraints.places>-1){var _10cb=_10c7.restrictDecimalDigit(this.textbox.value,this.constraints.places);this.textbox.value=lang.trim(_10cb.replace(Sys.CultureInfo.CurrentCulture.numberFormat.CurrencySymbol,""));this.textbox.value=lang.trim(_10cb.replace(this.constraints.currency,""));}this.inherited(arguments);},postCreate:function(){this.connect(this,"isValid",this._sageUICurrencyTextBox_IsValid);this.connect(this,"onChange",this.onChanged);this.connect(this,"onBlur",this.onBlur);this.inherited(arguments);},onChanged:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}if(this.autoPostBack){if(Sys){Sys.WebForms.PageRequestManager.getInstance()._doPostBack(this.id,null);}}},setAttribute:function(attr,val){this.set(attr,val);}});return _10c9;});},"Sage/Groups/BaseGroupContextService":function(){define("Sage/Groups/BaseGroupContextService",["Sage/Utility","dojo/string","Sage/Data/SDataServiceRegistry","dojo/ready","dojo/_base/lang","dojo/_base/declare","dojo/_base/array"],function(_10cc,_10cd,_10ce,ready,lang,_10cf,array){var _10d0=_10cf("Sage.Groups.BaseGroupContextService",null,{_adHocGroupList:null,_connects:null,_subscribes:null,_emptyContext:null,_currentRequestHandle:null,_isAdHocGroupListRetrieved:false,constructor:function(){this._connects=[];this._subscribes=[];this._adHocGroupList=[];this._emptyContext={DefaultGroupID:null,CurrentGroupID:null,CurrentTable:null,CurrentName:null,CurrentEntity:null,CurrentFamily:null};ready(lang.hitch(this,function(){if(!this.isContextRequired()){var _10d1=_10cc.getValue(window,"Sage.Groups._groupContext"),_10d2=_10cc.getValue(window,"Sage.UI.DataStore.Filters");if(_10d2){if(_10d1["AppliedFilterInfo"]){_10d2["default"]=this.createFilterExtendedSet(_10d1["AppliedFilterInfo"]);}}}if(this.isContextRequired()){this.requestContext();}}));},createFilterExtendedSet:function(_10d3){var _10d4=_10d3["definitionSet"]||[],_10d5=_10d3["applied"]||[],_10d6={},_10d7={},_10d8,_10d9,i,j,value;for(i=0;i<_10d4.length;i++){_10d8=_10d4[i];_10d9={"$key":_10d8["id"],"$partial":true,"filterName":_10d8["filterName"],"displayName":_10d8["displayName"],"propertyName":_10d8["propertyName"],"propertyDataTypeId":_10d8["propertyDataTypeId"],"details":{}};if(_10d8["filterType"]=="rangeFilter"){_10d9["details"]["rangeFilter"]={"characters":_10d8["characters"]};}else{_10d9["details"]["distinctFilter"]={};}_10d6[_10d8["id"]]=_10d9;}for(i=0;i<_10d5.length;i++){_10d8=_10d5[i];_10d9={};for(j=0;j<_10d8["rangeValues"].length;j++){value=_10d8["rangeValues"][j];_10d9[value["rangeName"]]=lang.mixin({},value);}for(j=0;j<_10d8["distinctValues"].length;j++){value=_10d8["distinctValues"][j];if(typeof value==="string"){_10d9[value]=value;}}_10d7[_10d8["id"]]=_10d9;}return {"definitionSet":_10d6,"applied":_10d7};},destroy:function(){array.forEach(this._connects,function(_10da){dojo.disconnect(_10da);});this.unsubscribeConnects();this.uninitialize();},unsubscribeConnects:function(){array.forEach(this._subscribes,function(_10db){dojo.unsubscribe(_10db);});},uninitialize:function(){},isContextRequired:function(){var _10dc=!(Sage&&Sage.Groups&&Sage.Groups._groupContext);return _10dc;},createCompatibleContext:function(_10dd){if(_10dd["currentGroupId"]=="LOOKUPRESULTS"){_10dd["currentName"]="Lookup Results";}var _10de={"AppliedFilterInfo":_10dd["appliedFilterInfo"],"ContainsPositionState":_10dd["containsPositionState"],"CurrentDisplayName":_10dd["currentDisplayName"],"CurrentEntity":_10dd["currentEntity"],"CurrentEntityID":_10dd["currentEntityId"],"CurrentEntityPosition":_10dd["currentEntityPosition"],"CurrentFamily":_10dd["currentFamily"],"CurrentGroupCount":_10dd["currentGroupCount"],"CurrentGroupID":_10dd["currentGroupId"],"CurrentName":_10dd["currentName"],"CurrentTable":_10dd["currentTable"],"CurrentTableKeyField":_10dd["currentTableKeyField"],"DefaultGroupID":_10dd["defaultGroupId"],"FirstEntityID":_10dd["firstEntityId"],"LastEntityID":_10dd["lastEntityId"],"LookupLayoutGroupName":_10dd["lookupLayoutGroupName"],"NextEntityID":_10dd["nextEntityId"],"PreviousEntityID":_10dd["previousEntityId"],"RetrievedOn":_10dd["retrievedOn"],"isAdhoc":_10dd["isAdHoc"]};if(!_10dd["appliedFilterInfo"]){delete _10de.AppliedFilterInfo;}return _10de;},_onDefaultFilterRefresh:function(_10df,_10e0,_10e1){},getContext:function(){},setContext:function(_10e2){var _10e3=Sage&&Sage.Groups;if(_10e3&&_10e2){lang.mixin(_10e3._groupContext,_10e2);this.onContextSet(_10e3._groupContext);}},setCurrentGroup:function(_10e4,_10e5){},_onSetContextRequestSuccess:function(entry){var _10e6=entry&&entry["response"],_10e7=_10e6&&this.createCompatibleContext(_10e6);if(_10e7){this.setContext(_10e7);}this.onCurrentGroupChanged({current:_10e7});},_onSetContextRequestFailure:function(_10e8,o){},onSuccessfulGroupChanged:function(data){var _10e9=this.getContext();this.setContext(data);this.onCurrentGroupChanged({current:data,previous:_10e9});},onCurrentGroupChanged:function(_10ea){},publishFiltersApplied:function(){var _10eb=this.getContext();if(_10eb.AppliedFilterInfo){ready(lang.hitch(this,function(){var _10ec=this.createFilterExtendedSet(_10eb.AppliedFilterInfo),_10ed=_10cc.getValue(window,"Sage.UI.DataStore.Filters");_10ed["default"]=_10ec;dojo.publish("/ui/filters/default/apply",[_10ec["applied"],_10ec["definitionSet"],this]);}));}},applyFilters:function(_10ee){var _10ef=this.getContext();if(_10ef.AppliedFilterInfo){var _10f0=this.createFilterExtendedSet(_10ef.AppliedFilterInfo),_10f1=_10cc.getValue(window,"Sage.UI.DataStore.Filters");_10f1["default"]=_10f0;if(_10ee){_10ee._onApply(_10f0["applied"],_10f0["definitionSet"],this);}}},onContextSet:function(_10f2){}});return _10d0;});},"Sage/QuickForms/Design/Editors/OwnerAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/OwnerAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/OwnerAdvancedPropertyEditor"],function(_10f3,lang,_10f4,_10f5,_10f6,_10f7,_10f8,_10f9,_10fa,_10fb,_10fc){return _10f3("Sage.QuickForms.Design.Editors.OwnerAdvancedPropertyEditor",[_10f4,_10fa,_10f9],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlLabelPlacementTooltipText %}\">","<label>{%= $.controlLabelPlacementText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_controlLabelPlacement\" data-dojo-attach-event=\"onChange:_onControlLabelPlacementChange\">","{% for (var placement in $.labelPlacementText) { %}","<span value=\"{%= placement %}\">{%= $.labelPlacementText[placement] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.enabledTooltipText %}\">","<label>{%= $.enabledText %}</label>","<div data-dojo-attach-point=\"_enabled\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onEnabledChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.requiredTooltipText %}\">","<label>{%= $.requiredText %}</label>","<div data-dojo-attach-point=\"_required\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onRequiredChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.defaultDataBindingTooltipText %}\">","<label>{%= $.defaultDataBindingText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_defaultDataBinding\" data-dojo-attach-event=\"onChange:_onDefaultDataBindingChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_controlType:null,_controlId:null,_enabled:null,_controlLabelPlacement:null,_defaultDataBinding:null,_required:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},constructor:function(){lang.mixin(this,_10fc);},setup:function(){this.inherited(arguments);this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._enabled.set("value",this._designer.get("enabled"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._required.set("value",this._designer.get("required"));this._visible.set("value",this._designer.get("visible"));var _10fd=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_10fd&&_10fd["DataItemName"])||"");},_onControlTypeChange:function(value){},_onControlIdChange:function(value){},_onDefaultDataBindingChange:function(value){},_onEnabledChange:function(value){if(this.isSuspended()){return;}this._designer.set("enabled",value);},_onControlLabelPlacementChange:function(value){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",value);},_onRequiredChange:function(value){if(this.isSuspended()){return;}this._designer.set("required",value);},_onVisibleChange:function(value){if(this.isSuspended()){return;}this._designer.set("visible",value);}});});},"Sage/UI/PopupMenuBarItem":function(){define("Sage/UI/PopupMenuBarItem",["Sage/UI/MenuBarItem","Sage/UI/PopupMenuItem","dojo/_base/declare"],function(_10fe,_10ff,_1100){return _1100("Sage.UI.PopupMenuBarItem",[_10ff,_10fe],{});});},"Sage/UI/NotesHistoryList":function(){define("Sage/UI/NotesHistoryList",["dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","Sage/Utility/Activity","Sage/Utility/Email","Sage/Utility","Sage/UI/SLXPreviewGrid","Sage/UI/Columns/DateTime","Sage/UI/Columns/SlxLink","Sage/UI/SLXPreviewGrid/Filter/Text","Sage/UI/SLXPreviewGrid/Filter/_previewGridFilterMixin","dojo/data/ItemFileReadStore","dijit/form/FilteringSelect","dijit/form/CheckBox","Sage/UI/Dialogs","dojo/string","dojo/date/locale","dojo/i18n!./nls/NotesHistoryList","dojo/_base/declare","dojo/has"],function(_1101,_1102,_1103,_1104,email,_1105,_1106,_1107,_1108,_1109,_110a,_110b,_110c,_110d,_110e,_110f,_1110,_1111,_1112,has){var _1113=_1112("Sage.UI.HistoryTypeFilterWidget",[_1101,_1102,_1103,_110a],{templateString:["<div>","<div dojoAttachPoint=\"selectContainer\"></div>","<div class=\"chkShowDBChanges\">","<input id=\"chkShowDbChanges\" type=\"checkbox\" dojoType=\"dijit.form.CheckBox\" dojoAttachPoint=\"chkShowDbChanges\" />","<label for=\"chkShowDbChanges\">",_1111.showDbChangesText,"</label>","</div>","</div>"].join(""),buildRendering:function(){this.inherited(arguments);var _1114=[];dojo.forEach(["atAppointment","atPhoneCall","atToDo","atNote","atPersonal","atInternal","atSchedule","atEMail","atDoc","atFax","atLiterature","atDatabaseChange"],function(item){_1114.push({name:_1104.getActivityTypeName(item),id:_1104.getActivityTypeEnumValue(item)});});var store=new _110b({data:{items:_1114,label:"name",identifier:"id"}});this._select=new _110c({store:store,required:false},this.selectContainer);},getQuery:function(){var _1115=this.chkShowDbChanges.get("checked");var type=this._select.get("value");if(type){var c="(Type eq \""+type+"\"";if(_1115){c+=" or Type eq \""+_1104.getActivityTypeEnumValue("atDatabaseChange")+"\"";}c+=")";return c;}else{if(!_1115){return "Type ne \""+_1104.getActivityTypeEnumValue("atDatabaseChange")+"\"";}}return "";},reset:function(){this._select.set("value","");this.chkShowDbChanges.set("checked",false);},getState:function(){return {"value":this._select.get("value"),"showDBChanges":this.chkShowDbChanges.get("checked")};},applyState:function(state){if(state){this._select.set("value",state["value"]||"");this.chkShowDbChanges.set("checked",state["showDBChanges"]);}}});var _1116=_1112(Sage.UI.SLXPreviewGrid.Filter.DateRange,{getQuery:function(){var _1117=function(value,_1118){if(!value){return "";}if(value.constructor!==Date){value=Date.parse(value);}if(_1118){value.setUTCDate(value.getUTCDate()+1);}return _1105.Convert.toIsoStringFromDate(value);};var _1119=function(value,_111a){if(!value){return "";}if(value.constructor!==Date){value=Date.parse(value);}var pad=function(n){return n<10?"0"+n:n;};return [value.getFullYear(),"-",pad(value.getMonth()+1),"-",pad(value.getDate()),(_111a)?"T23:59:59Z":"T00:00:00Z"].join("");};var dFrom=this.dteFrom.get("value");var dTo=this.dteTo.get("value");var fmt;var qry="";if(!dFrom&&!dTo){return "";}if(dTo&&dFrom){fmt=["((((Timeless eq true and CompletedDate eq OriginalDate) and (CompletedDate ge '${0}' and CompletedDate lt '${1}'))) or","(((Timeless eq false) or (Timeless eq true and CompletedDate ne OriginalDate)) and (CompletedDate ge '${2}' and CompletedDate lt '${3}')))"].join("");qry=_110f.substitute(fmt,[_1119(dFrom),_1119(dTo,true),_1117(dFrom),_1117(dTo,true)]);}else{if(dFrom&&!dTo){fmt=["((((Timeless eq true and CompletedDate eq OriginalDate) and CompletedDate ge '${0}')) or","(((Timeless eq false) or (Timeless eq true and CompletedDate ne OriginalDate)) and CompletedDate ge '${1}'))"].join("");qry=_110f.substitute(fmt,[_1119(dFrom),_1117(dFrom)]);}else{if(dTo&&!dFrom){fmt=["((((Timeless eq true and CompletedDate eq OriginalDate) and CompletedDate lt '${0}')) or","(((Timeless eq false) or (Timeless eq true and CompletedDate ne OriginalDate)) and CompletedDate lt '${1}'))"].join("");qry=_110f.substitute(fmt,[_1119(dTo,true),_1117(dTo,true)]);}}}return qry;}});var _111b=_1112("Sage.UI.NotesHistoryList",[_1101],{placeholder:"",parentRelationshipName:"",workspace:"",tabId:"",connections:[],constructor:function(){this.connections=[];},startup:function(){var _111c=[{field:"$key",editable:false,hidden:true,id:"id",formatter:function(value,_111d,cel){var _111e=[cel.grid.id,"-row",_111d].join("");var id=(_1105.getModeId()==="insert")?_111e:value;var _111f=["<div id=",id," >",id,"</ div>"].join("");return _111f;}},{field:"Type",name:_1111.typeText,type:_1104.historyTypeCell,width:"90px",filterConfig:{widgetType:_1113}},{field:"CompletedDate",name:_1111.dateTimeText,type:_1107,useFiveSecondRuleToDetermineTimeless:true,width:"100px",filterConfig:{widgetType:_1116,label:_1111.dateRangeText}},{field:"UserName",name:_1111.userText,width:"90px",filterConfig:{widgetType:_1109}}];this._addEntitySpecificColumns(_111c);_111c.push({field:"Description",name:_1111.regardingText,width:"200px",filterConfig:{widgetType:_1109}});_111c.push({field:"Result",name:_1111.resultText,width:"90px"});_111c.push({field:"Category",name:_1111.categoryText,width:"90px"});var _1120=[{id:"SendEmail",imageClass:"icon_Send_Write_email_16x16",tooltip:_1111.sendEmailText,handler:this.onSendEmailClick,scope:this},{id:"SendWord",imageClass:"icon_Document_Type_16x16",tooltip:_1111.sendToWordText,handler:this.onSendToWordClick,scope:this},{id:"NewNote",imageClass:"icon_New_Note_16x16",tooltip:_1111.addNoteText,handler:Sage.Link.newNote,scope:Sage.Link},{id:"CompleteActivity",imageClass:"icon_complete_activity_16x16",tooltip:_1111.completeAnActivityText,handler:Sage.Link.scheduleCompleteActivity,scope:Sage.Link},{id:"Help",imageClass:"icon_Help_16x16",handler:function(){_1105.openHelp("noteshistory");},tooltip:_1111.helpText}];var _1121=this.parentRelationshipName;var _1122={tools:_1120,columns:_111c,previewField:"LongNotes",storeOptions:{select:["Type","CompletedDate","UserName","AccountName","ContactName","ContactId","OpportunityName","OpportunityId","Description","LongNotes","Timeless","Result"],resourceKind:"history",sort:[{attribute:"CompletedDate",descending:"true"}]},slxContext:{workspace:this.workspace,tabId:this.tabId},contextualCondition:function(){var fmt="${0} eq '${1}'";if(_1121==="ContactId"||_1121==="LeadId"){fmt="((HistoryAttendees.EntityId eq  '${1}') or (${0} eq  '${1}' and  HistoryAttendees.IsPrimary eq true) or (${0} eq  '${1}' and  HistoryAttendees.EntityId eq null))";}return _110f.substitute(fmt,[_1121,_1105.getCurrentEntityId()]);},dblClickAction:Sage.Link.editHistory};this.onBeforeCreateGrid(_1122);var grid=new Sage.UI.SLXPreviewGrid.Grid(_1122,this.placeHolder);grid.startup();var _1123=dijit.byId("tabContent");_1123.resize();_1123.resize();this.connections.push(dojo.subscribe("/entity/history/create",this,this.onHistoryChanges));this.connections.push(dojo.subscribe("/entity/history/change",this,this.onHistoryChanges));this.connections.push(dojo.subscribe("/entity/history/delete",this,this.onHistoryChanges));dojo.connect(grid,"destroy",this,this.destroy);this._grid=grid;},onHistoryChanges:function(_1124){this._grid.refresh();},destroy:function(){for(var i=0;i<this.connections.length;i++){dojo.unsubscribe(this.connections.pop());}this.inherited(arguments);},_addEntitySpecificColumns:function(list){var _1125=Sage.Services.getService("ClientEntityContext").getContext().EntityType;switch(_1125){case "Sage.Entity.Interfaces.IAccount":case "Sage.Entity.Interfaces.IOpportunity":list.push({field:"ContactName",name:_1111.contactText,width:"100px",type:_1108,idField:"ContactId",pageName:"Contact"});break;case "Sage.Entity.Interfaces.IContact":list.push({field:"OpportunityName",name:_1111.opportunityText,width:"100px",type:_1108,idField:"OpportunityId",pageName:"Opportunity"});break;}},onSendEmailClick:function(){var notes=this._grid.getSelectedRecords(["Description","LongNotes","AccountName","ContactName","CompletedDate","UserName"]);if(notes.length===0){_110e.showWarning(_1111.pleaseSelectRecordsText);return;}var body=dojo.map(notes,function(n){var txt=_1111.accountText+": "+n.AccountName+"\n";if(n.ContactName){txt+=_1111.contactText+": "+n.ContactName+"\n";}var _1126=_1105.Convert.toDateFromString(n.CompletedDate);txt+=_1111.dateText+": ";txt+=_1110.format(_1126)+"\n";txt+=_1111.userText+": "+n.UserName+"\n";txt+=_1111.regardingText+": "+n.Description+"\n\n";txt+=_1111.notesText+":\n"+n.LongNotes;return txt;}).join("\n\n---------------------------------------------\n\n");var _1127=dojo.map(notes,function(n){return n.Description;}).join("; ");email.writeEmail("",_1127,body);},onSendToWordClick:function(){var _1128=function(){if(Sage.gears){try{var cf=Sage.gears.factory.create("com.factory");return cf.newActiveXObject("Word.Application");}catch(e){}}if(has("ie")>=11||typeof ActiveXObject!=="undefined"){try{return new ActiveXObject("Word.Application");}catch(e){return null;}}return null;};var notes=this._grid.getSelectedRecords(["Description","LongNotes","AccountName","ContactName","CompletedDate","UserName","Type"]);if(notes.length===0){_110e.showWarning(_1111.pleaseSelectRecordsText);return;}var _1129=_1128();if(!_1129){_110e.showWarning(_1111.UnableToFindWordMsg);return;}var _112a=9;var _112b=0;var doc=_1129.Documents.Add();_1129.PrintPreview=true;_1129.Visible=true;_1129.ActiveWindow.ActivePane.View.SeekView=_112a;_1129.Selection.TypeText(_1111.accountText+": "+notes[0].AccountName+"            "+_1111.printedOnText+": "+_1110.format(new Date(),{selector:"date",fullYear:true}));_1129.ActiveWindow.ActivePane.View.SeekView=_112b;dojo.forEach(notes,function(note){_1129.Selection.TypeText("___________________________________________________________");_1129.Selection.TypeParagraph();_1129.Selection.TypeParagraph();if(note.ContactName){_1129.Selection.TypeText(_1111.contactText+":        ");_1129.Selection.TypeText(note.ContactName);_1129.Selection.TypeParagraph();}if(note.CompletedDate){var _112c=_1105.Convert.toDateFromString(note.CompletedDate);_1129.Selection.TypeText(_1111.dateText+":        ");_1129.Selection.TypeText(_1110.format(_112c));_1129.Selection.TypeParagraph();}if(note.UserName){_1129.Selection.TypeText(_1111.userText+":        ");_1129.Selection.TypeText(note.UserName);_1129.Selection.TypeParagraph();}_1129.Selection.TypeText(_1111.typeText+":        ");_1129.Selection.TypeText(_1104.getActivityTypeName(note.Type));_1129.Selection.TypeParagraph();if(note.Description){_1129.Selection.TypeText(_1111.regardingText+":        ");_1129.Selection.TypeText(note.Description);_1129.Selection.TypeParagraph();}if(note.LongNotes){_1129.Selection.TypeText(_1111.notesText+":        ");_1129.Selection.TypeText(note.LongNotes);_1129.Selection.TypeParagraph();}});_1129.Selection.TypeText("___________________________________________________________");_1129.Selection.TypeParagraph();_1129.Visible=true;},onBeforeCreateGrid:function(_112d){}});return _111b;});},"Sage/UI/nls/AttachmentList":function(){define("Sage/UI/nls/AttachmentList",["Sage/LanguageList","dojo/_base/lang"],function(_112e,lang){var nls={root:{attachmentText:"Attachment",userText:"User",modDateText:"Modify Date/Time",dateRangeText:"Modify Date Range",sizeText:"Size",extensionText:"File Extension",addFileText:"Add File",addUrlText:"Add URL",editText:"Edit",helpText:"Help",addGoogleText:"Add Google Document",deleteText:"Delete",request:"Request File",delivered:"Delivered",requested:"Requested",available:"Available"}};return lang.mixin(_112e,nls);});},"Sage/MailMerge/nls/Lookup":function(){define("Sage/MailMerge/nls/Lookup",["Sage/LanguageList","dojo/_base/lang"],function(_112f,lang){var nls={root:{accountCaption:"Account",companyCaption:"Company",contactTitle:"Select a Contact",emailCaption:"E-mail",firstNameCaption:"First Name",invalidOptionsText:"The options parameter or options.onSelect is undefined or defined incorrectly.",lastNameCaption:"Last Name",leadTitle:"Select a Lead",mobileCaption:"Mobile",opportunityCaption:"Opportunity",workCaption:"Work",okText:"OK"}};return lang.mixin(_112f,nls);});},"Sage/QuickForms/Design/Editors/nls/RowBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/RowBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1130,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",indexText:"Index:",indexTooltipText:"Number of the row or column, beginning with zero."}};return lang.mixin(_1130,nls);});},"Sage/MainView/JobMgr/nls/RunJobDialog":function(){define("Sage/MainView/JobMgr/nls/RunJobDialog",["Sage/LanguageList","dojo/_base/lang"],function(_1131,lang){var nls={root:{dlgRunJob_Title:"Run/Schedule Job",txtJobName_Caption:"Job Name",txtTriggerDescription_Caption:"Description",cmbScheduleType_Caption:"Schedule",cmdOK_Caption:"OK",cmdCancel_Caption:"Cancel",txtInvalidNumber:"Invalid number.",contentPaneParameters_Caption:"Parameters",txtRunNow:"Run Now",txtScheduledExecution:"Scheduled Execution",colName_Caption:"Name",colValue_Caption:"Value",colDescription_Caption:"Description",txtInvalidParameterTitle:"Invalid Parameter",txtInvalidParameterMessage:"Invalid Parameter: ${0}"}};return lang.mixin(_1131,nls);});},"Sage/MainView/ReportMgr/Crystal/DateParameterEditor":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/DateParameterEditor.html":"<div>\r\n    <div data-dojo-attach-point=\"promptParameterContainer\" class=\"crystalParameterContainer\">\r\n        <div data-dojo-attach-point=\"paramsHeaderContainer\"></div>\r\n        <div data-dojo-attach-point=\"divMinMaxMessage\">\r\n            <span data-dojo-attach-point=\"spanMinMaxMessage\">&nbsp;</span>\r\n        </div>\r\n        <div>\r\n            <table data-dojo-attach-point=\"tblRange\" style=\"width:100%\">\r\n                <colgroup>\r\n                    <col style=\"width:1%\" />\r\n                    <col style=\"width:44%\" />\r\n                    <col style=\"width:10%\" />\r\n                    <col style=\"width:1%\" />\r\n                    <col style=\"width:44%\" />\r\n                </colgroup>\r\n                <tr>\r\n                    <td colspan=\"3\">\r\n                        <label data-dojo-attach-point=\"lblDiscreteStartRange\" style=\"font-weight:bold\">{%= Sage.Utility.htmlEncode($.txtStartOfRange) %}</label>\r\n                    </td>\r\n                    <td colspan=\"2\" data-dojo-attach-point=\"colEndDefaultValuesLabel\">\r\n                        <label style=\"font-weight:bold\">{%= Sage.Utility.htmlEncode($.txtEndOfRange) %}</label>\r\n                    </td>\r\n                </tr>\r\n                <tr data-dojo-attach-point=\"rowRangeListItems\">\r\n                    <td></td>\r\n                    <td data-dojo-attach-point=\"colStartDefaultValues\">\r\n                        <div>\r\n                            <select dojotype=\"dijit.form.FilteringSelect\" data-dojo-attach-point=\"cboDiscreteStartRange\" style=\"width:90%\"></select>\r\n                            <span data-dojo-attach-point=\"lstErrorDiscreteStartRange\" class=\"display-none\" style=\"color:red\">*</span>\r\n                        </div>\r\n                    </td>\r\n                    <td colspan=\"2\"></td>\r\n                    <td data-dojo-attach-point=\"colEndDefaultValues\">\r\n                        <div>\r\n                            <select dojotype=\"dijit.form.FilteringSelect\" data-dojo-attach-point=\"cboEndRangeValues\" style=\"width:90%\"></select>\r\n                            <span data-dojo-attach-point=\"lstErrorEndRange\" class=\"display-none\" style=\"color:red\">*</span>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n                <tr data-dojo-attach-point=\"rowStartEndOrValue\">\r\n                    <td colspan=\"3\">\r\n                        <label style=\"font-weight:bold\">{%= Sage.Utility.htmlEncode($.lblOrValue_Caption) %}</label><br />\r\n                    </td>\r\n                    <td colspan=\"2\" data-dojo-attach-point=\"rowToValueLabel\">\r\n                        <label style=\"font-weight:bold\">{%= Sage.Utility.htmlEncode($.lblOrValue_Caption) %}</label><br />\r\n                    </td>\r\n                </tr>\r\n                <tr data-dojo-attach-point=\"rowCustomRangeValues\">\r\n                    <td></td>\r\n                    <td data-dojo-attach-point=\"rowDiscreteFromRange\">\r\n                        <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" data-dojo-attach-point=\"dtDiscreteFromRange\" displayDate=\"true\"\r\n                            displayTime=\"false\" required=\"true\" style=\"width:90%\">\r\n                        </div>\r\n                        <span data-dojo-attach-point=\"errorDiscreteValue\" class=\"display-none\" style=\"color:red\">*</span>\r\n                    </td>\r\n                    <td colspan=\"2\"></td>\r\n                    <td data-dojo-attach-point=\"rowToRange\">\r\n                        <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" data-dojo-attach-point=\"dtToRange\" displayDate=\"true\"\r\n                            displayTime=\"false\" required=\"true\" style=\"width:90%\">\r\n                        </div>\r\n                        <span data-dojo-attach-point=\"errorEndRange\" class=\"display-none\" style=\"color:red\">*</span>\r\n                    </td>\r\n                </tr>\r\n                <tr data-dojo-attach-point=\"rowIncludeRangeOptions\">\r\n                    <td></td>\r\n                    <td colspan=\"2\">\r\n                        <input data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"chkIncludeFromRange\" />\r\n                        <label>{%= Sage.Utility.htmlEncode($.txtIncludeThisValue) %}</label>\r\n                    </td>\r\n                    <td></td>\r\n                    <td>\r\n                        <input data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"chkIncludeToRange\" />\r\n                        <label>{%= Sage.Utility.htmlEncode($.txtIncludeThisValue) %}</label>\r\n                    </td>\r\n                </tr>\r\n                <tr data-dojo-attach-point=\"rowUpperLowerRangeOptions\">\r\n                    <td></td>\r\n                    <td colspan=\"2\">\r\n                        <input data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"chkNoLowerValue\" dojoAttachEvent=\"onChange:_chkNoLowerValue_OnCheck\" />\r\n                        <label>{%= Sage.Utility.htmlEncode($.txtNoLowerValue) %}</label>\r\n                    </td>\r\n                    <td></td>\r\n                    <td>\r\n                        <input data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"chkNoUpperValue\" dojoAttachEvent=\"onChange:_chkNoUpperValue_OnCheck\" />\r\n                        <label>{%= Sage.Utility.htmlEncode($.txtNoUpperValue) %}</label>\r\n                    </td>\r\n                </tr>\r\n                <tr data-dojo-attach-point=\"rowRangeValidationError\" class=\"display-none\">\r\n                    <td colspan=\"4\">\r\n                        <div>\r\n                            <label data-dojo-attach-point=\"lblRangeValidationError\" style=\"color:red\">{%= Sage.Utility.htmlEncode($.txtPleaseSpecifyValue) %}</label>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n                <tr data-dojo-attach-point=\"rowAddRangeParameter\">\r\n                    <td colspan=\"4\"></td>\r\n                    <td>\r\n                        <div style=\"padding:5px\">\r\n                            <div data-dojo-type=\"dijit.form.Button\" data-dojo-attach-point=\"cmdAddRange\" dojoAttachEvent=\"onClick:_cmdAddRange_OnClick\"\r\n                                style=\"float:right\" >{%= Sage.Utility.htmlEncode($.txtAddRange) %}\r\n                            </div>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n            <table style=\"width:100%\">\r\n                <colgroup>\r\n                    <col style=\"width:1%\" />\r\n                    <col style=\"width:44%\" />\r\n                    <col style=\"width:10%\" />\r\n                    <col style=\"width:44%\" />\r\n                </colgroup>\r\n                <tr>\r\n                    <td colspan=\"4\">\r\n                        <div data-dojo-attach-point=\"transferBoxContainer\" style=\"height:auto\"></div>\r\n                    </td>\r\n                </tr>\r\n                <tr data-dojo-attach-point=\"rowCustomValues\">\r\n                    <td></td>\r\n                    <td>\r\n                        <div>\r\n                            <label>{%= Sage.Utility.htmlEncode($.lblEnterValue_Caption) %}</label><br />\r\n                            <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" data-dojo-attach-point=\"dtCustomValue\" displayDate=\"true\"\r\n                                displayTime=\"false\" required=\"true\" style=\"width:90%\">\r\n                            </div>\r\n                            <span data-dojo-attach-point=\"errorCustomDate\" class=\"display-none\" style=\"color:red\">*</span>\r\n                        </div>\r\n                    </td>\r\n                    <td>\r\n                        <br />\r\n                        <div data-dojo-type=\"dijit.form.Button\" data-dojo-attach-point=\"cmdAddCustom\" dojoAttachEvent=\"onClick:_cmdAddCustom_OnClick\" >{%= Sage.Utility.htmlEncode(\">\") %}</div>\r\n                    </td>\r\n                    <td></td>\r\n                </tr>\r\n                <tr>\r\n                    <td></td>\r\n                    <td colspan=\"3\">\r\n                        <div data-dojo-attach-point=\"divValidationMessage\" style=\"color:red\">\r\n                            <span data-dojo-attach-point=\"spanValidationMessage\">&nbsp;</span>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <div>\r\n        <br />\r\n    </div>\r\n</div>"}});define("Sage/MainView/ReportMgr/Crystal/DateParameterEditor",["dojo/_base/declare","dojo/_base/array","Sage/MainView/ReportMgr/Crystal/ParameterHeaderWidget","dojo/text!./templates/DateParameterEditor.html","Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase","Sage/MainView/ReportMgr/ReportManagerUtility","Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility","Sage/Utility","Sage/Reporting/Enumerations","dojo/string"],function(_1132,_1133,_1134,_1135,_1136,_1137,_1138,_1139,_113a,_113b){var _113c=_1139.makeTemplateFromString(_1135);var _113d=_1132("Sage.MainView.ReportMgr.Crystal.DateParameterEditor",[_1136],{widgetTemplate:_113c,displayTime:false,_selectedValues:[],_validationMsg:"",_setValueAttr:function(value){this._set("value",value);},_getValueAttr:function(){this._promptParameter.currentValues=[];if(this._selectedValues.length>0){var self=this;_1133.forEach(this._selectedValues,function(_113e,i){self._promptParameter.currentValues.push(self._getParameterValue(_113e));});}else{var _113f;if(this._paramDiscreteType){var _1140=this._getDateValue(this.dtDiscreteFromRange,this.cboDiscreteStartRange.item);_113f={range:null,value:_1140.value};}else{var range=this._getRangeValue();_113f={range:range,displayValue:range.displayValue,value:range.startValue?range.startValue:range.endValue};}this._promptParameter.currentValues.push(this._getParameterValue(_113f));}return this._promptParameter;},postCreate:function(){this.displayTime=this._promptParameter.parameterValueKind===_113a.SlxParameterValueKind.DateTimeParameter;this.dtDiscreteFromRange.displayTime=this.displayTime;this.dtToRange.displayTime=this.displayTime;this.dtCustomValue.displayTime=this.displayTime;this.chkIncludeFromRange.set("checked",true);this.chkIncludeToRange.set("checked",true);},constructor:function(_1141){},startup:function(){this.inherited(arguments);var _1142=new _1134({promptText:this._promptParameter.promptText,parameterFieldName:this._promptParameter.parameterFieldName}).placeAt(this.paramsHeaderContainer);switch(this.valueRangeKind){case _113a.SlxParameterValueRangeKind.Discrete:if(this.allowMultiValue){_1137.setDomNodeVisible(this.tblRange,false);}else{_1137.setDomNodeVisible(this.colEndDefaultValues,false);_1137.setDomNodeVisible(this.rowIncludeRangeOptions,false);_1137.setDomNodeVisible(this.rowUpperLowerRangeOptions,false);_1137.setDomNodeVisible(this.colEndDefaultValuesLabel,false);_1137.setDomNodeVisible(this.rowToRange,false);_1137.setDomNodeVisible(this.rowToValueLabel,false);_1137.setDomNodeVisible(this.rowStartEndOrValue,this._allowCustomValues&&this._values.length>0);_1137.setDomNodeVisible(this.rowDiscreteFromRange,this._allowCustomValues);this.lblDiscreteStartRange.textContent=this.lblSelectValue_Caption;if(this._values.length>0){_1138.initializeComboBoxValues(this._values,_1138.getRangeInitialValue(this._initialValues,false),this.cboDiscreteStartRange);this.cboDiscreteStartRange.setAttribute("style","width:55% !important;");dojo.connect(this.cboDiscreteStartRange,"onBlur",this,"_cboDiscreteStartRange_OnChange",true);dojo.connect(this.dtDiscreteFromRange,"onChange",this,"_dtDiscreteStartRange_OnChange",true);}else{if(this.initialValues&&this.initialValues.length>0){this.dtDiscreteFromRange.set("value",this.initialValues[0]);}}}break;case _113a.SlxParameterValueRangeKind.Range:case _113a.SlxParameterValueRangeKind.DiscreteAndRange:_1137.setDomNodeVisible(this.rowStartEndOrValue,this._allowCustomValues&&this._values.length>0);_1137.setDomNodeVisible(this.rowCustomRangeValues,this._allowCustomValues);if(this._values.length>0){_1138.initializeComboBoxValues(this._values,_1138.getRangeInitialValue(this._initialValues,true),this.cboDiscreteStartRange);dojo.connect(this.dtDiscreteFromRange,"onChange",this,"_dtDiscreteFromRange_OnChange",true);dojo.connect(this.cboDiscreteStartRange,"onBlur",this,"_cboStartRange_OnChange",true);_1138.initializeComboBoxValues(this._values,_1138.getRangeInitialValue(this._initialValues,false),this.cboEndRangeValues);dojo.connect(this.dtToRange,"onChange",this,"_dtEndRange_OnChange",true);dojo.connect(this.cboEndRangeValues,"onBlur",this,"_cboEndRange_OnChange",true);}break;default:console.error(_113b("Unknown parameter type: ${0}",[this.valueRangeKind]));}_1137.setDomNodeVisible(this.divValidationMessage,false);_1137.setDomNodeVisible(this.rowRangeListItems,this._values.length>0);_1137.setDomNodeVisible(this.rowAddRangeParameter,this.allowMultiValue);_1137.setDomNodeVisible(this.rowCustomValues,this._allowCustomValues&&this.allowMultiValue&&!this._paramRangeType);if(this.allowMultiValue){if(this._paramRangeType){this._initialIds=[];}this.initializeTransferBoxWidget(this.transferBoxContainer,!this._paramRangeType);}this._assignDefaultRangeValues();this._initializeMessages();},isValid:function(){this._validationMsg="";dojo.addClass(this.rowRangeValidationError,"display-none");if(!this.isOptionalPrompt&&!this.allowNullValue){if(this.transferBox){this._selectedValues=this.transferBox.getSelectedValues();if(this._selectedValues.length>0){dojo.addClass(this.transferBox.errorValidation,"display-none");}else{dojo.removeClass(this.transferBox.errorValidation,"display-none");this._validationMsg=this.txtPleaseSpecifyValue;}}else{if(this._verifyRequiredAssignments()){this._validateMinMaxRange();}}}this.lblRangeValidationError.textContent=this._validationMsg;if(this._validationMsg!==""){dojo.removeClass(this.rowRangeValidationError,"display-none");}return this._validationMsg==="";},_assignDefaultRangeValues:function(){if(this.currentValues.length===1){if(this.currentValues[0].rangeValue){var _1143=this.currentValues[0];var _1144=_1143.rangeValue.beginValue;_1144=_1144?_1139.Convert.toDateFromString(_1144):null;this.chkIncludeFromRange.set("checked",(_1143.rangeValue.lowerBoundType===_113a.SlxRangeBoundType.BoundInclusive));this.chkNoLowerValue.set("checked",(_1144===null));_1144=_1143.rangeValue.endValue;_1144=_1144?_1139.Convert.toDateFromString(_1144):null;this.chkIncludeToRange.set("checked",(_1143.rangeValue.upperBoundType===_113a.SlxRangeBoundType.BoundInclusive));this.chkNoUpperValue.set("checked",(_1144===null));}}},_cboDiscreteStartRange_OnChange:function(){var item=this.cboDiscreteStartRange.item;if(item&&item.value!==""){this.dtDiscreteFromRange.reset();}},_dtDiscreteStartRange_OnChange:function(){if(this.dtDiscreteFromRange.focusNode.value!==""){this.cboDiscreteStartRange.attr("displayedValue","");}},_cboStartRange_OnChange:function(){var item=this.cboDiscreteStartRange.item;if(item&&item.value!==""){this.dtDiscreteFromRange.reset();}},_cboEndRange_OnChange:function(){var item=this.cboEndRangeValues.item;if(item&&item.value!==""){this.dtToRange.reset();}},_dtDiscreteFromRange_OnChange:function(){if(this.dtDiscreteFromRange.focusNode.value!==""){this.cboDiscreteStartRange.set("displayedValue","");}},_dtEndRange_OnChange:function(){if(this.dtToRange.focusNode.value!==""){this.cboEndRangeValues.set("displayedValue","");}},_initializeMessages:function(){var _1145=this.getMinMaxInitializationMessage();this.spanMinMaxMessage.innerHTML=_1139.htmlEncode(_1145);_1137.setDomNodeVisible(this.divMinMaxMessage,(_1145!==""));},_validateMinMaxRange:function(){if(this._paramDiscreteType){var _1146=this._getDateValue(this.dtDiscreteFromRange,this.cboDiscreteStartRange.item);if(_1146){var _1147=this.getMinMaxInitializationMessage(_1146.date);}return;}var _1148=this._getDateValue(this.dtDiscreteFromRange,this.cboDiscreteStartRange.item);var _1149=this._getDateValue(this.dtToRange,this.cboEndRangeValues.item);if(this._minimum&&!this.chkNoLowerValue.checked&&(_1148<this._minimum)){this._validationMsg=dojo.replace(this.txtPleaseSpecifyDateGreater,[_1138.getDateOnlyFormattedDate(this._minimum)]);}if(this._minimum&&!this.chkNoUpperValue.checked&&(_1149<this._minimum)){this._validationMsg=dojo.replace(this.txtPleaseSpecifyDateGreater,[_1138.getDateOnlyFormattedDate(this._minimum)]);}if(this._maximum&&!this.chkNoUpperValue.checked&&(_1149>this._maximum)){this._validationMsg=dojo.replace(this.txtPleaseSpecifyDateLesser,[_1138.getDateOnlyFormattedDate(this._maximum)]);}if(this._maximum&&!this.chkNoLowerValue.checked&&(_1148>this._maximum)){this._validationMsg=dojo.replace(this.txtPleaseSpecifyDateLesser,[_1138.getDateOnlyFormattedDate(this._maximum)]);}if(!this.chkNoLowerValue.checked&&!this.chkNoUpperValue.checked){if(_1148>_1149){this._validationMsg=this.txtFromMustBeLessThanOrEqualToTo;}}},_getParameterValue:function(_114a){var _114b=null;if(_114a.range){_114b={className:_113a.ParameterClassName.RangeValue,description:_114a.displayValue,rangeDateValue:_113b.substitute("${0};${1}",[_114a.range.startValue?_114a.range.startValue:"",_114a.range.endValue?_114a.range.endValue:""]),rangeValue:{beginValue:_114a.range.startValue,beginValueType:this.beginValueType,endValue:_114a.range.endValue,endValueType:this.endValueType,lowerBoundType:_114a.range.noLowerValue?_113a.SlxRangeBoundType.NoBound:_114a.range.includeFromRange?_113a.SlxRangeBoundType.BoundInclusive:_113a.SlxRangeBoundType.BoundExclusive,upperBoundType:_114a.range.noUpperValue?_113a.SlxRangeBoundType.NoBound:_114a.range.includeToRange?_113a.SlxRangeBoundType.BoundInclusive:_113a.SlxRangeBoundType.BoundExclusive}};}else{_114b={className:_113a.ParameterClassName.DiscreteValue,description:_114a.displayValue,discreteDateValue:_113b.substitute("${0};",[_114a.value]),discreteValue:{actualValue:_114a.value,actualValueType:this.actualValueType,value:_114a.value,valueType:this.valueType}};}return _114b;},_chkNoLowerValue_OnCheck:function(_114c){this.chkIncludeFromRange.setAttribute("disabled",_114c);this.cboDiscreteStartRange.setAttribute("disabled",_114c);this.chkNoUpperValue.setAttribute("disabled",_114c);this.dtDiscreteFromRange.setAttribute("disabled",_114c);},_chkNoUpperValue_OnCheck:function(_114d){this.chkIncludeToRange.setAttribute("disabled",_114d);this.cboEndRangeValues.setAttribute("disabled",_114d);this.chkNoLowerValue.setAttribute("disabled",_114d);this.dtToRange.setAttribute("disabled",_114d);},_cmdAddRange_OnClick:function(){if(this._verifyRequiredAssignments()){dojo.addClass(this.rowRangeValidationError,"display-none");var range=this._getRangeValue();var _114e={range:range,displayValue:range.displayValue,value:range.startValue?range.startValue:range.endValue};this._addToSelectedValues(_114e);}else{dojo.removeClass(this.rowRangeValidationError,"display-none");}},_getRangeValue:function(){var _114f=this._getDateValue(this.dtDiscreteFromRange,this.cboDiscreteStartRange.item);var _1150=this._getDateValue(this.dtToRange,this.cboEndRangeValues.item);var range=[];if(!this.chkNoLowerValue.get("checked")&&!this.chkNoUpperValue.get("checked")){range={startValue:_114f.value,endValue:_1150.value,displayValue:_113b.substitute("[${0} .. ${1}]",[_114f.displayValue,_1150.displayValue])};}else{if(this.chkNoLowerValue.get("checked")){range={startValue:null,endValue:_1150.value,displayValue:_113b.substitute("( .. ${0}]",[_1150.displayValue])};}else{range={startValue:_114f.value,endValue:null,displayValue:_113b.substitute("[${0} .. )",[_114f.displayValue])};}}range.noLowerValue=this.chkNoLowerValue.checked;range.noUpperValue=this.chkNoUpperValue.checked;range.includeFromRange=this.chkIncludeFromRange.checked;range.includeToRange=this.chkIncludeFromRange.checked;return range;},_verifyRequiredAssignments:function(){if(this._paramDiscreteType){this._validateDiscreteParameterType();}else{var _1151=this._getDateValue(this.dtDiscreteFromRange,this.cboDiscreteStartRange.item);var _1152=this._getDateValue(this.dtToRange,this.cboEndRangeValues.item);if(this.chkNoUpperValue.checked){if(_1151.displayValue){this._removeErrorMessages();return true;}else{if(this._allowCustomValues){this.cboDiscreteStartRange.focus();dojo.removeClass(this.lstErrorDiscreteStartRange,"display-none");dojo.addClass(this.lstErrorEndRange,"display-none");}else{this.dtDiscreteFromRange.focus();dojo.removeClass(this.errorDiscreteValue,"display-none");dojo.addClass(this.errorEndRange,"display-none");}}return false;}if(this.chkNoLowerValue.checked){if(_1152.displayValue){this._removeErrorMessages();return true;}else{if(this._allowCustomValues){this.cboEndRangeValues.focus();dojo.addClass(this.lstErrorDiscreteStartRange,"display-none");dojo.removeClass(this.lstErrorEndRange,"display-none");}else{this.dtToRange.focus();dojo.addClass(this.errorDiscreteValue,"display-none");dojo.removeClass(this.errorEndRange,"display-none");}}return false;}if(!_1151.displayValue||!_1152.displayValue||(this._isStartDatePriorToEndDate(_1151,_1152))){this._setRangeErrorMessageVisibility(_1151,_1152);return false;}else{dojo.addClass(this.allowMultiValue?this.lstErrorDiscreteStartRange:this.errorDiscreteValue,"display-none");dojo.addClass(this.allowMultiValue?this.lstErrorEndRange:this.errorEndRange,"display-none");}}return true;},_validateDiscreteParameterType:function(){dojo.addClass(this.lstErrorDiscreteStartRange,"display-none");dojo.addClass(this.errorDiscreteValue,"display-none");if(this.dtDiscreteFromRange.focusNode.value===""&&(!this.cboDiscreteStartRange.item)){this._validationMsg=this.txtPleaseSpecifyValue;if(this._values.length>0){dojo.removeClass(this.lstErrorDiscreteStartRange,"display-none");this.cboDiscreteStartRange.focus();}else{dojo.removeClass(this.errorDiscreteValue,"display-none");this.dtDiscreteFromRange.focus();}}else{this._validateMinMaxRange();if(this._validationMsg!==""){if(this.dtDiscreteFromRange.focusNode.value!==""){dojo.removeClass(this.errorDiscreteValue,"display-none");this.dtDiscreteFromRange.focus();}else{dojo.removeClass(this.lstErrorDiscreteStartRange,"display-none");this.cboDiscreteStartRange.focus();}}}},_removeErrorMessages:function(){dojo.addClass(this.errorDiscreteValue,"display-none");dojo.addClass(this.errorEndRange,"display-none");dojo.addClass(this.lstErrorDiscreteStartRange,"display-none");dojo.addClass(this.lstErrorEndRange,"display-none");},_isStartDatePriorToEndDate:function(_1153,_1154){var _1155=_1139.Convert.toDateFromString(_1153.value);var _1156=_1139.Convert.toDateFromString(_1154.value);return _1155>_1156;},_setRangeErrorMessageVisibility:function(_1157,_1158){this._validationMsg=this.txtPleaseSpecifyValue;if(!_1157.displayValue&&!_1158.displayValue){dojo.removeClass(this.allowMultiValue?this.lstErrorDiscreteStartRange:this.errorDiscreteValue,"display-none");dojo.removeClass(this.allowMultiValue?this.lstErrorEndRange:this.errorEndRange,"display-none");if(this.allowMultiValue){this.cboDiscreteStartRange.focus();}else{this.dtDiscreteFromRange.focus();}}else{if(!_1157.displayValue){dojo.addClass(this.allowMultiValue?this.lstErrorEndRange:this.errorEndRange,"display-none");dojo.removeClass(this.allowMultiValue?this.lstErrorDiscreteStartRange:this.errorDiscreteValue,"display-none");this.dtDiscreteFromRange.focus();}else{if(!_1158.displayValue){dojo.addClass(this.allowMultiValue?this.lstErrorDiscreteStartRange:this.errorDiscreteValue,"display-none");dojo.removeClass(this.allowMultiValue?this.lstErrorEndRange:this.errorEndRange,"display-none");if(this.allowMultiValue){this.cboEndRangeValues.focus();}else{this.dtToRange.focus();}}else{dojo.addClass(this.errorDiscreteValue,"display-none");this.dtToRange.focus();this._validationMsg=this.txtFromMustBeLessThanOrEqualToTo;}}}},_getRangeDisplayValue:function(){var _1159=this._getDateValue(this.dtDiscreteFromRange,this.cboDiscreteStartRange.item);var _115a=this._getDateValue(this.dtToRange,this.cboEndRangeValues.item);if(!this.chkNoLowerValue.get("checked")&&!this.chkNoUpperValue.get("checked")){return _113b.substitute("[${0} .. ${1}]",[_1159.displayValue,_115a.displayValue]);}else{if(this.chkNoLowerValue.get("checked")){return _113b.substitute("( .. ${0}]",[_115a.displayValue]);}else{return _113b.substitute("[${0} .. )",[_1159.displayValue]);}}},_addToSelectedValues:function(_115b){if(_115b){if(this.valueWithinMinMaxRange(_115b.value)){var item={id:_115b.displayValue,value:_115b.value,displayValue:_115b.displayValue,range:_115b.range,__selected:true,destroyOnRemove:false};this.transferBox.addNewItem(item,true);this._showValidationMessage("");}else{this._validateMinMaxRange();this._showValidationMessage(this._validationMsg);}}else{this._showValidationMessage(this.txtPleaseSpecifyValue);}},_showValidationMessage:function(msg){this.spanValidationMessage.innerHTML=_1139.htmlEncode(msg);_1137.setDomNodeVisible(this.divValidationMessage,(msg!==""));},_cmdAddCustom_OnClick:function(){if(this.dtCustomValue.textbox.value===""){dojo.removeClass(this.errorCustomDate,"display-none");this._showValidationMessage(this.txtPleaseSpecifyValue);this.dtCustomValue.focus();}else{this._showValidationMessage("");dojo.addClass(this.errorCustomDate,"display-none");var _115c={range:null,displayValue:this.dtCustomValue.textbox.value,value:_1139.Convert.toIsoStringFromDate(this.dtCustomValue.get("value"))};this._addToSelectedValues(_115c);}},_getDateValue:function(_115d,_115e){var _115f=_115d.textbox.value;var _1160;if(_115f===""){if(_115e!==null&&_115e.value!==""){_1160={value:_115e.value,displayValue:_115e.description,date:_1139.Convert.toDateFromString(_115e.value)};}}else{_1160={displayValue:_115f,value:_1139.Convert.toIsoStringFromDate(_115d.get("value")),date:_115d.get("value")};}return _1160;}});return _113d;});},"Sage/Store/SData":function(){define("Sage/Store/SData",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/Deferred","dojo/store/util/QueryResults","dojo/string","dojo/json","../Utility"],function(_1161,lang,array,_1162,_1163,_1164,json,_1165){return _1161("Sage.Store.SData",null,{doDateConversion:false,where:null,select:null,include:null,orderBy:null,service:null,request:null,queryName:null,entityName:null,contractName:null,resourceKind:null,resourceProperty:null,resourcePredicate:null,executeQueryAs:null,executeGetAs:null,itemsProperty:"$resources",idProperty:"$key",labelProperty:"$descriptor",entityProperty:"$name",versionProperty:"$etag",constructor:function(props){lang.mixin(this,props);},_createEntryRequest:function(id,_1166){var _1167=_1165.expand(this,_1166.request||this.request);if(_1167){_1167=_1167.clone();}else{var _1168=_1165.expand(this,_1166.contractName||this.contractName),_1169=_1165.expand(this,_1166.resourceKind||this.resourceKind),_116a=_1165.expand(this,_1166.resourceProperty||this.resourceProperty),_116b=id?/(\s+)/.test(id)?id:_1164.substitute("'${0}'",[id]):_1165.expand(this,_1166.resourcePredicate||this.resourcePredicate);if(_116a){_1167=new Sage.SData.Client.SDataResourcePropertyRequest(this.service).setResourceProperty(_116a).setResourceSelector(_116b);}else{_1167=new Sage.SData.Client.SDataSingleResourceRequest(this.service).setResourceSelector(_116b);}if(_1168){_1167.setContractName(_1168);}if(_1169){_1167.setResourceKind(_1169);}}var _116c=_1165.expand(this,_1166.select||this.select),_116d=_1165.expand(this,_1166.include||this.include);if(_116c&&_116c.length>0){_1167.setQueryArg("select",_116c.join(","));}if(_116d&&_116d.length>0){_1167.setQueryArg("include",_116d.join(","));}return _1167;},_createFeedRequest:function(query,_116e){var _116f=_1165.expand(this,_116e.request||this.request);if(_116f){_116f=_116f.clone();}else{var _1170=_1165.expand(this,_116e.queryName||this.queryName),_1171=_1165.expand(this,_116e.contractName||this.contractName),_1172=_1165.expand(this,_116e.resourceKind||this.resourceKind),_1173=_1165.expand(this,_116e.resourceProperty||this.resourceProperty),_1174=_1165.expand(this,_116e.resourcePredicate||this.resourcePredicate);if(_1170){_116f=new Sage.SData.Client.SDataNamedQueryRequest(this.service).setQueryName(_1170);if(_1174){_116f.getUri().setCollectionPredicate(_1174);}}else{if(_1173){_116f=new Sage.SData.Client.SDataResourcePropertyRequest(this.service).setResourceProperty(_1173).setResourceSelector(_1174);}else{_116f=new Sage.SData.Client.SDataResourceCollectionRequest(this.service);}}if(_1171){_116f.setContractName(_1171);}if(_1172){_116f.setResourceKind(_1172);}}var _1175=_1165.expand(this,_116e.select||this.select),_1176=_1165.expand(this,_116e.include||this.include),_1177=_1165.expand(this,_116e.sort||this.orderBy);if(_1175&&_1175.length>0){_116f.setQueryArg("select",_1175.join(","));}if(_1176&&_1176.length>0){_116f.setQueryArg("include",_1176.join(","));}if(_1177){if(typeof _1177==="string"){_116f.setQueryArg("orderby",_1177);}else{if(_1177.length>0){var order=[];array.forEach(_1177,function(v){if(v.descending){this.push(v.attribute+" desc");}else{this.push(v.attribute);}},order);_116f.setQueryArg("orderby",order.join(","));}}}var where=_1165.expand(this,this.where),_1178=[];query=_1165.expand(this,query);if(where){_1178.push(where);}if(query){_1178.push(query);}if(_1178.length>0){_116f.setQueryArg("where","("+_1178.join(") and (")+")");}if(typeof _116e.start!=="undefined"){_116f.setQueryArg(Sage.SData.Client.SDataUri.QueryArgNames.StartIndex,_116e.start+1);}if(typeof _116e.count!=="undefined"){_116f.setQueryArg(Sage.SData.Client.SDataUri.QueryArgNames.Count,_116e.count);}return _116f;},_onRequestFeedSuccess:function(_1179,feed){if(feed){var items=lang.getObject(this.itemsProperty,false,feed),total=typeof feed["$totalResults"]==="number"?feed["$totalResults"]:-1;_1179.total=total;_1179.resolve(items);}else{var error=new Error("The feed result is invalid.");_1179.reject(error);}},_onRequestEntrySuccess:function(_117a,entry){if(entry){_117a.resolve(this.doDateConversion?this._handleDateConversion(entry):entry);}else{var error=new Error("The entry result is invalid.");_117a.reject(error);}},_onRequestFailure:function(_117b,xhr,_117c){var error=new Error("An error occurred requesting: "+_117c.url);error.xhr=xhr;error.status=xhr.status;error.responseText=xhr.responseText;error.aborted=false;_117b.reject(error);},_onRequestAbort:function(_117d,xhr,_117e){var error=new Error("An error occurred requesting: "+_117e.url);error.xhr=xhr;error.status=0;error.responseText=null;error.aborted=true;_117d.reject(error);},_onCancel:function(_117f){this.store.abort(_117f.value);},_handleDateConversion:function(entry){for(var prop in entry){if(_1165.Convert.isDateString(entry[prop])){entry[prop]=_1165.Convert.toDateFromString(entry[prop]);}}return entry;},get:function(id,_1180){var _1181={},_1182=new _1162(lang.hitch(this,this._onCancel,_1181)),_1183=this._createEntryRequest(id,_1180||{});var _1184=this.executeGetAs?_1183[this.executeGetAs]:_1183.read;_1181.value=_1184.call(_1183,{success:lang.hitch(this,this._onRequestEntrySuccess,_1182),failure:lang.hitch(this,this._onRequestFailure,_1182),abort:lang.hitch(this,this._onRequestAbort,_1182)});return _1182;},getIdentity:function(_1185){return lang.getObject(this.idProperty,false,_1185);},getLabel:function(_1186){return lang.getObject(this.labelProperty,false,_1186);},getEntity:function(_1187){return lang.getObject(this.entityProperty,false,_1187);},getVersion:function(_1188){return lang.getObject(this.versionProperty,false,_1188);},put:function(_1189,_118a){_118a=_118a||{};var id=_118a.id||this.getIdentity(_1189),_118b=_118a.entity||this.entityName,_118c=_118a.version||this.getVersion(_1189),atom=!this.service.isJsonEnabled();if(id){_1189["$key"]=id;}if(_118b&&atom){_1189["$name"]=_118b;}if(_118c){_1189["$etag"]=_118c;}var _118d={},_118e=new _1162(lang.hitch(this,this._onCancel,_118d)),_118f=this._createEntryRequest(id,_118a);var _1190=_118a.overwrite?_118f.update:_118f.create;_118d.value=_1190.call(_118f,_1189,{success:lang.hitch(this,this._onTransmitEntrySuccess,_118e),failure:lang.hitch(this,this._onRequestFailure,_118e),abort:lang.hitch(this,this._onRequestAbort,_118e)});return _118e;},_onTransmitEntrySuccess:function(_1191,entry){_1191.resolve(this.doDateConversion?this._handleDateConversion(entry):entry);},add:function(_1192,_1193){_1193=_1193||{};_1193.overwrite=false;return this.put(_1192,_1193);},remove:function(id){},query:function(query,_1194){var _1195={},_1196=new _1162(lang.hitch(this,this._onCancel,_1195)),_1197=this._createFeedRequest(query,_1194||{});_1196.total=-1;var _1198=this.executeQueryAs?_1197[this.executeQueryAs]:_1197 instanceof Sage.SData.Client.SDataResourcePropertyRequest?_1197.readFeed:_1197.read;_1195.value=_1198.call(_1197,{success:lang.hitch(this,this._onRequestFeedSuccess,_1196),failure:lang.hitch(this,this._onRequestFailure,_1196),abort:lang.hitch(this,this._onRequestAbort,_1196),httpMethodOverride:_1194&&_1194["httpMethodOverride"]});return _1163(_1196);},transaction:function(){},getChildren:function(_1199,_119a){},getMetadata:function(_119b){if(_119b){return {id:this.getIdentity(_119b),label:this.getLabel(_119b),entity:this.getEntity(_119b),version:this.getVersion(_119b)};}return null;}});});},"Sage/UI/Filters/EditFilters":function(){require({cache:{"url:Sage/UI/Filters/templates/EditFilters.html":"<div>\r\n    <div class=\"filter-dialog\" data-dojo-type=\"dijit.Dialog\" data-dojo-props=\"title:'${dialogTitle}'\" data-dojo-attach-point=\"dialogNode\">\r\n        <div class=\"filter-clear-all\">\r\n            <input data-dojo-attach-point=\"checkAll\" data-dojo-type=\"dijit.form.CheckBox\" />\r\n            <label>${selectAllText}</label>\r\n        </div>\r\n        <div class=\"filter-dialog-content\" data-dojo-attach-point=\"contentNode\">\r\n            \r\n        </div>\r\n        \r\n        <div class=\"button-bar alignright\">\r\n            <button data-dojo-attach-point=\"buttonOK\" data-dojo-attach-event=\"onClick:_onOKClick\" data-dojo-type=\"dijit.form.Button\">${okText}</button>\r\n            <button data-dojo-attach-point=\"buttonCancel\" data-dojo-attach-event=\"onClick:_onCancelClick\" data-dojo-type=\"dijit.form.Button\">${cancelText}</button>\r\n        </div>\r\n    </div>\r\n</div>"}});define("Sage/UI/Filters/EditFilters",["dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/Dialog","dijit/form/Button","dijit/form/CheckBox","dojo/_base/declare","dojo/i18n","dojo/_base/array","dojo/_base/lang","dojo/dom-construct","dijit/registry","Sage/UI/Controls/_DialogHelpIconMixin","Sage/Utility/Filters","dojo/json","dojo/text!./templates/EditFilters.html","dojo/i18n!./nls/EditFilters"],function(_119c,_119d,_119e,_119f,_11a0,_11a1,_11a2,i18n,array,lang,_11a3,_11a4,_11a5,_11a6,json,_11a7){return _11a2("Sage.UI.Filters.EditFilters",[_119c,_119d,_119e],{templateString:_11a7,widgetsInTemplate:true,id:"editFilters",store:null,filterPanel:null,checkBoxes:null,selectAllText:"Select All",dialogTitle:"Edit Filters",okText:"OK",cancelText:"Cancel",constructor:function(){var _11a8=i18n.getLocalization("Sage.UI.Filters","EditFilters");this.inherited(arguments);this.checkBoxes=[];if(_11a8){this.selectAllText=_11a8.selectAllText;this.okText=_11a8.okText;this.cancelText=_11a8.cancelText;this.dialogTitle=_11a8.dialogTitle;}},postCreate:function(){this.inherited(arguments);this.checkAll.on("click",lang.hitch(this,this._onCheckAllClick));},_onCheckAllClick:function(){if(this.checkAll.checked){this._onSelectAllClick();}else{this._onClearAllClick();}},showDialog:function(){this.requestData();lang.mixin(this.dialogNode,new _11a5());this.dialogNode.createHelpIconByTopic("editFilters");this.dialogNode.show();},hideDialog:function(){this.dialogNode.hide();},uninitialize:function(){this._destroyContent();this.checkAll.destroy(false);this.buttonCancel.destroy(false);this.buttonOK.destroy(false);this.dialogNode.destroy(false);this.checkBoxes=null;this.inherited(arguments);},requestData:function(){this._destroyContent();if(this.store){this.store.fetch({onItem:lang.hitch(this,this._onFetchItem),onError:lang.hitch(this,this._onFetchError),onComplete:lang.hitch(this,this._onFetchComplete)});}},_onClearAllClick:function(){array.forEach(this.checkBoxes,function(_11a9){_11a9.set("checked",false);});},_onSelectAllClick:function(){array.forEach(this.checkBoxes,function(_11aa){_11aa.set("checked",true);});},_onCancelClick:function(){this.dialogNode.hide();},_onOKClick:function(){this.dialogNode.hide();var data=this.filterPanel._configuration._hiddenFilters,key=this.filterPanel._configuration._hiddenFiltersKey,_11ab=Sage.Services.getService("ClientGroupContext"),_11ac=_11ab&&_11ab.getContext();array.forEach(this.checkBoxes,function(_11ad){var prop;prop=_11ac.CurrentEntity+"_"+_11ad.get("label");if(data[prop]){data[prop].hidden=!_11ad.get("checked");}else{data[prop]={expanded:false,hidden:!_11ad.get("checked"),items:[]};}});_11a6.setHiddenFilters(key,json.stringify(data));this.filterPanel.refreshFilters(false);},_destroyContent:function(){if(!this.contentNode){return;}array.forEach(_11a4.findWidgets(this.contentNode),function(_11ae){_11ae.destroy(false);});this.checkBoxes=[];this.contentNode.innerHTML="";},_onFetchError:function(){},_onFetchItem:function(entry){var type=entry.filterType,_11af=entry.filterName,_11b0=entry.displayName||entry.filterName,id=_11af+"_check",_11b1=new _11a1({"id":id,"label":_11af});_11a3.place(_11b1.domNode,this.contentNode,"last");_11a3.create("br",{},_11b1.domNode,"after");_11a3.create("label",{"for":id,innerHTML:_11b0},_11b1.domNode,"after");_11b1.on("click",lang.hitch(this,this._onCheckClick));this.checkBoxes.push(_11b1);},_onCheckClick:function(e){if(e.target&&e.target.checked===false){this.checkAll.set("checked",false);}},_onFetchComplete:function(){this.startup();this.setupCheckState();},setupCheckState:function(){var data=this.filterPanel._configuration._hiddenFilters||{},key=_11a6.getHiddenFiltersKey(),_11b2=Sage.Services.getService("ClientGroupContext"),_11b3=_11b2&&_11b2.getContext(),_11b4=false;this.checkAll.set("checked",true);this._onSelectAllClick();array.forEach(this.checkBoxes,function(_11b5){var prop;prop=_11b3.CurrentEntity+"_"+_11b5.get("label");if(data[prop]){if(data[prop].hidden){_11b5.set("checked",false);_11b4=true;}else{_11b5.set("checked",true);}}});this.checkAll.set("checked",!_11b4);}});});},"Sage/UI/Controls/DependControl":function(){define("Sage/UI/Controls/DependControl",["dojo/_base/declare"],function(_11b6){var _11b7=_11b6("Sage.UI.Controls.DependControl",null,{BaseId:"",ListId:"",TextId:"",Type:"",DisplayProperty:"",SeedProperty:"",CurrentValue:"",constructor:function(_11b8,_11b9,_11ba,type,_11bb,_11bc){this.BaseId=_11b8;this.ListId=_11b9;this.TextId=_11ba;this.Type=type;this.DisplayProperty=_11bb;this.SeedProperty=_11bc;this.CurrentValue="";},LoadList:function(_11bd){var _11be="SLXDependencyHandler.aspx";dojo.xhrGet({url:_11be,handleAs:"text",preventCache:true,sync:true,content:{cacheid:this.BaseId,type:this.Type,displayprop:this.DisplayProperty,seeds:_11bd,currentval:this.CurrentValue},load:dojo.hitch(this,function(data){var list=dojo.byId(this.ListId);list.innerHTML="";var items=data.split("|");for(var i=0;i<items.length;i++){if(items[i]===""){continue;}var parts=items[i].split(",");var _11bf=document.createElement("OPTION");list.options.add(_11bf);if(parts[0].charAt(0)=="@"){parts[0]=parts[0].substr(1);_11bf.selected=true;}_11bf.innerHTML=parts[1];_11bf.value=parts[0];}}),error:function(error){console.error(error);}});},ClearList:function(){var list=dojo.byId(this.ListId);list.innerHTML="";}});return _11b7;});},"Sage/QuickForms/Design/nls/CheckBoxControlDesigner":function(){define("Sage/QuickForms/Design/nls/CheckBoxControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_11c0,lang){var nls={root:{displayNameText:"CheckBox"}};return lang.mixin(_11c0,nls);});},"Sage/UI/Columns/SlxLink":function(){define("Sage/UI/Columns/SlxLink",["Sage/Format","Sage/Utility","dojo/_base/declare"],function(_11c1,_11c2,_11c3){Sage.Region={decimalSeparator:".",numberGroupSeparator:",",numberGroupDigits:3,decimalDigits:2,currencySymbol:"$",positiveCurrencyPattern:0,negativeCurrencyPattern:0,numberNegativeSign:"-"};var _11c4=_11c3("Sage.UI.Columns.SlxLink",dojox.grid.cells.Cell,{_dataTypeChecked:null,_layout:null,_getDisplayValue:function(_11c5,_11c6,value){var _11c7=value||"";if(this._layout===null){if(_11c2.getModeId()=="list"){var oList=dijit.byId("list");if(oList&&_11c2.isDefined(oList)&&_11c2.isDefined(oList._configuration)){this._layout=oList._configuration.list.layout[this.layoutIndex];}else{return _11c7;}}else{var sTemp=this.get?this.get(_11c5,_11c6):(this.value||this.defaultValue);if(this._dataTypeChecked===null&&_11c2.isStringWithLength(sTemp)){this._dataTypeChecked=true;if(_11c8.isDateString(sTemp)){this._layout={"fieldType":"DateTime","format":"DateTime","formatString":this.displayFormatString||""};}else{return _11c7;}}else{return _11c7;}}}if(this._layout.fieldType==="DateTime"&&this._layout.format==="DateTime"){var sDate=this.get?this.get(_11c5,_11c6):(this.value||this.defaultValue);if(dojo.isString(sDate)&&_11c8.isDateString(sDate)){var _11c9=_11c2.getModeId()=="list";var oDate=_11c8.toDateFromString(sDate,_11c9);oDate=new Date(oDate.getUTCFullYear(),oDate.getUTCMonth(),oDate.getUTCDate());if(_11c2.isStringWithLength(this._layout.formatString)){try{return dojo.date.locale.format(oDate,{selector:"date",datePattern:this._layout.formatString});}catch(e){if(typeof console!=="undefined"){}return dojo.date.locale.format(oDate,{selector:"date",fullYear:true});}}else{return dojo.date.locale.format(oDate,{selector:"date",fullYear:true});}}}return _11c7;},displayFields:[],displayFormatString:"",idField:"",pageName:"",appliedSecurity:"",urlFields:[],urlFormatString:"",target:"",image:"",queryParams:null,getPageName:function(_11ca){if(this.pageName===""){var url=document.location.href;if(url.indexOf("?")>-1){url=url.substring(0,url.indexOf("?"));}url=url.substring(url.lastIndexOf("/")+1);this.pageName=url.replace(".aspx","");return this.pageName;}if(_11c2.getModeId()=="list"){return this.pageName;}var _11cb=_11c2.getValue(_11ca,this.property);if(_11cb!==""&&typeof _11cb==="string"){return _11cb;}else{return this.pageName;}},formatEditing:function(_11cc,_11cd){},format:function(_11ce,_11cf){if(_11cf===null){return this.defaultValue;}var _11d0,_11d1,vals=[],_11d2="",_11d3="",i=this.grid.edit.info,idx=0,d=this.get?this.get(_11ce,_11cf):(this.value||this.defaultValue);if((this.displayFormatString)&&(this.displayFormatString!=="")){if(this.displayFields.length<1){vals.push(d);}for(idx;idx<this.displayFields.length;idx++){vals.push(_11c2.getValue(_11cf,this.displayFields[idx].trim()));}d=dojo.string.substitute(this.displayFormatString,vals);}if(this.target!==""){_11d2=dojo.string.substitute(" target=\"${0}\" ",[this.target]);}if(this.queryParams){if(typeof this.queryParams==="object"){_11d3="&"+dojo.objectToQuery(this.queryParams);}else{if(typeof this.queryParams==="string"){_11d3="&"+this.queryParams;}}}d=(d&&d.replace&&this.grid.escapeHTMLInData)?d.replace(/&/g,"&amp;").replace(/</g,"&lt;"):d;if(this.editable&&(this.alwaysEditing||(i.rowIndex==_11ce&&i.cell==this))){return this.formatEditing(d,_11ce);}else{_11d1=this._defaultFormat(d,[d,_11ce,this]);if(this.image!==""){_11d1=dojo.string.substitute("<img src=\"${0}\" alt=\"${1}\" />",[this.image.replace(/^~\//,""),_11d1]);}if(this.appliedSecurity!==""){var svc=Sage.Services.getService("RoleSecurityService");if(svc){if(!svc.hasAccess(this.appliedSecurity)){_11d1=this._getDisplayValue(_11ce,_11cf,_11d1);return _11d1;}}}if(this.idField!==""){var _11d4=this.getPageName(_11cf);_11d0=_11c2.getValue(_11cf,this.idField);if(!_11d0){var _11d5=(this.idField==="id")?"$key":this.idField.replace(/\.[iI]d/g,".$key");_11d0=_11c2.getValue(_11cf,_11d5);}if(_11d0){_11d1=this._getDisplayValue(_11ce,_11cf,_11d1);if(_11d4.toUpperCase()==="HISTORY"){return dojo.string.substitute("<a href=\"javascript:Sage.Link.editHistory('${0}')\" id=\"${0}\" title=\"${1}\">${1}</a>",[_11d0,_11d1]);}else{if(_11d4.toUpperCase()==="ACTIVITY"){return dojo.string.substitute("<a href=\"javascript:Sage.Link.editActivity('${0}')\" id=\"${0}\" title=\"${1}\">${1}</a>",[_11d0,_11d1]);}else{if(_11d4.toUpperCase()==="RMA"){_11d4="Return";}return dojo.string.substitute("<a href=\"${0}.aspx?entityid=${1}&modeid=Detail${2}\"${3} id=\"${1}\" title=\"${4}\">${4}</a>",[_11d4,_11d0,_11d3,_11d2,_11d1]);}}}}else{var _11d6=(this.urlFormatString!=="")?this.urlFormatString:"${0}";vals=[];if(this.urlFields.length<1){vals.push(d);}for(idx=0;idx<this.urlFields.length;idx++){vals.push(_11c2.getValue(_11cf,dojo.trim(this.urlFields[idx])));}_11d1=this._getDisplayValue(_11ce,_11cf,_11d1);return dojo.string.substitute("<a href=\"http://${0}${1}\"${2}>${3}</a>",[dojo.string.substitute(this.urlFormatString,vals),_11d3,_11d2,_11d1]);}return _11d1;}},markupFactory:function(node,cell){dojox.grid.cells.Cell.markupFactory(node,cell);var d=dojo;var _11d7=d.trim(d.attr(node,"displayFields")||"");if(_11d7){var f=_11d7.split(",");cell.displayFields=f;}cell.displayFormatString=d.trim(d.attr(node,"displayFormatString")||"");cell.idField=d.trim(d.attr(node,"idField")||"");cell.pageName=d.trim(d.attr(node,"pageName")||"");cell.appliedSecurity=d.trim(d.attr(node,"appliedSecurity")||"");cell.image=d.trim(d.attr(node,"image")||"");var _11d8=d.trim(d.attr(node,"urlFields")||"");if(_11d8){var u=_11d8.split(",");cell.urlFields=u;}cell.urlFormatString=d.trim(d.attr(node,"urlFormatString")||"");cell.target=d.trim(d.attr(node,"target")||"");if(d.hasAttr(node,"queryParams")){cell["queryParams"]=d.trim(d.attr(node,"queryParams")||"");}}});var _11c8=_11c2.Convert;return _11c4;});},"Sage/QuickForms/Design/Editors/UserBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/UserBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/UserBasicPropertyEditor"],function(_11d9,lang,_11da,_11db,_11dc,_11dd,_11de,_11df,_11e0,_11e1,_11e2,_11e3){return _11d9("Sage.QuickForms.Design.Editors.UserBasicPropertyEditor",[_11da,_11e1,_11e0],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.toolTipTooltipText %}\">","<label>{%= $.toolTipText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_toolTip\" data-dojo-attach-event=\"onChange:_onToolTipChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.isReadOnlyTooltipText %}\">","<label>{%= $.isReadOnlyText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_isReadOnly\" data-dojo-attach-event=\"onChange:_onIsReadOnlyChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_11e3);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);},_onIsReadOnlyChange:function(value){if(this.isSuspended()){return;}this._designer.set("isReadOnly",value);},_onToolTipChange:function(value){if(this.isSuspended()){return;}this._designer.set("toolTip",value);}});});},"Sage/QuickForms/Design/Editors/OwnerBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/OwnerBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/OwnerBasicPropertyEditor"],function(_11e4,lang,_11e5,_11e6,_11e7,_11e8,_11e9,_11ea,_11eb,_11ec,_11ed,_11ee){return _11e4("Sage.QuickForms.Design.Editors.OwnerBasicPropertyEditor",[_11e5,_11ec,_11eb],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.toolTipTooltipText %}\">","<label>{%= $.toolTipText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_toolTip\" data-dojo-attach-event=\"onChange:_onToolTipChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.isReadOnlyTooltipText %}\">","<label>{%= $.isReadOnlyText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_isReadOnly\" data-dojo-attach-event=\"onChange:_onIsReadOnlyChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_11ee);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);},_onIsReadOnlyChange:function(value){if(this.isSuspended()){return;}this._designer.set("isReadOnly",value);},_onToolTipChange:function(value){if(this.isSuspended()){return;}this._designer.set("toolTip",value);}});});},"Sage/QuickForms/Design/nls/EditableGridControlDesigner":function(){define("Sage/QuickForms/Design/nls/EditableGridControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_11ef,lang){var nls={root:{displayNameText:"Editable Grid"}};return lang.mixin(_11ef,nls);});},"Sage/MainView/Options/nls/OptionsDialog":function(){define("Sage/MainView/Options/nls/OptionsDialog",["Sage/LanguageList","dojo/_base/lang"],function(_11f0,lang){var nls={root:{txtOptions:"Options",txtColumns:"Columns",txtZero:"(0 displays all group columns)",txtHideOnSelection:"Hide extended group list on record selection",txtDisplayExtendedGroupListOnLookup:"Display extended group list on lookup",cmdOk_Caption:"OK",cmdCancel_Caption:"Cancel",txtListView:"List View",txtDetailView:"Detail View",txtStayInDetailViewOnLookup:"Stay in detail view on lookup"}};return lang.mixin(_11f0,nls);});},"url:Sage/MainView/ReportMgr/Crystal/templates/SimpleParameterEditor.html":"<div>\r\n    <div dojoattachpoint=\"promptParameterContainer\" class=\"crystalParameterContainer\">\r\n        <div dojoattachpoint=\"paramsHeaderContainer\"></div>\r\n        <table class=\"crystalTableContainer\">\r\n            <colgroup>\r\n                <col style=\"width:45%\" />\r\n                <col style=\"width:10%\" />\r\n                <col style=\"width:45%\" />\r\n            </colgroup>\r\n            <tr>\r\n                <td colspan=\"3\">\r\n                    <div dojoattachpoint=\"divMinMaxMessage\">\r\n                        <span dojoattachpoint=\"spanMinMaxMessage\">&nbsp;</span>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr data-dojo-attach-point=\"rowParameterRange\">\r\n                <td colspan=\"3\">\r\n                    <div data-dojo-attach-point=\"parameterRangeWidgetContainer\" style=\"height:auto\"></div>\r\n                </td>\r\n            </tr>\r\n            <tr dojoattachpoint=\"rowSingleValue\" class=\"display-none\">\r\n                <td colspan=\"2\">\r\n                    <div class=\"textcontrol picklist\">\r\n                        <label>{%= Sage.Utility.htmlEncode($.lblSelectValue_Caption) %}</label><br />\r\n                        <select data-dojo-type=\"dijit.form.FilteringSelect\" dojoattachpoint=\"cmbValues\" ></select>\r\n                        <span dojoAttachPoint=\"errorEndRange\" class=\"display-none\" style=\"color:red\">*</span>\r\n                    </div>\r\n                </td>\r\n                <td colspan=\"2\"></td>\r\n            </tr>\r\n            <tr dojoAttachPoint=\"rowOrEnterValue\">\r\n                <td colspan=\"3\">\r\n                    <label style=\"font-weight:bold\">{%= Sage.Utility.htmlEncode($.lblOrValue_Caption) %}</label><br />\r\n                </td>\r\n            </tr>\r\n            <tr dojoattachpoint=\"rowCustomValues\" class=\"display-none\">\r\n                <td>\r\n                    <div>\r\n                        <label>{%= Sage.Utility.htmlEncode($.lblEnterValue_Caption) %}</label><br />\r\n                        <input data-dojo-type=\"dijit.form.TextBox\" type=\"text\" dojoAttachPoint=\"txtCustomValue\" style=\"width:85%\" />\r\n                        <span dojoAttachPoint=\"errorCustomValue\" class=\"display-none\" style=\"color:red\">*</span>\r\n                    </div>\r\n                </td>\r\n                <td colspan=\"2\"></td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan=\"3\">\r\n                    <div dojoattachpoint=\"divValidationMessage\" style=\"color:red\">\r\n                        <span dojoattachpoint=\"spanValidationMessage\">&nbsp;</span>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n    <div>\r\n        <br />\r\n    </div>\r\n</div>","Sage/QuickForms/Design/nls/HiddenControlDesigner":function(){define("Sage/QuickForms/Design/nls/HiddenControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_11f1,lang){var nls={root:{displayNameText:"Hidden Text"}};return lang.mixin(_11f1,nls);});},"Sage/UI/Dashboard/nls/DashboardWidgetCell":function(){define("Sage/UI/Dashboard/nls/DashboardWidgetCell",["Sage/LanguageList","dojo/_base/lang"],function(_11f2,lang){var nls={root:{closeTooltipText:"Close",minimizeTooltipText:"Minimize",settingsTooltipText:"Settings"}};return lang.mixin(_11f2,nls);});},"Sage/Layout/_SplitterEnhancedMixin":function(){define("Sage/Layout/_SplitterEnhancedMixin",["dojo/_base/declare","dojo/_base/connect","dojox/storage/LocalStorageProvider","dojo/dom-style","dojo/_base/sniff"],function(_11f3,_11f4,_11f5,_11f6,has){return _11f3("Sage.Layout._SplitterEnhancedMixin",null,{postCreate:function(){this.inherited(arguments);this.storageId=this.id;},startup:function(){this.inherited(arguments);if(has("ie")){this._widthPadding=19;}if(this.splitter===true){this._addEventHandlers();this._addEventSubscribers();var dim=this._getFromLocalStorage(this.storageId);if(dim===null){dim={h:this.domNode.scrollHeight+5,w:this.domNode.scrollWidth};}this._setupStyle(dim);this.resize(dim);this._setDefaults(dim);}},splitterDblClick:null,splitterStopDrag:null,storageId:null,_defaultHeight:310,_defaultWidth:180,_widthPadding:2,_setDefaults:function(dim){if((this.region==="top"||this.region==="bottom")&&dim.h!==this.minSize){this._defaultHeight=dim.h;}if((this.region==="right"||this.region==="left")&&dim.w>this.minSize+this._widthPadding){this._defaultWidth=dim.w;}},_addEventHandlers:function(){var _11f7=dijit.byId([this.id,"_splitter"].join(""));if(typeof _11f7!=="undefined"){if(this.splitterStopDrag===null){this.splitterStopDrag=this.connect(_11f7,"_stopDrag",function(){if(this.region==="top"){if(this.h===this.minSize){_11f4.publish(["Sage/events/",this.id,"/splitterMinSize"].join(""),this);}else{_11f4.publish(["Sage/events/",this.id,"/splitterMovedNotMin"].join(""),this);}}this._setDefaults({h:this.h,w:this.w});this._saveToLocalStorage(this.storageId,{h:this.h,w:this.w});});}if(this.splitterDblClick===null){this.splitterDblClick=this.connect(_11f7,"onDblClick",function(){this.toggleSplitter();_11f4.publish(["Sage/events/",this.id,"/splitterToggled"].join(""),this);});}}},_addEventSubscribers:function(){_11f4.subscribe(["Sage/events/",this.id,"/toggleSplitter"].join(""),this,"toggleSplitter");},toggleSplitter:function(){var dim={},_11f8=dijit.byId([this.id,"_splitter"].join("")),_11f9=dijit.byId("Viewport");if(typeof _11f8!=="undefined"&&_11f8!==null){if(this.region==="top"||this.region==="bottom"){dim=(this.h===this.minSize)?{h:this._defaultHeight,w:this.w}:{h:this.minSize,w:this.w};}if(this.region==="right"||this.region==="left"){dim=(this.w<this.minSize+this._widthPadding)?{h:this.h,w:this._defaultWidth}:{h:this.h,w:this.minSize};}if(dim.w===19){dim.w=this._defaultWidth;}this._setupStyle(dim);this.resize(dim);_11f9.resize();this._saveToLocalStorage(this.storageId,dim);}},_setupStyle:function(dim){if(!this.domNode){return;}var _11fa=false;if(this.region==="top"||this.region==="bottom"){_11fa=(dim.h===this.minSize);}if(this.region==="right"||this.region==="left"){_11fa=(dim.w<this.minSize+this._widthPadding);}if(_11fa){_11f6.set(this.domNode,"overflow","hidden");}else{_11f6.set(this.domNode,"overflow","auto");}},_saveToLocalStorage:function(key,value){var _11fb=new _11f5();_11fb.initialize();_11fb.put(key,value,function(_11fc,key,_11fd){if(_11fc===_11fb.FAILED){console.error("Failed writing key: "+key+" in local storage. Message: "+_11fd);}});},_getFromLocalStorage:function(key,value){var _11fe=new _11f5();_11fe.initialize();return _11fe.get(key,value);}});});},"Sage/Extensions/UI/Columns/PickListSelect":function(){define("Sage/Extensions/UI/Columns/PickListSelect",["dojo/_base/declare","dojox/grid/cells/_base","Sage/UI/Controls/PickList"],function(_11ff,_1200,_1201){var _1202=_11ff("Sage.Extensions.UI.Columns.PickListSelect",dojox.grid.cells.Select,{storeData:null,pickList:null,storageMode:"id",displayMode:"AsText",constructor:function(args){this.inherited(arguments);if(this.storageMode==="id"&&this.displayMode==="AsText"){if(this.pickListName){this._loadPickList();}}},_loadPickList:function(){var _1203=new dojo.Deferred();var _1204={pickListName:this.pickListName,canEditText:false,itemMustExist:true,maxLength:-1,storeMode:this.storageMode,sort:false,displayMode:this.displayMode};this.pickList=new _1201(_1204);this.pickList.getPickListData(_1203);_1203.then(dojo.hitch(this,this._loadData),function(e){console.error(e);});},_loadData:function(data){var _1205=[];var _1206=[];for(var i=0;i<data.items.$resources.length;i++){var item=data.items.$resources[i];_1206.push(item.text);if(item.code){_1205.push(item.code);}else{_1205.push(item.text);}}this.options=_1206;this.values=_1205.length>0?_1205:_1206;}});return _1202;});},"Sage/MainView/IntegrationContract/AdvancedSearchOptions":function(){require({cache:{"url:Sage/MainView/IntegrationContract/templates/AdvancedSearchOptions.html":"[\r\n'<div>',\r\n    '<div>',\r\n        '<label class=\"wizardsectiontitle boldText padBottom\">{%= $.searchOptionsHeader %}',\r\n            '<span class=\"boldtext\">{%= $.configOptions.targetAccount %}</span>',\r\n        '</label>',\r\n        '<br /><br />',\r\n    '</div>',\r\n    '<div>',\r\n        '<label class=\"wizardsectiontext padBottom\" style=\"padding-left:20px\">{%= $.searchOptionsText %}</label>',\r\n    '</div>',\r\n    '<div>',\r\n        '<br />',\r\n        '<label class=\"slxlabel\" style=\"padding-left:20px\">{%= $.propertyText %}</label>',\r\n        '<label class=\"slxlabel\" style=\"padding-left:136px\">{%= $.operatorText %}</label>',\r\n        '<label class=\"slxlabel\" style=\"padding-left:118px\">{%= $.searchText %}</label>',\r\n    '</div>',\r\n    '<div dojoAttachPoint=\"conditionContainer\" style=\"padding:10px;\" id=\"{%= $.id %}-Condition-container\"></div>',\r\n    '<div class=\"button-bar alignright\">',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"submit\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').refineSearchObject.getSelections();\">',\r\n            '{%= $.okText %}',\r\n        '</button>',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"button\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').hide();\">',\r\n            '{%= $.cancelText %}',\r\n        '</button>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n"}});define("Sage/MainView/IntegrationContract/AdvancedSearchOptions",["dojo/_base/declare","dojo/i18n!./nls/AdvancedSearchOptions","dijit/_Widget","Sage/_Templated","Sage/UI/Dialogs","dojo/text!./templates/AdvancedSearchOptions.html","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","dijit/Dialog"],function(_1207,_1208,_1209,_120a,_120b,_120c){var _120d=_1207("Sage.MainView.IntegrationContract.AdvancedSearchOptions",[_1209,_120a],{configOptions:[],id:"",refineSearchId:"",index:0,selectedFieldIndex:0,fields:[{FieldName:"",DisplayName:""}],operators:[],selectedFilters:[],hideimgurl:"images/icons/Find_Remove_16x16.gif",addimgurl:"images/icons/Find_Add_16x16.gif",widgetsInTemplate:true,constructor:function(){dojo.mixin(this,_1208);},init:function(_120e){this.id=_120e.Id;this.configOptions=_120e;},conditionTemplate:new Simplate(["<div >","<div id=\"filterCondition_{%= $.index %}\" class=\"lookup-condition-row\" style=\"padding-left:10px\">","<select id=\"fieldnames_{%= $.index %}\" class=\"lookup-fieldnames-list\" style=\"width:160px\" onchange=\"dijit.byId('{%= $.refineSearchId %}').refineSearchObject.onPropertyChange({%= $.index %});\" >","{% for (var i=0;i<$.fields.length;i++) { %}","<option value=\"{%= $.fields[i].FieldName %}\" {% if ($.selectedFieldIndex == i ) { %} selected {% } %} >{%= $.fields[i].DisplayName %}</option>","{% } %}","</select>","<select id=\"operators_{%= $.index %}\" class=\"lookup-operators-list\" style=\"width:160px; margin-left:20px\">","{% for (var i=0;i<$.operators.length;i++) { %}","<option value=\"{%= $.operators[i].symbol %}\"  {% if ($.selectedFieldIndex == i ) { %} selected {% } %} >{%= $.operators[i].display %}</option>","{% } %}","</select>","<input type=\"text\" id=\"searchValue_{%= $.index %}\" class=\"search-value-list\" style=\"width:160px;margin-left:5px\" />","{% if ($.index == 1 ) { %}","<img id=\"addCondition_{%= $.index %}\" src=\"{%= $.addimgurl %}\" alt=\"{%= $.addImgAltText %}\" style=\"cursor:pointer;padding:0px 5px;\" onclick=\"dijit.byId('{%= $.id %}-Dialog').refineSearchObject.addLookupCondition();\" />","{% } %}","{% if ($.index > 1 ) { %}","<img src=\"{%= $.hideimgurl %}\" alt=\"{%= $.hideImgAltText %}\" style=\"cursor:pointer;padding:0px 5px;\" onclick=\"dijit.byId('{%= $.id %}-Dialog').refineSearchObject.removeLookupCondition({%= $.index %});\" />","{% } %}","</div>","</div>"]),onRefineSearch:function(){var _120f=dojo.byId(this.configOptions.optionRefineSearchId);if(_120f!=null&&_120f.checked){this.getDefaultMatchProperties();return true;}return false;},getDefaultMatchProperties:function(){var self=this;var _1210=dijit.byId([this.id,"-Dialog"].join(""));if(!_1210){dojo.xhrGet({url:dojo.string.substitute("slxdata.ashx/slx/crm/-/resources/getmatchproperties?resourceKind=${0}&targetMapping=${1}",[this.configOptions.resourceKind,true]),cache:false,preventCache:true,handleAs:"json",load:function(data){self.fields=data.fields;self.operators=data.operators;self.selectedFilters=data.filters;self.showDialog();},error:function(_1211,_1212,error){_120b.ShowError("request: "+_1211+" \nstatus: "+_1212+" \nerror: "+error);}});}else{self.showDialog();}},showDialog:function(){this.index=0;var _1213=dijit.byId([this.id,"-Dialog"].join(""));if(!_1213){_1213=new dijit.Dialog({title:this.dialogCaption,id:[this.id,"-Dialog"].join(""),style:["height:",300,"px;width:",600,"px;"].join(""),closable:true,loadingMessage:this.loadingText,refineSearchObject:this});var _1214=new Simplate(eval(_120c));_1213.attr("content",_1214.apply(this));}this.refineSearchId=_1213.id;_1213.show();this.loadMatchingFilters();dojo.style(_1213.domNode,"zIndex",9050);},loadMatchingFilters:function(){for(var i=0;i<this.selectedFilters.length;i++){this.addLookupCondition();var field=dojo.byId(["fieldnames_",this.index].join(""));if(field!=null){field.value=this.selectedFilters[i].Property;}var _1215=dojo.byId(["operators_",this.index].join(""));if(_1215!=null){_1215.value=this.selectedFilters[i].Operator;_1215.symbol=this.selectedFilters[i].Operator;}var _1216=dojo.byId(["searchValue_",this.index].join(""));if(_1216!=null){_1216.value=this.selectedFilters[i].SearchValue;}}},getSelections:function(){var _1217=[];this.updateDisplay();var _1218=dojo.query(".lookup-condition-row");for(var i=0;i<_1218.length;i++){var _1219=dojo.query(".lookup-fieldnames-list",_1218[i]);var _121a=dojo.query(".lookup-operators-list",_1218[i]);var _121b=dojo.query(".search-value-list",_1218[i]);var _121c={fieldName:_1219[0].value,operator:_121a[0].value,searchValue:_121b[0].value};_1217.push(_121c);}var _121d=dojo.byId(this.configOptions.filtersId);if(_121d!=null){_121d.value=Sys.Serialization.JavaScriptSerializer.serialize(_1217);}this.invokeClickEvent(dojo.byId(this.configOptions.refreshGridId));},updateDisplay:function(){var _121e=dojo.byId(this.configOptions.resultsMsgId);if(_121e!=null){_121e.innerHTML=this.loadingDisplay;}_121e=dojo.byId(this.configOptions.rowSearchResultsId);if(_121e!=null){_121e.style.display="none";}_121e=dojo.byId(this.configOptions.rowLinkToId);if(_121e!=null){_121e.style.display="none";}},invokeClickEvent:function(_121f){if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",true,true);_121f.dispatchEvent(e);}else{_121f.click();}},onPropertyChange:function(index){var _1220=dojo.byId(["searchValue_",index].join(""));if(_1220!=null){_1220.value="";}},addLookupCondition:function(){this.index++;var _1221=dojo.byId([this.id,"-Condition-container"].join(""));var _1222=this.conditionTemplate.apply(this);dojo.place(_1222,_1221);this.dialogResize();},dialogResize:function(){dojo.style([this.id,"-Dialog"].join(""),"height","auto");},removeLookupCondition:function(idx){dojo.query(dojo.byId(["filterCondition_",idx].join(""))).orphan();},reloadOperators:function(_1223,_1224){this.selectedFieldIndex=_1223;this.index=_1224;var _1225=this.conditionTemplate.apply(this);dojo.place(_1225,["filterCondition_",_1224].join(""),"replace");},clearTargetSelection:function(){var _1226=document.getElementsByName("TargetsGroup");if(_1226!=null){for(var i=0;i<_1226.length;i++){_1226[i].checked=false;}}},onMatchSelection:function(_1227){var _1228=document.getElementById(_1227);if(_1228!=null){_1228.checked=true;}},closeDetailsDialog:function(){}});return _120d;});},"Sage/QuickForms/Design/Editors/GenericBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/GenericBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/GenericBasicPropertyEditor"],function(_1229,lang,_122a,_122b,_122c,_122d,_122e,_122f,_1230,_1231,_1232,_1233){return _1229("Sage.QuickForms.Design.Editors.GenericBasicPropertyEditor",[_122a,_1231,_1230],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,titleText:"Basic",appearanceText:"Appearance",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_1233);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);}});});},"Sage/MainView/ReportMgr/SchedulesSDataSummaryFormatterScope":function(){define("Sage/MainView/ReportMgr/SchedulesSDataSummaryFormatterScope",["Sage/UI/SummaryContainer","dojo/i18n","Sage/UI/SummaryFormatterScope","Sage/MainView/ReportMgr/SchedulesSDataDetailViewDataManager","Sage/UI/Controls/SummaryAggregate","dojo/_base/declare"],function(_1234,i18n,_1235,_1236,_1237,_1238){var _1239=_1238("Sage.MainView.ReportMgr.SchedulesSDataSummaryFormatterScope",[_1235],{constructor:function(args){dojo.mixin(this,args);this.widgets=[];this.preFetchResources();this._setupDataManager();},_setupDataManager:function(){this.dataManager=new _1236(this.requestConfiguration);if(Sage.Services.hasService("SummaryViewDataManager")){Sage.Services.removeService("SummaryViewDataManager");}Sage.Services.addService("SummaryViewDataManager",this.dataManager);}});return _1239;});},"Sage/QuickForms/Design/Editors/nls/UserBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/UserBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_123a,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_123a,nls);});},"url:Sage/UI/Controls/templates/DropDownSelectUser.html":"<div>\r\n    <select data-dojo-type=\"Sage.UI.ComboBox\" shouldPublishMarkDirty=\"false\" dojoAttachPoint=\"comboBox\" dojoAttachEvent=\"onBlur: _onBlur\">\r\n    </select>\r\n</div>\r\n","Sage/UI/nls/Dialogs":function(){define("Sage/UI/nls/Dialogs",["Sage/LanguageList","dojo/_base/lang"],function(_123b,lang){var nls={root:{yesText:"Yes",noText:"No",okText:"OK",cancelText:"Cancel"}};return lang.mixin(_123b,nls);});},"Sage/MainView/IntegrationContract/nls/SyncResultsHistory":function(){define("Sage/MainView/IntegrationContract/nls/SyncResultsHistory",["Sage/LanguageList","dojo/_base/lang"],function(_123c,lang){var nls={root:{grdSyncHistory_StampDate:"Date/Time",grdSyncHistory_Status:"Status",grdSyncHistory_SyncNote:"Sync Notes"}};return lang.mixin(_123c,nls);});},"Sage/UI/DashboardGroupListConfigurationProvider":function(){define("Sage/UI/DashboardGroupListConfigurationProvider",["Sage/UI/GroupListConfigurationProvider","dojo/string","dojo/_base/declare"],function(_123d,_123e,_123f){var _1240=_123f("Sage.UI.DashboardGroupListConfigurationProvider",[_123d],{formatPredicate:function(group){group.family=group.family&&group.family.toUpperCase();return _123e.substitute("name eq '${name}' and upper(family) eq '${family}'",group);},_createConfigurationForList:function(entry){var _1241=Sage.Services.getService("ClientGroupContext"),_1242;if(_1241){_1242=_1241.getContext();}_1242.CurrentTable="";return this.inherited(arguments);},_getListContextMenuItems:function(){return [];},_onListContext:function(e){return;}});return _1240;});},"Sage/TaskPane/nls/SecuredActionTasklet":function(){define("Sage/TaskPane/nls/SecuredActionTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_1243,lang){var nls={root:{addToRoleTitle:"Add to Role"}};return lang.mixin(_1243,nls);});},"Sage/Layout/main":function(){define("Sage/Layout/main",["Sage/Layout/ContentPane","Sage/Layout/TabContainer","Sage/Layout/MainContentDetailsPane","Sage/Layout/_SplitterEnhancedMixin"],function(){});},"Sage/UI/Dashboard/nls/DashboardTabController":function(){define("Sage/UI/Dashboard/nls/DashboardTabController",["Sage/LanguageList","dojo/_base/lang"],function(_1244,lang){var nls={root:{newTabText:"New Tab",addContentText:"Add Content",editOptionsText:"Edit Options",hideTabText:"Hide Tab",closeText:"Close",copyTabText:"Copy Tab",showTabText:"Show Tab",shareTabText:"Share Tab",deleteTabText:"Delete Tab",deleteTabConfirmText:"Are you sure you want to delete this tab?",descriptionText:"Description",everyoneText:"Everyone",saveTabText:"Save Tab",helpText:"Help",addText:"Add",invalidMessage:"Invalid Character",invalidDuplicateMessage:"Title must be unique.",deleteText:"Delete",titleText:"Title:",chooseTemplateText:"Choose the template you want to use:",oneColumnText:"One column",twoColumnText:"Two columns split",fatLeftText:"Two column larger left",fatRightText:"Two column larger right",makeDefaultText:"Make default",releaseFetchErrorText:"Error fetching release list.",releaseDeleteNoneSelected:"No items selected.",releasedToText:"Released To:",typeText:"Type",addLookup:"Add",okButton:"OK",errorText:"Error",warningText:"Warning",permissionErrorText:"Error: User does not have the right to perform this action.",permissionErrorPerformCopyText:"Would you like to create a personal copy of the page?",yesText:"Yes",noText:"No"}};return lang.mixin(_1244,nls);});},"Sage/MainView/ReportMgr/Crystal/ParameterRangeWidget":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/ParameterRangeWidget.html":"<table class=\"crystalTableContainer\">\r\n    <colgroup>\r\n        <col style=\"width:1%\" />\r\n        <col style=\"width:44%\" />\r\n        <col style=\"width:10%\" />\r\n        <col style=\"width:1%\" />\r\n        <col style=\"width:44%\" />\r\n    </colgroup>\r\n    <tr data-dojo-attach-point=\"rowStartEndRangeLabels\">\r\n        <td colspan=\"3\">\r\n            <label style=\"font-weight:bold\">${txtStartOfRange}</label>\r\n        </td>\r\n        <td colspan=\"2\">\r\n            <label style=\"font-weight:bold\">${txtEndOfRange}</label>\r\n        </td>\r\n    </tr>\r\n    <tr data-dojo-attach-point=\"rowStartEndRangeValues\">\r\n        <td></td>\r\n        <td>\r\n            <div dojotype=\"dijit.form.FilteringSelect\" data-dojo-attach-point=\"cboStartRangeValues\" style=\"width:90%\"></div>\r\n            <span data-dojo-attach-point=\"errorStartRange\" class=\"display-none\" style=\"color:red\">*</span>\r\n        </td>\r\n        <td colspan=\"2\"></td>\r\n        <td>\r\n            <select dojotype=\"dijit.form.FilteringSelect\" data-dojo-attach-point=\"cboEndRangeValues\" style=\"width:90%\"></select>\r\n            <span data-dojo-attach-point=\"errorEndRange\" class=\"display-none\" style=\"color:red\">*</span>\r\n        </td>\r\n    </tr>\r\n    <tr data-dojo-attach-point=\"rowStartEndOrValue\">\r\n        <td colspan=\"3\">\r\n            <label style=\"font-weight:bold\">${lblOrValue_Caption}</label><br />\r\n        </td>\r\n        <td colspan=\"2\">\r\n            <label style=\"font-weight:bold\">${lblOrValue_Caption}</label><br />\r\n        </td>\r\n    </tr>\r\n    <tr data-dojo-attach-point=\"rowStartEndCustomValue\">\r\n        <td></td>\r\n        <td>\r\n            <div>\r\n                <label>${lblEnterValue_Caption}</label><br />\r\n                <input data-dojo-type=\"dijit.form.TextBox\" type=\"text\" data-dojo-attach-point=\"txtStartCustomValue\" style=\"width:90%\" />\r\n                <span data-dojo-attach-point=\"errorStartCustomValue\" class=\"display-none\" style=\"color:red\">*</span>\r\n            </div>\r\n        </td>\r\n        <td colspan=\"2\"></td>\r\n        <td>\r\n            <div>\r\n                <label style=\"padding-left:3px\">${lblEnterValue_Caption}</label><br />\r\n                <input data-dojo-type=\"dijit.form.TextBox\" type=\"text\" data-dojo-attach-point=\"txtEndCustomValue\" style=\"width:90%\" />\r\n                <span data-dojo-attach-point=\"errorEndCustomValue\" class=\"display-none\" style=\"color:red\">*</span>\r\n            </div>\r\n        </td>\r\n    </tr>\r\n    <tr>\r\n        <td></td>\r\n        <td>\r\n            <input data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"chkIncludeFromRange\" />\r\n            <label>${txtIncludeThisValue}</label>\r\n        </td>\r\n        <td colspan=\"2\"></td>\r\n        <td>\r\n            <input data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"chkIncludeToRange\" />\r\n            <label>${txtIncludeThisValue}</label>\r\n        </td>\r\n    </tr>\r\n    <tr>\r\n        <td></td>\r\n        <td>\r\n            <input data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"chkNoLowerValue\" dojoAttachEvent=\"onChange:_chkNoLowerValue_OnCheck\" />\r\n            <label>${txtNoLowerValue}</label>\r\n        </td>\r\n        <td colspan=\"2\"></td>\r\n        <td>\r\n            <input data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"chkNoUpperValue\" dojoAttachEvent=\"onChange:_chkNoUpperValue_OnCheck\" />\r\n            <label>${txtNoUpperValue}</label>\r\n        </td>\r\n    </tr>\r\n</table>"}});define("Sage/MainView/ReportMgr/Crystal/ParameterRangeWidget",["dojo/_base/declare","dojo/_base/array","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojo/text!./templates/ParameterRangeWidget.html","Sage/MainView/ReportMgr/ReportManagerUtility","dojo/i18n!./nls/_ParameterEditorBase","Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility","dojo/string","Sage/Reporting/Enumerations","Sage/Utility"],function(_1245,_1246,_1247,_1248,_1249,_124a,_124b,_124c,_124d,_124e,_124f,_1250){var _1251=_1245("Sage.MainView.ReportMgr.Crystal.ParameterRangeWidget",[_1247,_1248,_1249],{templateString:_124a,paramInitialIds:null,paramValues:null,defaultValues:null,paramInitialValues:null,parameterValueKind:_124f.SlxParameterValueKind.StringParameter,allowCustomValues:false,hasParamValues:false,postMixInProperties:function(){dojo.mixin(this,_124c);},postCreate:function(){this.inherited(arguments);this.chkIncludeFromRange.set("checked",true);this.chkIncludeToRange.set("checked",true);this._initializeStartRangeValues();},verifyRequiredAssignments:function(){var _1252=this._getValue(this.txtStartCustomValue.get("value"),this.cboStartRangeValues.item);var _1253=this._getValue(this.txtEndCustomValue.get("value"),this.cboEndRangeValues.item);if(this.chkNoUpperValue.checked){if(_1252.displayValue){this._removeErrorMessages();return true;}else{this.cboStartRangeValues.focus();dojo.removeClass(this.hasParamValues?this.errorStartRange:this.errorStartCustomValue,"display-none");dojo.addClass(this.hasParamValues?this.errorEndRange:this.errorEndCustomValue,"display-none");}return false;}if(this.chkNoLowerValue.checked){if(_1253.displayValue){this._removeErrorMessages();return true;}else{this.cboEndRangeValues.focus();dojo.addClass(this.hasParamValues?this.errorStartRange:this.errorStartCustomValue,"display-none");dojo.removeClass(this.hasParamValues?this.errorEndRange:this.errorEndCustomValue,"display-none");}return false;}if(!_1252.displayValue||!_1253.displayValue){this._setRangeErrorMessageVisibility(_1252.displayValue,_1253.displayValue);return false;}else{dojo.addClass(this.hasParamValues?this.errorStartRange:this.errorStartCustomValue,"display-none");dojo.addClass(this.hasParamValues?this.errorEndRange:this.errorEndCustomValue,"display-none");return true;}},validateRangeWithinBoundaries:function(){if(!this.chkNoUpperValue.checked&&!this.chkNoLowerValue.checked){var _1254=this._getValue(this.txtStartCustomValue.get("value"),this.cboStartRangeValues.item);var _1255=this._getValue(this.txtEndCustomValue.get("value"),this.cboEndRangeValues.item);if(this.parameterValueKind===_124f.SlxParameterValueKind.NumberParameter){if(parseInt(_1254.value)>parseInt(_1255.value)){dojo.removeClass(this.hasParamValues?this.errorEndRange:this.errorEndCustomValue,"display-none");return false;}}else{if(_1254.value.toUpperCase()>_1255.value.toUpperCase()){dojo.removeClass(this.hasParamValues?this.errorEndRange:this.errorEndCustomValue,"display-none");return false;}}}return true;},getRangeValue:function(){var _1256=this._getValue(this.txtStartCustomValue.get("value"),this.cboStartRangeValues.item);var _1257=this._getValue(this.txtEndCustomValue.get("value"),this.cboEndRangeValues.item);var range=[];if(!this.chkNoLowerValue.get("checked")&&!this.chkNoUpperValue.get("checked")){range={startValue:_1256.value,endValue:_1257.value,displayValue:_124e.substitute("[${0} .. ${1}]",[_1256.displayValue,_1257.displayValue])};}else{if(this.chkNoLowerValue.get("checked")){range={startValue:null,endValue:_1257.value,displayValue:_124e.substitute("( .. ${0}]",[_1257.displayValue])};}else{range={startValue:_1256.value,endValue:null,displayValue:_124e.substitute("[${0} .. )",[_1256.displayValue])};}}range.noLowerValue=this.chkNoLowerValue.checked;range.noUpperValue=this.chkNoUpperValue.checked;range.includeFromRange=this.chkIncludeFromRange.checked;range.includeToRange=this.chkIncludeToRange.checked;return range;},_initializeStartRangeValues:function(){_124b.setDomNodeVisible(this.rowStartEndCustomValue,this.allowCustomValues);this.hasParamValues=this.paramValues.length>0;if(this.hasParamValues){_124d.initializeComboBoxValues(this.paramValues,_124d.getRangeInitialValue(this.paramInitialValues,true),this.cboStartRangeValues);dojo.connect(this.cboStartRangeValues,"onBlur",this,"_startRangeValue_OnChange",true);dojo.connect(this.txtStartCustomValue,"onChange",this,"_txtStartCustomValue_OnChange",true);_124d.initializeComboBoxValues(this.paramValues,_124d.getRangeInitialValue(this.paramInitialValues,false),this.cboEndRangeValues);dojo.connect(this.cboEndRangeValues,"onBlur",this,"_endRangeValue_OnChange",true);dojo.connect(this.txtEndCustomValue,"onChange",this,"_txtEndCustomValue_OnChange",true);}_124b.setDomNodeVisible(this.rowStartEndRangeValues,this.hasParamValues);_124b.setDomNodeVisible(this.rowStartEndRangeLabels,this.hasParamValues);_124b.setDomNodeVisible(this.rowStartEndOrValue,this.allowCustomValues&&this.hasParamValues);if(this.parameterValueKind===_124f.SlxParameterValueKind.NumberParameter){this.connect(this.txtStartCustomValue,"onKeyPress",this._onKeyPress,true);this.connect(this.txtEndCustomValue,"onKeyPress",this._onKeyPress,true);}this._assignDefaultRangeValues();},_assignDefaultRangeValues:function(){if(this.paramInitialValues.length===1){if(this.paramInitialValues[0].value){var _1258=this.paramInitialValues[0];if(_1258.value.lowerBoundType){this.chkIncludeFromRange.set("checked",(_1258.value.lowerBoundType===_124f.SlxRangeBoundType.BoundInclusive));this.chkNoLowerValue.set("checked",(_1258.value.beginValue===null));this.chkIncludeToRange.set("checked",(_1258.value.upperBoundType===_124f.SlxRangeBoundType.BoundInclusive));this.chkNoUpperValue.set("checked",(_1258.value.endValue===null));}}}},_onKeyPress:function(e){if(!_1250.restrictToNumberOnKeyPress(e,"number")){dojo.stopEvent(e);}},_chkNoLowerValue_OnCheck:function(_1259){this.chkIncludeFromRange.setAttribute("disabled",_1259);this.cboStartRangeValues.setAttribute("disabled",_1259);this.txtStartCustomValue.setAttribute("disabled",_1259);this.chkNoUpperValue.setAttribute("disabled",_1259);},_chkNoUpperValue_OnCheck:function(_125a){this.chkIncludeToRange.setAttribute("disabled",_125a);this.cboEndRangeValues.setAttribute("disabled",_125a);this.txtEndCustomValue.setAttribute("disabled",_125a);this.chkNoLowerValue.setAttribute("disabled",_125a);},_startRangeValue_OnChange:function(){var item=this.cboStartRangeValues.item;if(item&&item.value!==""){this.txtStartCustomValue.set("value","");}},_txtStartCustomValue_OnChange:function(){if(this.txtStartCustomValue.get("value")!==""){this.cboStartRangeValues.set("displayedValue","");}},_endRangeValue_OnChange:function(){var item=this.cboEndRangeValues.item;if(item&&item.value!==""){this.txtEndCustomValue.set("value","");}},_txtEndCustomValue_OnChange:function(){if(this.txtEndCustomValue.get("value")!==""){this.cboEndRangeValues.set("displayedValue","");}},_getValue:function(_125b,_125c){var _125d={displayValue:_125b,value:_125b};if(_125b===""){if(_125c&&_125c.value!==""){_125d={value:_125c.value,displayValue:_125c.description};}}return _125d;},_getOriginalParameterValue:function(_125e){var _125f=null;_1246.some(this.defaultValues,function(entry,i){if(entry._id==_125e){_125f=dojo.clone(entry);return true;}});return _125f;},_setRangeErrorMessageVisibility:function(_1260,_1261){if(!_1260&&!_1261){dojo.removeClass(this.hasParamValues?this.errorStartRange:this.errorStartCustomValue,"display-none");dojo.removeClass(this.hasParamValues?this.errorEndRange:this.errorEndCustomValue,"display-none");this.cboStartRangeValues.focus();}else{if(!_1260){dojo.addClass(this.hasParamValues?this.errorEndRange:this.errorEndCustomValue,"display-none");dojo.removeClass(this.hasParamValues?this.errorStartRange:this.errorStartCustomValue,"display-none");this.cboStartRangeValues.focus();}else{dojo.addClass(this.hasParamValues?this.errorStartRange:this.errorStartCustomValue,"display-none");dojo.removeClass(this.hasParamValues?this.errorEndRange:this.errorEndCustomValue,"display-none");this.cboEndRangeValues.focus();}}},_removeErrorMessages:function(){dojo.addClass(this.errorStartRange,"display-none");dojo.addClass(this.errorEndRange,"display-none");dojo.addClass(this.errorStartCustomValue,"display-none");dojo.addClass(this.errorEndCustomValue,"display-none");}});return _1251;});},"Sage/UI/PopupMenuItem":function(){define("Sage/UI/PopupMenuItem",["Sage/UI/MenuItem","dojo/_base/declare"],function(_1262,_1263){var _1264=_1263("Sage.UI.PopupMenuItem",_1262,{_fillContent:function(){if(this.srcNodeRef){var nodes=dojo.query("*",this.srcNodeRef);Sage.UI.PopupMenuItem.superclass._fillContent.call(this,nodes[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=dojo.query("[widgetId]",this.dropDownContainer)[0];this.popup=dijit.byNode(node);}dojo.body().appendChild(this.popup.domNode);this.popup.startup();this.popup.domNode.style.display="none";if(this.arrowWrapper){dojo.style(this.arrowWrapper,"visibility","");}dijit.setWaiState(this.focusNode,"haspopup","true");},destroyDescendants:function(){if(this.popup){if(!this.popup._destroyed){this.popup.destroyRecursive();}delete this.popup;}this.inherited(arguments);}});return _1264;});},"Sage/Library/main":function(){define("Sage/Library/main",["Sage/Library/DocumentProperties","Sage/Library/FileHandler","Sage/Library/FolderHandler","Sage/Library/Manager"],function(){});},"url:Sage/Utility/File/templates/FallbackFilePicker_Attachment.html":"[\r\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"uploadFileDialog\" title=\"{%= $.attachFileText %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:_onHide\">',\r\n        '<iframe src=\"about:blank\" style=\"width:0px;height:0px;border-width:0px;\" name=\"{%= $._iframeId %}\" id=\"{%= $._iframeId %}\" dojoAttachPoint=\"_iframe\" dojoAttachEvent=\"onload:_iframeLoad\"></iframe>',\r\n        '<form method=\"post\" enctype=\"multipart/form-data\" action=\"{%= $._buildPostUrl() %}\" target=\"{%= $._iframeId %}\" dojoAttachPoint=\"_postForm\" class=\"attachment-properties-form\">',\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"160\">',\r\n                '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.uploadFileText %}\" >',\r\n                    '<input name=\"file\" multiple=\"false\" type=\"file\" dojoAttachEvent=\"onchange:_onNewFile\" dojoAttachPoint=\"btn_FileSelect\" class=\"uploadButton\" />',\r\n                '</div>',\r\n                 '<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.descriptionText %}\" name=\"description\" id=\"{%= $.id %}_tb_Description\" dojoAttachPoint=\"tb_Description\" maxlength=\"128\" ></div>',\r\n                 '<input type=\"hidden\" dojoType=\"dijit.form.TextBox\" name=\"fileName\" id=\"{%= $.id %}_tb_realFileName\" dojoAttachPoint=\"tb_realFileName\" maxlength=\"255\" />',\r\n            '</div>',\r\n            '<div class=\"general-dialog-actions\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id %}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.okText %}</div>',\r\n                '<span>&nbsp;&nbsp</span>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>',\r\n            '</div>',\r\n            '<input type=\"hidden\" name=\"dataType\" value=\"R\" />',\r\n            '<input type=\"hidden\" name=\"attachDate\" dojoAttachPoint=\"_attachDate\"/>',\r\n            '<input type=\"hidden\" name=\"accountId\" dojoAttachPoint=\"_accountId\"/>',\r\n            '<input type=\"hidden\" name=\"activityId\" dojoAttachPoint=\"_activityId\" />',\r\n            '<input type=\"hidden\" name=\"contactId\" dojoAttachPoint=\"_contactId\" />',\r\n            '<input type=\"hidden\" name=\"contractId\" dojoAttachPoint=\"_contractId\" />',\r\n            '<input type=\"hidden\" name=\"defectId\" dojoAttachPoint=\"_defectId\" />',\r\n            '<input type=\"hidden\" name=\"historyId\" dojoAttachPoint=\"_historyId\" />',\r\n            '<input type=\"hidden\" name=\"leadId\" dojoAttachPoint=\"_leadId\" />',\r\n            '<input type=\"hidden\" name=\"opportunityId\" dojoAttachPoint=\"_opportunityId\" />',\r\n            '<input type=\"hidden\" name=\"productId\" dojoAttachPoint=\"_productId\" />',\r\n            '<input type=\"hidden\" name=\"returnId\" dojoAttachPoint=\"_returnId\" />',\r\n            '<input type=\"hidden\" name=\"salesOrderId\" dojoAttachPoint=\"_salesOrderId\" />',\r\n            '<input type=\"hidden\" name=\"ticketId\" dojoAttachPoint=\"_ticketId\" />',\r\n            '<input type=\"hidden\" name=\"userId\" dojoAttachPoint=\"_userId\" />',\r\n        '</form>',\r\n    '</div>',\r\n'</div>'\r\n]","url:Sage/MainView/ActivityMgr/AttendeeLookup/templates/SpeedSearchLookup.html":"[\r\n'<div>',\r\n    '<div data-dojo-type=\"dijit.Dialog\" id=\"{%= $.id %}-Dialog\" title=\"\" dojoAttachPoint=\"_dialog\" >', //dialog\r\n         '<div class=\"event-dialog\">',\r\n        '<div style=\"padding:5px;\" id=\"{%= $.id %}-Condition-container\">',\r\n            '<input id=\"Text1\" type=\"text\" style=\"width:85%;\"  data-dojo-attach-point=\"_valueBox\" data-dojo-attach-event=\"onkeypress:_onKeyPress\"/>',     \r\n            '<button id=\"{%= $.id %}-Search\" data-dojo-type=\"dijit.form.Button\" type=\"button\" dojoAttachPoint=\"searchButton\" dojoAttachEvent=\"onClick:_doSearch\">{%= $.srchBtnCaption %}</button>',\r\n          \r\n        '</div>',    \r\n        '<div data-dojo-attach-point=\"contentNode\">',  \r\n        '<div id=\"{%= $.id %}-Grid-container\" dojoAttachPoint=\"_speedSearchGrid\"  style=\"width:auto;height:400px;\"></div>',\r\n        '</div>',\r\n            '<div class=\"lookupButtonWrapper\">',           \r\n                '<button data-dojo-type=\"dijit.form.Button\" type=\"button\" id=\"{%= $.id %}-GridSelectButton\" ',\r\n                    'onClick=\"dijit.byId(\\'{%= $.id %}\\').getGridSelections(); \">{%= $.okText %}',\r\n                   '</button>',            \r\n                '<button data-dojo-type=\"dijit.form.Button\" type=\"button\" id=\"{%= $.id %}-CloseButton\" ',\r\n                    'onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').hide();\">{%= $.cancelText %}</button>',\r\n            '</div>',\r\n             '</div>',\r\n     '</div> ', //dialog   \r\n'</div>'\r\n]","Sage/UI/Controls/HelpMenu":function(){define("Sage/UI/Controls/HelpMenu",["dijit/MenuBar","Sage/UI/MenuItem","Sage/UI/PopupMenuBarItem","Sage/UI/OrientableMenuBar","dojo/i18n!./nls/HelpMenu","dojo/_base/declare","dojo/dom-class"],function(_1265,_1266,_1267,_1268,_1269,_126a,_126b){var _126c=_126a("Sage.UI.Controls.HelpMenu",_1268,{orientation:{"BR":"TR","BL":"TL"},postMixInProperties:function(){this.inherited(arguments);},postCreate:function(){this.inherited(arguments);var menu=new dijit.Menu();menu.addChild(new _1266({label:_1269.webClientHelpText,imageClass:"icon_Help_16x16",title:_1269.webClientHelpText,id:"helpRoot",onClick:function(){Sage.Utility.openHelp("slxoverview");}}));menu.addChild(new _1266({label:_1269.gettingStartedText,imageClass:"icon_pdf_16x16",title:_1269.gettingStartedText,id:"helpGettingStarted",onClick:function(){window.open("help/Getting Started with Saleslogix Web Client.pdf","MCWebHelp");}}));menu.addChild(new _1266({label:_1269.quickReferenceText,imageClass:"icon_pdf_16x16",title:_1269.quickReferenceText,id:"helpQuickReference",onClick:function(){window.open("help/Saleslogix Quick Reference for the Web User.pdf","MCWebHelp");}}));menu.addChild(new _1266({label:_1269.aboutText,imageClass:"icon_Help_16x16",title:_1269.aboutText,id:"helpAbout",onClick:function(){Sage.Utility.openHelp("slxthirdparty");}}));var _126d=menu.getChildren();_126b.add(_126d[1].domNode,"hiddenHelpButton");_126b.add(_126d[2].domNode,"hiddenHelpButton");this.addChild(new _1267({label:"",iconStyle:"width: 16px",imageClass:"icon_Help_16x16",title:_1269.helpText,id:"btnHelpMenu",popup:menu}));}});return _126c;});},"Sage/Services/SystemOptions":function(){define("Sage/Services/SystemOptions",["Sage/Data/SDataServiceRegistry","dojo/_base/declare"],function(_126e,_126f){var svc=_126f("Sage.Services.SystemOptions",null,{_systemOptions:false,_systemOptionsByName:false,notFoundrrorMsg:"A system option was requested that cannot be found.",requestFailedErrorMsg:"A request for system options has failed to return results.",get:function(_1270,_1271,_1272,scope){if(!this._systemOptions){var req=new Sage.SData.Client.SDataResourceCollectionRequest(_126e.getSDataService("system",false,true,true));req.setResourceKind("systemoptions");req.read({success:function(_1273){this._buildHash(_1273);this._returnOption(_1270,_1271,_1272,scope);},failure:function(_1274){_1272.call(scope||this,this.requestFailedErrorMsg);},scope:this});}else{this._returnOption(_1270,_1271,_1272,scope);}},_buildHash:function(_1275){var items=_1275.$resources;this._systemOptionsByName={};dojo.forEach(items,function(item){this._systemOptionsByName[item.name]=item;},this);this._systemOptions=_1275.$resources;},_returnOption:function(_1276,_1277,_1278,scope){if(this._systemOptionsByName[_1276]){_1277.call(scope||this,this._systemOptionsByName[_1276].value);}else{_1278.call(scope||this,this.notFoundrrorMsg);}}});Sage.Services.addService("SystemOptions",new Sage.Services.SystemOptions());return svc;});},"dgrid/Keyboard":function(){define("dgrid/Keyboard",["dojo/_base/declare","dojo/aspect","dojo/on","dojo/_base/lang","dojo/has","put-selector/put","./util/misc","dojo/_base/Deferred","dojo/_base/sniff"],function(_1279,_127a,on,lang,has,put,_127b,_127c){var _127d={checkbox:1,radio:1,button:1},_127e=/\bdgrid-cell\b/,_127f=/\bdgrid-row\b/;var _1280=_1279(null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);if(!this.keyMap){this.keyMap=lang.mixin({},_1280.defaultKeyMap);}if(!this.headerKeyMap){this.headerKeyMap=lang.mixin({},_1280.defaultHeaderKeyMap);}},postCreate:function(){this.inherited(arguments);var grid=this;function _1281(event){var _1282=event.target;return _1282.type&&(!_127d[_1282.type]||event.keyCode==32);};function _1283(_1284){var _1285=grid.cellNavigation,_1286=_1285?_127e:_127f,_1287=_1284===grid.headerNode,_1288=_1284;function _1289(){if(grid._focusedHeaderNode){grid._focusedHeaderNode.tabIndex=-1;}if(grid.showHeader){grid._focusedHeaderNode=_1288=_1285?grid.headerNode.getElementsByTagName("th")[0]:grid.headerNode;if(_1288){_1288.tabIndex=grid.tabIndex;}}};if(_1287){_1289();_127a.after(grid,"renderHeader",_1289,true);}else{_127a.after(grid,"renderArray",function(ret){return _127c.when(ret,function(ret){var _128a=grid._focusedNode||_1288;if(_1286.test(_128a.className)&&_127b.contains(_1284,_128a)){return ret;}for(var i=0,_128b=_1284.getElementsByTagName("*"),_128c;(_128c=_128b[i]);++i){if(_1286.test(_128c.className)){_128a=grid._focusedNode=_128c;break;}}_128a.tabIndex=grid.tabIndex;return ret;});});}grid._listeners.push(on(_1284,"mousedown",function(event){if(!_1281(event)){grid._focusOnNode(event.target,_1287,event);}}));grid._listeners.push(on(_1284,"keydown",function(event){if(event.metaKey||event.altKey){return;}var _128d=grid[_1287?"headerKeyMap":"keyMap"][event.keyCode];if(_128d&&!_1281(event)){_128d.call(grid,event);}}));};if(this.tabableHeader){_1283(this.headerNode);on(this.headerNode,"dgrid-cellfocusin",function(){grid.scrollTo({x:this.scrollLeft});});}_1283(this.contentNode);},removeRow:function(_128e){if(!this._focusedNode){return this.inherited(arguments);}var self=this,_128f=document.activeElement===this._focusedNode,_1290=this[this.cellNavigation?"cell":"row"](this._focusedNode),_1291=_1290.row||_1290,_1292;_128e=_128e.element||_128e;if(_128e===_1291.element){_1292=this.down(_1291,true);if(!_1292||_1292.element===_128e){_1292=this.up(_1291,true);}this._removedFocus={active:_128f,rowId:_1291.id,columnId:_1290.column&&_1290.column.id,siblingId:!_1292||_1292.element===_128e?undefined:_1292.id};setTimeout(function(){if(self._removedFocus){self._restoreFocus(_1291.id);}},0);this._focusedNode=null;}this.inherited(arguments);},insertRow:function(_1293){var _1294=this.inherited(arguments);if(this._removedFocus&&!this._removedFocus.wait){this._restoreFocus(_1294);}return _1294;},_restoreFocus:function(row){var _1295=this._removedFocus,_1296,cell;row=row&&this.row(row);_1296=row&&row.element&&row.id===_1295.rowId?row:typeof _1295.siblingId!=="undefined"&&this.row(_1295.siblingId);if(_1296&&_1296.element){if(!_1296.element.parentNode.parentNode){_1295.wait=true;return;}if(typeof _1295.columnId!=="undefined"){cell=this.cell(_1296,_1295.columnId);if(cell&&cell.element){_1296=cell;}}if(_1295.active&&_1296.element.offsetHeight!==0){this.focus(_1296);}else{put(_1296.element,".dgrid-focus");_1296.element.tabIndex=this.tabIndex;}}delete this._removedFocus;},addKeyHandler:function(key,_1297,_1298){return _127a.after(this[_1298?"headerKeyMap":"keyMap"],key,_1297,true);},_focusOnNode:function(_1299,_129a,event){var _129b="_focused"+(_129a?"Header":"")+"Node",_129c=this[_129b],_129d=this.cellNavigation?"cell":"row",cell=this[_129d](_1299),_129e,input,_129f,_12a0,i;_1299=cell&&cell.element;if(!_1299){return;}if(this.cellNavigation){_129e=_1299.getElementsByTagName("input");for(i=0,_129f=_129e.length;i<_129f;i++){input=_129e[i];if((input.tabIndex!=-1||"lastValue" in input)&&!input.disabled){if(has("ie")<8){input.style.position="relative";}input.focus();if(has("ie")<8){input.style.position="";}_12a0=true;break;}}}event=lang.mixin({grid:this},event);if(event.type){event.parentType=event.type;}if(!event.bubbles){event.bubbles=true;}if(_129c){put(_129c,"!dgrid-focus[!tabIndex]");if(has("ie")<8){_129c.style.position="";}event[_129d]=this[_129d](_129c);on.emit(_1299,"dgrid-cellfocusout",event);}_129c=this[_129b]=_1299;event[_129d]=cell;var _12a1=this.cellNavigation?_127e:_127f;if(!_12a0&&_12a1.test(_1299.className)){if(has("ie")<8){_1299.style.position="relative";}_1299.tabIndex=this.tabIndex;_1299.focus();}put(_1299,".dgrid-focus");on.emit(_129c,"dgrid-cellfocusin",event);},focusHeader:function(_12a2){this._focusOnNode(_12a2||this._focusedHeaderNode,true);},focus:function(_12a3){this._focusOnNode(_12a3||this._focusedNode,false);}});var _12a4=_1280.moveFocusVertical=function(event,steps){var _12a5=this.cellNavigation,_12a6=this[_12a5?"cell":"row"](event),_12a7=_12a5&&_12a6.column.id,next=this.down(this._focusedNode,steps,true);if(_12a5){next=this.cell(next,_12a7);}this._focusOnNode(next,false,event);event.preventDefault();};var _12a8=_1280.moveFocusUp=function(event){_12a4.call(this,event,-1);};var _12a9=_1280.moveFocusDown=function(event){_12a4.call(this,event,1);};var _12aa=_1280.moveFocusPageUp=function(event){_12a4.call(this,event,-this.pageSkip);};var _12ab=_1280.moveFocusPageDown=function(event){_12a4.call(this,event,this.pageSkip);};var _12ac=_1280.moveFocusHorizontal=function(event,steps){if(!this.cellNavigation){return;}var _12ad=!this.row(event),_12ae=this["_focused"+(_12ad?"Header":"")+"Node"];this._focusOnNode(this.right(_12ae,steps),_12ad,event);event.preventDefault();};var _12af=_1280.moveFocusLeft=function(event){_12ac.call(this,event,-1);};var _12b0=_1280.moveFocusRight=function(event){_12ac.call(this,event,1);};var _12b1=_1280.moveHeaderFocusEnd=function(event,_12b2){var nodes;if(this.cellNavigation){nodes=this.headerNode.getElementsByTagName("th");this._focusOnNode(nodes[_12b2?0:nodes.length-1],true,event);}event.preventDefault();};var _12b3=_1280.moveHeaderFocusHome=function(event){_12b1.call(this,event,true);};var _12b4=_1280.moveFocusEnd=function(event,_12b5){var self=this,_12b6=this.cellNavigation,_12b7=this.contentNode,_12b8=_12b5?0:_12b7.scrollHeight,_12b9=_12b7.scrollTop+_12b8,_12ba=_12b7[_12b5?"firstChild":"lastChild"],_12bb=_12ba.className.indexOf("dgrid-preload")>-1,_12bc=_12bb?_12ba[(_12b5?"next":"previous")+"Sibling"]:_12ba,_12bd=_12bc.offsetTop+(_12b5?0:_12bc.offsetHeight),_12be;if(_12bb){while(_12bc&&_12bc.className.indexOf("dgrid-row")<0){_12bc=_12bc[(_12b5?"next":"previous")+"Sibling"];}if(!_12bc){return;}}if(!_12bb||_12ba.offsetHeight<1){if(_12b6){_12bc=this.cell(_12bc,this.cell(event).column.id);}this._focusOnNode(_12bc,false,event);}else{if(!has("dom-addeventlistener")){event=lang.mixin({},event);}_12be=_127a.after(this,"renderArray",function(rows){_12be.remove();return _127c.when(rows,function(rows){var _12bf=rows[_12b5?0:rows.length-1];if(_12b6){_12bf=self.cell(_12bf,self.cell(event).column.id);}self._focusOnNode(_12bf,false,event);});});}if(_12b9===_12bd){event.preventDefault();}};var _12c0=_1280.moveFocusHome=function(event){_12b4.call(this,event,true);};function _12c1(event){event.preventDefault();};_1280.defaultKeyMap={32:_12c1,33:_12aa,34:_12ab,35:_12b4,36:_12c0,37:_12af,38:_12a8,39:_12b0,40:_12a9};_1280.defaultHeaderKeyMap={32:_12c1,35:_12b1,36:_12b3,37:_12af,39:_12b0};return _1280;});},"Sage/MainView/IntegrationContract/nls/SalesOrderRTDV":function(){define("Sage/MainView/IntegrationContract/nls/SalesOrderRTDV",["Sage/LanguageList","dojo/_base/lang"],function(_12c2,lang){var nls={root:{dialogCaption:"Sales Order Details",loadingText:"loading...",lblSalesOrderCaption:"Sales Order:",lblStatusCaption:"Status:",lblGrossTotalCaption:"Order Amount:",lblOrderDateCaption:"Order Date:",lblTaxTotalCaption:"Tax Total:",lblHoldStatusCaption:"Hold Status:",lblCurrencyCaption:"Currency:",lblTypeCaption:"Type:",lblCostTotalCaption:"Total Cost:",lblPONumberCaption:"PO Number:",lblProfitTotalCaption:"Total Profit:",lblQuotationCaption:"Quotation:",lblInvoiceStatusCaption:"Invoice Status:",lblContactCaption:"Contact:",lblDeliveryDateCaption:"Delivery Date:",lblDueDateCaption:"Due Date:",lblPriceListCaption:"Price List:",lblCarrierCaption:"Carrier:",lblNetTotalCaption:"Net Total:",lblAllocationStatusCaption:"Allocation Status:",lblDiscountTotalCaption:"Discount Total:",lblDeliveryStatusCaption:"Delivery Status:",lblChargesTotalCaption:"Charges Total:",detailsTabTitle:"Details",salesPersonsTabTitle:"Sales Persons",addressTabTitle:"Addresses",salesOrderLinesTabTitle:"Sales Order Lines",paymentsTabTitle:"Payments",deliveriesTabTitle:"Deliveries",grdSalesOrder_Edit:"Edit",grdSalesOrder_OrderNumber:"Order Number",grdSalesOrder_OrderDate:"Order Date",grdSalesOrder_Status:"Status",grdSalesOrder_HoldStatus:"Hold Status",grdSalesOrder_Type:"Type",grdSalesOrder_PO:"PO Number",grdSalesOrder_NetTotal:"Net Total",grdSalesOrder_DiscountTotal:"Discount Total",grdSalesOrder_ChargesTotal:"Charges Total",grdSalesOrder_TaxTotal:"Tax Total",grdSalesOrder_GrossTotal:"Gross Total",grdSalesOrder_Currency:"Currency",grdSalesPersons_Name:"Name",grdSalesPersons_Type:"Type",grdSalesPersons_Extension:"Extension",grdSalesPersons_Relationship:"Relationship",grdAddress_Name:"Name",grdAddress_Address1:"Address 1",grdAddress_Address2:"Address 2",grdAddress_City:"City",grdAddress_State:"State",grdAddress_Zip:"Zip",grdItems_Line:"Line Number",grdItems_Type:"Type",grdItems_Commodity:"Commodity",grdItems_CommodityVariant:"Variant",grdItems_CommodityDimension:"Dimension",grdItems_UnitOfMeasure:"Unit",grdItems_Location:"Location",grdItems_PriceList:"Price List",grdItems_Quantity:"Quantity",grdItems_InitialPrice:"Initial Price",grdItems_ActualPrice:"Actual Price",grdItems_NetTotal:"Net Total",grdItems_ChargesTotal:"Charges Total",grdItems_DiscountTotal:"Discount Total",grdItems_TaxTotal:"Tax Total",grdItems_GrossTotal:"Gross Total",grdPayments_Date:"Payment Date",grdPayments_Name:"Name",grdPayments_Type:"Type",grdPayments_Status:"Status",grdPayments_NetTotal:"Net Total",grdPayments_Discounts:"Discounts",grdPayments_Charges:"Charges",grdPayments_Tax:"Tax",grdPayments_GrossTotal:"Gross Total",grdPayments_Currency:"Currency",grdPayments_TenderType:"Tender Type",grdPayments_TenderReference:"Tender Reference",grdPayments_ProcessDate:"Process Date",grdDeliveries_Number:"Number",grdDeliveries_Type:"Type",grdDeliveries_Status:"Status",grdDeliveries_RequestedDate:"Requested Date",grdDeliveries_ActualDate:"Actual Date",grdDeliveries_ActualTime:"Actual Time",grdDeliveries_RequestedQuantity:"Requested Quantity",grdDeliveries_DeliveredQuantity:"Delivered Quantity",grdDeliveries_Method:"Method",grdDeliveries_Carrier:"Carrier",grdDeliveries_CarrierReference:"Carrier Reference",grdDeliveries_ExceptionReason:"Exception Reason",errorERPRequest:"An error occured opening accounting systems sales order detail view. ",errorERPRequestDetails:"${0}, ${1} Request: ${2}",btnCloseCaption:"Close"}};return lang.mixin(_12c2,nls);});},"Sage/UI/Controls/main":function(){define("Sage/UI/Controls/main",["Sage/UI/Controls/_customSelectMixin","Sage/UI/Controls/_DialogHelpIconMixin","Sage/UI/Controls/Address","Sage/UI/Controls/CheckBox","Sage/UI/Controls/CopyToClipboard","Sage/UI/Controls/Currency","Sage/UI/Controls/CurrencyTextBox","Sage/UI/Controls/DateTimePicker","Sage/UI/Controls/DependControl","Sage/UI/Controls/DependencyLookup","Sage/UI/Controls/DropDownSelectPickList","Sage/UI/Controls/DropDownSelectUser","Sage/UI/Controls/DurationSelect","Sage/UI/Controls/Email","Sage/UI/Controls/HelpMenu","Sage/UI/Controls/LogOffButton","Sage/UI/Controls/Lookup","Sage/UI/Controls/EntityInfoToolTip","Sage/UI/Controls/MultiSelectPickList","Sage/UI/Controls/MultiTab","Sage/UI/Controls/Name","Sage/UI/Controls/Numeric","Sage/UI/Controls/Phone","Sage/UI/Controls/PickList","Sage/UI/Controls/PickListAsText","Sage/UI/Controls/Select","Sage/UI/Controls/SimpleTextarea","Sage/UI/Controls/SingleSelectPickList","Sage/UI/Controls/SummaryAggregate","Sage/UI/Controls/TextBox"],function(){});},"Sage/QuickForms/Design/RowDesigner":function(){define("Sage/QuickForms/Design/RowDesigner",["dojo/string","dojo/topic","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dijit/_WidgetBase","./Editors/RowBasicPropertyEditor","dojo/i18n!./nls/RowDesigner"],function(_12c3,topic,_12c4,lang,array,_12c5,_12c6,_12c7){return _12c4("Sage.QuickForms.Design.RowDesigner",[_12c5],{entry:null,editors:[_12c6],helpTopicName:"Row_properties",displayNameText:"Row",constructor:function(){lang.mixin(this,_12c7);},set:function(name,value){var _12c8=this.inherited(arguments);var names=this._getAttrNames(name),_12c9=this[names.s];if(lang.isFunction(_12c9)){topic.publish("/quickforms/design/designerModified",this,name,value,_12c8,this);}return _12c8;}});});},"Sage/MainView/ReportMgr/ReportManagerUtility":function(){define("Sage/MainView/ReportMgr/ReportManagerUtility",["dojo/_base/xhr","dojo/i18n!./nls/ReportManagerUtility","Sage/Reporting/Enumerations"],function(_12ca,_12cb,_12cc){Sage.namespace("Sage.MainView.ReportMgr.ReportManagerUtility");dojo.mixin(Sage.MainView.ReportMgr.ReportManagerUtility,{_nlsResources:_12cb,getOperators:function(_12cd){switch(String(_12cd)){case String(_12cc.FieldDataTypes.Numeric):return [{operator:_12cc.ReportConditionOperator.Is,caption:_12cc.nlsResources.txtIs},{operator:_12cc.ReportConditionOperator.IsNot,caption:_12cc.nlsResources.txtIsNot},{operator:_12cc.ReportConditionOperator.IsGreaterThan,caption:_12cc.nlsResources.txtIsGreaterThan},{operator:_12cc.ReportConditionOperator.IsLessThan,caption:_12cc.nlsResources.txtIsLessThan},{operator:_12cc.ReportConditionOperator.IsInTheRange,caption:_12cc.nlsResources.txtIsInTheRange}];case String(_12cc.FieldDataTypes.DateTime):return [{operator:_12cc.ReportConditionOperator.Is,caption:_12cc.nlsResources.txtIs},{operator:_12cc.ReportConditionOperator.IsNot,caption:_12cc.nlsResources.txtIsNot},{operator:_12cc.ReportConditionOperator.IsAfter,caption:_12cc.nlsResources.txtIsAfter},{operator:_12cc.ReportConditionOperator.IsBefore,caption:_12cc.nlsResources.txtIsBefore},{operator:_12cc.ReportConditionOperator.IsInTheRange,caption:_12cc.nlsResources.txtIsInTheRange}];case String(_12cc.FieldDataTypes.String):return [{operator:_12cc.ReportConditionOperator.Is,caption:_12cc.nlsResources.txtIs},{operator:_12cc.ReportConditionOperator.IsNot,caption:_12cc.nlsResources.txtIsNot},{operator:_12cc.ReportConditionOperator.Contains,caption:_12cc.nlsResources.txtContains},{operator:_12cc.ReportConditionOperator.StartsWith,caption:_12cc.nlsResources.txtStartsWith},{operator:_12cc.ReportConditionOperator.EndsWith,caption:_12cc.nlsResources.txtEndsWith}];default:console.error("Unsupported field type: "+_12cd);}return "";},getUser:function(_12ce){var user=null;_12ca("GET",{url:"slxdata.ashx/slx/dynamic/-/users('"+_12ce+"')?format=json",handleAs:"json",sync:true}).then(function(data){user=data;});return user;},getGroup:function(_12cf){var group=null;var url="slxdata.ashx/slx/system/-/groups";if(_12cf.indexOf(":")!==-1){var _12d0=_12cf.split(":")[0];var name=_12cf.split(":")[1];url=url+"?format=json&where=family eq '"+_12d0+"' and name eq '"+name+"'";}else{url=url+"('"+_12cf+"')?format=json";}_12ca("GET",{url:url,handleAs:"json",sync:true}).then(function(data){if(data.$resources&&data.$resources.length===1){data=data.$resources[0];}group=data;});return group;},getEntityHistory:function(_12d1){var _12d2={items:[]};_12ca("GET",{url:"slxdata.ashx/slxdata.ashx/slx/crm/-/entityhistory",handleAs:"json",sync:true}).then(function(data){_12d2=data;});},getOutputFormats:function(_12d3){switch(_12d3){case _12cc.ReportTypes.CrystalReport:return [{outputFormat:_12cc.ReportExportFormat.Pdf,caption:_12cc.nlsResources.txtPdf},{outputFormat:_12cc.ReportExportFormat.Word,caption:_12cc.nlsResources.txtWord},{outputFormat:_12cc.ReportExportFormat.Excel,caption:_12cc.nlsResources.txtExcel},{outputFormat:_12cc.ReportExportFormat.ExcelDataOnly,caption:_12cc.nlsResources.txtExcelDataOnly},{outputFormat:_12cc.ReportExportFormat.Csv,caption:_12cc.nlsResources.txtCsv},{outputFormat:_12cc.ReportExportFormat.Xml,caption:_12cc.nlsResources.txtXml}];default:console.error("Unsupported report type: "+_12d3);return [];}},getCurrentEntityContext:function(){if(Sage.Services.hasService("ClientEntityContext")){var _12d4=Sage.Services.getService("ClientEntityContext");if(_12d4){return _12d4.getContext();}}return null;},getCurrentUser:function(){var _12d5=Sage.Services.getService("ClientContextService");var user=null;if(_12d5){user={userID:_12d5.getValue("userID"),userPrettyName:_12d5.getValue("userPrettyName")};}return user;},setDomNodeVisible:function(_12d6,_12d7){if(_12d6&&_12d7){dojo.removeClass(_12d6,"display-none");}else{if(_12d6){dojo.addClass(_12d6,"display-none");}}},refreshList:function(tabId){try{var panel=dijit.byId("list");if(panel){var _12d8=Sage.Services.getService("ClientGroupContext");if(_12d8){var ctx=_12d8.getContext();if(tabId===ctx.CurrentGroupID){panel.refreshView(tabId);}}}}catch(e){}}});return Sage.MainView.ReportMgr.ReportManagerUtility;});},"Sage/MailMerge/MenuHelper":function(){define("Sage/MailMerge/MenuHelper",["Sage/MailMerge/Helper","dojo/_base/declare"],function(_12d9,_12da){var _12db=_12da("Sage.MailMerge.MenuHelper",null,{_populateWriteMenu:function(){require(["Sage/MailMerge/Service"],function(){var _12dc=_12d9.GetMailMergeService();if(_12dc){if(!_12dc.MenuPopulated){_12dc.PopulateWriteMenu();}}});},_getMenuInfo:function(){var info={toolbar:null,menu:null};var _12dd=dojo.byId("ToolBar");if(typeof _12dd!=="undefined"&&_12dd!==null){info.toolbar=_12dd;for(var i=0;i<_12dd.children.length;i++){var oItem=_12dd.children[i];if(oItem.id=="mnuMailMerge"){info.menu=oItem;return info;}}}return info;},attachWriteMenuPopulator:function(){var info=this._getMenuInfo();if(info.menu!==null){dojo.connect(info.menu,"onclick",this._populateWriteMenu);}},removeWriteMenu:function(){var info=this._getMenuInfo();if(info.toolbar!==null&&info.menu!==null){info.toolbar.removeChild(info.menu);}}});return _12db;});},"Sage/Workspaces/Dialog":function(){define("Sage/Workspaces/Dialog",["dojo/dom","dojo/dom-style","dojo/dom-construct","dijit/Dialog","dojo/NodeList-manipulate","dojo/_base/declare","Sage/UI/Controls/_DialogHelpIconMixin","dojo/query"],function(dom,_12de,_12df,_12e0,_12e1,_12e2,_12e3,query){return _12e2("Sage.Workspaces.Dialog",[_12e0,_12e3],{constructor:function(_12e4,_12e5){this._initialized=false;this._clientId=_12e4.clientId;this._stateClientId=_12e4.stateClientId;this._panelClientId=_12e4.panelClientId;this._contentClientId=_12e4.contentClientId;this._context=null;this._dialog=null;this._dialogPanel=null;this._closedOnServerSide=false;this._dialogInfo={};this.closable=true;this._width=200;this._height=500;this._toolbarId=this._clientId+"_"+this._clientId+"_toolbar";if(this._clientId){this.statics.__instances[this._clientId]=this;this.statics.__initRequestManagerEvents();}this.inherited(arguments);},init:function(){this._context=dom.byId(this._clientId);dom.byId(this._contentClientId).style.display="";this.handleEvents();},clearState:function(){var _12e6=dom.byId(this._stateClientId);_12e6.value="";},disable:function(){if(!this.open){return;}this.hide();},enable:function(){if(this.open){return;}this.show();},show_:function(evt){var title,width,_12e7;if(typeof evt==="string"){evt={id:evt};}evt.event="open";evt.from=evt.from||"client";title=evt.title||"";this.set("title",title);var help=evt.help;if(help){this.createHelpIcon(help.url,help.target);}width=evt.width||500;_12de.set(this.domNode,"width",width+"px");_12e7=evt.height||200;query(".dijitDialogPaneContent").style({"height":_12e7+"px","overflow":"auto"});var value=Sys.Serialization.JavaScriptSerializer.serialize(evt);var _12e8=dom.byId(this._stateClientId);_12e8.value=value;var _12e9=dojo.byId(this._toolbarId);if(_12e9){if(this.helpIcon){dojo.place(_12e9,this.helpIcon,"before");}}},setSize:function(width,_12ea){this._width=width||this._width||500;_12de.set(this.domNode,"width",this._width+"px");this._height=_12ea||this._height||200;_12de.set(this.domNode,"height",this._height+"px");},fitToViewport:function(){},handleEvents:function(){var _12eb=dom.byId(this._stateClientId);var value=_12eb.value;var evt={};if(value){evt=eval("("+value+")");}_12eb.value="";switch(evt.event){case "open":this._dialogInfo=evt;this.title=this._dialogInfo.title;this.show_(evt);this.enable();break;case "close":if(this.open){this._closedOnServerSide=false;this.hide_();this.disable();this._dialogInfo={};this._closedOnServerSide=true;}break;}},hide:function(evt){if(this._toolbarId){_12df.destroy(this._toolbarId);}if(evt&&((evt.originalTarget&&evt.originalTarget.className.indexOf("dijitDialogCloseIcon")>-1)||(evt.srcElement&&evt.srcElement.className.indexOf("dijitDialogCloseIcon")>-1))){var _12ec=Sage.Services.getService("ClientBindingManagerService");if(_12ec){_12ec.rollbackCurrentTransaction();}dom.byId(this._stateClientId).value="{\"event\":\"close\",\"id\":\""+this._dialogInfo.id+"\"}";__doPostBack(this._stateClientId,"");}this.inherited(arguments);},hide_:function(evt){if(this._closedOnServerSide){return;}evt={event:"close",id:this._dialogInfo.id};var _12ed=Sage.Services.getService("ClientBindingManagerService");if(_12ed){_12ed.rollbackCurrentTransaction();}var value=Sys.Serialization.JavaScriptSerializer.serialize(evt);dom.byId(this._stateClientId).value=value;__doPostBack(this._stateClientId,"");},statics:{__instances:{},__requestManagerEventsInitialized:false,__initRequestManagerEvents:function(){var self=this;if(self.__requestManagerEventsInitialized){return;}var _12ee=function(a,b){if(!a||!b){return false;}else{return a.contains?(a!=b&&a.contains(b)):(!!(a.compareDocumentPosition(b)&16));}};var prm=Sys.WebForms.PageRequestManager.getInstance();prm.add_pageLoaded(function(_12ef,args){var _12f0=args.get_panelsUpdated();if(_12f0){for(var id in self.__instances){for(var i=0;i<_12f0.length;i++){var _12f1=self.__instances[id];if(_12ee(_12f0[i],document.getElementById(_12f1._stateClientId))){_12f1.handleEvents();break;}}}}});prm.add_endRequest(function(_12f2,args){for(var id in self.__instances){var _12f3=self.__instances[id];_12f3.clearState();}});self.__requestManagerEventsInitialized=true;}}});});},"Sage/QuickForms/Design/nls/UserControlDesigner":function(){define("Sage/QuickForms/Design/nls/UserControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_12f4,lang){var nls={root:{displayNameText:"User"}};return lang.mixin(_12f4,nls);});},"Sage/MainView/ActivityMgr/EventListPanelConfig":function(){define("Sage/MainView/ActivityMgr/EventListPanelConfig",["Sage/MainView/ActivityMgr/BaseListPanelConfig","Sage/Utility","Sage/Utility/Activity","Sage/UI/SummaryFormatterScope","Sage/Data/BaseSDataStore","Sage/UI/Columns/DateTime","dojo/_base/declare","dojo/i18n!./nls/EventListPanelConfig","dojo/i18n!./templates/nls/EventSummary"],function(_12f5,_12f6,_12f7,_12f8,_12f9,_12fa,_12fb,_12fc){var _12fd=_12fb("Sage.MainView.ActivityMgr.EventListPanelConfig",[_12f5],{constructor:function(){this._nlsResources=_12fc;this._listId="events";this._resourceKind="events";this.entityName="Event";this._contextMenu="EventListContextMenu";this._securedAction="ActivitiesViewEvents";this._structure=this._getStructure();this._select=this._getSelect();this._sort=this._getSort();this._where=this._getWhere();this._store=this._getStore();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.toolBar=this._getToolBars();dojo.subscribe("/entity/event/create",this._onListRefresh);dojo.subscribe("/entity/event/change",this._onListRefresh);dojo.subscribe("/entity/event/delete",this._onListRefresh);},_onListRefresh:function(event){var _12fe=Sage.Services.getService("ActivityService");_12fe.refreshList("events");},_getSelect:function(){var _12ff=["$key","Type","StartDate","EndDate","Location","Description","User/UserInfo/UserName","User/UserAccessToOtherCal/OthersAccessToUserCal/Id"];return _12ff;},_getSort:function(){var sort=[{attribute:"StartDate",descending:true}];return sort;},_getWhere:function(){var where=(this._currentUserId)?dojo.string.substitute("(User.UserAccessToOtherCal.OthersAccessToUserCal.Id eq \"${0}\")",[this._currentUserId]):"";return where;},_getStructure:function(){var _1300=this._nlsResources.colNameType||"Type";var _1301=this._nlsResources.colNameStartDate||"Start Date";var _1302=this._nlsResources.colNameEndDate||"End Date";var _1303=this._nlsResources.colNameDescription||"Description";var _1304=this._nlsResources.colNameUser||"User";var _1305=this._nlsResources.colNameLocation||"Location";_12fb("Sage.MainView.ActivityMgr.EventListPanelConfig.EditEventCell",dojox.grid.cells.Cell,{format:function(_1306,_1307){var type=this.get(_1306,_1307);var key=Sage.Utility.getValue(_1307,"$key");var html="<a href='javascript:Sage.Link.editEvent(\""+key+"\")' >"+"Edit"+"</a>";return html;}});_12fb("Sage.MainView.ActivityMgr.EventListPanelConfig.EventTypeCell",dojox.grid.cells.Cell,{format:function(_1308,_1309){var key=Sage.Utility.getValue(_1309,"$key");var type=Sage.Utility.getValue(_1309,"Type");var html="<a href='javascript:Sage.Link.editEvent(\""+key+"\")' >"+type+"</a>";return html;}});var _130a=[{field:"Type",name:_1300,type:Sage.MainView.ActivityMgr.EventListPanelConfig.EventTypeCell,width:"100px"},{field:"StartDate",name:_1301,type:_12fa,dateOnly:true,utc:false,width:"100px"},{field:"EndDate",name:_1302,type:_12fa,dateOnly:true,utc:false,width:"100px"},{field:"User.UserInfo.UserName",name:_1304,width:"120px"},{field:"Location",name:_1305,width:"200px"},{field:"Description",name:_1303,width:"300px"}];return _130a;},_getDetailConfig:function(){var _130b=this._getFormatterScope();var _130c={resourceKind:this._resourceKind,requestConfiguration:{mashupName:"ActivityManager",queryName:"EventSummary_query"},templateLocation:"MainView/ActivityMgr/templates/EventSummary.html",postProcessCallBack:false};return _130c;},_getFormatterScope:function(){var _130d=new _12f8({requestConfiguration:{mashupName:"ActivityManager",queryName:"EventSummary_query"},templateLocation:"MainView/ActivityMgr/templates/EventSummary.html"});return _130d;},_getToolBars:function(){var _130e={items:[]};return _130e;}});return _12fd;});},"url:Sage/UI/Controls/templates/Address.html":"<div class=\"address-container\" id=\"{%= $.clientId %}\" >\r\n    <!--\r\n    -- IMPORTANT: Comments in a widget template must be placed inside the root node.\r\n    Simplate template\r\n    https://github.com/mmorton/simplate\r\n    https://github.com/mmorton/simplate/blob/master/demo/index.html\r\n    Basic formatting example: {%= $.id %}\r\n    -->\r\n    <textarea id=\"{%= $.clientId %}_displayText\" class=\"address-textarea\" style=\"height:{%= $.height %};\"\r\n        data-dojo-type=\"Sage.UI.Controls.SimpleTextarea\" readonly=\"readonly\" dragRestriction=\"true\"  tabindex=\"{%= $.tabIndex %}\"\r\n    {% if ($.enabled && !$.readOnly) { %}\r\n        data-dojo-attach-event=\"onDblClick: showDialog, ondijitclick: showDialog\"\r\n    {% } %}\r\n        slxchangehook=\"true\" >{%= $.displayValue %}</textarea>\r\n    {% if ($.enabled && !$.readOnly) { %}\r\n    <img alt=\"{%= $.imageData.imageEditAltText %}\" data-dojo-attach-event=\"ondijitclick: showDialog\" class=\"address-edit-button\"\r\n         src=\"{%= $.imageData.imageEditUrl %}\" title=\"{%= $.imageData.imageEditToolTip %}\" id=\"{%= $.clientId %}-Button\" \r\n          tabindex=\"{%= $.tabIndex %}\" />\r\n    {% } %}\r\n    {% if ($.enabled && $.showButton) { %}\r\n    <img alt=\"{%= $.imageData.imageMapQuestAltText %}\" data-dojo-attach-event=\"ondijitclick: showMap\" class=\"address-map-button\"\r\n         src=\"{%= $.imageData.imageMapQuestUrl %}\" title=\"{%= $.imageData.imageMapQuestToolTip %}\" id=\"{%= $.clientId %}-MapQuest\" \r\n          tabindex=\"{%= $.tabIndex %}\" />\r\n    {% } %}\r\n</div>","Sage/Groups/nls/GroupNavigator":function(){define("Sage/Groups/nls/GroupNavigator",["Sage/LanguageList","dojo/_base/lang"],function(_130f,lang){var nls={root:{firstText:"Move First",previousText:"Move Previous",nextText:"Move Next",lastText:"Move Last",listText:"List View",noRecordsText:"No Records",labelFmtText:"${0} of ${1}"}};return lang.mixin(_130f,nls);});},"Sage/Utility/File/nls/AddURLAttachment":function(){define("Sage/Utility/File/nls/AddURLAttachment",["Sage/LanguageList","dojo/_base/lang"],function(_1310,lang){var nls={root:{descriptionText:"Description",urlText:"URL",titleText:"Add URL Attachment",okText:"OK",cancelText:"Cancel",requestFailedMsg:"The requested operation could not be completed, please try again later.",urlBlankMsg:"The URL or description property cannot be blank."}};return lang.mixin(_1310,nls);});},"Sage/UI/Filters/nls/EditFilterItems":function(){define("Sage/UI/Filters/nls/EditFilterItems",["Sage/LanguageList","dojo/_base/lang"],function(_1311,lang){var nls={root:{selectAllText:"Select All",findItemText:"Find Item:",findText:"Find",clearText:"Clear",dialogTitle:"Edit Filter Items",okText:"OK",cancelText:"Cancel"}};return lang.mixin(_1311,nls);});},"Sage/MainView/ReportMgr/Crystal/nls/CrystalReportsFormatter":function(){define("Sage/MainView/ReportMgr/Crystal/nls/CrystalReportsFormatter",["Sage/LanguageList","dojo/_base/lang"],function(_1312,lang){var nls={root:{txtEdit:"Edit",txtDelete:"Delete",txtRangeValue:"${0} to ${1}"}};return lang.mixin(_1312,nls);});},"Sage/Utility/File/nls/DragDropWatcher":function(){define("Sage/Utility/File/nls/DragDropWatcher",["Sage/LanguageList","dojo/_base/lang"],function(_1313,lang){var nls={root:{query0:"The feature you are requesting requires the Saleslogix Desktop <br> Integration Module.",query1:"Find out more...",query2:"Would you like to install this feature now?",query3:"Note: This module can be installed at any time from the logon or options pages."}};return lang.mixin(_1313,nls);});},"Sage/QuickForms/Design/nls/DesignSurface":function(){define("Sage/QuickForms/Design/nls/DesignSurface",["Sage/LanguageList","dojo/_base/lang"],function(_1314,lang){var nls={root:{bisectionErrorText:"The placement will cause another control to be bisected.",rowBoundsErrorText:"The chosen row is out of bounds.",columnBoundsErrorText:"The chosen column is out of bounds.",rowSpanBoundsErrorText:"The chosen row span is out of bounds.",columnSpanBoundsErrorText:"The chosen column span is out of bounds.",occupiedErrorText:"There is not enough empty space for the chosen size."}};return lang.mixin(_1314,nls);});},"dojo/store/Observable":function(){define("dojo/store/Observable",["../_base/kernel","../_base/lang","../_base/Deferred","../_base/array"],function(_1315,lang,_1316,array){var ds=lang.getObject("dojo.store",true);return ds.Observable=function(store){var undef,_1317=[],_1318=0;store.notify=function(_1319,_131a){_1318++;var _131b=_1317.slice();for(var i=0,l=_131b.length;i<l;i++){_131b[i](_1319,_131a);}};var _131c=store.query;store.query=function(query,_131d){_131d=_131d||{};var _131e=_131c.apply(this,arguments);if(_131e&&_131e.forEach){var _131f=lang.mixin({},_131d);delete _131f.start;delete _131f.count;var _1320=store.queryEngine&&store.queryEngine(query,_131f);var _1321=_1318;var _1322=[],_1323;_131e.observe=function(_1324,_1325){if(_1322.push(_1324)==1){_1317.push(_1323=function(_1326,_1327){_1316.when(_131e,function(_1328){var atEnd=_1328.length!=_131d.count;var i,l,_1324;if(++_1321!=_1318){throw new Error("Query is out of date, you must observe() the query prior to any data modifications");}var _1329,_132a=-1,_132b=-1;if(_1327!==undef){for(i=0,l=_1328.length;i<l;i++){var _132c=_1328[i];if(store.getIdentity(_132c)==_1327){_1329=_132c;_132a=i;if(_1320||!_1326){_1328.splice(i,1);}break;}}}if(_1320){if(_1326&&(_1320.matches?_1320.matches(_1326):_1320([_1326]).length)){var _132d=_132a>-1?_132a:_1328.length;_1328.splice(_132d,0,_1326);_132b=array.indexOf(_1320(_1328),_1326);_1328.splice(_132d,1);if((_131d.start&&_132b==0)||(!atEnd&&_132b==_1328.length)){_132b=-1;}else{_1328.splice(_132b,0,_1326);}}}else{if(_1326&&!_131d.start){_132b=_132a>=0?_132a:(store.defaultIndex||0);}}if((_132a>-1||_132b>-1)&&(_1325||!_1320||(_132a!=_132b))){var _132e=_1322.slice();for(i=0;_1324=_132e[i];i++){_1324(_1326||_1329,_132a,_132b);}}});});}return {cancel:function(){var index=array.indexOf(_1322,_1324);if(index>-1){_1322.splice(index,1);if(!_1322.length){_1317.splice(array.indexOf(_1317,_1323),1);}}}};};}return _131e;};var _132f;function _1330(_1331,_1332){var _1333=store[_1331];if(_1333){store[_1331]=function(value){if(_132f){return _1333.apply(this,arguments);}_132f=true;try{var _1334=_1333.apply(this,arguments);_1316.when(_1334,function(_1335){_1332((typeof _1335=="object"&&_1335)||value);});return _1334;}finally{_132f=false;}};}};_1330("put",function(_1336){store.notify(_1336,store.getIdentity(_1336));});_1330("add",function(_1337){store.notify(_1337);});_1330("remove",function(id){store.notify(undefined,id);});return store;};});},"url:Sage/MainView/Opportunity/templates/UpdateOpportunities.html":"[\r\n'<div>',\r\n    '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.updateMultipleOpps_Caption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n        '<div data-dojo-type=\"dijit.form.Form\" id=\"{%= $.id %}_frmUpdateMultipleOpps\">',\r\n            '<table cellspacing=\"20\">',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.update_Property_Caption %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<select title=\"{%= $.update_Property_Caption %}\" labelWidth=\"20\" name=\"{%= $.id %}_PropertyName\" dojoAttachPoint=\"propertyNameSelect\" dojoAttachEvent=\"onChange:_propertyChanged\" data-dojo-type=\"dijit.form.Select\" style=\"width:150px\">',\r\n                            '{% for (var i=0; i < $._updateableProperties.length;i++) { %}',\r\n                                '<option value=\"{%= $._updateableProperties[i].propertyName %}\" {% if ($.selectedFieldIndex == i ) { %} selected {% } %} >{%= $._updateableProperties[i].propertyDisplayName %}</option>',\r\n                            '{% } %}',\r\n                        '</select>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"divUpdateOppsTolbl\" dojoAttachPoint=\"divUpdateOppsTolbl\" class=\"display-none\">',\r\n                            '<label>{%= $.update_To_Caption %}</label>',\r\n                        '</div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div dojoAttachPoint=\"divAcctMgrContainer\">',\r\n                            '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_luAccountMgr\" dojoAttachPoint=\"accountMgr_Container\" allowClearingResult=\"false\" class=\"removePadding\"></div>',\r\n                        '</div>',\r\n                        '<div dojoAttachPoint=\"divCloseProbContainer\" class=\"display-none\">',\r\n                            '<select id=\"{%= $.id %}_pkl_CloseProbability\" PickListName=\"Opportunity Probability\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_pkl_CloseProbability\" data-dojo-type=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pkl_CloseProbability\" canEditText=\"false\" itemMustExist=\"true\"></select>',\r\n                        '</div>',\r\n                        '<div data-dojo-type=\"dojox.layout.TableContainer\" dojoAttachPoint=\"divForecastContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"2\" baseClass=\"display-none\">',\r\n                            '<input data-dojo-type=\"dijit.form.RadioButton\" type=\"radio\" name=\"addToForecast\" label=\"{%= $.addToForecast_Yes %}\" value=\"yesForecast\" id=\"{%= $.id %}_rdgYesForecast\" dojoAttachPoint=\"rdoYesForecast\" checked=\"true\" />',\r\n                            '<input data-dojo-type=\"dijit.form.RadioButton\" type=\"radio\" name=\"addToForecast\" label=\"{%= $.addToForecast_No %}\" value=\"noForecast\" id=\"{%= $.id %}_rdgNoForecast\" />',\r\n                        '</div>',\r\n                        '<div data-dojo-type=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"2\" dojoAttachPoint=\"divEstCloseContainer\" baseClass=\"display-none\">',\r\n                            '<input data-dojo-type=\"dijit.form.RadioButton\" type=\"radio\" name=\"estimatedClose\" id=\"{%= $.id %}_rdgEstClose\" checked=\"true\" label=\"{%= $.estimatedClose_To %}\" value=\"estimatedClose\" dojoAttachPoint=\"rdoEstClose\" dojoAttachEvent=\"onChange:estimatedCloseDateChange\" />',\r\n                            '<input data-dojo-type=\"dijit.form.RadioButton\" type=\"radio\" name=\"estimatedClose\" value=\"move\" id=\"{%= $.id %}_rdgEstMove\" label=\"{%= $.estimatedClose_MoveOut %}\" />',\r\n                        '</div>',\r\n                        '<div dojoAttachPoint=\"divCommentsContainer\" class=\"display-none\">',\r\n                            '<textarea data-dojo-type=\"dijit.form.SimpleTextarea\" id=\"{%= $.id %}_txtComments\" dojoAttachPoint=\"txtComments\" style=\"font-size: 85%\"></textarea>',\r\n                        '</div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td></td>',\r\n                    '<td></td>',\r\n                    '<td></td>',\r\n                    '<td>',\r\n                        '<div id=\"divEstCloseDateContainer\" class=\"display-none\" dojoAttachPoint=\"divEstCloseDateContainer\">',\r\n                            '<div data-dojo-type=\"Sage.UI.Controls.DateTimePicker\" id=\"{%= $.id %}_dtpEstCloseDate\" displayDate=\"true\" displayTime=\"false\" dojoAttachPoint=\"dtpEstCloseDate\"></div>',\r\n                        '</div>',\r\n                        '<div id=\"divMoveEstimatedCloseContainer\" class=\"display-none\" dojoAttachPoint=\"divMoveEstimatedCloseContainer\">',\r\n                            '<select data-dojo-type=\"dijit.form.Select\" name=\"moveEstCloseDate\" id=\"{%= $.id %}_moveEstCloseDateList\" dojoAttachPoint=\"moveEstCloseDateList\">',\r\n                                '<option value=\"Forward\">{%= $.moveEstCloseDate_Forward %}</option>',\r\n                                '<option value=\"Backward\">{%= $.moveEstCloseDate_Backward %}</option>',\r\n                            '</select>',\r\n                            '<div data-dojo-type=\"dijit.form.TextBox\" labelWidth=\"20\" dojoAttachPoint=\"daysToMove\"></div>&nbsp',\r\n                            '<label>{%= $.estimatedClose_Days %}</label>',\r\n                        '</div>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n            '<div class=\"button-bar\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.btnOK_Caption %}</div>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_close\">{%= $.btnCancel_Caption %}</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n","Sage/MainView/ActivityMgr/nls/ConfirmListPanelConfig":function(){define("Sage/MainView/ActivityMgr/nls/ConfirmListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_1338,lang){var nls={root:{colNameType:"Activity Type",colNameNotification:"Notification",colNameStartDate:"Start Date",colNameDuration:"Duration",colNameRegarding:"Regarding",colNameFromUser:"From",colNameToUser:"To User"}};return lang.mixin(_1338,nls);});},"Sage/TaskPane/TaskPaneItem":function(){define("Sage/TaskPane/TaskPaneItem",["dijit/_Widget","dijit/_TemplatedMixin","dojo/_base/declare"],function(_1339,_133a,_133b){var _133c=_133b("Sage.TaskPane.TaskPaneItem",[_1339,_133a],{securedAction:"",linkText:"",confirmMsg:"",clientAction:"",serverAction:"",currentActionIndex:-1,actions:[],selectedItemList:{},action:"",type:"",postCreate:function(_133d){this.checkSecurityAccess();},templateString:"<a dojoAttachPoint=\"linkTextNode\" href=\"#\"></a>",attributeMap:dojo.delegate(_1339.prototype.attributeMap,{linkText:{node:"linkTextNode",type:"innerHTML"},action:{node:"linkTextNode",type:"attribute",attribute:"href"}}),setActionList:function(){this.actions.push(this.startConfirm);this.actions.push(this.startGetSelectedItems);this.actions.push(this.startClientAction);this.actions.push(this.startServerAction);},doNextAction:function(){this.currentActionIndex++;this.actions[this.currentActionIndex].call();},startConfirm:function(){var _133e=true;if(this.confirmMsg){_133e=confirm(this.confirmMsg);}this.processConfirmResult(_133e);},processConfirmResult:function(_133f){if(_133f===true){this.doNextAction();}},startClientAction:function(){var _1340=true;if(this.clientAction){if(typeof (this.clientAction)==="function"){_1340=this.clientAction.call();}}this.processClientActionResult(_1340);},processClientActionResult:function(_1341){this.doNextAction();},startServerAction:function(){if(this.serverAction){if(this.selectedItemList.length>0){__doPostBack(this.serverAction,this.selectedItemList);}}},startGetSelectedItems:function(){var _1342={key:"selectAll"};var _1343=Sage.Services.getService("SelectionContextService");if(_1343){_1343.getSelectedIds(_1342,this.processGetSelectedItemsResult);}},processGetSelectedItemsResult:function(_1344){this.selectedItemList=_1344;this.doNextAction();},getCurrentUserId:function(){var _1345="";var _1346=Sage.Services.getService("ClientContextService");if(_1346){_1345=_1346.getValue("userID");}return _1345;},checkSecurityAccess:function(){var _1347="none";if(this.securedAction.length>0){var _1348=Sage.Services.getService("RoleSecurityService");_1348.hasAccess(this.securedAction,function(_1349){if(_1349){_1347="inline";}});}dojo.style(this.domNode,{"display":_1347});}});return _133c;});},"Sage/MainView/ReportMgr/Crystal/CrystalReportWizardController":function(){define("Sage/MainView/ReportMgr/Crystal/CrystalReportWizardController",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/i18n!./nls/CrystalReportWizardController","Sage/Reporting/Enumerations","Sage/MainView/ReportMgr/Crystal/CrystalReportParametersDialog","Sage/MainView/ReportMgr/Crystal/CrystalReportConditionsDialog","Sage/MainView/ReportMgr/Common/ExportOptionsDialog","Sage/MainView/ReportMgr/ReportManagerUtility","Sage/UI/Dialogs","dojo/topic","dojo/string"],function(_134a,_134b,_134c,_134d,_134e,_134f,_1350,_1351,_1352,_1353,topic,_1354){var _1355=_134a("Sage.MainView.ReportMgr.CrystalReportWizardController",null,{_reportMetadata:null,wizardOptions:null,conditionOptions:null,parameterOptions:null,scheduleOptions:null,exportOptions:null,_mode:null,_nlsResources:_134d,_subscriptions:[],_dialogIds:["dlgCrystalReportConditions","dlgCrystalReportParameters","dlgExportOptions"],constructor:function(_1356,_1357){if(!_1356){return;}this._reportMetadata=_1356;if(!this._reportMetadata.reportFilters){this._reportMetadata.reportFilters=[];}this.wizardOptions=_1357.wizardOptions?_1357.wizardOptions:this._getDefaultWizardOptions();this.conditionOptions=_1357.conditionOptions?_1357.conditionOptions:this._getDefaultConditionOptions();this.parameterOptions=_1357.parameterOptions?_1357.parameterOptions:this._getDefaultParameterOptions();this.scheduleOptions=_1357.scheduleOptions?_1357.scheduleOptions:this._getDefaultScheduleOptions();this.exportOptions=_1357.exportOptions?_1357.exportOptions:this._getDefaultExportOptions();var self=this;this._subscriptions.push(topic.subscribe("/reportManager/reportWizard/nextStep",function(_1358,_1359){self._nextStep(_1358,_1359);}));this._subscriptions.push(topic.subscribe("/reportManager/reportWizard/previousStep",function(_135a,_135b){self._previousStep(_135a,_135b);}));this._subscriptions.push(topic.subscribe("/reportManager/reportWizard/cancel",function(_135c,_135d){self._cancel();}));this._mode="new";if(this.scheduleOptions&&this.scheduleOptions.trigger){this._mode="edit";}},startWizard:function(){var _135e=[];if(this._hasDynamicParameterErrors(_135e)){var error=_1354.substitute(_134d.txtInvalidReportWithDynamicParameters,[this._reportMetadata.family,this._reportMetadata.name,_135e.join(" ").trim()]);_1353.showError(error,this._nlsResources.txtError);return;}var _135f=this._getNextStep(_134e.CrystalReportWizardStep.Init);this._goToStep(_135f,null);},_nextStep:function(_1360,_1361){this._processCurrentStep(_1360,_1361);var _1362=this._getNextStep(_1360);this._goToStep(_1362);},_previousStep:function(_1363,_1364){this._processCurrentStep(_1363,_1364);var _1365=this._getPreviousStep(_1363);this._goToStep(_1365);},_cancel:function(){var self=this;setTimeout(function(){self._destroyObjects();},dijit.defaultDuration+100);},_getDefaultWizardOptions:function(){return {hiddenSteps:[]};},_getDefaultConditionOptions:function(){return {conditions:[],conditionsConnector:_134e.ReportConditionConnector.And};},_getDefaultParameterOptions:function(){return {parameters:[]};},_getDefaultScheduleOptions:function(){return {executionType:_134e.ExecutionType.OnDemand,trigger:null};},_getDefaultExportOptions:function(){return {outputFormat:_134e.ReportExportFormat.Pdf,runAsUserId:null};},_hasDynamicParameterErrors:function(_1366){_134b.forEach(this._reportMetadata.parameters,function(_1367,i){if(_1367.isDynamic&&!_1367.isOptionalPrompt){if(_1367.clientMustQueryDynamicData===true){_1366.push(_1354.substitute(_134d.txtInvalidDynamicParameterDatasource,{p:_1367}));}else{if(_1367.isInvalidDynamicParameter===true){if(_134c.isString(_1367.invalidDynamicParameterReason)&&_1367.invalidDynamicParameterReason!==""){_1366.push(_1354.substitute(_134d.txtInvalidDynamicParameterReason,{p:_1367}));}else{_1366.push(_1354.substitute(_134d.txtInvalidDynamicParameterUnknownReason,{p:_1367}));}}}}});return _1366.length>0;},_isStepVisible:function(step){var _1368=true;if(this.wizardOptions&&this.wizardOptions.hiddenSteps){_134b.some(this.wizardOptions.hiddenSteps,function(_1369,i){if(step===_1369){_1368=false;return true;}});}if(!_1368){return false;}switch(step){case _134e.CrystalReportWizardStep.Parameters:return !!(this._reportMetadata.parameters&&this._reportMetadata.parameters.length>0);case _134e.CrystalReportWizardStep.Conditions:return true;case _134e.CrystalReportWizardStep.ExportOptions:return true;default:return true;}},_processCurrentStep:function(_136a,_136b){switch(_136a){case _134e.CrystalReportWizardStep.Conditions:this.conditionOptions=_136b;break;case _134e.CrystalReportWizardStep.Parameters:this.parameterOptions=_136b;break;case _134e.CrystalReportWizardStep.ExportOptions:this.exportOptions=_136b.exportOptions;this.scheduleOptions=_136b.scheduleOptions;break;}},_getNextStep:function(_136c){for(var step in _134e.CrystalReportWizardStep){var _136d=_134e.CrystalReportWizardStep[step];if(_136d>_136c&&this._isStepVisible(_136d)){return _136d;}}return null;},_getPreviousStep:function(_136e){var _136f=[];for(var step in _134e.CrystalReportWizardStep){var _1370=_134e.CrystalReportWizardStep[step];_136f.unshift(_1370);}var self=this;var _1371=null;_134b.some(_136f,function(_1372,i){if(_1372<_136e&&self._isStepVisible(_1372)){_1371=_1372;return true;}});return _1371;},_goToStep:function(step){var _1373=this._getNextStep(step);var _1374=(_1373===null||_1373===_134e.CrystalReportWizardStep.Finish);var _1375=this._getPreviousStep(step);var _1376=(_1375===null||_1375===_134e.CrystalReportWizardStep.Init);var _1377;var _1378;switch(step){case _134e.CrystalReportWizardStep.Conditions:_1377=dijit.byId("dlgCrystalReportConditions");if(_1377){_1377.show();}else{_1378={reportMetadata:this._reportMetadata,conditionOptions:this.conditionOptions,isLastStep:_1374,isFirstStep:_1376};_1377=new _1350(_1378);_1377.startup();_1377.show();}break;case _134e.CrystalReportWizardStep.Parameters:_1377=dijit.byId("dlgCrystalReportParameters");if(_1377){_1377.show();}else{_1378={reportMetadata:this._reportMetadata,parameters:this.parameterOptions.parameters,isLastStep:_1374,isFirstStep:_1376};_1377=new _134f(_1378);_1377.startup();_1377.show();}break;case _134e.CrystalReportWizardStep.ExportOptions:_1377=dijit.byId("dlgExportOptions");if(_1377){_1377.show();}else{_1378={reportMetadata:this._reportMetadata,isLastStep:_1374,isFirstStep:_1376,scheduleOptions:this.scheduleOptions,exportOptions:this.exportOptions};_1377=new _1351(_1378);_1377.startup();_1377.show();}break;case _134e.CrystalReportWizardStep.Finish:this._finishWizard();break;}},_finishWizard:function(){this._destroyObjects();switch(this._mode){case "new":switch(this.scheduleOptions.executionType){case _134e.ExecutionType.Scheduled:this._scheduleReport();break;case _134e.ExecutionType.OnDemand:this._runReport();break;}break;case "edit":this._updateSchedule();break;}},_destroyObjects:function(){_134b.forEach(this._dialogIds,function(_1379,i){var _137a=dijit.byId(_1379);if(_137a){_137a.destroyRecursive();}});_134b.forEach(this._subscriptions,function(_137b,i){_137b.remove();});},_getJobParameters:function(){var _137c=[];_137c.push({name:"PluginFamily",value:this._reportMetadata.family});_137c.push({name:"PluginName",value:this._reportMetadata.name});_137c.push({name:"TemplateName",value:this._reportMetadata.displayName});_137c.push({name:"ReportConditions",value:this.conditionOptions.conditions});_137c.push({name:"ConditionsConnector",value:this.conditionOptions.conditionsConnector});if(this.conditionOptions.recordSelectionFormula){_137c.push({name:"RecordSelectionFormula",value:this.conditionOptions.recordSelectionFormula});}_134b.forEach(this.parameterOptions.parameters,function(_137d){if(_137d){_137d.defaultValues=null;_137d.values=null;}});_137c.push({name:"ReportParameters",value:this.parameterOptions.parameters});var _137e=this.exportOptions.description?this.exportOptions.description:this._reportMetadata.displayName;_137c.push({name:"ScheduleName",value:_137e});_137c.push({name:"OutputFormat",value:this.exportOptions.outputFormat});if(this.exportOptions.runAsUserId){_137c.push({name:"RunAsUserId",value:this.exportOptions.runAsUserId});}return _137c;},_getJobOptions:function(){var _137f=this._getJobParameters();var _1380=(dojo.isString(this.exportOptions.description)&&(this.exportOptions.description!==""))?this.exportOptions.description:this._reportMetadata.displayName;var _1381=dojo.date.locale.format(new Date(),{selector:"date",datePattern:"yyyy_MM_dd_hhmm"});var user="";var usr;if(typeof this.exportOptions.runAsUserId==="string"){usr=_1352.getUser(this.exportOptions.runAsUserId);if(usr){user=usr.UserName;}}else{usr=_1352.getUser(_1352.getCurrentUser().userID);if(usr){user=usr.UserName;}}var _1382=_1354.substitute("${0}_${1}_${2}",[_1380,user,_1381]);var _1383={descriptor:_1382,closable:true,reportType:_134e.ReportTypes.CrystalReport,parameters:_137f,title:_1380,success:function(_1384){},failure:function(_1385){}};return _1383;},_scheduleReport:function(){var _1386=this._getJobOptions();_1386.cronExpression=this.scheduleOptions.cronExpression;_1386.descriptor=this.scheduleOptions.scheduleDescription;_1386.startTime=this.scheduleOptions.startTime;_1386.endTime=this.scheduleOptions.endTime;_1386.success=function(){_1353.showInfo(_134d.txtReportSuccessfullyScheduled,_134d.dlgScheduleReport_Title);};var _1387=Sage.Services.getService("ReportingService");_1387.scheduleReport(_1386);},_runReport:function(){var _1388=this._getJobOptions();var _1389=Sage.Services.getService("ReportingService");_1389.runReport(_1388);},_updateSchedule:function(){var _138a=this._getJobOptions();_138a.cronExpression=this.scheduleOptions.cronExpression;_138a.descriptor=this.scheduleOptions.scheduleDescription;_138a.startTime=this.scheduleOptions.startTime;_138a.endTime=this.scheduleOptions.endTime;_138a.success=function(){_1352.refreshList("schedules");_1353.showInfo(_134d.txtScheduleSuccessfullyUpdated,_134d.dlgScheduleReport_Title);};_138a.closable=true;_138a.key=this.scheduleOptions.trigger.$key;_138a.descriptor=this.scheduleOptions.scheduleDescription;var _138b=Sage.Services.getService("ReportingService");_138b.updateSchedule(_138a);}});return _1355;});},"Sage/QuickForms/Design/Editors/nls/FormAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/FormAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_138c,lang){var nls={root:{titleText:"Advanced",generalText:"General",useEntityNameAsTitleText:"Use Entity Name As Title:",useEntityNameAsTitleTooltipText:"Use name of current entity in form title."}};return lang.mixin(_138c,nls);});},"Sage/MainView/ActivityMgr/nls/EventListPanelConfig":function(){define("Sage/MainView/ActivityMgr/nls/EventListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_138d,lang){var nls={root:{colNameType:"Type",colNameStartDate:"Start Date",colNameEndDate:"End Date",colNameDescription:"Description",colNameUser:"User",colNameLocation:"Location"}};return lang.mixin(_138d,nls);});},"url:Sage/MainView/IntegrationContract/templates/AdvancedSearchOptions.html":"[\r\n'<div>',\r\n    '<div>',\r\n        '<label class=\"wizardsectiontitle boldText padBottom\">{%= $.searchOptionsHeader %}',\r\n            '<span class=\"boldtext\">{%= $.configOptions.targetAccount %}</span>',\r\n        '</label>',\r\n        '<br /><br />',\r\n    '</div>',\r\n    '<div>',\r\n        '<label class=\"wizardsectiontext padBottom\" style=\"padding-left:20px\">{%= $.searchOptionsText %}</label>',\r\n    '</div>',\r\n    '<div>',\r\n        '<br />',\r\n        '<label class=\"slxlabel\" style=\"padding-left:20px\">{%= $.propertyText %}</label>',\r\n        '<label class=\"slxlabel\" style=\"padding-left:136px\">{%= $.operatorText %}</label>',\r\n        '<label class=\"slxlabel\" style=\"padding-left:118px\">{%= $.searchText %}</label>',\r\n    '</div>',\r\n    '<div dojoAttachPoint=\"conditionContainer\" style=\"padding:10px;\" id=\"{%= $.id %}-Condition-container\"></div>',\r\n    '<div class=\"button-bar alignright\">',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"submit\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').refineSearchObject.getSelections();\">',\r\n            '{%= $.okText %}',\r\n        '</button>',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"button\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').hide();\">',\r\n            '{%= $.cancelText %}',\r\n        '</button>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n","Sage/Extensions/Activity/ListPanelOverrides/nls/AllOpenListPanelConfig":function(){define("Sage/Extensions/Activity/ListPanelOverrides/nls/AllOpenListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_138e,lang){var nls={root:{colNameAssociationCount:"Participant Count"}};return lang.mixin(_138e,nls);});},"Sage/QuickForms/Design/GenericControlDesigner":function(){define("Sage/QuickForms/Design/GenericControlDesigner",["dojo/string","dojo/_base/declare","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/GenericBasicPropertyEditor","./Editors/GenericAdvancedPropertyEditor","dojo/i18n!./nls/GenericControlDesigner"],function(_138f,_1390,lang,_1391,_1392,_1393,_1394,_1395,_1396,_1397,_1398){return _1390("Sage.QuickForms.Design.GenericControlDesigner",[_1392,_1393,_1391,_1394],{designSupport:{visible:true},editors:[_1396,_1397,_1395],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div data-dojo-attach-point=\"containerNode\">","<span data-dojo-attach-point=\"designCaptionNode\"></span>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},helpTopicName:"visual_control",displayNameText:"Unknown",constructor:function(){lang.mixin(this,_1398);},_setControlIdAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},getFormattedType:function(){var type=lang.getObject("$type",false,this.entry)||this.displayNameText,name=(type.indexOf(", ")!==-1)?type.split(", ")[0]:type,parts=(type.indexOf(".")!==-1)?name.split("."):[name];return parts[parts.length-1];},startup:function(){this.inherited(arguments);this.displayNameText=this.getFormattedType();this.set("designCaption",this.get("controlId"));this.applyVisibility();}});});},"Sage/MainView/ActivityMgr/BaseListPanelConfig":function(){define("Sage/MainView/ActivityMgr/BaseListPanelConfig",["Sage/_ConfigurationProvider","Sage/Data/SDataStore","dijit/Menu","dijit/PopupMenuItem","dijit/MenuSeparator","Sage/UI/MenuItem","dojo/i18n!./nls/BaseListPanelConfig","dijit/registry","dojo/_base/declare"],function(_1399,_139a,Menu,_139b,_139c,_139d,_139e,_139f,_13a0){var _13a1=_13a0("Sage.MainView.ActivityMgr.BaseListPanelConfig",[_1399],{list:false,detail:false,summary:false,toolBar:false,_listId:false,_store:false,_service:false,_where:false,_sort:false,_select:false,_include:false,_structure:false,_currentUserId:false,_resourceKind:false,_nlsResources:false,_securedAction:"",keyField:"$key",hasCompositeKey:false,_menuItems:null,_contextMenu:false,_schedeContextMenu:false,_activityService:false,_summaryformaterScope:false,entityName:false,rebuildMenus:true,rebuildOnRefresh:false,constructor:function(){this._nlsResources=_139e;this._service=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");this._activityService=Sage.Services.getService("ActivityService");var _13a2=Sage.Services.getService("ClientContextService");if(_13a2){if(_13a2.containsKey("userID")){this._currentUserId=_13a2.getValue("userID");}}this._include=this._getInclude();this._menuItems=[];},rebuild:function(){this._where=this._getWhere();this._structure=this._getStructure();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();},_onListRefresh:function(event){var _13a3=Sage.Services.getService("ActivityService");_13a3.refreshList();},_getListConfig:function(){if(!this._store){this._store=this._getStore();}else{this._store.where=this._where;}var _13a4={id:this._listId,structure:this._structure,store:this._store,selectedRegionContextMenuItems:this._getListContextMenuItems(),onSelectedRegionContextMenu:this._onListContext};return _13a4;},_getStore:function(){var store=new _139a({id:this._listId,service:this._service,resourceKind:this._resourceKind,include:this._include,select:this._select,sort:this._sort,where:this._where});return store;},_getSelect:function(){var _13a5=[];return _13a5;},_getInclude:function(){var _13a6=[];return _13a6;},_getSort:function(){var sort=[];return sort;},_getWhere:function(){var where="";return where;},_getStructure:function(){var _13a7=[];return _13a7;},_getSummaryConfig:function(){var store=new _139a({id:this._listId,service:this._service,resourceKind:this._resourceKind,include:[],select:["$key"],where:this._where});var _13a8=[{field:"$key",formatter:"formatSummary",width:"100%",name:"Summary View"}];var _13a9=this._getFormatterScope();var _13aa={structure:_13a8,layout:"layout",store:store,rowHeight:170,rowsPerPage:10,formatterScope:_13a9};return _13aa;},_getFormatterScope:function(){return false;},_getDetailConfig:function(){return false;},_getToolBars:function(){var _13ab={items:[]};return _13ab;},_getListContextMenuItems:function(){if(!this._contextMenu){return;}if(this._menuItems.length>0){return this._menuItems;}if(!Sage.UI.DataStore.ContextMenus){return [];}if(!Sage.UI.DataStore.ContextMenus.listContextMenu){return [];}if(this._menuItems.length>0){this._menuItems[0].destroyDescendants();}this._menuItems=[];var _13ac=Sage.UI.DataStore.ContextMenus.listContextMenu.items;var len=_13ac.length;for(var i=0;i<len;i++){var mDef=_13ac[i];if(mDef.id===this._contextMenu){this._buildChildMenu(mDef.submenu,null);}else{if(mDef.id===this._scheduleContextMenu){var _13ad=new _139c();this._menuItems.push(_13ad);var _13ae=new Menu();var _13af=new _139b({label:mDef.text,popup:_13ae});this._buildChildMenu(mDef.submenu,_13ae);this._menuItems.push(_13af);}}}return this._menuItems;},_getGridMenu:function(){var _13b0=dijit.byId("_listContextmenu");return _13b0;},_buildChildMenu:function(_13b1,_13b2){var len=_13b1.length;for(var i=0;i<len;i++){var mDef=_13b1[i];if(mDef.submenu.length>0){var _13b3=new Menu();this._buildChildMenu(mDef.submenu,_13b3);var _13b4=new _139b({label:mDef.text,popup:_13b3});if(_13b2){_13b2.addChild(_13b4);}else{this._menuItems.push(_13b4);}}else{var _13b5=null;if((mDef.text==="-")||(mDef.text===" ")||(mDef.isspacer)){_13b5=new _139c();}else{var href=mDef.href;if(href.indexOf("javascript:")<0){href=dojo.string.substitute("javascript:${0}()",[href]);}_13b5=new _139d({label:mDef.text||"...",icon:mDef.img,title:mDef.tooltip||"",ref:href,onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}});}if(_13b2){_13b2.addChild(_13b5);}else{this._menuItems.push(_13b5);}}}},_onListContext:function(){},getFilterConfig:function(_13b6,entry,_13b7){var _13b8=this._service;var _13b9=_13b6;var _13ba=this.entityName;var _13bb=this._resourceKind;var where=this._where;var _13bc={};_13bc["groupId"]=this._listId;_13bc["store"]=new _139a({executeReadWith:"readFeed",request:new Sage.SData.Client.SDataResourcePropertyRequest(_13b9).setResourceKind("entities").setResourceSelector("\""+_13ba+"\"").setResourceProperty("filters").setQueryArg("where","filterType ne \"analyticsMetric\"").setQueryArg("count",20)});_13bc["createStoreForFilter"]=function(_13bd){return _13bd&&_13bd["filterName"]?new _139a({executeReadWith:"readFeed",request:new Sage.SData.Client.SDataResourcePropertyRequest(_13b8).setResourceKind(_13bb).setResourceProperty("$queries/executeMetric").setQueryArg("_filterName",_13bd["filterName"]).setQueryArg("orderby","displayName").setQueryArg("_activeFilter",where)}):null;};_13bc["getFilterManager"]=function(){var _13be=_139f.byId("list");return _13be&&_13be.get("filterManager");};return _13bc;},getTimelessProperty:function(_13bf){return false;}});return _13a1;});},"Sage/UI/Columns/CheckBox":function(){define("Sage/UI/Columns/CheckBox",["dojo/_base/declare"],function(_13c0){var _13c1=_13c0("Sage.UI.Columns.CheckBox",dojox.grid.cells.Bool,{formatter:function(value,_13c2,cel){var _13c3=(value===true||value===1)?"<input type=\"checkbox\" checked=\"checked\" disabled=\"disabled\" />":"<input type=\"checkbox\" disabled=\"disabled\" />";return _13c3;}});return _13c1;});},"Sage/MainView/nls/FormManager":function(){define("Sage/MainView/nls/FormManager",["Sage/LanguageList","dojo/_base/lang"],function(_13c4,lang){var nls={root:{nameText:"Name",entityText:"Entity",layoutText:"Layout",titleFmtString:"Form Designer - ${0}",pageTitle:"Saleslogix - Form Designer"}};return lang.mixin(_13c4,nls);});},"Sage/UI/TitleContentPane":function(){define("Sage/UI/TitleContentPane",["dijit/MenuSeparator","dijit/Menu","dijit/layout/ContentPane","dijit/MenuItem","dijit/PopupMenuItem","dijit/MenuBar","dijit/MenuBarItem","Sage/UI/PopupMenuBarItem","dojox/grid/DataGrid","Sage/UI/OrientableMenuBar","Sage/UI/GridMenuItem","Sage/UI/ImageButton","Sage/Utility","Sage/Groups/GroupContextService","Sage/Data/BaseSDataStore","Sage/UI/GroupsTitlePaneConfigProvider","dojo/dom-style","dojo/_base/array","dojo/dom-class","dojo/_base/declare","dojo/_base/lang"],function(_13c5,Menu,_13c6,_13c7,_13c8,_13c9,_13ca,_13cb,_13cc,_13cd,_13ce,_13cf,_13d0,_13d1,_13d2,_13d3,_13d4,array,_13d5,_13d6,lang){var _13d7=_13d6("Sage.UI.TitleContentPane",_13c6,{started:false,_configurationProvider:null,_configuration:{},_titleFmtString:"${0}",_groupMenuBar:false,_groupMenu:false,title:false,tabConnects:null,startup:function(){this.inherited(arguments);var _13d8,mode=_13d0.getModeId();if(typeof mode==="string"&&mode.toLowerCase()==="list"){_13d8=dojo.subscribe("/listView/applyConfiguration",lang.hitch(this,function(){dojo.disconnect(_13d8);this._doStartup();}));}else{this._doStartup();}},_doStartup:function(){if(this.started){return;}this.tabConnects=[];if(this._configurationProvider===null){var eCtx=Sage.Services.getService("ClientEntityContext");if(eCtx){var c=eCtx.getContext();if(c["IsGroupsBasedEntity"]){this._configurationProvider=new _13d3();}}}if(this._configurationProvider!==null){var _13d9=dojo.create("div",{"id":"GroupMenuSpace","class":"GroupButton"});dojo.place(_13d9,this.domNode);dojo.connect(this._configurationProvider,"onTitlePaneConfigurationChange",this,"resetConfiguration");this._configurationProvider.requestTitlePaneConfiguration({scope:this,success:function(_13da){this._setConfiguration(_13da);this.started=true;}});}else{this._hideEmptyTabBar();}},_resize:function(){var tabs=dijit.byId("GroupTabs");tabs.resize();},_setConfiguration:function(_13db){this._configuration=_13db;if(this._configuration){if(this._configuration.menu){this._addMenu(this._configuration.menu);}if(this._configuration.tabs){this._showTabBar();this._addTabs(this._configuration.tabs);}else{this._hideEmptyTabBar();}if(this._configuration.titleFmtString){this._titleFmtString=this._configuration.titleFmtString;}}},resetConfiguration:function(){var tabs=dijit.byId("GroupTabs");if(tabs){array.forEach(this.tabConnects,function(_13dc){dojo.disconnect(_13dc);});this.tabConnects=[];try{tabs.removeChildren();}catch(err){console.error(err);}}this.started=false;this._doStartup();},_setTitleAttr:function(title){dojo.html.set(dojo.byId("PageTitleText"),dojo.string.substitute(this._titleFmtString,[title]));},_setConfigurationProviderAttr:function(_13dd){this._configurationProvider=_13dd;this._doStartup();this._resize();},_addMenu:function(_13de){if(_13de){if(this._groupMenu){return;}this._groupMenuBar=new _13cd({id:"groupMenuBar",title:_13de.tooltip,orientation:{"BR":"TR","BL":"TL"},baseClass:"group-menu-bar"});_13d5.remove(this._groupMenuBar.containerNode,"dijitMenuBar");this._groupMenu=new Menu({id:"groupMenu",style:{width:_13de.width||"350px"}});this._addItemsToMenu(this._groupMenu,_13de.items);this._groupMenuBar.addChild(new _13cb({label:_13de.text||"...",icon:_13de.img||this._blankGif,imageClass:_13de.imageClass||"",baseClass:"group-menu-button",id:_13de.id||Sage.guid("groupMenuItem"),popup:this._groupMenu,style:"width:80px"}));this._groupMenuBar.placeAt("GroupsWrapper","before");this._groupMenuBar.startup();var svc=Sage.Services.getService("RoleSecurityService");if(svc.hasAccess("Entities/Group/Add")){var _13df=new _13cf({id:"addGroupButton",imageClass:"icon_plus_16x16",title:_13de.addGroupTooltip,onClick:function(){Sage.Groups.GroupManager.CreateGroup();}});_13df.placeAt("GroupsWrapper","before");_13df.startup();}}},_addItemsToMenu:function(menu,items){var len=items.length,itm;for(var i=0;i<len;i++){itm=items[i];if(itm.fn){menu.addChild(itm.fn.call(itm.scope||this));}else{if(itm.items&&itm.items.length>0){var _13e0=new Menu({parentMenu:menu,id:itm.id+"_submenu"});this._addItemsToMenu(_13e0,itm.items);menu.addChild(new _13c7({label:itm.text||"...",icon:itm.img||this._blankGif,title:itm.tooltip||"",popup:_13e0,id:itm.id}));}else{if(itm.isSeparator||itm.text==="-"){menu.addChild(new _13c5());}else{menu.addChild(new _13c7({label:itm.text||"...",icon:itm.img||this._blankGif,title:itm.tooltip||"",id:itm.id,onClick:itm.onClick||function(){document.location=itm.href;}}));}}}}},_addTabs:function(_13e1){try{var _13e2={selectedTabId:"",tabKeyProperty:"$key",tabNameProperty:"$descriptor",tabGroupNameProperty:"name",tabFamilyProperty:"family",tabHiddenProperty:false};dojo.mixin(_13e2,_13e1);if(_13e2){var tabs=dijit.byId("GroupTabs");tabs.startup();var blank=this._blankGif;var _13e3=typeof _13e2.onTabClose==="function";var _13e4;if(_13e2.staticTabs){var len=_13e2.staticTabs.length;for(var i=0;i<len;i++){var t=_13e2.staticTabs[i];var tabId=t[_13e2.tabKeyProperty];var sTab=dijit.byId(tabId)||new _13c6({id:tabId,title:t[_13e2.tabNameProperty],closable:true,dataItem:t,onClose:function(){return false;}});var child=tabs.addChild(sTab);if(_13e2.selectedTabId===tabId){tabs.selectChild(sTab);}var _13e5=dijit.byId(dojo.string.substitute("GroupTabs_tablist_${0}_Menu",[t[_13e2.tabKeyProperty]]));_13e5.destroyDescendants();if(_13e5&&_13e2.showTabContextMenus&&t["contextMenuItems"]){_13e4=t["contextMenuItems"];for(var x=0;x<_13e4.length;x++){var mItem=_13e4[x];if(mItem.isspacer||mItem.text===""){_13e5.addChild(new _13c5());}else{var href=mItem.href;if(href.indexOf("javascript:")<0){href=dojo.string.substitute("javascript:${0}('${1}','${2}','${3}');",[href,t[_13e2.tabKeyProperty],t[_13e2.tabNameProperty],t[_13e2.tabFamilyProperty]]);}else{var _13e6={"groupId":t[_13e2.tabKeyProperty],"groupName":t[_13e2.tabNameProperty],"family":t[_13e2.tabFamilyProperty]};href=dojo.string.substitute(href,_13e6);}var _13e7=t[_13e2.tabFamilyProperty]+"_LOOKUP_"+x;var _13e8=new _13c7({id:_13e7,label:mItem.text||"...",icon:mItem.img||blank,title:mItem.tooltip||"",ref:href,onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}});_13e5.addChild(_13e8);}}}}}if(_13e2.lookupButton){_13e2.lookupButton.startup();dojo.place(_13e2.lookupButton.domNode,tabs.domNode,"before");}var _13e9=_13d0.getClientContextByKey("userID");var _13ea={onComplete:function(data){var _13eb,i,_13ec=[],_13ed,_13ee=[],tabId;for(i=0;i<data.length;i++){_13eb=data[i];if(_13e2.tabHiddenProperty&&_13eb[_13e2.tabHiddenProperty]===true){continue;}tabId=_13eb[_13e2.tabKeyProperty];var aTab=dijit.byId(tabId)||new _13c6({id:tabId,title:_13eb[_13e2.tabNameProperty],closable:_13e3,dataItem:_13eb});_13ec.push(aTab);if(_13e2.selectedTabId===_13eb[_13e2.tabKeyProperty]){_13ed=aTab;}_13ee.push((function menuFunction(_13ef,_13f0){var tabId=_13ef[_13e2.tabKeyProperty];return function(){var _13f1=dijit.byId(dojo.string.substitute("GroupTabs_tablist_${0}_Menu",[_13ef[_13e2.tabKeyProperty]])),_13f2=false,_13f3=false,_13f4=_13f0.trim()==="ADMIN";if(_13ef.userId!==_13f0){_13f3=true;}else{_13f3=false;}if(!_13f1){return;}_13f1.destroyDescendants();if(Sage.UI.DataStore.ContextMenus&&Sage.UI.DataStore.ContextMenus.groupTabContextMenu){var _13f5=Sage.UI.DataStore.ContextMenus.groupTabContextMenu.items;for(var mi=0;mi<_13f5.length;mi++){var mItem=_13f5[mi];if((mItem.id==="gtcDelete"&&_13f3&&!_13f4)||(mItem.id==="gtcShare"&&_13f3)){_13f2=true;}else{_13f2=false;}if(mItem.isspacer||mItem.text===""){_13f1.addChild(new _13c5());}else{var href=mItem.href;if(href.indexOf("javascript:")<0){href=dojo.string.substitute("javascript:${0}('${1}','${2}','${3}');",[href,_13ef[_13e2.tabKeyProperty],(_13ef[_13e2.tabGroupNameProperty]||_13ef[_13e2.tabNameProperty]),_13ef[_13e2.tabFamilyProperty]]);}else{var _13f6={"groupId":_13ef[_13e2.tabKeyProperty],"groupName":_13ef[_13e2.tabNameProperty]||_13ef[_13e2.tabGroupNameProperty],"family":_13ef[_13e2.tabFamilyProperty]};href=dojo.string.substitute(href,_13f6);}_13f1.addChild(new _13c7({id:tabId+"_tab_"+mi,label:mItem.text||"...",icon:mItem.img||blank,title:mItem.tooltip||"",ref:href,disabled:_13f2,onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}}));}}}};})(_13eb,_13e9));}dojo.connect(tabs,"onAddChildrenComplete",this,function(start,end){for(var i=start;i<end;i++){if(_13ee[i]){_13ee[i].call();_13ee[i]=null;}}if(_13ed){tabs.selectChild(_13ed);_13ed=null;}});tabs.addChildren(_13ec,_13ed);}};dojo.mixin(_13ea,_13e2.fetchParams);if(_13e2.store){_13e2.store.fetch(_13ea);}if(_13e2.onTabClick){this.tabConnects.push(dojo.connect(tabs,"onClick",_13e2,"onTabClick",true));}if(_13e2.onTabSelect){this.tabConnects.push(dojo.connect(tabs,"selectChild",_13e2,"onTabSelect"));}if(_13e3){this.tabConnects.push(dojo.connect(tabs,"closeChild",_13e2,"onTabClose"));}}else{this._hideEmptyTabBar();}}catch(err){console.error(err);}},_hideEmptyTabBar:function(){var tabs=dijit.byId("GroupTabs");if(tabs){if(dojo.byId("localTitle").style.display!="none"){_13d4.set(this.domNode,"height","37px");}else{_13d4.set(this.domNode,"display","none");}this.getParent().layout();tabs.set("style","display:none");}},_showTabBar:function(){var tabs=dijit.byId("GroupTabs");if(tabs){if(dojo.byId("localTitle").style.display!="none"){_13d4.set(this.domNode,"height","67px");}else{_13d4.set(this.domNode,"display","none");}tabs.domNode.style.display="block";this.getParent().layout();}}});return _13d7;});},"Sage/UI/nls/ActivityScheduler":function(){define("Sage/UI/nls/ActivityScheduler",["Sage/LanguageList","dojo/_base/lang"],function(_13f7,lang){var nls={root:{tooltipTime:"Time",tooltipContactName:"Contact",tooltipAccountName:"Account",tooltipCompanyName:"Company",tooltipLeadName:"Lead",tooltipPhoneNumber:"Phone",tooltipRegarding:"Regarding",tooltipPriority:"Priority",tooltipNotes:"Notes",tooltipType:"Type",tooltipDayType:"Day Type",tooltipStartDate:"Start Date",tooltipEndDate:"End Date",tooltipLocation:"Location",tooltipDescription:"Description",completedText:"(Completed)",tooltipMoreActivities:"Click for more activities",scheduler_dates:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},scheduler_labels:{dhx_cal_today_button:"Today",day_tab:"Day",week_tab:"Week",workweek_tab:"Work week",month_tab:"Month",new_event:"New event",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Event will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",full_day:"Full day",confirm_recurring:"Do you want to edit the whole set of repeated events?",section_recurring:"Repeat event",button_recurring:"Disabled",button_recurring_open:"Enabled",agenda_tab:"Agenda",date:"Date",description:"Description",year_tab:"Year",week_agenda_tab:"Agenda"}}};return lang.mixin(_13f7,nls);});},"Sage/MainView/nls/SecurityManager":function(){define("Sage/MainView/nls/SecurityManager",["Sage/LanguageList","dojo/_base/lang"],function(_13f8,lang){var nls={root:{accessText:"Access",columnText:"Column",entityText:"Entity",noAccessText:"No Access",profilesText:"Profiles",propertyText:"Property",securityManagerText:"Security Manager",readOnlyText:"Read Only",readWriteText:"Read Write",resetText:"Reset",saveText:"Save",tableText:"Table"}};return lang.mixin(_13f8,nls);});},"url:Sage/templates/GridMenuItem.html":"<tr class=\"dijitGridMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"4\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\" style=\"display:none\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"display:none\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n    <td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\" style=\"display:none\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n</tr>\n","Sage/TaskPane/nls/ActivityTaskConfigurationProvider":function(){define("Sage/TaskPane/nls/ActivityTaskConfigurationProvider",["Sage/LanguageList","dojo/_base/lang"],function(_13f9,lang){var nls={root:{scheduleText:"Schedule",eventText:"Event",phoneCallText:"Phone Call",toDoText:"To-Do",meetingText:"Meeting",personalActivityText:"Personal Activity",deleteConfirmationText:"Delete Confirmation",acceptConfirmationText:"Accept Confirmation",declineConfirmationText:"Decline Confirmation",completeActivityText:"Complete Activity",deleteActivityText:"Delete Activity",deleteEventText:"Delete Event",scheduleEventText:"Schedule Event",scheduleRequestText:"Schedule Request",deleteRequestText:"Delete Request",recordsSelectedText:"record(s) selected",clearText:"Clear"}};return lang.mixin(_13f9,nls);});},"Sage/Data/WritableStore":function(){define("Sage/Data/WritableStore",["Sage/Data/BaseSDataStore","Sage/Utility","dojo/_base/declare","dojo/_base/lang"],function(_13fa,_13fb,_13fc,lang){var _13fd=_13fc("Sage.Data.WritableStore",_13fa,{isInsertMode:false,constructor:function(o){lang.mixin(this,o);this.features["dojo.data.api.Write"]=true;this.features["dojo.data.api.Notification"]=true;this.identityAttributes=["$cacheID"];this.dirtyDataCache={isDirty:false};this.singleResourceRequest=null;if(!o.hasOwnProperty("isInsertMode")){this.isInsertMode=_13fb.getModeId()==="insert";}},entry:"",fetch:function(_13fe){var items={};items.$resources=[];if(_13fe.isRender&&this.dataCarrierId){var _13ff=dojo.query([".",this.dataCarrierId].join(""));if(_13ff[0].value.length>0){var _1400=dojo.fromJson(_13ff[0].value);this.addItemsToCache(_13fe,_1400.$resources);}}for(var item in this.dataCache){if(this.dataCache.hasOwnProperty(item)&&item!=="query"){items.$resources.push(this.dataCache[item]);}}this.setContext(_13fe);this.verifyService();if(this.isInsertMode){var self=this;window.setTimeout(function(){self.onSuccess(_13fe,items);},5);return;}var _1401=new Sage.SData.Client.SDataResourceCollectionRequest(this.service).setResourceKind(this.resourceKind).setStartIndex(_13fe.start+1).setCount(_13fe.count);var qry="";if(this.query){if(!_13fe.query){_13fe.query={};}lang.mixin(_13fe.query,this.query);}if(_13fe.query){if(typeof _13fe.query==="function"){qry=_13fe.query();}else{if(typeof _13fe.query==="string"){qry=_13fe.query;}else{if(typeof _13fe.query==="object"){if(_13fe.query.hasOwnProperty("fn")){qry=_13fe.query.fn.call(_13fe.query.scope||this);}if(_13fe.query.hasOwnProperty("conditions")){if(typeof _13fe.query.conditions==="string"){qry+=(qry.length>0)?" and "+_13fe.query.conditions:_13fe.query.conditions;}}}}}}_13fe.evaluatedQuery=qry||"";if(qry&&qry!==""){_1401.setQueryArg("where",qry);}if(this.select&&this.select.length>0){_1401.setQueryArg("select",this.select.join(","));}if(this.include&&this.include.length>0){_1401.setQueryArg("include",this.include.join(","));}var key=_1401.read({success:lang.hitch(this,this.onSuccess,_13fe),failure:lang.hitch(this,this.onFailure,_13fe)});return {abort:lang.hitch(this,this.abortRequest,key)};},onSuccess:function(_1402,feed){if(this.entry===""){this.entry=feed;}if(_1402.onBegin){_1402.onBegin.call(_1402.scope||this,feed.$resources.length,_1402);}if(_1402.onComplete){_1402.onComplete.call(_1402.scope||this,feed.$resources,_1402);}},addToCache:function(_1403,item,count){var key;count=(typeof count==="undefined")?(Math.random()*11):count;if(this.isInsertMode){item.$cacheID=new Date().getTime()+count;}key=this.getIdentity(item);this.dataCache[key]=item;},addItemsToCache:function(_1404,items){for(var i=0;i<items.length;i++){this.addToCache(_1404,items[i],i);}},clearCache:function(){this.inherited(arguments);this.clearDirtyDataCache();},clearDirtyDataCache:function(){for(var key in this.dirtyDataCache){if(key!=="isDirty"){delete this.dirtyDataCache[key];}}this.dirtyDataCache.isDirty=false;},isItem:function(_1405){var id=this.getIdentity(_1405);if(id&&id!==""){return this.dataCache.hasOwnProperty(id);}return false;},isItemLoaded:function(_1406){return this.isItem(_1406);},loadItem:function(_1407){if(!this.isItem(_1407.item)){throw new Error("Unable to load "+_1407.item);}},getValues:function(item,_1408){if(this.isItem(item)&&(typeof _1408==="string")){return (item[_1408]||[]).slice(0);}return [];},hasAttribute:function(item,_1409){if(this.isItem(item)&&(typeof _1409==="string")){return _1409 in item;}return false;},close:function(){this.clearCache();},deleteItem:function(item,scope){var id=this.getIdentity(item);if(id&&id!==""){delete this.dataCache[id];}var _140a={};_140a.scope=scope||this;var _140b=function(){if(typeof this.onResponse==="function"){this.onResponse.call(this);}};_140a.success=_140b;_140a.success.call(_140a.scope);},isDirty:function(item){if(item){var id=this.getIdentity(item);if(id&&id!==""){return this.dirtyDataCache.hasOwnPropery(id);}}return this.dirtyDataCache.isDirty;},newItem:function(args){var _140c=this.createTemplateRequest();if(_140c){_140c.read({success:function(entry){if((args)&&(args.onComplete)&&(typeof args.onComplete==="function")){args.onComplete.call(args.scope||this,entry);}},failure:this.requestTemplateFailure,scope:this});}},createTemplateRequest:function(){var _140d=new Sage.SData.Client.SDataTemplateResourceRequest(this.service);if((this.resourceKind)&&(this.resourceKind!=="")){_140d.setResourceKind(this.resourceKind);}return _140d;},requestTemplateFailure:function(){},saveNewEntity:function(_140e,_140f,_1410,scope){this.addToCache(scope,_140e);_140f();},createItem:function(item,scope){var _1411={};_1411.scope=scope||this;_1411.scope.store=this;var _1412=function(_1413){if(typeof this.onResponse==="function"){this.onResponse.call(this,_1413);}};_1411.success=_1412;this.addToCache(scope,item);_1411.success.call(_1411.scope,item);},revert:function(){this.clearDirtyDataCache();this.onDataReset();},setValue:function(item,_1414,value){var _1415=this.getValue(item,_1414,"");_13fb.setValue(item,_1414,value);this.onSet(item,_1414,_1415,value);return true;},setValues:function(item,_1416,_1417){alert("not implemented - setValues");},unsetAttribute:function(item,_1418){alert("not implemented - unsetAttribute");},dataCacheToArray:function(){var _1419=[];for(var item in this.dataCache){if(this.dataCache.hasOwnProperty(item)&&item!=="query"){_1419.push(this.dataCache[item]);}}return _1419;},onDataChange:function(){this.clearDirtyDataCache();var _141a=dojo.query([".",this.dataCarrierId].join(""));if(_141a[0]){this.entry.$resources=this.dataCacheToArray();_141a[0].value=JSON.stringify(this.entry);}},onSet:function(item,_141b,_141c,_141d){},onNew:function(_141e,_141f){},onDelete:function(_1420){},onDataReset:function(){},onDataSaved:function(){},onItemSaved:function(_1421,_1422){},onItemNotSaved:function(_1423,error){}});return _13fd;});},"Sage/QuickForms/Design/Editors/CurrencyAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/CurrencyAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/CurrencyAdvancedPropertyEditor"],function(_1424,lang,_1425,_1426,_1427,_1428,_1429,_142a,_142b,_142c,_142d){return _1424("Sage.QuickForms.Design.Editors.CurrencyAdvancedPropertyEditor",[_1425,_142b,_142a],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.displayModeTooltipText %}\">","<label>{%= $.displayModeText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_displayMode\" data-dojo-attach-event=\"onChange:_onDisplayModeChange\">","{% for (var type in $.displayTypeText) { %}","<span value=\"{%= type %}\">{%= $.displayTypeText[type] %}</span>","{% } %}","</div>","</div>","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlLabelPlacementTooltipText %}\">","<label>{%= $.controlLabelPlacementText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_controlLabelPlacement\" data-dojo-attach-event=\"onChange:_onControlLabelPlacementChange\">","{% for (var placement in $.labelPlacementText) { %}","<span value=\"{%= placement %}\">{%= $.labelPlacementText[placement] %}</span>","{% } %}","</div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.decimalDigitsTooltipText %}\">","<label>{%= $.decimalDigitsText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_decimalDigits\" data-dojo-props=\"constraints:{min:-1,max:100,places:0}\" data-dojo-attach-event=\"onChange:_onDecimalDigitsChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.enabledTooltipText %}\">","<label>{%= $.enabledText %}</label>","<div data-dojo-attach-point=\"_enabled\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onEnabledChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.maxLengthTooltipText %}\">","<label>{%= $.maxLengthText %}</label>","<div data-dojo-attach-point=\"_maxLength\" data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-event=\"onChange:_onMaxLengthChange\" data-dojo-props=\"constraints:{min:-1,places:0}\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.requiredTooltipText %}\">","<label>{%= $.requiredText %}</label>","<div data-dojo-attach-point=\"_required\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onRequiredChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.defaultDataBindingTooltipText %}\">","<label>{%= $.defaultDataBindingText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_defaultDataBinding\" data-dojo-attach-event=\"onChange:_onDefaultDataBindingChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.exchangeRateTypeTooltipText %}\">","<label>{%= $.exchangeRateTypeText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_exchangeRateType\" data-dojo-attach-event=\"onChange:_onExchangeRateTypeChange\">","{% for (var rate in $.exchangeTypeText) { %}","<span value=\"{%= rate %}\">{%= $.exchangeTypeText[rate] %}</span>","{% } %}","</div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_controlId:null,_controlLabelPlacement:null,_controlType:null,_decimalDigits:null,_defaultDataBinding:null,_displayCurrencyCode:null,_displayMode:null,_enabled:null,_exchangeRateType:null,_maxLength:null,_required:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",decimalDigitsText:"Decimal Digits:",decimalDigitsTooltipText:"The number of digits after the decimal to display and allow for data entry.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",displayModeText:"Display Mode:",displayModeTooltipText:"Mode of display of control: text box, hyperlink, or plain text.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",exchangeRateTypeText:"Exchange Rate Type:",exchangeRateTypeTooltipText:"Type of exchange rate to show in currency fields.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",displayTypeText:{"AsHyperlink":"As Hyperlink","AsControl":"As Control","AsText":"As Text"},exchangeTypeText:{"BaseRate":"Base Rate","OpportunityRate":"Opportunity Rate (Deprecated)","MyRate":"My Rate","SalesOrderRate":"Sales Order Rate (Deprecated)","EntityRate":"Entity Rate"},labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},constructor:function(){lang.mixin(this,_142d);},setup:function(){this.inherited(arguments);this._controlId.set("value",this._designer.get("controlId"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._controlType.set("value",this._designer.get("controlName"));this._decimalDigits.set("value",this._designer.get("decimalDigits"));this._displayMode.set("value",this._designer.get("displayMode"));this._enabled.set("value",this._designer.get("enabled"));this._exchangeRateType.set("value",this._designer.get("exchangeRateType"));this._maxLength.set("value",this._designer.get("maxLength"));this._required.set("value",this._designer.get("required"));this._visible.set("value",this._designer.get("visible"));var _142e=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_142e&&_142e["DataItemName"])||"");},_onControlIdChange:function(value){},_onControlLabelPlacementChange:function(value){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",value);},_onControlTypeChange:function(value){},_onDecimalDigitsChange:function(value){if(this.isSuspended()||!this._decimalDigits.isValid()){return;}this._designer.set("decimalDigits",value);},_onDefaultDataBindingChange:function(value){},_onDisplayModeChange:function(value){if(this.isSuspended()){return;}this._designer.set("displayMode",value);},_onEnabledChange:function(value){if(this.isSuspended()){return;}this._designer.set("enabled",value);},_onExchangeRateTypeChange:function(value){if(this.isSuspended()){return;}this._designer.set("exchangeRateType",value);},_onMaxLengthChange:function(value){if(this.isSuspended()||!this._maxLength.isValid()){return;}this._designer.set("maxLength",value);},_onRequiredChange:function(value){if(this.isSuspended()){return;}this._designer.set("required",value);},_onVisibleChange:function(value){if(this.isSuspended()){return;}this._designer.set("visible",value);}});});},"Sage/QuickForms/Design/PhoneControlDesigner":function(){define("Sage/QuickForms/Design/PhoneControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","./TextBoxControlDesigner","./Editors/LayoutPropertyEditor","./Editors/TextBoxBasicPropertyEditor","./Editors/TextBoxAdvancedPropertyEditor","dojo/i18n!./nls/PhoneControlDesigner"],function(_142f,array,lang,_1430,_1431,_1432,_1433,_1434){return _142f("Sage.QuickForms.Design.PhoneControlDesigner",[_1430],{designSupport:{visible:true},editors:[_1432,_1433,_1431],widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %} design-phone\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","<div class=\"design-phone-icon\"></div>","</div>","</div>"]),helpTopicName:"Phone_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXPhone, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Phone",constructor:function(){lang.mixin(this,_1434);}});});},"Sage/UI/Controls/nls/EntityInfoToolTip":function(){define("Sage/UI/Controls/nls/EntityInfoToolTip",["Sage/LanguageList","dojo/_base/lang"],function(_1435,lang){var nls={root:{errorText:"Information not found.",loadingText:"Loading...",noInfoText:"No information to show.",mainText:"Main:",faxText:"Fax:",tollFreeText:"Toll Free:",urlText:"Web URL:",workText:"Work:",mobileText:"Mobile:",emailText:"Email:",contactNameText:"Name:",phoneText:"Phone:",accountText:"Account:"}};return lang.mixin(_1435,nls);});},"Sage/MainView/ActivityMgr/ActivityEditor":function(){require({cache:{"url:Sage/MainView/ActivityMgr/templates/ActivityEditor.html":"[\r\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"activityDialog\" title=\"\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:_onDlgHide\">',\r\n        '<div class=\"activity-dialog\">',  //body\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"regardingContainer\">',\r\n                '<select id=\"pk_Regarding\" label=\"{%= $.regardingText %}\" id=\"{%= $.id %}_pk_Regarding\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Regarding\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\" ></select>',\r\n                '<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.locationText %}\" id=\"{%= $.id %}_tb_Location\" dojoAttachPoint=\"tb_Location\" maxLength=\"255\" ></div>',\r\n            '</div>', //first tablecontainer 1 col\r\n        //Dates section for add/edit mode..................\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"dateSection_AddEdit\">',\r\n                '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" id=\"{%= $.id %}_dtp_startDate\" dojoAttachPoint=\"dtp_startDate\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $.startTimeText %}\"></div>',\r\n                '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DurationSelect\" label=\"{%= $.durationText %}\" id=\"{%= $.id %}_sel_Duration\" dojoAttachPoint=\"sel_Duration\" includeDisablingCheckbox=\"false\" valuesAreAfterStart=\"true\"></div>',\r\n                '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                    '<div dojoType=\"dijit.form.CheckBox\" label=\"{%= $.timeLessText %}\" id=\"{%= $.id %}_cb_Timeless\" dojoAttachPoint=\"cb_Timeless\" ></div>',\r\n                    '<label class=\"checkbox-label\" for=\"{%= $.id %}_cb_Timeless\">{%= $.timeLessText %}</label>',\r\n                '</div>',\r\n                '<div dojoType=\"dojox.layout.TableContainer\" label=\"{%= $.alarmText %}\" cols=\"2\" showLabels=\"false\" class=\"removeExtraSpace\">',\r\n                    '<div dojoType=\"dijit.form.CheckBox\" id=\"{%= $.id %}_cb_Alarm\" dojoAttachPoint=\"cb_Alarm\" ></div>',\r\n                    '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DurationSelect\" id=\"{%= $.id %}_sel_AlarmDur\" dojoAttachPoint=\"sel_AlarmDur\" valuesAreAfterStart=\"false\" ></div>',\r\n                '</div>',\r\n                '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                    '<div dojoType=\"dijit.form.CheckBox\" label=\"\" id=\"{%= $.id %}_cb_AutoRollover\" dojoAttachPoint=\"cb_AutoRollover\"></div>',\r\n                    '<label class=\"checkbox-label\" for=\"{%= $.id %}_cb_AutoRollover\">{%= $.rolloverText %}</label>',\r\n                '</div>',\r\n            '</div>',\r\n        //Dates section for complete mode...................\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"dateSection_Complete\">',\r\n                '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" id=\"{%= $.id %}_dtp_completedDate\" dojoAttachPoint=\"dtp_completedDate\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $.completedText %}\"></div>',\r\n                '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" id=\"{%= $.id %}_dtp_scheduledDate\" dojoAttachPoint=\"dtp_scheduledDate\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $.scheduledText %}\"></div>',\r\n                '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                    '<div dojoType=\"dijit.form.CheckBox\" label=\"{%= $.timeLessText %}\" id=\"{%= $.id %}_cb_TimelessComplete\" dojoAttachPoint=\"cb_TimelessComplete\" ></div>',\r\n                    '<label class=\"checkbox-label\" for=\"{%= $.id %}_cb_TimelessComplete\">{%= $.timeLessText %}</label>',\r\n                '</div>',\r\n                '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DurationSelect\" label=\"{%= $.durationText %}\" id=\"{%= $.id %}_sel_DurationComplete\" dojoAttachPoint=\"sel_DurationComplete\" includeDisablingCheckbox=\"false\" valuesAreAfterStart=\"true\"></div>',\r\n            '</div>',\r\n\r\n            '<div dojoType=\"dijit.layout.TabContainer\" id=\"{%= $.id %}_tc_EditActivity\"  dojoAttachPoint=\"tc_EditActivity\" class=\"tab-container\">',\r\n/*  General Tab   */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_General\" title=\"{%= $.tabNameGeneralText %}\" class=\"tabContent remove-padding\" dojoAttachPoint=\"cp_General\">',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"resultContainer\" class=\"bottom-border-section\">', \r\n                        '<select shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" label=\"{%= $.resultText %}\" id=\"{%= $.id %}_pl_Result\"  name=\"pl_Result\" dojoAttachPoint=\"pl_Result\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\"></select>',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"4\" labelWidth=\"4\" baseClass=\"contact-lead-radios\" >',\r\n                        '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"contactOrLead\" label=\"{%= $.contactText %}\" value=\"contact\" id=\"{%= $.id %}_rdo_Contact\" dojoAttachPoint=\"rdo_Contact\" dojoAttachEvent=\"onChange:_setContactLeadVisibility\" checked=\"true\" />',\r\n                        '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"contactOrLead\" label=\"{%= $.leadText %}\" value=\"lead\" id=\"{%= $.id %}_rdo_Lead\" dojoAttachPoint=\"rdo_Lead\" />',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"contactContainer\" baseClass=\"bottom-border-section\">',\r\n\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.nameText %}\" dojoAttachPoint=\"container_ContactLup\" class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.opportunityText %}\" dojoAttachPoint=\"container_OppLup\" class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.accountText %}\" dojoAttachPoint=\"container_AccountLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.ticketText %}\" dojoAttachPoint=\"container_TicketLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"leadContainer\"  baseClass=\"bottom-border-section\" class=\"display-none\">',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.nameText %}\" dojoAttachPoint=\"container_LeadLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                        '<input dojoType=\"dijit.form.TextBox\" id=\"{%= $.id %}_tb_LeadCompanyName\" label=\"{%= $.companyText %}\" dojoAttachPoint=\"tb_LeadCompanyName\" readonly=\"true\" />',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" class=\"bottom-border-section\" >',\r\n                        '<select label=\"{%= $.priorityText %}\" id=\"{%= $.id %}_pk_Priority\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Priority\" canEditText=\"true\" itemMustExist=\"false\" pickListName=\"Priorities\" sort=\"false\" maxLength=\"64\" style=\"width: {%= 472 - $.labelWidth %}px;\"></select>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.leaderText %}\" dojoAttachPoint=\"container_LeaderLup\" class=\"remove-padding lookup-container\" style=\"width: {%= 472 - $.labelWidth %}px;\"></div>',\r\n                        '<select label=\"{%= $.categoryText %}\" id=\"{%= $.id %}_pk_Category\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Category\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\" style=\"width: {%= 472 - $.labelWidth %}px;\"></select>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"&nbsp;\" class=\"dijitTextBox\" style=\"border-width:0px\">&nbsp;</div>',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\" class=\"valigntop\" dojoAttachPoint=\"notesContainer\">',\r\n                        '<textarea dojoType=\"dijit.form.SimpleTextarea\" id=\"{%= $.id %}_ta_Notes\" label=\"{%= $.notesText %}\" dojoAttachPoint=\"ta_Notes\" class=\"notes-text\"></textarea>',\r\n                    '</div>',\r\n                '</div>',  // end general tab\r\n/* Availability Tab   */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_Availability\" title=\"{%= $.tabNameAvailabilityText %}\" class=\"tabContent remove-padding\" dojoAttachPoint=\"cp_Availability\" dojoAttachEvent=\"onShow:_onShowAvailabilityTab\">',\r\n                    '<div dojoType=\"dijit.Toolbar\" region=\"top\" splitter=\"false\" class=\"right-tools\" >',  // list-panel-tbar                                  \r\n                        '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"container_ResourcesLup\" class=\"remove-padding\"></div>',\r\n                    '</div>',\r\n/* Scheduler ........... */\r\n                    '<div id=\"scheduler_here\" class=\"dhx_cal_container\" style=\"width:100%;height:230px;\">',\r\n                        '<div class=\"dhx_cal_navline\">',\r\n                            '<div class=\"dhx_cal_prev_timeline_button\" style=\"right:50px;\">&nbsp;</div>',\r\n\t\t\t                '<div class=\"dhx_cal_next_timeline_button\" style=\"right:19px;\">&nbsp;</div>',\r\n//'<div class=\"dhx_cal_today_button\"></div>',\r\n\t\t\t                '<div class=\"dhx_cal_date\"></div>',\r\n//'<div class=\"dhx_cal_tab\" name=\"day_tab\" style=\"right:204px;\"></div>',\r\n//'<div class=\"dhx_cal_tab\" name=\"week_tab\" style=\"right:140px;\"></div>',\r\n                            '<div class=\"dhx_cal_tab\" name=\"timeline_tab\" style=\"right:280px;\"></div>',\r\n//'<div class=\"dhx_cal_tab\" name=\"month_tab\" style=\"right:76px;\"></div>',\r\n\t\t                '</div>',\r\n\t\t                '<div class=\"dhx_cal_header\"></div>',\r\n\t\t                '<div class=\"dhx_cal_data\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n/* Recurring Tab  */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_Recurring\" title=\"{%= $.recurringText %}\" class=\"tabContent\" dojoAttachPoint=\"cp_Recurring\" dojoAttachEvent=\"onShow:_showRecurringTab\">',\r\n                    '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.MainView.ActivityMgr.RecurringEditor\" id=\"{%= $.id %}_recEd\" labelWidth=\"{%= $.labelWidth - 20 %}\" dojoAttachPoint=\"_recurringEditor\"></div>',\r\n                '</div>',\r\n/* Attachments Tab  */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_Attachments\" title=\"{%= $.tabNameAttachmentsText %}\" class=\"tabContent remove-padding\" dojoAttachPoint=\"cp_Attachments\" dojoAttachEvent=\"onShow:_showAttachmentsTab\">',\r\n                    '<div id=\"{%= $.id %}_attachmentsGridPlaceholder\" dojoAttachPoint=\"_attachmentGridPlaceholder\" style=\"width:100%;height:100%\"></div>',\r\n                '</div>',\r\n            '</div>',  //tab container\r\n/* Buttons       */\r\n        // Add/edit activity buttons\r\n            '<table class=\"button-bar\" id=\"add_edit_buttons\" dojoAttachPoint=\"add_edit_buttons\">',\r\n                '<tr>',\r\n                    '<td class=\"alignleft\">',\r\n                        '<div class=\"scheduled-by-label\" dojoAttachPoint=\"lbl_ScheduledBy\"></div>',\r\n                    '</td><td class=\"alignright\">',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Complete\" name=\"btn_Complete\" dojoAttachPoint=\"btn_Complete\" dojoAttachEvent=\"onClick:_completeClick\">{%= $.completeBtnText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Delete\" name=\"btn_Delete\" dojoAttachPoint=\"btn_Delete\" dojoAttachEvent=\"onClick:_deleteClick\">{%= $.deleteText %}</div>',\r\n                        '<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.okText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n\r\n\r\n        //complete activity buttons\r\n            '<table class=\"button-bar display-none\" id=\"complete_buttons\" dojoAttachPoint=\"complete_buttons\">',\r\n                '<tr>',\r\n                    '<col width=\"50%\" /><col width=\"50%\" />',\r\n                    '<td class=\"alignleft\">',\r\n                        '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\" >',\r\n                            '<select label=\"{%= $.followupText %}\" id=\"sel_Followup\" dojoType=\"dijit.form.ComboBox\" dojoAttachPoint=\"sel_Followup\">',\r\n                                '<option value=\"none\" selected=\"selected\">{%= $.noneText %}</option>',\r\n                                '<option value=\"phone\">{%= Sage.Utility.Activity.getActivityTypeName(\"atPhoneCall\") %}</option>',\r\n                                '<option value=\"meeting\">{%= Sage.Utility.Activity.getActivityTypeName(\"atAppointment\") %}</option>',\r\n                                '<option value=\"todo\">{%= Sage.Utility.Activity.getActivityTypeName(\"atToDo\") %}</option>',\r\n                            '</select>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                                '<div dojoType=\"dijit.form.CheckBox\" label=\"\" id=\"ck_coAttachments\" dojoAttachPoint=\"ck_coAttachments\" ></div>',\r\n                                '<label class=\"checkbox-label\" for=\"{%= $.id %}_ck_coAttachments\">{%= $.carryOverAttachmentsText %}</label>',\r\n                            '</div>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                                '<div dojoType=\"dijit.form.CheckBox\" label=\"\" id=\"ck_coNotes\" dojoAttachPoint=\"ck_coNotes\" ></div>',\r\n                                '<label class=\"checkbox-label\" for=\"{%= $.id %}_ck_coNotes\">{%= $.carryOverNotesText %}</label>',\r\n                            '</div>',\r\n                        '</div>',\r\n                    '</td><td class=\"alignright valignbottom\" rowspan=\"2\">',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_asScheduled\" name=\"btn_asScheduled\" dojoAttachPoint=\"btn_asScheduled\" dojoAttachEvent=\"onClick:_asScheduledClick\">{%= $.asScheduledText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Now\" name=\"btn_Now\" dojoAttachPoint=\"btn_Now\" dojoAttachEvent=\"onClick:_nowClick\">{%= $.nowText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_CancelComplete\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_CancelComplete\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>',\r\n                    '</td>',\r\n                '</tr><tr>',\r\n                    '<td class=\"alignleft\" >',\r\n                        '<div class=\"scheduled-by-label\" dojoAttachPoint=\"lbl_ScheduledByComp\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n\r\n\r\n\r\n        //Confirmations button bar...\r\n            '<table class=\"button-bar display-none\" id=\"confirmation_edit_buttons\" dojoAttachPoint=\"confirmation_edit_buttons\">',\r\n                '<tr>',\r\n                    '<td class=\"alignleft\" style=\"width:{%= $.labelWidth %}px;\">',\r\n                        '<label for=\"{%= $.id %}_ta_confirmationResponse\" id=\"responseLabel\" dojoAttachPoint=\"responseLabel\">{%= $.responseText %}</label>',\r\n                    '</td>',\r\n                    '<td class=\"alignleft\">',\r\n                        '<textarea dojoType=\"dijit.form.SimpleTextarea\" id=\"{%= $.id %}_ta_confirmationResponse\" dojoAttachPoint=\"ta_confirmationResponse\" class=\"notes-text dijitTextBox\" maxLength=\"128\" ></textarea>',\r\n                    '</td><td class=\"alignright valignbottom\">',\r\n                        '<span id=\"newConfButtons\" dojoAttachPoint=\"newConfButtons\">',\r\n                            '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_accept\" name=\"btn_accept\" dojoAttachPoint=\"btn_accept\" dojoAttachEvent=\"onClick:_acceptConfClick\">{%= $.acceptText %}</div>',\r\n                            '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_decline\" name=\"btn_decline\" dojoAttachPoint=\"btn_decline\" dojoAttachEvent=\"onClick:_declineClick\">{%= $.declineText %}</div>',\r\n                            '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_cancelConf\" name=\"btn_cancelConf\" dojoAttachPoint=\"btn_cancelConf\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>',\r\n                        '</span>',\r\n                        '<span id=\"otherConfButtons\" dojoAttachPoint=\"otherConfButtons\" class=\"display-none\">',\r\n                            '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_deleteConf\" name=\"btn_deleteConf\" dojoAttachPoint=\"btn_deleteConf\" dojoAttachEvent=\"onClick:_deleteConfClick\">{%= $.deleteConfText %}</div>',\r\n                            '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_closeConf\" name=\"btn_closeConf\" dojoAttachPoint=\"btn_closeConf\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.closeText %}</div>',\r\n                        '</span>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n        '</div>', //body\r\n    '</div>',  //dialog\r\n'</div>' //root node\r\n]\r\n"}});define("Sage/MainView/ActivityMgr/ActivityEditor",["dijit/_Widget","Sage/_Templated","dojo/_base/declare","Sage/Data/SingleEntrySDataStore","Sage/MainView/BindingsManager","Sage/Utility","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","Sage/UI/_DialogLoadingMixin","Sage/Utility/Activity","dojo/date","dojo/date/locale","dojo/string","Sage/UI/Dialogs","dijit/Tooltip","Sage/UI/AttachmentList","Sage/Data/SDataServiceRegistry","Sage/Utility/File","Sage/Utility/File/Attachment","Sage/UI/Controls/Lookup","dojo/i18n!./nls/ActivityEditor","dojo/text!./templates/ActivityEditor.html","dojo/dom-class","Sage/Utility/UserOptions","dijit/focus","dojo/_base/lang","Sage/MainView/ActivityMgr/ActivityEditorAttendeesTab","dijit/layout/ContentPane","dojo/on","dijit/Toolbar","dijit/layout/TabContainer","dijit/form/Textarea","dojox/layout/TableContainer","dijit/layout/BorderContainer","dijit/form/ComboBox","Sage/Services/UserOptions","Sage/UI/Controls/SingleSelectPickList","Sage/UI/Controls/DateTimePicker","Sage/UI/Controls/Lookup","Sage/MainView/ActivityMgr/RecurringEditor","dijit/Dialog","Sage/UI/Controls/DurationSelect","Sage/Services/CalendarSecurityService"],function(_1436,_1437,_1438,_1439,_143a,_143b,_143c,_143d,_143e,_143f,_1440,_1441,_1442,_1443,_1444,_1445,_1446,_1447,_1448,_1449,_144a,_144b,_144c,_144d,_144e,lang,_144f,_1450,on){var _1451=_1438("Sage.MainView.ActivityMgr.ActivityEditor",[_1436,_1437],{activityId:"",activityMemberId:"",_memberSecurityData:[],mode:"",userNotificationId:"",id:"",activityType:"",_options:{},_dialog:false,_currentUserId:null,_originalLeaderId:false,_activityService:false,_activityData:false,_activityStore:false,_currentUserActivityData:false,_tempUAData:false,_currentUserActivityStore:false,_notificationData:false,_notificationStore:false,_notificationBindingMgr:false,_historyStore:false,_deleteAttendeeConnects:[],_attendeesData:[],_newAttendeesData:[],_attendeesForRemoval:[],_userActivitiesRequestCount:0,_resourceRequestCount:0,_resourceDeleteRequestCount:0,_availabilityShowing:false,_bindingMgr:false,_uaBindingMgr:false,_activityChangeConnection:false,lup_Account:false,lup_Contact:false,lup_Opportunity:false,lup_Ticket:false,lup_Lead:false,lup_Leader:false,accountLookupConfig:{},contactLookupConfig:{},opportunityLookupConfig:{},ticketLookupConfig:{},leadLookupConfig:{},resourcesLookupConfig:{},_isBinding:false,_activitySaved:false,_userActivitiesSaved:false,_currentUserActivitySaved:false,_resourcesSaved:false,_resourcesRemoved:false,_attachmentsSaved:false,_completeAfterSaving:false,_attachmentList:false,_tempIdForAttachments:false,confirmationDisableList:["pk_Regarding","tb_Location","dtp_startDate","sel_Duration","cb_Timeless","cb_Alarm","sel_AlarmDur","cb_AutoRollover","rdo_Contact","rdo_Lead","lup_Account","lup_Contact","lup_Opportunity","lup_Ticket","lup_Lead","ta_Notes","pk_Priority","lup_Leader","pk_Category"],noEditDisableList:["pk_Regarding","tb_Location","dtp_startDate","sel_Duration","cb_Timeless","cb_AutoRollover","rdo_Contact","rdo_Lead","lup_Account","lup_Contact","lup_Opportunity","lup_Ticket","lup_Lead","pk_Priority","lup_Leader","pk_Category"],_readOnlyMode:false,_isProcessing:false,eventConnections:[],activityDefaultValues:{},widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_144b)),constructor:function(){_143d.mixin(this,_144a);this._preloadActivityOptions();this._activityService=_1446.getSDataService("system");this._setupStore();this._currentUserId=_143b.getClientContextByKey("userID")||"";this._currentUserId=this._currentUserId.trim();dojo.subscribe("/entity/attachment/create",this,this._updateActivityETag);dojo.subscribe("/entity/attachment/update",this,this._updateActivityETag);dojo.subscribe("/entity/attachment/delete",this,this._updateActivityETag);},destroy:function(){if(this._activityChangeConnection){dojo.disconnect(this._activityChangeConnection);this._activityChangeConnection=false;}if(this._bindingMgr){this._bindingMgr.destroy();}if(this._uaBindingMgr){this._uaBindingMgr.destroy();}for(var i=0;i<this.eventConnections.length;i++){dojo.disconnect(this.eventConnections[i]);}this.lup_Account.destroy();this.lup_Contact.destroy();this.lup_Opportunity.destroy();this.lup_Ticket.destroy();this.lup_Lead.destroy();this.lup_Leader.destroy();this.eventConnections=[];this.inherited(arguments);},postCreate:function(){this._asScheduledTooltip=new _1444({connectId:[this.btn_asScheduled.id],label:" ",position:["below"]});dojo.connect(this.dtp_scheduledDate,"onChange",this,function(){this._asScheduledTooltip.set("label",_1441.format(this.dtp_scheduledDate.get("value"),{selector:"datetime",fullYear:true}));});this._nowTooltip=new _1444({connectId:[this.btn_Now.id],label:" ",position:["below"]});dojo.connect(this.dtp_completedDate,"onChange",this,function(){this._nowTooltip.set("label",_1441.format(this.dtp_completedDate.get("value"),{selector:"datetime",fullYear:true}));});dojo.subscribe("/entity/activityAttendee/primaryChanged",this,this.primaryChanged);dojo.subscribe("/entity/activityAttendee/add",this,this._updateActivityAttendeeETag);dojo.subscribe("/entity/activityAttendee/delete",this,this._updateActivityAttendeeETag);},primaryChanged:function(_1452,type,_1453){var _1454=_143d.clone(_1452);_1454["attendeeTab"]=true;_1454["$descriptor"]=_1454["Name"];_1454["$key"]=_1454["EntityId"];var self=this;if(_1454.EntityType=="Contact"){if(!_1454["Account"]){_1454["Account"]={"$key":_1454["AccountId"],"AccountName":_1454["AccountName"]||_1454["Company"]};}_1454["ContactId"]=_1454["EntityId"];if(_1454["PrimaryChecked"]){this.rdo_Contact.set("checked",true);this.rdo_Lead.set("checked",false);this.lup_Contact.set("selectedObject",_1454);this.attendeesTab._uncheckItem=_1454;}else{this.lup_Contact.set("selectedObject",null);}}else{if(_1454.EntityType=="Lead"){_1454["Company"]=_1454["AccountName"];_1454["LeadFullName"]=_1454["Name"];_1454["LeadId"]=_1454["EntityId"];if(_1454["PrimaryChecked"]){this.rdo_Contact.set("checked",false);this.rdo_Lead.set("checked",true);this.lup_Lead.set("selectedObject",_1454);this.attendeesTab._uncheckItem=_1454;}else{this.lup_Lead.set("selectedObject",null);}}}},isFirstOpen:true,show:function(_1455){this._isProcessing=false;this._dialog.set("refocus",false);this._dialog.show();if(this.isFirstOpen){this.isFirstOpen=false;this._ensureLookupsCreated();this.connect(this._recurringEditor,"onStartDateChanged",this._recurringStartDateChanged);this.connect(this._recurringEditor,"onRecurPeriodChanged",this._recurringPeriodChanged);this.connect(this._dialog,"onHide",this._cleanOnClose);}this.sel_AlarmDur.resetItems();this.activityDefaultValues={};if(this.mode==="New"){this.activityDefaultValues=_1455||{};this._loadData();}if(this.mode==="CompleteUnscheduled"&&!this.historyId){this.activityDefaultValues=_1455||{};this._loadHistory();}if(!this._dialog._standby){_143d.mixin(this._dialog,new _143e());if(!this._activityData&&!this._notificationData){this._dialog.showLoading();}}if(!this._dialog.helpIcon){_143d.mixin(this._dialog,new _143c());this._dialog.createHelpIconByTopic(this._getHelpTopicByMode());}this._availabilityShowing=false;this.tc_EditActivity.selectChild(this.cp_General);this._dialog.resize();},hide:function(){this._dialog.hide();},_onDlgHide:function(){this.onHide();},onHide:function(){this.attendeesTab._dialogHide();this._cleanOnClose();},_cleanOnClose:function(){var svc=Sage.Services.getService("ClientEntityContext");svc.clearTemporaryContext();this.set("activityId","");this.set("activityMemberId","");if(this._activityStore){this._activityStore.clearCache();}if(this._historyStore){this._historyStore.clearCache();}this._hideLookupTooltip(this.lup_Account);this._hideLookupTooltip(this.lup_Contact);this._hideLookupTooltip(this.lup_Opportunity);this._hideLookupTooltip(this.lup_Ticket);this._hideLookupTooltip(this.lup_Lead);this._hideLookupTooltip(this.lup_Leader);},_hideLookupTooltip:function(_1456){if(_1456){_1456.hideTooltip();}},_controllOnMouseEnter:function(){},_updateActivityETag:function(_1457){if(_1457){this._activityData.AttachmentCount++;}else{this._activityData.AttachmentCount--;}if(this._dialog.open&&this.activityId){var req=new Sage.SData.Client.SDataSingleResourceRequest(_1446.getSDataService("system"));req.setResourceKind("activities");req.setResourceSelector("\""+this.activityId+"\"");req.setQueryArg("precedence","0");req.read({success:function(_1458){this._activityData["$etag"]=_1458["$etag"];},scope:this});}},_updateActivityAttendeeETag:function(count){if(this._dialog.open&&this.activityId){this.AttCount=count;var self=this;var req=new Sage.SData.Client.SDataSingleResourceRequest(_1446.getSDataService("system"));req.setResourceKind("activities");req.setResourceSelector("\""+this.activityId+"\"");req.setQueryArg("precedence","0");req.setQueryArg("select","details/AttendeeCount");req.read({success:function(_1459){this._activityData["$etag"]=_1459["$etag"];if(_1459["Details"]){this._activityData["Details"]["AttendeeCount"]=_1459["Details"]["AttendeeCount"];}},scope:this});}},_ensureAttendeesTab:function(){if(!this.attendeesTab||this.mode!=this.attendeesTab.editorMode||this.activityId!==this.attendeesTab._activityId){this._addAttendeesTab(this.mode);this.userNotificationId=null;}},_addAttendeesTab:function(mode){if(this.attendeesTab){dijit.byId(this.tc_EditActivity.id).removeChild(dijit.byId("attendeesTabPane"));if(dijit.byId(this.attendeesTab.lup_Lead.id)){dijit.byId(this.attendeesTab.lup_Lead.id).destroyRecursive();}if(dijit.byId(this.attendeesTab.lup_Contact.id)){dijit.byId(this.attendeesTab.lup_Contact.id).destroyRecursive();}dijit.byId("attendeesTabPane").destroyRecursive();this.attendeesTab=null;}var _145a={editorMode:mode};var _145b=this.attendeesTab=new _144f(_145a);var cp=new _1450({id:"attendeesTabPane",title:this.tabNameParticipants,"class":"tabContent remove-padding"},_145b.domNode);this.tc_EditActivity.addChild(cp);_145b.actEditor=this;var _145c=true;if((this.mode==="Confirm")||this._isOccurence()){_145c=false;}_145b.startup(!_145c);var _145d=this;on(cp,"show",function(){if(_145c){_145b.setToReadOnly(false);}else{_145b.setToReadOnly(true);}_145b._tabShow();});},_getHelpTopicByMode:function(){switch(this.mode){case "Confirm":return "confirmnotifications";case "Complete":case "CompleteUnscheduled":return "completeactivity";}return "activitydetailview";},_showCorrectButtonBar:function(mode){if(mode==="Confirm"){_144c.add(this.add_edit_buttons,"display-none");_144c.add(this.complete_buttons,"display-none");_144c.remove(this.confirmation_edit_buttons,"display-none");}else{if(mode==="Complete"||mode==="CompleteUnscheduled"){_144c.add(this.add_edit_buttons,"display-none");_144c.add(this.confirmation_edit_buttons,"display-none");_144c.remove(this.complete_buttons,"display-none");}else{_144c.add(this.confirmation_edit_buttons,"display-none");_144c.add(this.complete_buttons,"display-none");_144c.remove(this.add_edit_buttons,"display-none");}}},_setModeAttr:function(mode){this.mode=mode;this._showCorrectButtonBar(mode);if(mode==="Confirm"){this._ensureLookupsCreated();this._bulkSetProperty(this,this.confirmationDisableList,"disabled",true);}else{this._bulkSetProperty(this,this.confirmationDisableList,"disabled",false);}if(mode.indexOf("New")===0){this.mode="New";var _145e=mode.replace("New ","").toLowerCase();switch(_145e){case "phonecall":case "atphonecall":this.activityType="atPhoneCall";break;case "meeting":case "atappointment":this.activityType="atAppointment";break;case "todo":case "attodo":this.activityType="atToDo";break;case "personalactivity":case "atpersonal":case "personal":this.activityType="atPersonal";break;case "letter":case "atletter":case "doc":case "atdoc":this.activityType="atDoc";break;case "fax":case "atfax":this.activityType="atFax";break;default:this.activityType="atAppointment";break;}this._activityData=false;_144c.add(this.btn_Delete.domNode,"display-none");_144c.add(this.btn_Complete.domNode,"display-none");this._ensureAttendeesTab();}else{_144c.remove(this.btn_Delete.domNode,"display-none");_144c.remove(this.btn_Complete.domNode,"display-none");}if(mode==="Complete"||mode==="CompleteUnscheduled"){_144c.add(this.dateSection_AddEdit.domNode,"display-none");_144c.remove(this.dateSection_Complete.domNode,"display-none");_144c.remove(this.resultContainer.domNode,"display-none");var idx=this.tc_EditActivity.getIndexOfChild(this.cp_Recurring);if(idx>0){this.tc_EditActivity.removeChild(this.cp_Recurring);var self=this;window.setTimeout(function(){self._dialog.resize();},10);}if(this._dialog.open){this._setUI();this._completeModeManualBind();}var _145f=this._options.followUp.defaultFollowUpType;var _1460=(_145f==="None")?this.noneText:_143f.getActivityTypeName(_145f);this.sel_Followup.set("value",_1460);this.ck_coAttachments.set("checked",this._options.followUp.carryOverAttachments);this.ck_coNotes.set("checked",this._options.followUp.carryOverNotes);if(mode==="CompleteUnscheduled"){this._ensureAttendeesTab();}}else{_144c.add(this.dateSection_Complete.domNode,"display-none");_144c.remove(this.dateSection_AddEdit.domNode,"display-none");_144c.add(this.resultContainer.domNode,"display-none");var idx=this.tc_EditActivity.getIndexOfChild(this.cp_Recurring);if(idx<0){var _1461=this.tc_EditActivity.getIndexOfChild(this.cp_Attachments);this.tc_EditActivity.addChild(this.cp_Recurring,_1461);var self=this;window.setTimeout(function(){self._dialog.resize();},10);}}if(this._dialog.helpIcon){this._dialog.set("helpTopic",this._getHelpTopicByMode());}},_setActivityIdAttr:function(_1462){_1462=_1462||"";this.activityId=_1462;this._activityData=false;if(_1462!==""){this.historyId="";this._loadData();this._ensureAttendeesTab();}},_getActivityIdAttr:function(){return this.activityId;},_setActivityMemberIdAttr:function(_1463){_1463=_1463||"";this.activityMemberId=_1463;},_getActivityMemberIdAttr:function(){return this.activityMemberId;},_setUserNotificationIdAttr:function(_1464){_1464=_1464||"";if(_1464!==this.userNotificationId){this.userNotificationId=_1464;this.set("activityId","");this._notificationData=false;this._loadNotification();}this._ensureAttendeesTab();},_getUserNotificationId:function(){return this.userNotificationId;},_setHistoryIdAttr:function(_1465){_1465=_1465||"";if(this.historyId!==_1465){this.historyId=_1465;this._activityData=false;if(_1465!==""){this.activityId="";this._loadHistory();}}},_getHistoryIdAttr:function(){return this.historyId;},_preloadActivityOptions:function(){this._options={atAppointment:{alarmLead:"15",duration:"60",autoRollover:false,timeless:false},atPhoneCall:{alarmLead:"15",duration:"15",autoRollover:false,timeless:false},atToDo:{alarmLead:"none",duration:"15",autoRollover:false,timeless:false},atPersonal:{alarmLead:"none",duration:"5",autoRollover:false,timeless:false},followUp:{defaultFollowUpType:"None",carryOverNotes:false,carryOverAttachments:false},calendar:{dayStartTime:"9",dayEndTime:"6"}};var _1466=Sage.Services.getService("UserOptions");if(_1466){_1466.getByCategories(["ActivityMeetingOptions","ActivityPhoneOptions","ActivityToDoOptions","ActivityPersonalOptions","Calendar"],this._receivedOptions,this);}},_receivedOptions:function(data){var _1467={"0":"None","1":"atPhoneCall","2":"atAppointment","3":"atToDo"};var opts=data["$resources"];for(var i=0;i<opts.length;i++){var opt=opts[i];var _1468=(opt.category==="ActivityMeetingOptions")?"atAppointment":(opt.category==="ActivityPhoneOptions")?"atPhoneCall":(opt.category==="ActivityToDoOptions")?"atToDo":(opt.category==="ActivityPersonalOptions")?"atPersonal":false;if(_1468&&this._options[_1468]&&opt.value){switch(opt.name){case "AlarmLead":this._options[_1468].alarmLead=(parseInt(opt.value,10)>0)?opt.value:"none";break;case "Duration":this._options[_1468].duration=opt.value;break;case "Timeless":var tval=opt.value.substring(0,1).toUpperCase();this._options[_1468].timeless=tval==="T";break;case "AutoRollover":var arval=opt.value.substring(0,1).toUpperCase();this._options[_1468].autoRollover=arval==="T";break;}}else{if(opt.category==="Calendar"){switch(opt.name){case "DayStartTime":this._options.calendar.dayStartTime=_144d.getConvertedOptionValue(opt["name"],opt["value"]);break;case "DayEndTime":this._options.calendar.dayEndTime=_144d.getConvertedOptionValue(opt["name"],opt["value"]);break;case "DefaultFollowUpType":this._options.followUp.defaultFollowUpType=_1467[opt.value]||"None";break;case "CarryOverNotes":var nval=opt.value.substring(0,1).toUpperCase();this._options.followUp.carryOverNotes=nval==="T";break;case "CarryOverAttachments":var aval=opt.value.substring(0,1).toUpperCase();this._options.followUp.carryOverAttachments=aval==="T";}}}}},_setupStore:function(){if(!this._activityStore){this._activityStore=new _1439({include:["$descriptors"],resourceKind:"activities",ignoreETag:true,service:this._activityService});}if(!this._currentUserActivityStore){this._currentUserActivityStore=new _1439({include:["$descriptors"],select:["Alarm","AlarmTime","Activity/StartDate"],resourceKind:"userActivities",service:this._activityService});}if(!this._historyStore){this._historyStore=new _1439({include:["$descriptors"],resourceKind:"history",service:_1446.getSDataService("dynamic")});}},_resetDataProps:function(){this._activityData=false;this._currentUserActivityData=false;this._tempUAData=false;this._notificationData=false;this._attendeesData=[];this._attendeesForRemoval=[];this._newAttendeesData=[];this._userActivitiesRequestCount=0;this._resourceRequestCount=0;this._resourceDeleteRequestCount=0;this._activitySaved=false;this._userActivitiesSaved=false;this._currentUserActivitySaved=false;this._resourcesSaved=false;this._resourcesRemoved=false;this._attachmentsSaved=false;this._originalLeaderId=false;if(this._attachmentList){this._attachmentList.clearNewAttachments();}this._availabilityDataDateRange={fromDate:false,toDate:false,users:[]};},_loadData:function(){if(this._dialog._standby){this._dialog.showLoading();}this._resetDataProps();if(this._activityStore){if(this.mode==="New"){this._activityStore.newItem({onComplete:function(act){Sage.Utility.setValue(act,"Type",this.activityType);this._receivedActivity(act);},onError:this._requestFailure,scope:this});}else{this._activityStore.fetch({predicate:"\""+this.activityId+"\"",onComplete:this._receivedActivity,onError:this._requestFailure,scope:this});}}},_receivedActivity:function(_1469){this._activityData=_1469;if((this._currentUserActivityStore)&&(this.mode!=="New")&&(this.mode!="CompleteUnscheduled")){var id=this.activityId||_1469.$key;id=(id.indexOf(";")>0)?id.substring(0,12):id;var _146a=this.activityMemberId||this._currentUserId;this._currentUserActivityStore.fetch({predicate:_1442.substitute("'ActivityId=${0};UserId=${1}'",[id,_146a]),onComplete:this._receivedUserActivity,onError:this._noUserActivity,scope:this});}if(_1469.AttachmentCount>0){this._activityData.Attachment=true;}this._tempIdForAttachments=false;var _146b=Sage.Services.getService("ClientEntityContext");var _146c=(this.historyId)?{"EntityId":this.historyId,"EntityType":"Sage.Entity.Interfaces.IHistory","Description":this._activityData.$descriptor,"EntityTableName":"HISTORY"}:{"EntityId":this.activityId,"EntityType":"Sage.Entity.Interfaces.IActivity","Description":this._activityData.$descriptor,"EntityTableName":"ACTIVITY"};_146b.setTemporaryContext(_146c);if(this.mode!=="New"&&this.mode!="CompleteUnscheduled"){this.activityType=_1469.Type;}else{this._applyUserOptionsForNewActivity();}if(this.activityMemberId&&this.activityMemberId!==this._currentUserId&&!this._memberSecurityData[this.activityMemberId]){this._checkSecurityAccess(this._currentUserId,this.activityMemberId,function(_146d){if(_146d){this._memberSecurityData[this.activityMemberId]=[];this._memberSecurityData[this.activityMemberId].AllowAdd=_146d.AllowAdd;this._memberSecurityData[this.activityMemberId].AllowEdit=_146d.AllowEdit;this._memberSecurityData[this.activityMemberId].AllowDelete=_146d.AllowDelete;}this._setUIForActivityType(_1469.Type);this._bind();},this);}else{this._setUIForActivityType(_1469.Type);this._bind();}if(this._activityData["Leader"]){this._originalLeaderId=this._activityData.Leader["$key"];}else{this._originalLeaderId=this._activityData["UserId"]||this._currentUserId;}if(this._dialog._standby){this._dialog.hideLoading();}this.attendeesTab._activityId=_1469.$key;if(_1469.details){this._activityData.AttendeeCount=_1469.details.AttendeeCount;}if(this.mode=="Confirm"){this.attendeesTab._grid.refresh();}},_receivedUserActivity:function(_146e){if(this._dialog._standby){this._dialog.hideLoading();}this._currentUserActivityData=_146e;if(_146e.Alarm===null){_146e.Alarm=this._activityData.Alarm;}if(_146e.AlarmTime===null){_146e.AlarmTime=this._activityData.AlarmTime;}this._tempUAData={Alarm:_146e.Alarm,AlarmTime:_143b.Convert.toDateFromString(_146e.AlarmTime)};this._bindUserActivity();},_loadNotification:function(){if(this._dialog._standby){this._dialog.showLoading();}this._resetDataProps();if(!this._notificationStore){this._notificationStore=new _1439({include:["Activity","$descriptors"],resourceKind:"userNotifications",service:_1446.getSDataService("system")});}this._notificationStore.fetch({predicate:"'"+this.userNotificationId+"'",onComplete:this._receivedNotification,onError:this._requestFailure,scope:this});},_loadHistory:function(){if(this._dialog._standby){this._dialog.showLoading();}if(this._historyStore){if(!this.historyId){this._historyStore.newItem({onComplete:function(hist){this._receivedActivity(_143d.mixin(hist,this.activityDefaultValues));this._formatHeader();},scope:this});}else{this._historyStore.fetch({predicate:this.historyId,onComplete:function(hist){this._receivedActivity(hist);this._formatHeader();},onError:this._requestFailure,scope:this});}}},_receivedNotification:function(_146f){this._receivedActivity(_146f.Activity||this._emptyActivity);this._notificationData=_146f;this._formatHeader();this._bindUserNotification();if(_146f.Type==="New"){this._setUIAsUnConfirmed();}else{_144c.remove(this.otherConfButtons,"display-none");_144c.add(this.newConfButtons,"display-none");if(_146f.Type==="Confirm"||_146f.Type==="Decline"){this.ta_confirmationResponse.set("disabled",true);_144c.remove(this.responseLabel,"display-none");_144c.remove(this.ta_confirmationResponse.domNode,"display-none");}else{_144c.add(this.responseLabel,"display-none");_144c.add(this.ta_confirmationResponse.domNode,"display-none");}if(_146f.Type==="Change"){this._checkUserConfirmationStatus();}}},_checkUserConfirmationStatus:function(){var req=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("system")).setResourceKind("userActivities").setResourceSelector("\""+this._notificationData.Activity["$key"]+";"+this._notificationData.ToUser["$key"]+"\"");req.read({success:function(ua){if(ua.Status==="asUnconfirmed"){this._setUIAsUnConfirmed();}},failure:function(){},scope:this});},_setUIAsUnConfirmed:function(){_144c.add(this.otherConfButtons,"display-none");_144c.remove(this.newConfButtons,"display-none");this.ta_confirmationResponse.set("disabled",false);_144c.remove(this.responseLabel,"display-none");_144c.remove(this.ta_confirmationResponse.domNode,"display-none");},_applyUserOptionsForNewActivity:function(){var _1470=_143f.roundDateToNextQuarterHour(new Date());var _1471="15";if(this._options[this.activityType]){var _1472=this._options[this.activityType];_143b.setValue(this._activityData,"Duration",_1472["duration"]||"60");_1471=_1472["alarmLead"];_143b.setValue(this._activityData,"Rollover",_1472["autoRollover"]);_143b.setValue(this._activityData,"Timeless",_1472["timeless"]);if(this._activityData.Timeless){_1470=new Date(_1470.getFullYear(),_1470.getMonth(),_1470.getDate(),0,0,5);}}_143b.setValue(this._activityData,"StartDate",_143b.Convert.toIsoStringFromDate(_1470));this._activityData=_143d.mixin(this._activityData,this.activityDefaultValues);if(_1471.toLowerCase()==="none"){_143b.setValue(this._activityData,"Alarm",false);_1471=15;}else{Sage.Utility.setValue(this._activityData,"Alarm",true);_1471=parseInt(_1471,10);}var d=_143b.Convert.toDateFromString(_143b.getValue(this._activityData,"StartDate"));var _1473=this._getAlarmTime(d,_1471,this._activityData.Timeless);_143b.setValue(this._activityData,"AlarmTime",_143b.Convert.toIsoStringFromDate(_1473));this.sel_AlarmDur.set("startTime",d);this.sel_AlarmDur.set("timeValue",_1473);var ldr={"$key":this._currentUserId,"$descriptor":_143b.getClientContextByKey("userPrettyName")};_143b.setValue(this._activityData,"Leader",ldr);if(this.activityDefaultValues.hasOwnProperty("carryOverAttachmentsFrom")){var self=this,_1474=this.activityDefaultValues["carryOverAttachmentsFrom"];window.setTimeout(function(){self.doCarryOverAttachments(_1474);},1000);}if(this.activityDefaultValues.hasOwnProperty("carryOverParticipantsFrom")){var self1=this,_1475=this.activityDefaultValues["carryOverParticipantsFrom"];window.setTimeout(function(){self1._getHistoryAttendees(_1474);},1000);}},_noUserActivity:function(){this._bindUserActivity();},_requestFailure:function(_1476){if(this._dialog._standby){this._dialog.hideLoading();}_1443.showError(this.failedLoadingDataMsg);this.hide();},_createBindings:function(){if(this._bindingMgr){this._bindingMgr.destroy();this._bindingMgr=false;}this._bindingMgr=new _143a({defaultBinding:{boundEntity:this._activityData},items:[{boundWidget:this.tb_Location,entityProperty:"Location"},{boundWidget:this.pk_Regarding,entityProperty:"Description",onChange:dojo.hitch(this,"_descriptionChanged")},{boundWidget:this.pk_Category,entityProperty:"Category"},{boundWidget:this.pk_Priority,entityProperty:"Priority"},{boundWidget:this.ta_Notes,entityProperty:"LongNotes",onChange:dojo.hitch(this,"_notesChanged")},{boundWidget:this.dtp_startDate,dataType:"date",entityProperty:"StartDate",onChange:dojo.hitch(this,"_startDateChanged")},{boundWidget:this.sel_Duration,entityProperty:"Duration"},{boundWidget:this.sel_Duration,entityProperty:"StartDate",widgetProperty:"startTime",dataType:"date",twoWay:false},{boundWidget:this.sel_AlarmDur,entityProperty:"StartDate",widgetProperty:"startTime",dataType:"date",twoWay:false},{boundWidget:this.cb_Timeless,entityProperty:"Timeless",widgetProperty:"checked",onChange:dojo.hitch(this,"_timelessChange")},{boundWidget:this.cb_AutoRollover,entityProperty:"Rollover",widgetProperty:"checked"},{boundWidget:this.dtp_scheduledDate,dataType:"date",entityProperty:"StartDate"},{boundWidget:this.sel_DurationComplete,entityProperty:"Duration"},{boundWidget:this.sel_DurationComplete,entityProperty:"StartDate",widgetProperty:"startTime",dataType:"date",twoWay:false},{boundWidget:this.cb_TimelessComplete,entityProperty:"Timeless",widgetProperty:"checked",onChange:dojo.hitch(this,"_timelessChange")}]});},_createUABindings:function(){this._uaBindingMgr=new _143a({items:[{boundWidget:this.cb_Alarm,entityProperty:"Alarm",widgetProperty:"checked",onChange:dojo.hitch(this,"_alarmCheckChanged")}]});},_createNotificationBindings:function(){this._notificationBindingMgr=new _143a({items:[{boundWidget:this.ta_confirmationResponse,entityProperty:"Notes",boundEntity:this._notificationData}]});},_bind:function(){if(this._activityData){if(!this._bindingMgr){this._createBindings();}else{if(!this._bindingMgr.boundEntity||(this._activityData["$key"]!==this._bindingMgr.boundEntity["$key"])){this._bindingMgr.setBoundEntity(this._activityData);}else{this._bindingMgr.bind();}}if(this.mode==="New"||this.mode==="CompleteUnscheduled"){this._noUserActivity();}this._manualBind();this._setUI();}},_bindUserNotification:function(){if(!this._notificationBindingMgr){this._createNotificationBindings();}else{this._notificationBindingMgr.setBoundEntity(this._notificationData);}},_isNullOrWhitespace:function(str){return (!str||str.trim()==="");},_manualBind:function(){if(this._activityData){this._isBinding=true;var act=this._activityData;var _1477=this._isNullOrWhitespace(act.AccountId)?null:{"$key":act.AccountId,"$descriptor":act.AccountName};this.lup_Account.set("selectedObject",_1477);var _1478=this._isNullOrWhitespace(act.ContactId)?null:{"$key":act.ContactId,"$descriptor":act.ContactName};this.lup_Contact.set("selectedObject",_1478);var _1479=this._isNullOrWhitespace(act.OpportunityId)?null:{"$key":act.OpportutunityId,"$descriptor":act.OpportunityName};this.lup_Opportunity.set("selectedObject",_1479);var _147a=this._isNullOrWhitespace(act.TicketId)?null:{"$key":act.TicketId,"$descriptor":act.TicketNumber};this.lup_Ticket.set("selectedObject",_147a);var _147b=this._isNullOrWhitespace(act.LeadId)?null:{"$key":act.LeadId,"$descriptor":act.LeadName};this.lup_Lead.set("selectedObject",_147b);this.tb_LeadCompanyName.set("value",this._isNullOrWhitespace(act.LeadId)?"":act.AccountName);this._updateLookupSeedValues(act.AccountId);this.lup_Leader.set("selectedObject",act.Leader);if(this.mode!=="Complete"){this._recurringEditor.set("activity",act);}var _147c=Sage.Utility.Convert.toDateFromString(this._activityData.AlarmTime);this.sel_AlarmDur.set("timeValue",_147c);this._completeModeManualBind();this._isBinding=false;if(this.mode=="New"||this.mode==="CompleteUnscheduled"){if(this._activityData){var act=this._activityData;var _1478=this._isNullOrWhitespace(act.ContactId)?null:{"$key":act.ContactId,"$descriptor":act.ContactName};this.attendeesTab._addContactAttendee(_1478);var _147b=this._isNullOrWhitespace(act.LeadId)?null:{"$key":act.LeadId,"$descriptor":act.LeadName};this.attendeesTab._addLeadAttendee(_147b);}}}},_completeModeManualBind:function(){if(this.mode==="Complete"||this.mode==="CompleteUnscheduled"){this.dtp_completedDate.set("value",new Date());this.pl_Result.set("value",this.completeText);if(this.mode==="Complete"){this.pl_Result.focus();}}},_bindUserActivity:function(){if(!this._uaBindingMgr){this._createUABindings();}this.sel_AlarmDur.set("disabled",false);var _147d=this._getActivityStartDate();this.sel_AlarmDur.set("startTime",_147d);var ent=(this._currentUserActivityData)?this._currentUserActivityData:this._activityData;var _147e=_143b.Convert.toDateFromString(ent.AlarmTime);if(this._currentUserActivityData&&_143b.getValue(this._activityData,"RecurrenceState")==="rstOccurrence"){var _147f=_143b.Convert.toDateFromString(this._currentUserActivityData.Activity.StartDate);var _1480=_143b.Convert.toDateFromString(this._currentUserActivityData.AlarmTime);var dur=_1440.difference(_147f,_1480,"minute");_147e=_1440.add(_147d,"minute",dur);}this._uaBindingMgr.setBoundEntity(ent);this.sel_AlarmDur.set("timeValue",_147e);this.sel_AlarmDur.set("disabled",!ent.Alarm||this.mode==="Confirm");},_getActivityStartDate:function(){if(this._activityData){var sDate=Sage.Utility.Convert.toDateFromString(this._activityData.StartDate);if((this._activityData.Timeless)&&(_143f.isDateFiveSecondRuleTimeless(sDate))){return new Date(sDate.getUTCFullYear(),sDate.getUTCMonth(),sDate.getUTCDate(),0,0,5);}return sDate;}return new Date();},_onShowAvailabilityTab:function(){if(!this._availabilityShowing){this._resetAttendeesList();this._loadAttendeesData();}else{scheduler.setCurrentView(this._getActivityStartDate(),"timeline");}},_accountChanged:function(_1481){if(this._isBinding){return;}var newId=(_1481)?_1481["$key"]:"";var _1482=(_1481)?_1481["$descriptor"]:"";var act=this._activityData;var _1483=this._isNullOrWhitespace(act.ContactId);act.AccountId=newId;act.AccountName=_1482;act.ContactId=null;act.ContactName="";act.PhoneNumber="";act.OpportunityId=null;act.OpportunityName="";act.TicketId=null;act.TicketNumber="";act.LeadId=null;act.LeadName="";this._isBinding=true;this.lup_Contact.set("selectedObject",null);this.lup_Opportunity.set("selectedObject",null);this.lup_Ticket.set("selectedObject",null);this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._updateLookupSeedValues(newId);this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");if(_1483){this._setContactToCurrentAccountPrimary();}this._isBinding=false;},_contactChanged:function(_1484){if(!this._isBinding){var act=this._activityData;if(!_1484){act.ContactId=null;act.ContactName="";act.PhoneNumber="";return;}act.ContactId=_1484["$key"];act.ContactName=_1484["$descriptor"];act.PhoneNumber=Sage.Utility.getValue(_1484,"WorkPhone");act.LeadId=null;act.LeadName="";act.AccountId=_1484.Account["$key"];act.AccountName=_1484.Account.AccountName;this._updateLookupSeedValues(_1484.Account["$key"]);this._isBinding=true;this.lup_Account.set("selectedObject",{"$key":_1484.Account["$key"],"$descriptor":_1484.Account.AccountName});this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._isBinding=false;}if(_1484&&_1484["$key"]&&!_1484["attendeeTab"]){if(this.attendeesTab._grid.mode!="insert"&&this._isBinding){if(!this.attendeesTab._gridStarted){this.attendeesTab.setInitialPrimaryContact(_1484);}else{if(!this.attendeesTab._attendeeExists(_1484["$key"])){this.attendeesTab._addContactAttendee(_1484);}}}else{this.attendeesTab._addContactAttendee(_1484);}}},_opportunityChanged:function(_1485){if(this._isBinding){return;}var act=this._activityData;if(!_1485){act.OpportunityId=null;act.OpportunityName="";return;}act.OpportunityId=_1485["$key"];act.OpportunityName=_1485["$descriptor"];if(this._isNullOrWhitespace(act.AccountId)||act.AccountId!==_1485.Account["$key"]){act.AccountId=_1485.Account["$key"];act.AccountName=_1485.Account.AccountName;act.LeadId=null;act.LeadName="";this._updateLookupSeedValues(_1485.Account["$key"]);this._isBinding=true;this.lup_Account.set("selectedObject",{"$key":_1485.Account["$key"],"$descriptor":_1485.Account.AccountName});this.lup_Contact.set("selectedObject",null);this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._isBinding=false;this._setContactBasedOnOpportunity();}},_ticketChanged:function(_1486){if(this._isBinding){return;}var act=this._activityData;if(!_1486){act.TicketId=null;act.TicketNumber="";return;}act.TicketId=_1486["$key"];act.TicketNumber=_1486["$descriptor"];if(this._isNullOrWhitespace(act.AccountId)||act.AccountId!==_1486.Account["$key"]){act.AccountId=_1486.Account["$key"];act.AccountName=_1486.Account["AccountName"];act.LeadId=null;act.LeadName="";this._updateLookupSeedValues();act.ContactId=Sage.Utility.getValue(_1486,"Contact.$key");act.ContactName=Sage.Utility.getValue(_1486,"Contact.NameLF");act.PhoneNumber=Sage.Utility.getValue(_1486,"Contact.WorkPhone");this._isBinding=true;this.lup_Account.set("selectedObject",{"$key":_1486.Account["$key"],"$descriptor":_1486.Account["AccountName"]});this.lup_Contact.set("selectedObject",{"$key":_1486.Contact["$key"],"$descriptor":_1486.Contact["NameLF"]});this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._isBinding=false;}},_leadChanged:function(_1487){if(this._isBinding){return;}var act=this._activityData;if(!_1487){act.LeadId=null;act.LeadName="";act.PhoneNumber="";this.tb_LeadCompanyName.set("value","");return;}act.ContactId=null;act.ContactName="";act.AccountId=null;act.TicketId=null;act.TicketNumber="";act.OpportunityId=null;act.OpportunityName="";this._updateLookupSeedValues();this._isBinding=true;this.lup_Contact.set("selectedObject",null);this.lup_Account.set("selectedObject",null);this.lup_Opportunity.set("selectedObject",null);this.lup_Ticket.set("selectedObject",null);this._isBinding=false;act.LeadId=_1487["$key"];act.LeadName=_1487["LeadFullName"];act.AccountName=_1487["Company"];act.PhoneNumber=_1487["WorkPhone"];this.tb_LeadCompanyName.set("value",_1487["Company"]);if(this._isBinding){return;}if(_1487&&_1487["$key"]&&!_1487["attendeeTab"]){this.attendeesTab._addLeadAttendee(_1487);}},_leaderChanged:function(_1488){if(this._isBinding){return;}var _1489=this._activityData.Leader["$key"]||this._activityData["UserId"];if(_1488){var key=_1488["$key"].substr(0,12);this._activityData.Leader={"$key":key,"$descriptor":_1488["$descriptor"]||_1488["Name"]};this._activityData.LeaderChanged=true;}this._updateUsersListWithNewLeader(_1489,this._activityData.Leader);},_setContactBasedOnOpportunity:function(){if(this._isNullOrWhitespace(this._activityData.OpportunityId)){this._rebindToCurrentContact();return;}var req=new Sage.SData.Client.SDataResourceCollectionRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));req.setResourceKind("opportunities");var _148a=req.uri.pathSegments.length-1;var _148b=req.uri.getPathSegment(_148a);_148b["predicate"]="\""+this._activityData.OpportunityId+"\"";req.uri.setPathSegment(_148a+1,"Contacts");req.setQueryArg("select","IsPrimary,Contact/NameLF,Contact/IsPrimary,Contact/WorkPhone");req.setQueryArg("orderby","IsPrimary desc");req.read({success:function(data){var _148c=data["$resources"];if(_148c.length<1){this._setContactToCurrentAccountPrimary();return;}var _148d=false,_148e=false,_148f=_148c[0],_1490;for(var i=0;i<_148c.length;i++){if(_148c[i]){if(_148c.IsPrimary){if(!_148d||_148c[i].Contact.IsPrimary){_148d=_148c[i];}}if(!_148e&&_148c[i].Contact.IsPrimary){_148e=_148c[i];}}}_1490=_148d||_148e||_148f;if(_1490){this._activityData.ContactId=Sage.Utility.getValue(_1490,"Contact.$key");this._activityData.ContactName=Sage.Utility.getValue(_1490,"Contact.NameLF");this._activityData.PhoneNumber=Sage.Utility.getValue(_1490,"Contact.WorkPhone");this._rebindToCurrentContact();}},failure:function(){this._rebindToCurrentContact();},scope:this});},_setContactToCurrentAccountPrimary:function(){if(this._isNullOrWhitespace(this._activityData.AccountId)){this._rebindToCurrentContact();return;}var req=new Sage.SData.Client.SDataResourceCollectionRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));req.setResourceKind("accounts");var _1491=req.uri.pathSegments.length-1;var _1492=req.uri.getPathSegment(_1491);_1492["predicate"]="\""+this._activityData.AccountId+"\"";req.uri.setPathSegment(_1491+1,"Contacts");req.setQueryArg("select","NameLF,IsPrimary,WorkPhone");req.setQueryArg("orderby","IsPrimary desc");req.setQueryArg("count","1");req.read({success:function(data){var _1493=data["$resources"];if(_1493.length<1){this._rebindToCurrentContact();return;}var _1494=_1493[0];this._activityData.ContactId=Sage.Utility.getValue(_1494,"$key");this._activityData.ContactName=Sage.Utility.getValue(_1494,"NameLF");this._activityData.PhoneNumber=Sage.Utility.getValue(_1494,"WorkPhone");this._isBinding=true;this.lup_Contact.set("selectedObject",_1494);this._isBinding=false;},failure:function(){this._rebindToCurrentContact();},scope:this});},_rebindToCurrentContact:function(){this._isBinding=true;this.lup_Contact.set("selectedObject",{"$key":this._activityData.ContactId,"$descriptor":this._activityData.ContactName});this._isBinding=false;},_updateLookupSeedValues:function(_1495){var accId=_1495||this._activityData.AccountId;this.contactLookupConfig.seedValue=accId;this.opportunityLookupConfig.seedValue=accId;this.ticketLookupConfig.seedValue=accId;},_setUI:function(){this._formatHeader();this._setDisabledByTimlessValue();this._setHasAlarmUI();if(this._isNullOrWhitespace(this._activityData.LeadId)){this.rdo_Contact.set("checked",true);}else{this.rdo_Lead.set("checked",true);}this._setContactLeadVisibility();this._setScheduledByLabel();},_checkSecurityAccess:function(_1496,_1497,_1498,scope){this.accessData=false;if(!this._accessStore){this._accessStore=new _1439({include:["$descriptors"],resourceKind:"activityresourceviews",service:_1446.getSDataService("dynamic")});}this._accessStore.fetch({predicate:"'"+_1497+"-"+_1496+"'",onComplete:function(_1499){_1498.call(scope,_1499);},onError:function(){_1498.call(scope,null);},scope:this});},_setUIForActivityType:function(_149a){this.pk_Regarding.set("pickListName",_143f.getActivityPicklistName("Regarding",_149a));this.pk_Category.set("pickListName",_143f.getActivityPicklistName("Category",_149a));this.pl_Result.set("pickListName",_143f.getActivityPicklistName("Result",_149a));this.btn_Complete.set("disabled",!this._activityData.AllowComplete);if(this.mode!=="Confirm"){var _149b=this._activityData.AllowEdit;var _149c=this._activityData.AllowDelete;if(this.activityMemberId&&this.activityMemberId!==this._activityData.Leader.$key){_149b=false;_149c=false;}this._bulkSetProperty(this,this.noEditDisableList,"disabled",(!_149b));this.ta_Notes.set("readonly",!_149b);if((this.activityMemberId&&this._memberSecurityData[this.activityMemberId]&&this._memberSecurityData[this.activityMemberId].AllowEdit)||this.activityMemberId===this._currentUserId||this._activityData["UserId"]===this._currentUserId){this.btn_OK.set("disabled",false);}else{this.btn_OK.set("disabled",!this._activityData.AllowEdit);}this.btn_Delete.set("disabled",!_149c);}if(this.mode==="Complete"){this.btn_asScheduled.set("disabled",!this._activityData.AllowComplete);this.btn_Now.set("disabled",!this._activityData.AllowComplete);}this.pk_Category.set("disabled",(_149a==="atPersonal")||(this.mode==="Confirm")||this.pk_Category.get("disabled"));if((!this._canEdit())||(_149a==="atPersonal"||_149a==="atToDo")){_144c.add(this.lup_Resources.domNode,"display-none");}else{_144c.remove(this.lup_Resources.domNode,"display-none");}},_setDisabledByTimlessValue:function(){if(!this._activityData){return;}var tless=this._activityData["Timeless"];this._handleAutoRolloverState();this.dtp_startDate.set("displayTime",!tless);var _149d=this._activityData.AllowEdit;if(this.activityMemberId&&this.activityMemberId!==this._activityData.Leader.$key){_149d=false;}this.sel_Duration.set("disabled",tless||(this.mode==="Confirm")||!_149d);this.sel_DurationComplete.set("disabled",tless);this.dtp_scheduledDate.set("displayTime",!tless);},_handleAutoRolloverState:function(){var _149e=(this._activityData["Timeless"]&&!this._activityData["Recurring"]);if(_149e){this.cb_AutoRollover.set("disabled",false);}else{this.cb_AutoRollover.set("disabled",true);this.cb_AutoRollover.set("checked",false);}},_bulkSetProperty:function(ui,_149f,prop,val){for(var i=0;i<_149f.length;i++){var ctrl=ui[_149f[i]];if(ctrl){ctrl.set(prop,val);}}},_timelessChange:function(){this._setDisabledByTimlessValue();if(this.mode==="Complete"||this.mode==="CompleteUnscheduled"){if(this.cb_TimelessComplete.get("checked")){var _14a0=this.dtp_scheduledDate.get("value");_14a0.setHours(0);_14a0.setMinutes(0);_14a0.setSeconds(5);this.dtp_scheduledDate.set("value",_14a0);}}else{_143b.setValue(this._activityData,"TimelessChanged",true);if(this.cb_Timeless.get("checked")){var d=this.dtp_startDate.get("value");d.setHours(0);d.setMinutes(0);d.setSeconds(5);this.dtp_startDate.set("value",d);var _14a1=this._getAlarmLeadTime();var _14a2=this._getAlarmTime(d,_14a1,true);this.sel_AlarmDur.set("startTime",d);this.sel_AlarmDur.set("timeValue",_14a2);}else{var d=this.dtp_startDate.get("value");var _14a3=_143f.roundDateToNextQuarterHour(new Date());var min=_14a3.getMinutes();var hour=_14a3.getHours();var _14a4=new Date(d.getFullYear(),d.getMonth(),d.getDate(),hour,min);this.dtp_startDate.set("value",_14a4);var _14a1=this._getAlarmLeadTime();var _14a2=this._getAlarmTime(_14a4,_14a1,false);this.sel_AlarmDur.set("startTime",_14a4);this.sel_AlarmDur.set("timeValue",_14a2);}}},_alarmCheckChanged:function(_14a5,_14a6,_14a7,_14a8){this._setHasAlarmUI(_14a8);},_descriptionChanged:function(){this._formatHeader();},_notesChanged:function(_14a9,_14aa,_14ab,_14ac){_143b.setValue(this._activityData,"Notes",(_14ac)?_14ac.substr(0,255):_14ac);},_startDateChanged:function(){var _14ad=this.dtp_startDate.get("value");this.sel_Duration.set("startTime",_14ad);this.sel_AlarmDur.set("startTime",_14ad);var _14ae=this._getAlarmLeadTime();var _14af=this._getAlarmTime(_14ad,_14ae,this.cb_Timeless.get("checked"));this.sel_AlarmDur.set("timeValue",_14af);var act=(this._currentUserActivityData)?this._currentUserActivityData:this._activityData;Sage.Utility.setValue(act,"AlarmTime",Sage.Utility.Convert.toIsoStringFromDate(this.sel_AlarmDur.get("timeValue")));if(this._availabilityShowing){scheduler.setCurrentView(_14ad,"timeline");this._requestAvailability();}this._recurringEditor.set("startDate",_14ad);},_getAlarmTime:function(_14b0,_14b1,_14b2){var _14b3=_1440.add(_14b0,"minute",_14b1*-1);if(_14b2===true){_14b3=new Date(_14b0.getFullYear(),_14b0.getMonth(),_14b0.getDate());_14b3=_1440.add(_14b3,"minute",_14b1*-1);}return _14b3;},_getAlarmLeadTime:function(){var _14b4="15";if(this._options[this.activityType]){var _14b5=this._options[this.activityType];_14b4=_14b5["alarmLead"];}if(_14b4.toLowerCase()==="none"){_14b4=15;}else{_14b4=parseInt(_14b4,10);}return _14b4;},_setHasAlarmUI:function(_14b6){if(typeof _14b6==="undefined"){_14b6=Sage.Utility.getValue(this._currentUserActivityData||this._activityData,"Alarm");}this.sel_AlarmDur.set("disabled",!_14b6||this.mode==="Confirm");},_setContactLeadVisibility:function(){var _14b7=this.rdo_Contact.get("checked");_144c.remove((_14b7)?this.contactContainer.domNode:this.leadContainer.domNode,"display-none");_144c.add((_14b7)?this.leadContainer.domNode:this.contactContainer.domNode,"display-none");},_formatHeader:function(){var _14b8="";var _14b9=_143f.getActivityTypeName(this._activityData["Type"]||"atAppointment");switch(this.mode){case "New":_14b8=this.scheduleText;break;case "Complete":case "CompleteUnscheduled":_14b8=this.completeText;break;}if(this.mode==="Confirm"){if(!this._notificationData){return;}this._getUserInfoFor(this._notificationData.FromUser["$key"],function(user){if(this._notificationData){var _14ba=this._notificationData.Type;switch(_14ba){case "Change":_14b8=this.updatedText;break;case "Confirm":_14b8=this.acceptedText;break;case "Deleted":_14b8=this.deletedText;break;case "Leader":_14b8=this.scheduledText;break;case "Decline":_14b8=this.declinedText;break;}var _14bb=(_14ba==="New")?this.newConfirmationHeaderFormatText:this.otherConfimationHeaderFormatText;this._setHeader(_1442.substitute(_14bb,{activityType:_14b9,actionText:_14b8,user:user["UserName"]||user["$descriptor"]}));}});}else{this._setHeader(_1442.substitute(this.dialogHeaderFormatText,{actionText:_14b8,activityType:_14b9,description:this._activityData["Description"]||""}));}},_setHeader:function(_14bc){var html=_1442.substitute("<div class=\"Global_Images icon16x16 ${0}\" > </div>&nbsp;<span class=\"activity-dialog-title\">${1}</span>",[_143f.getActivityImageClass(this._activityData["Type"]||"atAppointment","small"),_14bc]);this._dialog.titleNode.innerHTML=html;},_setScheduledByLabel:function(){var _14bd=_143b.Convert.toDateFromString(_143b.getValue(this._activityData,"CreateDate"));if(!_14bd||_14bd.getFullYear()<1000){_14bd=new Date();}var _14be=this._getActivityStartDate();var _14bf=_143b.getValue(this._activityData,"CreateUser").trim();var _14c0=(this.mode==="Complete"||this.mode==="CompleteUnscheduled")?this.completeScheduledByFormatText:this.scheduledByFormatText;var lbl;if(!_14bf||this._currentUserId===_14bf){_14bf=_143b.getClientContextByKey("userPrettyName");}else{if(_14bf==="PROCESS"||_14bf==="ADMIN"){_14bf="Administrator";}else{this._getUserInfoFor(_14bf,function(user){lbl=_1442.substitute(_14c0,{user:user["$descriptor"],date:_1441.format(_14bd,{selector:"date",fullYear:true}),startDate:_1441.format(_14be,{selector:"date",fullYear:true})});dojo.html.set(this.lbl_ScheduledBy,lbl);dojo.html.set(this.lbl_ScheduledByComp,lbl);});return;}}lbl=_1442.substitute(_14c0,{user:_14bf,date:_1441.format(_14bd,{selector:"date",fullYear:true}),startDate:_1441.format(_14be,{selector:"date",fullYear:true})});dojo.html.set(this.lbl_ScheduledBy,lbl);dojo.html.set(this.lbl_ScheduledByComp,lbl);},_getUserInfoFor:function(_14c1,_14c2){if(_14c1){var _14c3=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic",false,true,true));_14c3.setResourceKind("userInfo");_14c3.setResourceSelector("'"+_14c1+"'");_14c3.setQueryArg("precedence","0");_14c3.read({success:_14c2,scope:this,failure:function(){}});}},_showRecurringTab:function(){this._recurringEditor.onTabShow();this._recurringEditor._setReadOnly(!this._canEdit());},_showAttachmentsTab:function(){var self=this;window.setTimeout(function(){self._ensureAttachmentList();},100);},_ensureAttachmentList:function(){if(!this._attachmentList){this._attachmentList=new _1445({workspace:"",tabId:"",placeHolder:this.id+"_attachmentsGridPlaceholder",parentRelationshipName:"activityId"});var self=this;this._attachmentList.startup(function(){if(self.cp_Attachments){self.cp_Attachments.resize();}if(self._canEdit()){self._attachmentList.setToReadOnly(false);}else{self._attachmentList.setToReadOnly(true);}});}else{if(this._canEdit()){this._attachmentList.setToReadOnly(false);}else{this._attachmentList.setToReadOnly(true);}this._attachmentList.resetEntityContext();}},_completeClick:function(){this._completeAfterSaving=true;this._saveAndClose();},_deleteClick:function(){if(this._activityData&&this._activityStore){_1443.raiseQueryDialogExt({title:"",query:this.areYouSureText,callbackFn:function(_14c4){if(_14c4){this._activityStore.deleteEntity(this._activityData,this._successfulActivityDelete,this._failedActivityDelete,this);}},yesText:this.okText,noText:this.cancelText,icon:"questionIcon",scope:this});}},_asScheduledClick:function(){this._updateAttendeesAndComplete(_1440.add(this.dtp_scheduledDate.get("value"),"minute",this._activityData.Duration));},_nowClick:function(){this._updateAttendeesAndComplete(this.dtp_completedDate.get("value"));},_updateAttendeesAndComplete:function(_14c5){if(this.mode==="Complete"){var self=this;var _14c6=this.attendeesTab._activitySaved();_14c6.then(function(value){self._completeActivity(_14c5);});}else{this._completeActivity(_14c5);}},_completeActivity:function(_14c7){if(this._isProcessing){return;}this._isProcessing=true;if(this.mode==="Complete"){var _14c8={"$name":"Complete","request":{"entity":this._activityData,"userId":this._currentUserId,"result":this.pl_Result.get("value"),"resultCode":this.pl_Result.get("code"),"completeDate":_143b.Convert.toIsoStringFromDate(_14c7)}};var _14c9=new Sage.SData.Client.SDataServiceOperationRequest(_1446.getSDataService("system")).setResourceKind("activities").setOperationName("Complete");_14c9.execute(_14c8,{success:this._successfulComplete,failure:this._failedComplete,scope:this});}else{if(this.mode==="CompleteUnscheduled"){var _14ca=new _1439({include:["$descriptors"],resourceKind:"history",service:_1446.getSDataService("dynamic")});_143b.setValue(this._activityData,"CompletedDate",_143b.Convert.toIsoStringFromDate(_14c7));_143b.setValue(this._activityData,"Result",this.pl_Result.get("value"));_143b.setValue(this._activityData,"ResultCode",this.pl_Result.get("code"));_143b.setValue(this._activityData,"UserId",this._activityData.Leader.$key);_143b.setValue(this._activityData,"UserName",this._activityData.Leader.$descriptor);_14ca.saveNewEntity(this._activityData,this._successfulComplete,this._failedComplete,this);}}},_okClick:function(){var _14cb=_144e.curNode;if(_14cb){_14cb.blur();}setTimeout(lang.hitch(this,function(){this._saveAndClose();}),1);},_saveAndClose:function(){var _14cc=this.sel_AlarmDur.get("timeValue");if(_14cc.getSeconds()===5){_14cc=new Date(_14cc.getFullYear(),_14cc.getMonth(),_14cc.getDate(),_14cc.getHours(),_14cc.getMinutes(),0);}if(this.mode==="New"){if(this._attachmentList){var _14cd=this._attachmentList.getNewAttachments();if(_14cd.length>0){this._activityData.Attachment=true;}}this._currentUserActivitySaved=true;_143b.setValue(this._activityData,"Alarm",this.cb_Alarm.get("checked"));_143b.setValue(this._activityData,"AlarmTime",_143b.Convert.toIsoStringFromDate(_14cc));this._activityStore.saveNewEntity(this._activityData,this._successfulActivitySave,this._failedActivitySave,this);}else{this._activityData.Attachment=this._activityData.AttachmentCount>0?true:false;if(this._currentUserActivityData){if(_143b.getValue(this._activityData,"RecurrenceState")==="rstOccurrence"){_143b.setValue(this._activityData,"Alarm",this.cb_Alarm.get("checked"));_143b.setValue(this._activityData,"AlarmTime",_143b.Convert.toIsoStringFromDate(_14cc));this._currentUserActivitySaved=true;if(this._activityData.AllowEdit){this._saveActivity();}}else{if((this._tempUAData)&&(this._tempUAData.Alarm===this._currentUserActivityData.Alarm&&this._tempUAData.AlarmTime.getTime()===_14cc.getTime())){this._currentUserActivitySaved=true;if(this._activityData.AllowEdit){this._saveActivity();}}else{delete (this._currentUserActivityData.Activity);this._currentUserActivityData.AlarmTime=_143b.Convert.toIsoStringFromDate(_14cc);this._saveUserActivity();}}}else{_143b.setValue(this._activityData,"AlarmTime",_143b.Convert.toIsoStringFromDate(_14cc));this._currentUserActivitySaved=true;if(this._activityData.AllowEdit){this._saveActivity();}}this._ensureActivitySave();}},_saveUserActivity:function(){if(this._currentUserActivityStore){this._currentUserActivityStore.save({scope:this,success:this._successfulCurrentUserActivitySave,failure:this._failedUserActivitySave});}},_saveActivity:function(){if(this._activityStore){this._activityStore.save({scope:this,success:this._successfulActivitySave,failure:this._failedActivitySave});}},_ensureActivitySave:function(){if(!this._activityData.AllowEdit){this._activitySaved=true;this._userActivitiesSaved=true;this._resourcesSaved=true;this._resourcesRemoved=true;this._attachmentsSaved=true;this._hideIfComplete();}},_successfulActivitySave:function(_14ce){var self=this;var _14cf=arguments;var _14d0=this.attendeesTab._activitySaved(_14ce);_14d0.then(function(value){self._successfulActivityAttendeeSave(_14ce);});},_successfulActivityAttendeeSave:function(_14d1){if(this._activityData.LeaderChanged){_14d1.LeaderChanged=true;}if(this._activityData.TimelessChanged){_14d1.TimelessChanged=true;}this._activityData=_14d1;var isNew=false;var svc=Sage.Services.getService("ClientEntityContext");svc.clearTemporaryContext();if(this.activityId===""){dojo.publish("/entity/activity/create",[this._activityData,this]);isNew=true;}this.activityId=_14d1["$key"];var _14d2=false,_14d3=false;var ldr=_14d1.Leader["$key"];for(var i=0;i<this._newAttendeesData.length;i++){_14d2=(_14d2||(this._newAttendeesData[i]["Type"]==="User"&&this._newAttendeesData[i]["$key"]!==ldr));_14d3=(_14d3||this._newAttendeesData[i]["Type"]==="Resource");}if(_14d2){var uareq=new Sage.SData.Client.SDataTemplateResourceRequest(_1446.getSDataService("system"));uareq.setResourceKind("userActivities");uareq.read({success:this._onGetUserActivityTemplate,failure:this._failedUserActivitySave,scope:this});}else{this._userActivitiesSaved=true;}if(_14d3){var _14d4=new Sage.SData.Client.SDataTemplateResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));_14d4.setResourceKind("resourceSchedules");_14d4.read({success:this._onGetResourceScheduleTemplate,failure:this._failedUserActivitySave,scope:this});}else{this._resourcesSaved=true;}this._attachmentsSaved=true;if(this._attachmentList){var _14d5=this._attachmentList.getNewAttachments();if(_14d5.length>0&&this.mode==="New"){this._saveAttachments(_14d5);this._attachmentsSaved=false;}}if(this._attendeesForRemoval.length>0){this._removeResources();}else{this._resourcesRemoved=true;}if(!this._completeAfterSaving&&!isNew){dojo.publish("/entity/activity/change",[_14d1,this]);}this._activitySaved=true;this._ensureActivitySave();this._hideIfComplete();},_saveAttachments:function(_14d6,_14d7){this._attachmentRequests=_14d6.length;for(var i=0;i<_14d6.length;i++){var att=_14d6[i];var req=new Sage.SData.Client.SDataSingleResourceRequest(_1446.getSDataService("system"));req.setResourceKind("attachments");req.setResourceSelector("'"+att.$key+"'");if(_14d7){att.historyId=_14d7;}else{att.activityId=this.activityId;}for(var p in this._activityData){if(p.substring(p.length-2)==="Id"&&p!=="UserId"){var _14d8=p.substring(0,1).toLowerCase()+p.substring(1);att[_14d8]=this._activityData[p];}}req.update(att,{ignoreETag:true,success:this._successfulAttachmentSave,failure:this._failedAttachmentSave,scope:this});}},_removeAttachments:function(){if(!this._attachmentList){return;}var _14d9=this._attachmentList.getNewAttachments();for(var i=0;i<_14d9.length;i++){var att=_14d9[i];var req=new Sage.SData.Client.SDataSingleResourceRequest(_1446.getSDataService("system"));req.setResourceKind("attachments");req.setResourceSelector("'"+att.$key+"'");req["delete"](att,{success:function(){},failure:function(){},scope:this});}},getRelationshipsForAttachments:function(){var obj={};for(var p in this._activityData){if(p.substring(p.length-2)==="Id"&&p!=="UserId"){var _14da=p.substring(0,1).toLowerCase()+p.substring(1);obj[_14da]=this._activityData[p];}}if(this.mode==="New"&&!_1447.supportsHTML5File&&!Sage.gears){this._tempIdForAttachments=this._makeTempID();obj["activityId"]=this._tempIdForAttachments;}return obj;},doCarryOverAttachments:function(_14db){this._ensureAttachmentList();_1448.getAttachmentTemplate(function(_14dc){this._getHistoryAttachments(_14db,_14dc);},this);},_getHistoryAttachments:function(_14dd,_14de){var _14df=new Sage.SData.Client.SDataResourceCollectionRequest(_1446.getSDataService("system"));_14df.setResourceKind("attachments");_14df.setQueryArg("where","historyId eq '"+_14dd+"'");_14df.read({success:function(data){var items=data["$resources"];var mixin={activityId:this._makeTempID(),historyId:null};var req=new Sage.SData.Client.SDataSingleResourceRequest(_1446.getSDataService("system"));req.setResourceKind("attachments");if(items&&items.length){var l=items.length;for(var i=0;i<l;i++){var _14e0=_143d.mixin(items[i],mixin);var _14e1=_143d.mixin(_14de,_14e0);delete _14e1.createDate;delete _14e1.modifyDate;delete _14e1.createUser;delete _14e1.modifyUser;delete _14e1.$key;delete _14e1.$etag;_14e1.fileName=_14e1.physicalFileName;_14e1.attachDate=_143b.Convert.toIsoStringFromDate(new Date());req.create(_14e1,{success:function(_14e2){dojo.publish("/entity/attachment/create",[_14e2]);},failure:function(){},scope:this});}}},failure:function(){},scope:this});},_getHistoryAttendees:function(_14e3){var _14e4=new Sage.SData.Client.SDataResourceCollectionRequest(_1446.getSDataService("dynamic"));_14e4.setResourceKind("historyAttendees");_14e4.setQueryArg("where","HistoryId eq '"+_14e3+"'");_14e4.read({success:function(data){var items=data["$resources"];var _14e5=[];for(var i=0;i<items.length;i++){if(items[i].EntityType!="User"){var mixin={$key:items[i].EntityId,$descriptor:items[i].Name,general:false};var _14e6=_143d.mixin(items[i],mixin);_14e5.push(_14e6);}}this.attendeesTab._addAttendeesToStore(_14e5);},failure:function(){},scope:this});},_makeTempID:function(){if(!this._tempIdForAttachments){var uid=this._currentUserId;var dstr=_143b.Convert.toIsoStringFromDate(this.dtp_startDate.get("value"));dstr=dstr.replace(/[T:-]/g,"").substr(6,6);this._tempIdForAttachments="NE"+uid.substr(uid.length-4,4)+dstr;}return this._tempIdForAttachments;},_attachmentRequests:0,_successfulAttachmentSave:function(_14e7){this._attachmentRequests--;if(this._attachmentRequests<1){this._attachmentsSaved=true;this._hideIfComplete();}},_failedAttachmentSave:function(){this._attachmentRequests--;if(this._attachmentRequests<1){this._attachmentsSaved=true;this._hideIfComplete();}},_successfulCurrentUserActivitySave:function(_14e8){this._currentUserActivitySaved=true;dojo.publish("/entity/userActivity/change",[_14e8,this]);if(this._activityData.AllowEdit){this._saveActivity();}this._hideIfComplete();},_successfulActivityDelete:function(){var svc=Sage.Services.getService("ClientEntityContext");svc.clearTemporaryContext();dojo.publish("/entity/activity/delete",[this._activityData["$key"],this]);if(this._activityData["Timeless"]){dojo.publish("/entity/activity/timeless/delete",[this._activityData["$key"],this]);}this.hide();},_successfulComplete:function(_14e9){if(this.mode==="CompleteUnscheduled"){var self=this;var _14ea=arguments;var _14eb=this.attendeesTab._historySaved(_14e9);_14eb.then(function(value){self._successfulAttendeesComplete(_14e9);});}else{this._successfulAttendeesComplete(_14e9);}},_successfulAttendeesComplete:function(_14ec){this._isProcessing=false;var svc=Sage.Services.getService("ClientEntityContext");svc.clearTemporaryContext();var hist=_14ec;if(this.mode==="Complete"){if(_14ec.Response){hist=_14ec.Response;}dojo.publish("/entity/activity/delete",[this._activityData["$key"],this]);if(this._activityData["Timeless"]){dojo.publish("/entity/activity/timeless/delete",[this._activityData["$key"],this]);}}dojo.publish("/entity/history/create",[hist,this]);var _14ed=null;if(this.mode==="Complete"){if(_14ec.Response){_14ed=_14ec.Response.HistoryId;}}else{_14ed=hist.$key;}if(this._attachmentList){var _14ee=this._attachmentList.getNewAttachments();if(_14ee.length>0){this._activityData.Attachment=true;this._saveAttachments(_14ee,_14ed);}}var _14ef=this.sel_Followup.get("value");switch(_14ef){case this.noneText:this.hide();return;case _143f.getActivityTypeName("atPhoneCall"):_14ef="atPhoneCall";break;case _143f.getActivityTypeName("atAppointment"):_14ef="atAppointment";break;case _143f.getActivityTypeName("atToDo"):_14ef="atToDo";break;}if(typeof _14ed==="undefined"||_14ed===null){this.hide();_1443.showError(this.scheduleFollowUpErrorText);return;}var _14f0=this._getFollowUpActivityData(_14ed);this.hide();window.setTimeout(function(){var _14f1=Sage.Services.getService("ActivityService");if(_14f1){_14f1.scheduleActivity({"type":_14ef,"preConfigured":_14f0});}},250);},_getFollowUpActivityData:function(_14f2){var a=this._activityData;var ret={AccountId:a.AccountId,AccountName:a.AccountName,ContactId:a.ContactId,ContactName:a.ContactName,Description:a.Description,LeadId:a.LeadId,LeadName:a.LeadName,OpportunityId:a.OpportunityId,OpportunityName:a.OpportunityName,TicketId:a.TicketId,TicketNumber:a.TicketNumber};if(this.ck_coNotes.get("checked")){ret["LongNotes"]=a.LongNotes;ret["Notes"]=a.Notes;}if(this.ck_coAttachments.get("checked")){ret["carryOverAttachmentsFrom"]=_14f2;}ret["carryOverParticipantsFrom"]=_14f2;return ret;},_failedActivitySave:function(_14f3){var msg=_143f.findFailedRequestMessage(_14f3,this.couldNotSaveErrorText);_1443.showError(msg);this._completeAfterSaving=false;},_failedActivityDelete:function(_14f4){var msg=_143f.findFailedRequestMessage(_14f4,this.couldNotDeleteErrorText);_1443.showError(msg);this._completeAfterSaving=false;},_failedUserActivitySave:function(_14f5){var msg=_143f.findFailedRequestMessage(_14f5,this.couldNotSaveErrorText);_1443.showError(msg);},_failedResourceSave:function(_14f6){var msg=_143f.findFailedRequestMessage(_14f6,this.couldNotSaveErrorText);_1443.showError(msg);},_failedComplete:function(_14f7){var msg=_143f.findFailedRequestMessage(_14f7,this.couldNotCompleteErrorText);_1443.showError(msg);this._isProcessing=false;},_onGetUserActivityTemplate:function(_14f8){this._userActivitiesRequestCount=0;var ldr=this.lup_Leader.get("selectedObject");ldr=ldr["$key"].substr(0,12);var act=this._activityData;var _14f9=_143b.Convert.toDateFromString(act.AlarmTime);for(var i=0;i<this._newAttendeesData.length;i++){var nat=this._newAttendeesData[i];if(nat["Type"]==="User"&&nat["$key"]!==ldr){var newua=dojo.mixin({},_14f8);var _14fa={User:{"$key":nat["$key"]},ActivityId:this.activityId,Activity:{"$key":this.activityId},Alarm:act.Alarm,AlarmTime:_143b.Convert.toIsoStringFromDate(_14f9),Status:"asUnconfirmed"};newua=_143d.mixin(newua,_14fa);var req=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("system"));req.setResourceKind("userActivities");this._userActivitiesRequestCount++;req.create(newua,{success:function(_14fb){this._userActivitiesRequestCount--;dojo.publish("/entity/userActivity/create",[_14fb,this]);if(this._userActivitiesRequestCount<1){this._userActivitiesSaved=true;this._hideIfComplete();}},failure:this._failedUserActivitySave,scope:this});}}if(this._userActivitiesRequestCount<1){this._userActivitiesSaved=true;if(act.Timeless){dojo.publish("/entity/userActivities/timeless/saved",[act,this]);}this._hideIfComplete();}},_onGetResourceScheduleTemplate:function(_14fc){this._resourceRequestCount=0;for(var i=0;i<this._newAttendeesData.length;i++){var nat=this._newAttendeesData[i];if(nat["Type"]==="Resource"){var newRe=_143d.mixin({},_14fc);var act=this._activityData;var sd=Sage.Utility.Convert.toDateFromString(act["StartDate"]);var ed=_1440.add(sd,"minute",act["Duration"]);var _14fd={ResourceId:nat["$key"],ActivityId:this.activityId,Description:nat["Name"],StartDate:act["StartDate"],EndDate:Sage.Utility.Convert.toIsoStringFromDate(ed),UserId:act.Leader["$key"]};newRe=_143d.mixin(newRe,_14fd);var req=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));req.setResourceKind("resourceSchedules");this._resourceRequestCount++;req.create(newRe,{success:function(_14fe){this._resourceRequestCount--;if(this._resourceRequestCount<1){this._resourcesSaved=true;this._hideIfComplete();}},failure:this._failedResourceSave,scope:this});}}},_removeResources:function(){this._resourceDeleteRequestCount=0;for(var i=0;i<this._attendeesForRemoval.length;i++){var rem=this._attendeesForRemoval[i];var _14ff;var _1500;var _1501;if(rem["type"]==="user"){_14ff=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("system"));_14ff.setResourceKind("userActivities");_1500=_1442.substitute("'ActivityId=${0};UserId=${1}'",[this.activityId,rem["id"]]);_1501="/entity/userActivity/delete";}else{_14ff=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));_14ff.setResourceKind("resourceSchedules");_1500="'"+rem["rsid"]+"'";_1501="/entity/resourceSchedule/delete";}_14ff.setResourceSelector(_1500);this._resourceDeleteRequestCount++;var _1502={notify:function(){dojo.publish(this.evt,[this.predicate]);this.editor._resourceDeleteRequestCount--;if(this.editor._resourceDeleteRequestCount<1){this.editor._resourcesRemoved=true;this.editor._hideIfComplete();}},evt:_1501,predicate:_1500,editor:this};var _1503={success:_1502.notify,aborted:function(){},failure:this._failedResourceSave,scope:_1502};_14ff["delete"]({"$key":_1500},_1503);}},_cancelClick:function(){if(this.mode==="New"){this._removeAttachments();}this.hide();},_hideIfComplete:function(){if(this._activitySaved&&this._userActivitiesSaved&&this._currentUserActivitySaved&&this._resourcesSaved&&this._resourcesRemoved&&this._attachmentsSaved){var actId=this.activityId;if(this._completeAfterSaving){this._completeAfterSaving=false;var svc=Sage.Services.getService("ActivityService");if(svc){svc.completeActivity(actId);}}else{this.hide();}}},_acceptConfClick:function(){var _1504=Sage.Services.getService("ActivityService");_1504.acceptConfirmation({notification:this._notificationData,success:this._successfulAcceptConfirmation,failure:this._failedAcceptDecline,scope:this});},_declineClick:function(){var _1505=Sage.Services.getService("ActivityService");_1505.declineConfirmation({notification:this._notificationData,success:this._successfulDeclineConfirmation,failure:this._failedAcceptDecline,scope:this});},_deleteConfClick:function(){if(this._notificationData&&this._notificationStore){this._notificationStore.deleteEntity(this._notificationData,this._successfulNotificationDelete,this._failedActivityDelete,this);}},_getActivityDataFromNotificationData:function(){var _1506=null;var _1507=null;if(this._notificationData){if(this._notificationData.Activity){_1506=this._notificationData.Activity.$key;}if(this._notificationData.ToUser){_1507=this._notificationData.ToUser.$key;}}var _1508={"activityId":_1506,"userId":_1507};return _1508;},_successfulAcceptConfirmation:function(){dojo.publish("/entity/activity/confirm",[this._getActivityDataFromNotificationData(),null]);this._successfulNotificationDelete();},_successfulDeclineConfirmation:function(){dojo.publish("/entity/activity/decline",[this._getActivityDataFromNotificationData(),null]);this._successfulNotificationDelete();},_successfulNotificationDelete:function(){dojo.publish("/entity/userNotification/delete",[this._notificationData["$key"],this]);this.hide();},_ensureLookupsCreated:function(){if(!this.lup_Account){this.createAccountLookup();this.createContactLookup();this.createOpportunityLookup();this.createTicketLookup();this.createLeadLookup();this.createLeaderlookup();this.createResourcesLookup();}var self=this;if(dojo.byId("lu_lead_btnClearResult")){dojo.connect(dojo.byId("lu_lead_btnClearResult"),"onclick",null,function(){self.attendeesTab.unCheckPrimary();},true);}if(dojo.byId("lu_contact_btnClearResult")){dojo.connect(dojo.byId("lu_contact_btnClearResult"),"onclick",null,function(){self.attendeesTab.unCheckPrimary();},true);}},createAccountLookup:function(){this.accountLookupConfig={id:"_activityAcc",structure:[{"cells":[{"name":this.accountText,"field":"AccountName"},{"name":this.cityText,"field":"Address.City"},{"name":this.stateText,"field":"Address.State"},{"name":this.mainPhoneText,"field":"MainPhone"},{"name":this.typeText,"field":"Type"},{"name":this.subTypeText,"field":"SubType"},{"name":this.statusText,"field":"Status"},{"name":this.acctMgrText,"field":"AccountManager.UserInfo.UserName"},{"name":this.ownerText,"field":"Owner.OwnerDescription"}],"defaultCell":{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""}}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"accounts",sort:[{attribute:"AccountName"}]},isModal:true,seedProperty:"",seedValue:"",overrideSeedValueOnSearch:false,initializeLookup:false,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupActText,dialogButtonText:this.okText},this.lup_Account=new _1449({id:"lu_account",allowClearingResult:true,showEntityInfoToolTip:true,readonly:true,config:this.accountLookupConfig});this.eventConnections.push(dojo.connect(this.lup_Account,"onChange",this,"_accountChanged"));dojo.place(this.lup_Account.domNode,this.container_AccountLup.domNode,"only");},createContactLookup:function(){this.contactLookupConfig={id:"_activityContact",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.nameText,field:"NameLF"},{name:this.accountText,field:"Account.AccountName"},{name:this.cityText,field:"Address.City"},{name:this.stateText,field:"Address.State"},{name:this.workphoneText,field:"WorkPhone"},{name:this.emailText,field:"Email"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"contacts",select:["Address/Timezone"],sort:[{attribute:"NameLF"}]},isModal:true,seedProperty:"Account.Id",seedValue:"",overrideSeedValueOnSearch:true,initialLookup:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupContactText,dialogButtonText:this.okText};this.lup_Contact=new _1449({id:"lu_contact",allowClearingResult:true,config:this.contactLookupConfig,readonly:true,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Contact,"onChange",this,"_contactChanged"));dojo.place(this.lup_Contact.domNode,this.container_ContactLup.domNode,"only");},createOpportunityLookup:function(){this.opportunityLookupConfig={id:"_activityOpp",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.descriptionText,field:"Description"},{name:this.acctMgrText,field:"AccountManager.UserInfo.UserName"},{name:this.accountText,field:"Account.AccountName"},{name:this.stageText,field:"Stage"},{name:this.statusText,field:"Status"},{name:this.ownerText,field:"Owner.OwnerDescription"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"opportunities",sort:[{attribute:"Description"}]},isModal:true,seedProperty:"Account.Id",seedValue:"",overrideSeedValueOnSearch:true,initialLookup:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupOpportunityText,dialogButtonText:this.okText};this.lup_Opportunity=new _1449({id:"lu_opportunity",allowClearingResult:true,config:this.opportunityLookupConfig,readonly:true,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Opportunity,"onChange",this,"_opportunityChanged"));dojo.place(this.lup_Opportunity.domNode,this.container_OppLup.domNode,"only");},createTicketLookup:function(){this.ticketLookupConfig={id:"_activityTicket",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.ticketNumberText,field:"TicketNumber"},{name:this.accountText,field:"Account.AccountName"},{name:this.nameText,field:"Contact.NameLF"},{name:this.phoneText,field:"Contact.WorkPhone"},{name:this.statusText,field:"StatusCode",pickListName:"Ticket Status",propertyType:"SalesLogix.PickList",type:Sage.UI.Columns.PickList},{name:this.urgencyText,field:"Urgency.Description"},{name:this.areaText,field:"Area"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"tickets",sort:[{attribute:"TicketNumber"}]},isModal:true,seedProperty:"Account.Id",seedValue:"",overrideSeedValueOnSearch:true,initialLookup:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupTicketText,dialogButtonText:this.okText};this.lup_Ticket=new _1449({id:"lu_ticket",allowClearingResult:true,config:this.ticketLookupConfig,readonly:true,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Ticket,"onChange",this,"_ticketChanged"));dojo.place(this.lup_Ticket.domNode,this.container_TicketLup.domNode,"only");},createLeadLookup:function(){this.leadLookupConfig={id:"_activityLead",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.leadFullNameText,field:"LeadFullName"},{name:this.companyText,field:"Company"},{name:this.cityText,field:"Address.City"},{name:this.stateText,field:"Address.State"},{name:this.postalText,field:"Address.PostalCode"},{name:this.statusText,field:"Status"},{name:this.workphoneText,field:"WorkPhone"},{name:this.ownerText,field:"Owner.OwnerDescription"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"leads",select:["Address/Timezone"],sort:[{attribute:"LeadFullName"}]},isModal:true,initialLookup:false,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupLeadText,dialogButtonText:this.okText};this.lup_Lead=new _1449({id:"lu_lead",allowClearingResult:true,config:this.leadLookupConfig,readonly:true,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Lead,"onChange",this,"_leadChanged"));dojo.place(this.lup_Lead.domNode,this.container_LeadLup.domNode,"only");},createLeaderlookup:function(){var _1509={id:"_activityLeader",structure:[{cells:[{name:this.nameText,field:"Name",sortable:true,width:"400px",editable:false,propertyType:"System.String",excludeFromFilters:false,defaultValue:""}]}],gridOptions:{contextualCondition:function(){return "AllowAdd AND (AccessId eq '"+_143b.getClientContextByKey("userID")+"' OR AccessId eq 'EVERYONE') AND Type eq 'User'";},contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"activityresourceviews",sort:[{attribute:"Name"}]},isModal:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupLeaderText,dialogButtonText:this.okText};this.lup_Leader=new _1449({id:"lu_leader",readonly:true,config:_1509});this.eventConnections.push(dojo.connect(this.lup_Leader,"onChange",this,"_leaderChanged"));dojo.place(this.lup_Leader.domNode,this.container_LeaderLup.domNode,"only");},createResourcesLookup:function(){this.resourcesLookupConfig={id:"_activityResources",btnToolTip:this.lookupResourcesText,structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.nameText,field:"Name"},{name:this.typeText,field:"Type",width:"100px"},{name:this.locationText,field:"IsLocation",propertyType:"System.Boolean",format:function(_150a,_150b){var type=_143b.getValue(_150b,"Type");if(!type){return this.defaultValue;}if(type==="User"){return "";}return (_150b["IsLocation"]===null||_150b["IsLocation"]==="false")?this.noText:this.yesText;}},{name:this.descriptionText,field:"Subtype",width:"200px"}]}],gridOptions:{},displayMode:5,storeOptions:{resourceKind:"activityresourceviews",select:["AccessId","ResourceId","AllowAdd","AllowEdit","AllowDelete"],sort:[{attribute:"Type"},{attribute:"Name"}]},isModal:true,initialLookup:false,preFilters:[],query:{conditions:"AllowAdd AND (AccessId eq '"+this._currentUserId+"' OR AccessId eq 'EVERYONE')"},dialogTitle:this.lookupResourcesText,dialogButtonText:this.addResourceText,doSelected:function(items){var _150c=dijit.byId("activityEditor");if(_150c){_150c.addMembers(items);}this.lookupDialog.hide();}};this.lup_Resources=new Sage.UI.SDataLookup(this.resourcesLookupConfig);this.lup_Resources.cancelText=this.lup_Resources.closeText;dojo.place(this.lup_Resources.domNode,this.container_ResourcesLup.domNode,"only");},_schedulerInitialized:false,_resetAttendeesList:function(){if(!this._schedulerInitialized){scheduler.showLightbox=function(){return false;};scheduler.config.timelineStep=30;scheduler.config.timelineStart=(this._options.calendar.dayStartTime*2);scheduler.config.timelineSize=((this._options.calendar.dayEndTime-this._options.calendar.dayStartTime)*2);scheduler.createTimelineView({name:"timeline",x_unit:"minute",x_date:"%g:%i",x_step:scheduler.config.timelineStep,x_start:scheduler.config.timelineStart,x_size:scheduler.config.timelineSize,y_unit:[],y_property:"section_id",render:"bar",section_autoheight:false,dy:30});scheduler.init("scheduler_here",new Date(),"timeline");scheduler.attachEvent("onBeforeDrag",function(){return false;});scheduler.config.dblclick_create=false;scheduler.templates.day_date=function(dt){return _143f.formatLongDate(dt);};var self=this;dojo.query(".dhx_cal_prev_timeline_button").connect("onclick",function(){if(!scheduler.config.timelineStart==0){self.reRenderTimeline("left");}});dojo.query(".dhx_cal_next_timeline_button").connect("onclick",function(){if(scheduler.config.timelineStart+scheduler.config.timelineSize<48){self.reRenderTimeline("right");}});this._schedulerInitialized=true;}scheduler.clearAll();},_loadAttendeesData:function(){this._availabilityShowing=true;if(this.mode==="New"){var ldr=this.lup_Leader.get("selectedObject");var _150d=ldr["$descriptor"],_150e=ldr["$key"].substr(0,12);this.addMembers([{$descriptor:_150d,$key:_150e,IsLocation:false,Name:_150d,Subtype:"",Type:"User"}]);return;}var actid=this.activityId;if(!actid&&this._activityData){actid=this._activityData.$key;}if(!actid){return;}realActivityId=actid.substr(0,12);var req=new Sage.SData.Client.SDataNamedQueryRequest(Sage.Data.SDataServiceRegistry.getSDataService("mashups")).setApplicationName("$app").setResourceKind("mashups").setQueryName("execute").setQueryArg("_resultName","GetMembers").setQueryArg("_activityId",realActivityId);req.uri.setCollectionPredicate("'ActivityFreeBusy'");req.read({success:dojo.hitch(this,this._onReceiveAttendees),failure:dojo.hitch(this,this._availabilityFailed)});},_attendeesTemplate:new Simplate(["<table class=\"attendee-item\">","<tr>","<td class=\"attendee-name\">{%= $.name %}</td>","{% if (($.isNotLeader) && ($.allowDelete)) { %}","<td class=\"remove-attendee\" id=\"{%= $.id %}\"><img src=\"images/icons/Delete_16x16.png\" alt=\"{%= $.removeText %}\" title=\"{%= $.removeText %}\" onclick=\"{%= $.deleteCode %}\" /></td>","{% } %}","<td class=\"attendee-status\"><img src=\"{%= $.img %}\" alt=\"{%= $.imgToolTipText %}\" title=\"{%= $.imgToolTipText %}\"/></td>","</tr>","</table>"]),_onReceiveAttendees:function(data){this._attendeesData=data["$resources"];if(this._originalLeaderId&&this._originalLeaderId!==this._activityData.Leader["$key"]){var len=this._attendeesData.length;for(var i=0;i<len;i++){if(this._attendeesData[i]["id"]===this._originalLeaderId){this._attendeesData.splice(i,1);break;}}}this._rebuildTimeLine();this._requestAvailability();},_rebuildTimeLine:function(_150f){var i;for(i=0;i<this._deleteAttendeeConnects.length;i++){dojo.disconnect(this._deleteAttendeeConnects[i]);}this._deleteAttendeeConnects=[];var _1510=[];var _1511={};var _1512=[];var _1513=[];var _1514=this._activityData.Leader["$key"].trim();var _1515="Sage.Utility.Activity.removeMember('${0}','${1}');";for(i=0;i<this._attendeesData.length;i++){var img=this._blankGif;var _1516="";var _1517=this._attendeesData[i]["status"]||0;if(_1517===1||_1517==="asAccepted"){img="images/icons/Accept.png";_1516=this.acceptedText;}else{if(_1517===2||_1517==="asDeclned"){img="images/icons/Decline.png";_1516=this.declinedText;}}var yUnit={key:this._attendeesData[i]["id"],label:this._attendeesTemplate.apply({name:this._attendeesData[i]["name"],img:img,imgToolTipText:_1516,id:this._attendeesData[i]["id"],isNotLeader:this._attendeesData[i]["id"].trim()!==_1514,allowDelete:this._canEdit(),removeText:this.removeText,deleteCode:dojo.string.substitute(_1515,[this.id,this._attendeesData[i]["id"]])})};if(this._attendeesData[i]["id"].trim()===_1514){_1511=yUnit;}else{if(this._attendeesData[i]["type"]==="user"){_1512.push(yUnit);}else{_1513.push(yUnit);}}}_1510=(_1511.key)?[_1511].concat(_1512.concat(_1513)):_1512.concat(_1513);for(i=0;i<this._newAttendeesData.length;i++){_1510.push({key:this._newAttendeesData[i]["$key"],label:this._attendeesTemplate.apply({name:this._newAttendeesData[i]["Name"],img:this._blankGif,id:this._newAttendeesData[i]["$key"],isNotLeader:this._newAttendeesData[i]["$key"].trim()!==_1514,allowDelete:this._canEdit(),removeText:this.removeText,deleteCode:dojo.string.substitute(_1515,[this.id,this._newAttendeesData[i]["$key"]])})});}if(_150f=="left"){if((scheduler.config.timelineStart-scheduler.config.timelineSize)>0){scheduler.config.timelineStart=scheduler.config.timelineStart-scheduler.config.timelineSize;}else{scheduler.config.timelineStart=0;}}else{if(_150f=="right"){var st=(scheduler.config.timelineSize+scheduler.config.timelineStart);if(st>(48-scheduler.config.timelineSize)){scheduler.config.timelineStart=48-scheduler.config.timelineSize;}else{scheduler.config.timelineStart=st;}}}var self=this;scheduler.createTimelineView({name:"timeline",x_unit:"minute",x_date:"%g:%i",x_step:scheduler.config.timelineStep,x_start:scheduler.config.timelineStart,x_size:scheduler.config.timelineSize,y_unit:_1510,y_property:"section_id",render:"bar",section_autoheight:false,dy:30});scheduler.setCurrentView(this._getActivityStartDate(),"timeline");},_updateLocation:function(_1518,isAdd){var _1519=this._activityData.Location;if(!_1519||_1519===""){if(isAdd){_1519=_1518;}}else{var parts=_1519.split("; ");var _151a=[];var _151b=false;for(var i=0;i<parts.length;i++){if(parts[i]===_1518){if(isAdd){_151b=true;}else{continue;}}_151a.push(parts[i]);}if(!_151b&&isAdd){_151a.push(_1518);}_1519=_151a.join("; ");}Sage.Utility.setValue(this._activityData,"Location",_1519);this.tb_Location.set("value",_1519);},_removeMember:function(args){var i;var id=args.memberId;var lst=[];for(i=0;i<this._attendeesData.length;i++){if(this._attendeesData[i]["id"]===id){if(this._attendeesData[i]["type"]==="resource"&&this._attendeesData[i]["IsLocation"]){this._updateLocation(this._attendeesData[i]["name"],false);}this._attendeesForRemoval.push(this._attendeesData[i]);}else{lst.push(this._attendeesData[i]);}}this._attendeesData=lst;lst=[];for(i=0;i<this._newAttendeesData.length;i++){if(this._newAttendeesData[i]["$key"]===id){if(this._newAttendeesData[i]["Type"]==="Resource"&&this._newAttendeesData[i]["IsLocation"]===true){this._updateLocation(this._newAttendeesData[i]["Name"],false);}}else{lst.push(this._newAttendeesData[i]);}}this._newAttendeesData=lst;this._rebuildTimeLine();if(!args.attendeesTab){this.attendeesTab._removeAssociatedContact(args.memberId);}},addMembers:function(items){var _151c=[];for(var i=0;i<items.length;i++){var item=items[i];if(item["$key"].length>12){item["$key"]=item["$key"].substr(0,12);}if(this._isMember(item)){continue;}if(item["ResourceId"]){item["$key"]=item["ResourceId"];}if(item["Type"]==="Resource"&&item["IsLocation"]===true){this._updateLocation(item["Name"],true);}_151c.push(item["$key"]);this._newAttendeesData.push(item);}if(this._availabilityShowing){this._rebuildTimeLine();this._requestAvailability();}this.attendeesTab._addContactAttendees(_151c);},_isMember:function(_151d){var i,len=this._attendeesData.length;for(i=0;i<len;i++){if(this._attendeesData[i]["id"]===_151d["$key"]){return true;}}len=this._newAttendeesData.length;for(i=0;i<len;i++){if(this._newAttendeesData[i]["$key"]===_151d["$key"]){return true;}}return false;},_updateUsersListWithNewLeader:function(_151e,_151f){var i,len=this._attendeesData.length;for(i=0;i<len;i++){if(this._attendeesData[i]["id"]===_151e){this._attendeesData.splice(i,1);break;}}len=this._newAttendeesData.length;for(i=0;i<len;i++){if(this._newAttendeesData[i]["$key"]===_151e){this._newAttendeesData.splice(i,1);break;}}this.addMembers([{$descriptor:_151f["$descriptor"],$key:_151f["$key"],IsLocation:false,Name:_151f["$descriptor"],Subtype:"",Type:"User"}]);},_requestAvailability:function(){if(this._attendeesData.length<1&&this._newAttendeesData.length<1){return;}var _1520=[];for(var i=0;i<this._attendeesData.length;i++){_1520.push("'"+this._attendeesData[i]["id"]+"'");}for(i=0;i<this._newAttendeesData.length;i++){_1520.push("'"+this._newAttendeesData[i]["$key"]+"'");}if(this._availabilityDataDateRange.fromDate){var _1521=Sage.Utility.Convert.toDateFromString(this._activityData["StartDate"]);if((_1521>this._availabilityDataDateRange.fromDate)&&(_1521<this._availabilityDataDateRange.toDate)&&(_1520.join("")===this._availabilityDataDateRange.users.join(""))){return;}}this._requestAvailabilityFor(_1520);},_availabilityDataDateRange:{fromDate:false,toDate:false,users:[]},_requestAvailabilityFor:function(_1522){var _1523=Sage.Utility.Convert.toDateFromString(this._activityData["StartDate"]);var _1524=_1440.add(_1523,"day",-7);var _1525=_1440.add(_1523,"day",7);this._availabilityDataDateRange.fromDate=_1524;this._availabilityDataDateRange.toDate=_1525;this._availabilityDataDateRange.users=_1522;var _1526=Sage.Services.getService("ActivityService");if(_1526){var _1527={quotedIds:_1522,startDate:_1524,endDate:_1525,expandRecurrences:true,includeTimless:false,timelessOnly:false};_1526.getActivityFreeBusyFor(this,_1527,this._onReceiveAvailability,this._availabilityFailed);}},_onReceiveAvailability:function(data){this._availabilityData=data["$resources"];this._applyAvailability();},_applyAvailability:function(){scheduler.clearAll();for(var i=0;i<this._availabilityData.length;i++){var item=this._availabilityData[i];if(item.type===262162&&item.itemId!==this._currentUserId){item["description"]=_143f.getActivityTypeName("atPersonal");}var _1528=(item["activityId"]==this.activityId)?true:false;var _1529=Sage.Utility.Convert.toDateFromString(item["startDate"]);var eDate=_1440.add(_1529,"minute",item["duration"]);scheduler.addEvent(_1529,eDate,item["description"],null,{section_id:item["itemId"],activity_Id:item["activityId"],current_event:_1528});}},reRenderTimeline:function(_152a){this._rebuildTimeLine(_152a);this._applyAvailability();},_availabilityFailed:function(req,msg){},_recurringStartDateChanged:function(_152b){var _152c=this.dtp_startDate.get("value");if(_152b.getMonth()===_152c.getMonth()&&_152b.getDate()===_152c.getDate()&&_152b.getFullYear()===_152c.getFullYear()){return;}if(this._activityData.StartDate){var _152d=Sage.Utility.Convert.toDateFromString(this._activityData.StartDate).getHours();var _152e=Sage.Utility.Convert.toDateFromString(this._activityData.StartDate).getMinutes();_152b.setHours(_152d);_152b.setMinutes(_152e);}this._activityData.StartDate=(_152b.getFullYear)?_143b.Convert.toIsoStringFromDate(_152b):_152b;this.dtp_startDate.set("value",_152b);this._startDateChanged();},_recurringPeriodChanged:function(_152f){this._handleAutoRolloverState();},_isOccurence:function(){if(this.activityId.length>12){return true;}return false;},_canEdit:function(){if((this.mode==="Confirm")||(!this._activityData.AllowEdit)||this._isOccurence()){return false;}return true;},_emptyActivity:{"$key":"","AccountId":null,"AccountName":"","ActivityBasedOn":null,"Alarm":false,"AlarmTime":_143b.Convert.toIsoStringFromDate(new Date()),"Attachment":false,"Category":null,"ContactId":null,"ContactName":"","CreateDate":"","CreateUser":"","Description":"","Duration":15,"ForeignId1":null,"ForeignId2":null,"ForeignId3":null,"ForeignId4":null,"LeadId":null,"LeadName":"","LongNotes":null,"Notes":null,"OpportunityId":null,"OpportunityName":null,"OriginalDate":"","PhoneNumber":"","Priority":null,"ProcessId":null,"ProcessNode":null,"ProjectId":null,"RecurIterations":0,"RecurPeriod":0,"RecurPeriodSpec":0,"Recurring":false,"RecurSkip":"","Rollover":false,"StartDate":_143b.Convert.toIsoStringFromDate(new Date()),"TicketId":null,"TicketNumber":null,"Timeless":false,"Type":"atAppointment","UserDef1":null,"UserDef2":null,"UserDef3":null,"AttachmentCount":null,"Location":null,"EndDate":"","Resources":{},"Leader":{"$key":""},"UserActivities":{},"UserNotifications":{}}});return _1451;});},"Sage/MainView/ActivityMgr/nls/ActivityGroupContextService":function(){define("Sage/MainView/ActivityMgr/nls/ActivityGroupContextService",["Sage/LanguageList","dojo/_base/lang"],function(_1530,lang){var nls={root:{activityTabDisplayName:"My Activities",litTabDisplayName:"Literature",eventTabDisplayName:"Events",confirmTabDisplayName:"Confirmations",pastDueTabDisplayName:"Past Due",alarmTabDisplayName:"Alarms",allOpenTabDisplayName:"All Open"}};return lang.mixin(_1530,nls);});},"Sage/UI/Controls/TextBox":function(){define("Sage/UI/Controls/TextBox",["dijit/form/ValidationTextBox","dojo/dom-class","dojo/query","dojo/_base/declare"],function(_1531,_1532,_1533,_1534){var _1535=_1534("Sage.UI.Controls.TextBox",[_1531],{maxLength:"",textWithIcons:false,shouldPublishMarkDirty:true,autoPostBack:false,hotKey:"",_setHotKeyAttr:{node:"textbox",type:"attribute",attribute:"accessKey"},slxchangehook:"true",_setslxchangehookAttr:{node:"focusNode",type:"attribute",attribute:"slxchangehook"},postCreate:function(){this.connect(this,"onChange",this.onChanged);this.inherited(arguments);},startup:function(_1536){if(this.textWithIcons){var self=this;dojo.ready(function(){if(_1533("#"+self.id)[0]){var _1537=_1533("#"+self.id)[0];_1532.add(_1537.parentNode,"textcontainer-with-icons");}});}this.inherited(arguments);},onChanged:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}if(this.autoPostBack){__doPostBack(this.id,"");}},setAttribute:function(attr,val){this.set(attr,val);}});return _1535;});},"Sage/Services/ActivityService":function(){define("Sage/Services/ActivityService",["Sage/UI/Dialogs","Sage/MainView/ActivityMgr/ActivityEditor","Sage/MainView/ActivityMgr/EditEventEditor","Sage/MainView/ActivityMgr/QuickCompleteEditor","Sage/Services/ActivityActionProcessor","Sage/Services/ActivityAction","Sage/MainView/ActivityMgr/HistoryEditor","Sage/MainView/ActivityMgr/OccurrenceOrSeriesQueryDlg","Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","dojo/string","Sage/Utility","dojo/i18n!./nls/ActivityService","dojo/_base/declare","dojo/topic","dojo/_base/lang"],function(_1538,_1539,_153a,_153b,_153c,_153d,_153e,_153f,_1540,_1541,_1542,_1543,_1544,_1545,topic,lang){var _1546=_1545("Sage.Services.ActivityService",null,{_defaultActivitManagerTabId:null,_activityEditor:false,_eventEditor:false,_historyEditor:false,_editOccSeriesDlg:false,_deleteOccSeriesDlg:false,_compOccSeriesDlg:false,_processor:false,_actCompleteQueue:false,_histCompleteQueue:[],activityEditorType:_1539,eventEditorType:_153a,historyEditorType:_153e,constructor:function(){dojo.mixin(this,_1544);},_ensureEditor:function(){if(!this._activityEditor){this._activityEditor=new this.activityEditorType({id:"activityEditor"});this.onActivityEditorCreated(this._activityEditor);}},onActivityEditorCreated:function(_1547){},_ensureEventEditor:function(){if(!this._eventEditor){this._eventEditor=new this.eventEditorType();this.onEventEditorCreated(this._eventEditor);}},onEventEditorCreated:function(_1548){},_ensureHistoryEditor:function(){if(!this._historyEditor){this._historyEditor=new this.historyEditorType({id:"historyEditor"});this.onHistoryEditorCreated(this._historyEditor);}},onHistoryEditorCreated:function(_1549){},_ensureProcessor:function(){if(!this._processor){this._processor=new _153c();}},_getIdFromGridSelection:function(){var _154a=this.getSelectedItem();if(!_154a){return false;}if(_154a.hasCompositeKey){return _154a.entity.Activity["$key"];}else{return _154a.id;}},_getRecurringFromGridSelection:function(){var _154b=false,_154c=this.getSelectedItem();if(_154c&&_154c.entity){if(_154c.entity.hasOwnProperty("Activity")){_154b=_154c.entity.Activity["Recurring"]===true;if((_154b)&&(_154c.entity.Activity["RecurIterations"]<0)){_154b=false;}}else{_154b=_154c.entity["Recurring"]===true;if((_154b)&&(_154c.entity["RecurIterations"]<0)){_154b=false;}}}return _154b;},editActivity:function(id,_154d,_154e){if(!id){id=this._getIdFromGridSelection();_154d=this._getRecurringFromGridSelection();}if(!id){return;}if((id.length===12)&&((typeof _154d==="undefined")||_154d===null)){this._resolveActivityOccurence(id,_154e);return;}if(id.length===12&&!_154d){this._ensureEditor();this._activityEditor.set("mode","Update");this._activityEditor.set("activityId",id);this._activityEditor.set("activityMemberId",_154e);this._activityEditor.show();}else{this.editOccurrenceOrSeriesQuery(id,_154e);}},_resolveActivityOccurence:function(id,_154f){var req=new Sage.SData.Client.SDataResourceCollectionRequest(_1541.getSDataService("dynamic"));req.setResourceKind("activities");req.setQueryArg("select","Recurring");req.setQueryArg("where",_1542.substitute("Id eq '${0}'",[id]));req.setQueryArg("precedence","0");req.read({success:function(_1550){var _1551;if(_1550["$resources"]&&_1550["$resources"].length>0){_1551=_1550["$resources"][0].Recurring;if(_1551){this.editActivity(id,true,_154f);}else{this.editActivity(id,false,_154f);}}},failure:function(){},scope:this});},editOccurrence:function(id,_1552,_1553){this._ensureEditor();this._activityEditor.set("mode","Update");this._activityEditor.set("activityId",id);this._activityEditor.set("activityMemberId",_1553);this._activityEditor.show();},editOccurrenceOrSeriesQuery:function(id,_1554){if(!this._editOccSeriesDlg){this._editOccSeriesDlg=new _153f({id:"editOccSeriesQuery",mode:"edit"});dojo.connect(this._editOccSeriesDlg,"onSelectSeries",this,function(actid,mId){this.editActivity(actid.substring(0,12),false,mId);});dojo.connect(this._editOccSeriesDlg,"onSelectOccurrence",this,function(actid,_1555,mId){this.editOccurrence(actid,_1555,mId);});}this._editOccSeriesDlg.set("activityMemberId",_1554);this._editOccSeriesDlg.set("activityId",id);this._editOccSeriesDlg.show();},editTempActivity:function(id){this._ensureEditor();this._activityEditor.set("mode","deleteOnCancel");this._activityEditor.set("activityId",id);this._activityEditor.show();},completeOccurrenceOrSeriesQuery:function(id){if(!this._compOccSeriesDlg){this._compOccSeriesDlg=new _153f({id:"compOccSeriesQuery",mode:"complete"});dojo.connect(this._compOccSeriesDlg,"onSelectSeries",this,function(id){this.completeActivity(id.substring(0,12),false);});dojo.connect(this._compOccSeriesDlg,"onSelectOccurrence",this,this.completeActivityOccurrence);}this._compOccSeriesDlg.set("activityId",id);this._compOccSeriesDlg.show();},scheduleActivity:function(args){var type=args["type"]||args["Type"];if(type==="CompleteActivity"){this.scheduleCompletedActivity(type,args);return;}this._ensureEditor();this._activityEditor.set("mode","New "+args["type"]||"Meeting");if(args.hasOwnProperty("preConfigured")){this._activityEditor.show(args.preConfigured);}else{this.getActivityEntityContext(this._activityEditor,function(_1556,_1557){_1556.show(_1557);});}},completeActivityOccurrence:function(id,_1558){this._ensureEditor();if(id.indexOf(";")<0){var _1559=["StartDate"];var store=new _1540({include:[],select:_1559,resourceKind:"activities",service:_1541.getSDataService("system")});if(id!==""){store.fetch({predicate:"\""+id+"\"",onComplete:function(_155a){if(_155a){var _155b=(_1543.Convert.toDateFromString(_155a.StartDate)/1000)+62135596800;var _155c=_155a["$key"]+";"+_155b;this._activityEditor.set("mode","Complete");this._activityEditor.set("activityId",_155c);this._activityEditor.show();}},scope:this});}}else{this._activityEditor.set("mode","Complete");this._activityEditor.set("activityId",id);this._activityEditor.show();}},completeActivity:function(id,_155d){var _155e=this._getSelectionContext(id,this.txtActivity,this.txtActivities);if(_155e.count>1){this.completeActivitiesInSelectionContext(_155e);}else{if(_155e.id){var selid=_155e.id;if(_155e.selectionInfo&&_155e.selectionInfo.selections[0].entity){var _155f=_155e.selectionInfo.selections[0].entity;if(_155e.selectionInfo.hasCompositeKey){selid=_155f["Activity"]["$key"];}if(selid.length===12){if(_155f.hasOwnProperty("Activity")){_155f=_155f.Activity;}_155d=_155f["Recurring"]===true;if((_155d)&&(_155f["RecurIterations"]<0)){_155d=false;}}}if(selid.length===12&&!_155d){this._ensureEditor();this._activityEditor.set("mode","Complete");this._activityEditor.set("activityId",selid);this._activityEditor.show();}else{this.completeOccurrenceOrSeriesQuery(selid);}}}},_quickCompleteConnections:[],completeActivitiesInSelectionContext:function(_1560){if(_1560.count<1){return;}this._actCompleteQueue=_1560;var _1561={selectionContext:_1560};var qce=new _153b(_1561);this._quickCompleteConnections.push(dojo.connect(qce,"onCompleteIndividually",this,"_completeActivitiesInQueue"));this._quickCompleteConnections.push(dojo.connect(qce,"onCompleteNow",this,"_completeActivitiesNow"));this._quickCompleteConnections.push(dojo.connect(qce,"onCompleteAsScheduled",this,"_completeActivitiesAsScheduled"));this._quickCompleteConnections.push(dojo.connect(qce,"onCancel",this,function(){this._actCompleteQueue=false;}));this._quickCompleteConnections.push(dojo.connect(qce._dialog,"onHide",this,"_quickCompleteHide"));qce.show();},_actEditorHideConnection:null,_quickCompleteHide:function(){if(!this._completingActivitiesIndividually){this._actCompleteQueue=false;}dojo.forEach(this._quickCompleteConnections,function(_1562){dojo.disconnect(_1562);});this._quickCompleteConnections=[];},_completingActivitiesIndividually:false,_completeActivitiesInQueue:function(){this._completingActivitiesIndividually=true;this._ensureEditor();this._actEditorHideConnection=dojo.connect(this._activityEditor,"onHide",this,this._completeNextActivityInQueue);this._completeNextActivityInQueue();},_completeNextActivityInQueue:function(){var _1563=this._actCompleteQueue.selectionInfo.selections.pop();var id=_1563.id;var _1564=false;if(_1563.entity){var _1565=_1563.entity.hasOwnProperty("Activity")?_1563.entity["Activity"]:_1563.entity;if(this._actCompleteQueue.selectionInfo.hasCompositeKey){id=_1563.entity["Activity"]["$key"];}_1564=(id.length>12||_1565["Recurring"]===true);}this.completeActivity(id,_1564);if(this._actCompleteQueues.selectionInfo.selections.length<1){dojo.disconnect(this._actEditorHideConnection);this._completingActivitiesIndividually=false;}},_completeActivitiesAsScheduled:function(_1566){var args={selectionInfo:_1566.selectionContext.selectionInfo,mode:"asScheduled",note:_1566.note,result:_1566.result,resultCode:_1566.resultCode};var _1567=new _153d();_1567.set("OperationName","completeActivities");_1567.set("PublishMap","/entity/activity/change");_1567.set("args",args);_1567.execute({success:function(_1568){topic.publish("/entity/activity/bulkComplete","true");},failure:function(){_1538.showError(this.txtErrorActionMsg);}});},_completeActivitiesNow:function(_1569){var args={selectionInfo:_1569.selectionContext.selectionInfo,mode:"completeNow",note:_1569.note,result:_1569.result,resultCode:_1569.resultCode};var _156a=new Sage.Services.ActivityAction();_156a.set("OperationName","completeActivities");_156a.set("PublishMap","/entity/activity/change");_156a.set("Args",args);_156a.execute({success:function(_156b){topic.publish("/entity/activity/bulkComplete","true");},failure:function(){_1538.showError(this.txtErrorActionMsg);}});},completeHistoriesInList:function(_156c){if(_156c.length<1){return;}if(_156c.length===1){this.completeHistory(_156c[0]);return;}this._histCompleteQueue=_156c;var _156d={selectionContext:{count:_156c.length,selectionInfo:{selectedIds:_156c}}};this._histCompleteQueue=_156c;var qce=new _153b(_156d);this._quickCompleteConnections.push(dojo.connect(qce,"onCompleteIndividually",this,"_completeHistoriesInQueue"));this._quickCompleteConnections.push(dojo.connect(qce,"onCompleteNow",this,"_updateHistoriesFromQuickComplete"));this._quickCompleteConnections.push(dojo.connect(qce,"onCompleteAsScheduled",this,"_updateHistoriesFromQuickComplete"));this._quickCompleteConnections.push(dojo.connect(qce,"onCancel",this,"_cancelCompleteHistoryQueue"));this._quickCompleteConnections.push(dojo.connect(qce._dialog,"onHide",this,"_quickCompleteHide"));qce.show();},completeHistory:function(_156e){this._ensureHistoryEditor();this._historyEditor.set("historyId",_156e);this._historyEditor.set("mode","Complete");this._historyEditor.show();},_histEditorHideConnection:null,_quickHistoryCompleteHide:function(){dojo.forEach(this._histEditorHideConnection,function(_156f){dojo.disconnect(_156f);});dojo.forEach(this._actEditorHideConnection,function(_1570){dojo.disconnect(_1570);});this._histEditorHideConnection=false;this._actEditorHideConnection=false;},_completeHistoriesInQueue:function(){this._ensureHistoryEditor();this._historyEditor._doingFollowup=false;this._histEditorHideConnection=dojo.connect(this._historyEditor,"onHide",this,this._completeNextHisotryInQueue);this._completeNextHisotryInQueue();},_completeNextHisotryInQueue:function(e){if(this._histCompleteQueue.length<1){dojo.disconnect(this._histEditorHideConnection);dojo.disconnect(this._actEditorHideConnection);return;}if(this._historyEditor._doingFollowup){this._ensureEditor();if(this._actEditorHideConnection){dojo.disconnect(this._actEditorHideConnection);}this._actEditorHideConnection=dojo.connect(this._activityEditor,"onHide",this,this._followupCompleteNextHistoryInQueue);return;}var _1571=this._histCompleteQueue.pop();var self=this;this.completeHistory(_1571);},_followupCompleteNextHistoryInQueue:function(){this._historyEditor._doingFollowup=false;this._completeNextHisotryInQueue();},_cancelCompleteHistoryQueue:function(){this._deleteHistoryFromQuickComplete();},_deleteHistoryFromQuickComplete:function(){var _1572=function(_1573){var store=new _1540({resourceKind:"history",service:_1541.getSDataService("dynamic")});store.fetch({predicate:"\""+_1573+"\"",onComplete:function(_1574){store.deleteEntity(_1574,this,null,null);},onError:function(){},scope:this});};var count=this._histCompleteQueue.length;for(var i=0;i<count;i++){_1572(this._histCompleteQueue.pop());}},_updateHistoriesFromQuickComplete:function(_1575){var _1576=function(_1577){var store=new _1540({resourceKind:"history",select:["LongNotes","Result","ResultCode"],service:_1541.getSDataService("dynamic")});store.fetch({predicate:"\""+_1577+"\"",onComplete:function(_1578){_1578.Result=_1575.result||_1578.Result;_1578.ResultCode=_1575.resultCode||_1578.ResultCode;_1578.LongNotes=(_1578.LongNotes)?_1578.LongNotes+"\n"+_1575.note:_1575.note;store.save({scope:this,success:function(hist){dojo.publish("/entities/history/create",hist);},failure:function(){}});},onError:function(){},scope:this});};var count=this._histCompleteQueue.length;for(var i=0;i<count;i++){_1576(this._histCompleteQueue.pop());}},completeNewActivity:function(type,args){this._ensureEditor();if(!args||typeof args!="object"){args={};}args["Type"]=args["Type"]||type||"atAppointment";this._activityEditor.set("mode","CompleteUnscheduled");this._activityEditor.show(args);},deleteActivity:function(id,_1579,_157a){var _157b=this._getSelectionContext(id,this.txtActivity,this.txtActivities);if(id){if((id.length===12&&!_1579)||id.indexOf("ActivityId")>-1){this.deleteActivitiesInSelectionContext(_157b,_157a);}else{this.deleteOccurrenceOrSeriesQuery(id);}return;}if(_157b.count<1){return;}if(_157b.count>1){this.deleteActivitiesInSelectionContext(_157b);}else{var _157c=_157b.selectionInfo.selections[0];if(_157b.selectionInfo.hasCompositeKey){if(_157c.entity){id=_157c.entity["Activity"]["$key"];}}else{id=_157c.id;}_1579=false;if(_157c.entity){if(_157c.entity.hasOwnProperty("Activity")){_1579=_157c.entity.Activity["Recurring"]===true;}else{_1579=_157c.entity["Recurring"]===true;}}}if(!id){return;}if(id.length===12&&!_1579){this.deleteActivitiesInSelectionContext(_157b);}else{this.deleteOccurrenceOrSeriesQuery(id);}},deleteActivitiesInSelectionContext:function(_157d,_157e,_157f){if(_157d.count<1){return;}var _1580=this.txtActionDeleteActivites;var _1581=String.format(this.txtActionDeleteActivitiesQuestion,_157d.count,_157d.name);var _1582=new _153d();var args={selectionInfo:_157d.selectionInfo};if(_157d.count===1){var _1583=_157d.selectionInfo.selections[0];if(_1583&&_1583.id&&_1583.id.indexOf("ActivityId")>-1){_1582.set("PublishMapWithId","/entity/userActivity/delete");_1582.set("ActivityId",_1583.id);}else{if(_1583){_1582.set("PublishMapWithId","/entity/activity/delete/single");_1582.set("ActivityId",_1583.id);}}}_1582.set("OperationName","deleteActivities");_1582.set("PublishMap","/entity/activity/delete");_1582.set("ActionDescription",_1580);_1582.set("ActionMessage",_1581);_1582.set("Args",args);this._ensureProcessor();this._processor.set("Action",_1582);this._processor.set("SelectionContext",_157d);if(_157e){var _1584=dojo.connect(this._processor,"onActionComplete",this,function(_1585){dojo.disconnect(_1584);_157e.call(_157f||this,_1585);});}this._processor.start();},declineMemberConfirmation:function(_1586,_1587){if(_1586&&_1587){var _1588={"$name":"DeclineMember","request":{"entity":_1586,"memberId":_1587}};var _1589=new Sage.SData.Client.SDataServiceOperationRequest(_1541.getSDataService("dynamic")).setResourceKind("activities").setOperationName("DeclineMember");_1589.execute(_1588,{success:function(ua){var _158a=_1542.substitute("'ActivityId=${0};UserId=${1}'",[_1586.$key,_1587]);topic.publish("/entity/userActivity/delete",_158a);},failure:function(){},scope:this});}},deleteOccurrenceOrSeriesQuery:function(id){if(!this._deleteOccSeriesDlg){this._deleteOccSeriesDlg=new _153f({id:"deleteOccSeriesQuery",mode:"delete"});dojo.connect(this._deleteOccSeriesDlg,"onSelectOccurrence",this,function(id){this.deleteOccurrence(id);});dojo.connect(this._deleteOccSeriesDlg,"onSelectSeries",this,function(id){this.deleteAllOccurrence(id);});}this._deleteOccSeriesDlg.set("activityId",id);this._deleteOccSeriesDlg.show();},deleteOccurrence:function(id){var _158b=this._getSelectionContext(id,this.txtActivity,this.txtActivities);this.deleteActivitiesInSelectionContext(_158b);},deleteAllOccurrence:function(id){var _158c=this._getSelectionContext(id,this.txtActivity,this.txtActivities);if(_158c.count<1){return;}var _158d=this.txtActionDeleteActivites;var _158e=String.format(this.txtActionDeleteActivitiesQuestion,_158c.count,_158c.name);var _158f=new _153d();var args={selectionInfo:_158c.selectionInfo};if(_158c.count===1){var _1590=_158c.selectionInfo.selections[0];if(_1590){_158f.set("PublishMapWithId","/entity/activity/delete/recurrence");_158f.set("ActivityId",_1590.id);}}_158f.set("OperationName","deleteAllOccurrence");_158f.set("PublishMap","/entity/activity/delete");_158f.set("ActionDescription",_158d);_158f.set("ActionMessage",_158e);_158f.set("Args",args);this._ensureProcessor();this._processor.set("Action",_158f);this._processor.set("SelectionContext",_158c);this._processor.start();},snooze:function(id,_1591){var _1592=this._getSelectionContext(id,this.txtAlarm,this.txtAlarms);var _1593=this.txtActionSnoozeAlarm;var _1594=String.format(this.txtActionSnoozeQuestion,_1592.count,_1592.name,_1591.name);var _1595=new _153d();var args={selectionInfo:_1592.selectionInfo,interval:_1591.interval,duration:_1591.duration};_1595.set("OperationName","SnoozeAlarms");_1595.set("PublishMap","/entity/UserActivity/change");_1595.set("ActionDescription",_1593);_1595.set("ActionMessage",_1594);_1595.set("Args",args);this._ensureProcessor();this._processor.set("Action",_1595);this._processor.set("SelectionContext",_1592);this._processor.start();},snoozeAll:function(_1596){var id=null;var _1597=this._getSelectionContext(id,this.txtAlarm,this.txtAlarms);_1597.mode="ALL";var _1598=this.txtActionSnoozeAlarm;var _1599=String.format(this.txtActionSnoozeAllQuestion,_1597.name,_1596.name);var _159a=new _153d();var args={selectionInfo:_1597.selectionInfo,interval:_1596.interval,duration:_1596.duration};_159a.set("OperationName","SnoozeAlarms");_159a.set("PublishMap","/entity/UserActivity/change");_159a.set("ActionDescription",_1598);_159a.set("ActionMessage",_1599);_159a.set("Args",args);this._ensureProcessor();this._processor.set("Action",_159a);this._processor.set("SelectionContext",_1597);this._processor.start();},dismissAlarm:function(id){var _159b=this._getSelectionContext(id,this.txtAlarm,this.txtAlarms);var _159c=this.txtActionDismissAlarms;var _159d=String.format(this.txtActionDismissAlarmsQuestion,_159b.count,_159b.name);var _159e=new _153d();var args={selectionInfo:_159b.selectionInfo};_159e.set("OperationName","DismissAlarms");_159e.set("ActionDescription",_159c);_159e.set("ActionMessage",_159d);_159e.set("PublishMap","/entity/UserActivity/change");_159e.set("Args",args);this._ensureProcessor();this._processor.set("Action",_159e);this._processor.set("SelectionContext",_159b);this._processor.start();},scheduleCompletedActivity:function(_159f){if(_159f){this._ensureHistoryEditor();this._historyEditor.set("activityType",_159f);this._historyEditor.set("mode","New");this._historyEditor.set("historyId","");this.getActivityEntityContext(this._historyEditor,function(scope,_15a0){scope.show(_15a0);});}else{alert("Show Schedule Completed Dialog");}},insertNote:function(){this._ensureHistoryEditor();this._historyEditor.set("activityType","Note");this._historyEditor.set("mode","New");this._historyEditor.set("historyId","");this.getActivityEntityContext(this._historyEditor,function(scope,_15a1){scope.show(_15a1);});},editHistory:function(_15a2){if(!_15a2){_15a2=this.getSelectedId();}if(!_15a2){return;}this._ensureHistoryEditor();this._historyEditor.set("mode","Edit");this._historyEditor.set("historyId",_15a2);this._historyEditor.show();},scheduleEvent:function(args){this._ensureEventEditor();this._eventEditor.set("mode","New");this._eventEditor.set("eventId","");this._eventEditor.show(args);},editEvent:function(id){if(!id){id=this.getSelectedId();}if(!id){return;}this._ensureEventEditor();this._eventEditor.set("mode","Update");this._eventEditor.set("eventId",id);this._eventEditor.show();},deleteEvent:function(id){var _15a3=this._getSelectionContext(id,this.txtEvent,this.txtEvents);var _15a4=this.txtActionDeleteEvents;var _15a5=String.format(this.txtActionDeleteEventsQuestion,_15a3.count,_15a3.name);var args={selectionInfo:_15a3.selectionInfo};var _15a6=new _153d();if(_15a3.count===1){var _15a7=_15a3.selectionInfo.selections[0];if(_15a7){_15a6.set("PublishMapWithId","/entity/event/delete/single");_15a6.set("ActivityId",_15a7.id);}}_15a6.set("OperationName","deleteEvents");_15a6.set("PublishMap","/entity/event/delete");_15a6.set("ActionDescription",_15a4);_15a6.set("ActionMessage",_15a5);_15a6.set("Args",args);this._ensureProcessor();this._processor.set("Action",_15a6);this._processor.set("SelectionContext",_15a3);this._processor.start();},confirmActivityFor:function(actId,_15a8,_15a9,_15aa){if(actId){actId=actId.substring(0,12);}var req=new Sage.SData.Client.SDataResourceCollectionRequest(_1541.getSDataService("dynamic"));req.setResourceKind("userNotifications");req.setQueryArg("where",_1542.substitute("ActivityId eq '${0}' and ToUser.Id eq '${1}'",[actId,_15a8]));req.setQueryArg("precedence","0");req.read({success:function(_15ab){if(_15ab["$resources"]&&_15ab["$resources"].length>0){if(_15a9){_15a9.call(_15aa||this,_15ab["$resources"][0]["$key"]);}else{this.editConfirmation(_15ab["$resources"][0]["$key"],_15a8);}}else{this.editActivity(actId,false);}},failure:function(){},scope:this});},editActivityIfConfirmed:function(_15ac,_15ad){if(!_15ac){_15ac=this._getIdFromGridSelection();_15ad=this._getRecurringFromGridSelection();}var _15ae=_1543.getClientContextByKey("userID");var _15af=_1542.substitute("\"${0};${1}\"",[(_15ac.indexOf(";")>0)?_15ac.substring(0,12):_15ac,_15ae]);var req=new Sage.SData.Client.SDataSingleResourceRequest(_1541.getSDataService("dynamic")).setResourceKind("userActivities").setResourceSelector(_15af);req.read({success:function(ua){if(ua.Status==="asUnconfirmed"){this.confirmActivityFor(_15ac,_15ae);}else{this.editActivity(_15ac,_15ad);}},failure:function(){this.editActivity(_15ac,_15ad);},scope:this});},editConfirmation:function(id,_15b0){if(!id){id=this.getSelectedId();}if(!id){return;}this._ensureEditor();this._activityEditor.set("mode","Confirm");this._activityEditor.set("userNotificationId",id);this._activityEditor.set("activityMemberId",_15b0);this._activityEditor.show();},acceptConfirmation:function(_15b1){var id=false;if(_15b1){if(_15b1.id){id=_15b1.id;}else{if(_15b1.notification){if(_15b1.notes){_15b1.notification.Notes=_15b1.notes;}var _15b2={"$name":"Accept","request":{"entity":_15b1.notification,"UserNotificationId":_15b1.notification["$key"]}};var _15b3=new Sage.SData.Client.SDataServiceOperationRequest(_1541.getSDataService("dynamic")).setResourceKind("usernotifications").setOperationName("accept");_15b3.execute(_15b2,{success:_15b1.success||function(){},failure:_15b1.failure||function(){},scope:_15b1.scope||this});return;}}}var _15b4=this._getSelectionContext(id,this.txtConfirmation,this.txtConfirmations);if(_15b4.count>1){var args={selectionInfo:_15b4.selectionInfo,mode:"accept",note:""};var _15b5=this.txtActionAcceptConfirmations;var _15b6=String.format(this.txtActionAcceptConfirmQuestion,_15b4.count,_15b4.name);var _15b7=new _153d();_15b7.set("OperationName","acceptConfirmations");_15b7.set("PublishMap","/entity/userNotification/change");_15b7.set("ActionDescription",_15b5);_15b7.set("ActionMessage",_15b6);_15b7.set("Args",args);this._ensureProcessor();this._processor.set("Action",_15b7);this._processor.set("SelectionContext",_15b4);this._processor.start();}else{this.editConfirmation(_15b4.id);}},declineConfirmation:function(_15b8){var id=false;if(_15b8){if(_15b8.id){id=_15b8.id;}else{if(_15b8.notification){if(_15b8.notes){_15b8.notification.Notes=_15b8.notes;}var _15b9={"$name":"Decline","request":{"entity":_15b8.notification,"UserNotificationId":_15b8.notification["$key"]}};var _15ba=new Sage.SData.Client.SDataServiceOperationRequest(_1541.getSDataService("dynamic")).setResourceKind("usernotifications").setOperationName("decline");_15ba.execute(_15b9,{success:_15b8.success||function(){},failure:_15b8.failure||function(){},scope:_15b8.scope||this});return;}}}var _15bb=this._getSelectionContext(id,this.txtConfirmation,this.txtConfirmations);if(_15bb.count>1){var args={selectionInfo:_15bb.selectionInfo,mode:"decline",note:""};var _15bc=this.txtDeclineConfirmations;var _15bd=String.format(this.txtActionDeclineConfrimQuestion,_15bb.count,_15bb.name);var _15be=new _153d();_15be.set("OperationName","declineConfirmations");_15be.set("PublishMap","/entity/userNotification/change");_15be.set("ActionDescription",_15bc);_15be.set("ActionMessage",_15bd);_15be.set("Args",args);this._ensureProcessor();this._processor.set("Action",_15be);this._processor.set("SelectionContext",_15bb);this._processor.start();}else{this.editConfirmation(_15bb.id);}},deleteConfirmation:function(id){var _15bf=this._getSelectionContext(id,this.txtConfirmation,this.txtConfirmations);var args={selectionInfo:_15bf.selectionInfo};var _15c0=this.txtActionRemoveConfirmations;var _15c1=String.format(this.txtActionRemoveConfirmationsQuestion,_15bf.count,_15bf.name);var _15c2=new _153d();_15c2.set("OperationName","deleteConfirmations");_15c2.set("PublishMap","/entity/userNotification/change");_15c2.set("ActionDescription",_15c0);_15c2.set("ActionMessage",_15c1);_15c2.set("Args",args);this._ensureProcessor();this._processor.set("Action",_15c2);this._processor.set("SelectionContext",_15bf);this._processor.start();},goToActivityAssociation:function(_15c3,id){if(!id){id=this.getSelectedId();}if(!id){return;}this._getActivityAssociationId(_15c3,id,function(_15c4){var _15c5="";switch(_15c4.Association){case "Account":_15c5=_15c4.AccountId;break;case "Contact":_15c5=_15c4.ContactId;break;case "Opportunity":_15c5=_15c4.OpportunityId;break;case "Lead":_15c5=_15c4.LeadId;break;case "Ticket":_15c5=_15c4.TicketId;break;default:}if(!_15c5){return;}Sage.Link.entityDetail(_15c3,_15c5);});},goToLitRequest:function(id){if(!id){id=this.getSelectedId();}if(!id){return;}Sage.Link.entityDetail("LitRequest",id);},scheduleLitRequest:function(){var url="Literature.aspx?modeid=Insert";document.location.href=url;},deleteLitRequest:function(id){var _15c6=this._getSelectionContext(id,this.txtLiteratureRequest,this.txtLiteratureRequests);var _15c7=this.txtActionDeleteLiteratureRequests;var _15c8=String.format(this.txtActionDeleteLiteratureRequestsQuestion,_15c6.count,_15c6.name);var _15c9=new _153d();var args={selectionInfo:_15c6.selectionInfo};_15c9.set("Args",args);_15c9.set("OperationName","deleteLitRequests");_15c9.set("ActionDescription",_15c7);_15c9.set("ActionMessage",_15c8);_15c9.set("PublishMap","/entity/litRequest/change");this._ensureProcessor();this._processor.set("Action",_15c9);this._processor.set("SelectionContext",_15c6);this._processor.start();},getActivityEntityContext:function(scope,_15ca){var cec=Sage.Services.getService("ClientEntityContext");var _15cb=cec.getContext();var _15cc=_15cb.EntityType;var _15cd=_15cb.EntityId;var _15ce={};if((_15cd==="")||(_15cd==="Insert")){if(_15ca){_15ca(scope,_15ce);}return;}switch(_15cc){case "Sage.Entity.Interfaces.IAccount":this.getAccountContext(_15cb,scope,_15ca);break;case "Sage.Entity.Interfaces.IContact":this.getContactContext(_15cb,scope,_15ca);break;case "Sage.Entity.Interfaces.IOpportunity":this.getOpportunityContext(_15cb,scope,_15ca);break;case "Sage.Entity.Interfaces.ILead":this.getLeadContext(_15cb,scope,_15ca);break;case "Sage.Entity.Interfaces.ITicket":this.getTicketContext(_15cb,scope,_15ca);break;case "Sage.Entity.Interfaces.IReturn":this.getReturnContext(_15cb,scope,_15ca);break;default:if(_15ca){_15ca(scope,_15ce);}}},getAccountContext:function(_15cf,scope,_15d0){var req=new Sage.SData.Client.SDataResourceCollectionRequest(_1541.getSDataService("dynamic"));req.setResourceKind("accounts");var _15d1=req.uri.pathSegments.length-1;var _15d2=req.uri.getPathSegment(_15d1);_15d2["predicate"]="\""+_15cf.EntityId+"\"";req.uri.setPathSegment(_15d1+1,"Contacts");req.setQueryArg("select","NameLF,IsPrimary,WorkPhone");req.setQueryArg("orderby","IsPrimary desc");req.setQueryArg("count","1");req.read({success:function(data){var _15d3={AccountId:_15cf.EntityId,AccountName:_15cf.Description,ContactId:"",ContactName:"",PhoneNumber:""};var _15d4=data["$resources"];if(_15d4.length>0){var _15d5=_15d4[0];_15d3.ContactId=_1543.getValue(_15d5,"$key");_15d3.ContactName=_1543.getValue(_15d5,"NameLF");_15d3.PhoneNumber=_1543.getValue(_15d5,"WorkPhone");}if(_15d0){_15d0(scope,_15d3);}},failure:function(){var _15d6={AccountId:_15cf.EntityId,AccountName:_15cf.Description,ContactId:"",ContactName:"",PhoneNumber:""};if(_15d0){_15d0(scope,_15d6);}},scope:this});},getContactContext:function(_15d7,scope,_15d8){var req=new Sage.SData.Client.SDataSingleResourceRequest(_1541.getSDataService("dynamic"));req.setResourceKind("contacts");req.setResourceSelector("\""+_15d7.EntityId+"\"");req.setQueryArg("select","NameLF,IsPrimary,WorkPhone,Account,AccountName");req.read({success:function(_15d9){var _15da={AccountId:_1543.getValue(_15d9,"Account.$key"),AccountName:_1543.getValue(_15d9,"AccountName"),ContactId:_15d7.EntityId,ContactName:_1543.getValue(_15d9,"NameLF"),PhoneNumber:_1543.getValue(_15d9,"WorkPhone")};if(_15d8){_15d8(scope,_15da);}},failure:function(){var _15db={AccountId:"",AccountName:"",ContactId:_15d7.EntityId,ContactName:_15d7.Description,PhoneNumber:""};if(_15d8){_15d8(scope,_15db);}},scope:this});},getOpportunityContext:function(_15dc,scope,_15dd){var store=new _1540({include:["Contacts","Account"],select:["Description","Contacts/IsPrimary","Contacts/Contact/NameLF","Contacts/Contact/WorkPhone","Account/Id","Account/AccountName"],resourceKind:"opportunities",service:_1541.getSDataService("dynamic")});store.fetch({predicate:"\""+_15dc.EntityId+"\"",onComplete:function(opp){var _15de={AccountId:opp.Account.$key,AccountName:opp.Account.AccountName,ContactId:"",ContactName:"",OpportunityId:_15dc.EntityId,OpportunityName:opp.Description,PhoneNumber:""};var _15df=opp.Contacts.$resources;var _15e0=true;for(var i=0;i<_15df.length;i++){if(_15df[i].IsPrimary||_15e0){_15de["ContactId"]=_15df[i].Contact.$key;_15de["ContactName"]=_15df[i].Contact.NameLF;_15de["PhoneNumber"]=_15df[i].Contact.WorkPhone||"";}_15e0=false;}if(_15dd){_15dd(scope,_15de);}},onError:function(){var _15e1={AccountId:"",AccountName:"",ContactId:"",ContactName:"",OpportunityId:_15dc.EntityId,OpportunityName:_15dc.Description,PhoneNumber:""};if(_15dd){_15dd(scope,_15e1);}},scope:this});},getLeadContext:function(_15e2,scope,_15e3){var store=new _1540({include:[],select:["LeadFullName","Company","WorkPhone"],resourceKind:"leads",service:_1541.getSDataService("dynamic")});store.fetch({predicate:"\""+_15e2.EntityId+"\"",onComplete:function(_15e4){var _15e5={LeadId:_15e2.EntityId,LeadName:_15e4.LeadFullName,AccountName:_15e4.Company,PhoneNumber:_15e4.WorkPhone};if(_15e3){_15e3(scope,_15e5);}},onError:function(){var _15e6={LeadId:_15e2.EntityId,LeadName:_15e2.Description,AccountName:"",PhoneNumber:""};if(_15e3){_15e3(scope,_15e6);}},scope:this});},getTicketContext:function(_15e7,scope,_15e8){var req=new Sage.SData.Client.SDataResourceCollectionRequest(_1541.getSDataService("dynamic"));req.setResourceKind("tickets");var _15e9=req.uri.pathSegments.length-1;var _15ea=req.uri.getPathSegment(_15e9);_15ea["predicate"]="\""+_15e7.EntityId+"\"";req.setQueryArg("select","Account,Account/AccountName,Contact,Contact/NameLF,Contact/WorkPhone");req.read({success:function(data){var _15eb={AccountId:"",AccountName:"",ContactId:"",ContactName:"",TicketId:_15e7.EntityId,TicketNumber:_15e7.Description,PhoneNumber:""};var _15ec=data["$resources"];if(_15ec.length>0){var _15ed=_15ec[0];_15eb.AccountId=_1543.getValue(_15ed,"Account.$key");_15eb.AccountName=_1543.getValue(_15ed,"Account.AccountName");_15eb.ContactId=_1543.getValue(_15ed,"Contact.$key");_15eb.ContactName=_1543.getValue(_15ed,"Contact.NameLF");_15eb.PhoneNumber=_1543.getValue(_15ed,"Contact.WorkPhone");}if(_15e8){_15e8(scope,_15eb);}},failure:function(){var _15ee={AccountId:"",AccountName:"",ContactId:"",ContactName:"",TicketId:_15e7.EntityId,TicketNumber:_15e7.Description,PhoneNumber:""};if(_15e8){_15e8(scope,_15ee);}},scope:this});},getReturnContext:function(_15ef,scope,_15f0){var req=new Sage.SData.Client.SDataResourceCollectionRequest(_1541.getSDataService("dynamic"));req.setResourceKind("returns");var _15f1=req.uri.pathSegments.length-1;var _15f2=req.uri.getPathSegment(_15f1);_15f2["predicate"]="\""+_15ef.EntityId+"\"";req.setQueryArg("select","Account,Account/AccountName,ReturnedBy,ReturnedBy/NameLF,ReturnedBy/WorkPhone,Ticket,Ticket/TicketNumber");req.read({success:function(data){var _15f3={AccountId:"",AccountName:"",ContactId:"",ContactName:"",TicketId:"",TicketNumber:"",PhoneNumber:""};var _15f4=data["$resources"];if(_15f4.length>0){var rma=_15f4[0];_15f3.AccountId=_1543.getValue(rma,"Account.$key");_15f3.AccountName=_1543.getValue(rma,"Account.AccountName");_15f3.ContactId=_1543.getValue(rma,"ReturnedBy.$key");_15f3.ContactName=_1543.getValue(rma,"ReturnedBy.NameLF");_15f3.PhoneNumber=_1543.getValue(rma,"ReturnedBy.WorkPhone");_15f3.TicketNumber=_1543.getValue(rma,"Ticket.TicketNumber");_15f3.TicketId=_1543.getValue(rma,"Ticket.$key");}if(_15f0){_15f0(scope,_15f3);}},failure:function(){var _15f5={AccountId:"",AccountName:"",ContactId:"",ContactName:"",TicketId:"",TicketNumber:"",PhoneNumber:""};if(_15f0){_15f0(scope,_15f5);}},scope:this});},_getActivityAssociationId:function(_15f6,_15f7,_15f8){var req=new Sage.SData.Client.SDataResourceCollectionRequest(_1541.getSDataService("dynamic"));req.setResourceKind("activities");var _15f9=req.uri.pathSegments.length-1;var _15fa=req.uri.getPathSegment(_15f9);_15fa["predicate"]="\""+_15f7+"\"";req.setQueryArg("select","AccountId,ContactId,OpportunityId,TicketId,LeadId");req.read({success:function(data){var _15fb={Association:_15f6,ActivityId:_15f7,AccountId:"",ContactId:"",OpportunityId:"",TicketId:"",LeadId:""};var acts=data["$resources"];if(acts.length>0){var act=acts[0];_15fb.AccountId=_1543.getValue(act,"AccountId");_15fb.ContactId=_1543.getValue(act,"ContactId");_15fb.OpportunityId=_1543.getValue(act,"OpportunityId");_15fb.TicketId=_1543.getValue(act,"TicketId");_15fb.LeadId=_1543.getValue(act,"LeadId");}if(_15f8){_15f8(_15fb);}},failure:function(){var _15fc={Association:_15f6,ActivityId:_15f7,AccountId:"",ContactId:"",OpportunityId:"",TicketId:"",LeadId:""};if(_15f8){_15f8(_15fc);}},scope:this});},getActivityFreeBusyFor:function(scope,_15fd,_15fe,_15ff){var self=this;this.getResourceActivitiesFor(self,_15fd,function(_1600){self.getUserActivitiesFor(self,_15fd,function(_1601){var _1602=self._buildFreeBusyData(_1600,_1601);if(_15fe){_15fe.call(scope,_1602);}},function(_1603){if(_15ff){_15ff.call(scope,_1603);}});},function(data){if(_15ff){_15ff.call(scope,data);}});},getResourceActivitiesFor:function(scope,_1604,_1605,_1606){var _1607=["Timeless","Type","StartDate","Duration","Description","Resources/Resource"];var _1608=["$descriptors"];var _1609="activities";var _160a=_1541.getSDataService("system");var _160b=_1543.Convert.toIsoStringFromDate(_1604.startDate);var _160c=_1543.Convert.toIsoStringFromDate(_1604.endDate);var self=this;var where="(Resources.ResourceId in ("+_1604.quotedIds.join(",")+"))"+dojo.string.substitute("and (Timeless ne true) and (StartDate between @${0}@ and @${1}@)",[_160b,_160c]);var _160d=new Sage.SData.Client.SDataResourceCollectionRequest(_160a);if(_1604.select){_1607=_1604.select;}_160d.setResourceKind(_1609);_160d.setQueryArg("select",_1607.join(","));_160d.setQueryArg("where",where);_160d.setQueryArg("include",_1608.join(","));_160d.uri.queryArgs["_expandRecurrences"]=_1604.expandRecurrences;_160d.read({success:function(data){if(_1605){var _160e=self._processResourceActivityData(data);_1605.call(scope,_160e);}},failure:dojo.hitch(scope,_1606)});},getUserActivitiesFor:function(scope,_160f,_1610,_1611){var _1612=["Timeless","Type","StartDate","Duration","Description","Leader","UserActivities/User","UserActivities/Status"];var _1613=["$descriptors"];var _1614="activities";var _1615=_1541.getSDataService("system");var _1616=_1543.Convert.toIsoStringFromDate(_160f.startDate);var _1617=_1543.Convert.toIsoStringFromDate(_160f.endDate);var self=this;var where="(UserActivities.UserId in ("+_160f.quotedIds.join(",")+")) and (Type ne 'atLiterature') and (UserActivities.Status ne 'asDeclned')"+dojo.string.substitute("and (StartDate between @${0}@ and @${1}@)",[_1616,_1617]);var _1618=new Sage.SData.Client.SDataResourceCollectionRequest(_1615);if(_160f.timelessOnly){where=where+" and (Timeless eq true)";}else{if(!_160f.includeTimless){where=where+" and (Timeless ne true)";}}if(_160f.select){_1612=_160f.select;}_1618.setResourceKind(_1614);_1618.setQueryArg("select",_1612.join(","));_1618.setQueryArg("where",where);_1618.setQueryArg("include",_1613.join(","));_1618.uri.queryArgs["_expandRecurrences"]=_160f.expandRecurrences;_1618.read({success:function(data){var _1619=self._processUserActivityData(data);if(_1610){_1610.call(scope,_1619);}},failure:dojo.hitch(scope,_1611)});},_processUserActivityData:function(_161a){var _161b=[];_161b["$resources"]=[];var data=_161a["$resources"];var _161c,_161d;if(data){var cnt=data.length;for(var i=0;i<cnt;i++){var _161e=false;var _161f=data[i]["$key"];if(data[i].UserActivities){var _1620=data[i].UserActivities.$resources;var ln=_1620.length;for(var j=0;j<ln;j++){var _1621=data[i].UserActivities.$resources[j].User.$key;_161c=_1621+":"+_161f;_161e=_161b[_161c];if(!_161e){_161d={$Key:_161c,UserId:data[i].UserActivities.$resources[j].User.$key,ActivityId:_161f,UserActivity:data[i].UserActivities.$resources[j],Activity:data[i]};_161b[_161c]=_161d;_161b[_161c]=_161c;_161b["$resources"].push(_161d);continue;}}}else{var uId=data[i].Leader.$key;_161c=uId+":"+_161f;data[i].UserActivities=[];data[i].UserActivities.$resources=[];var _1622={};_1622.$key=uId;_1622.User={$key:uId};data[i].UserActivities.$resources.push(_1622);_161d={$key:_161c,UserId:data[i].Leader.$key,ActivityId:_161f,UserActivity:data[i].UserActivities.$resources,Activity:data[i]};_161e=_161b[_161c];if(!_161e){_161b[_161c]=_161c;_161b["$resources"].push(_161d);}}}}var _1623=[];_1623["$resources"]=_161b["$resources"];return _1623;},_processResourceActivityData:function(_1624){var _1625=[];_1625["$resources"]=[];var data=_1624["$resources"];if(data){var cnt=data.length;for(var i=0;i<cnt;i++){var _1626=false;var _1627=data[i]["$key"];if(data[i].Resources){var _1628=data[i].Resources.$resources;var ln=_1628.length;for(var j=0;j<ln;j++){var _1629=data[i].Resources.$resources[j].Resource.$key;var _162a=_1629+":"+_1627;_1626=_1625[_162a];if(!_1626){var _162b={$Key:_162a,ResourceId:_1629,ActivityId:_1627,ResourceActivity:data[i].Resources.$resources[j],Activity:data[i]};_1625[_162a]=_162b;_1625[_162a]=_162a;_1625["$resources"].push(_162b);continue;}}}}}var _162c=[];_162c["$resources"]=_1625["$resources"];return _162c;},_buildFreeBusyData:function(_162d,_162e){var rData=_162d["$resources"];var uData=_162e["$resources"];var vData=[];var i;var _162f;vData["$resources"]=[];for(i=0;i<uData.length;i++){_162f={id:uData[i].$key,activityId:uData[i].ActivityId,itemId:uData[i].UserId,type:uData[i].Activity.Type,startDate:uData[i].Activity.StartDate,duration:uData[i].Activity.Duration,timless:uData[i].Activity.Timeless,description:uData[i].Activity.Description};vData["$resources"].push(_162f);}for(i=0;i<rData.length;i++){_162f={id:rData[i].$key,activityId:rData[i].ActivityId,itemId:rData[i].ResourceId,type:rData[i].Activity.Type,startDate:rData[i].Activity.StartDate,duration:rData[i].Activity.Duration,timless:rData[i].Activity.Timeless,description:rData[i].Activity.Description};vData["$resources"].push(_162f);}return vData;},getDefaultActivityManagerTabId:function(){if(!this._defaultActivitManagerTabId){var _1630=Sage.Services.getService("UserOptions");var self=this;if(_1630){_1630.get("DefaultView","ActivityAlarm",function(data){self._defaultActivitManagerTabId=self.getTabIdFromCode(data.value);},null,this,false);}}return this._defaultActivitManagerTabId;},setDefaultActivityManagerTabId:function(tabId){this._defaultActivitManagerTabId=tabId;},getTabIdFromCode:function(code){var tabId="activities";switch(code){case "0":tabId="activities";break;case "1":tabId="allopen";break;case "2":tabId="pastdue";break;case "3":tabId="alarms";break;case "4":tabId="events";break;case "5":tabId="confirmations";break;case "6":tabId="literature";break;}return tabId;},getSelectedId:function(){var _1631=this.getSelectionInfo();var id="";if(_1631){if(_1631.hasCompositeKey){var _1632=_1631.selections[0].entity;return _1632["Activity"]["$key"];}if(_1631.selections.length==1){id=_1631.selections[0].id;}else{id=_1631.selections[0].id;}}return id;},getSelectedItem:function(){var _1633=this.getSelectionInfo();var _1634={id:false,hasCompositeKey:false,entity:false};if(_1633){_1634.hasCompositeKey=_1633.hasCompositeKey;_1634.entity=_1633.entity;if(_1633.selections.length==1){_1634.id=_1633.selections[0].id;_1634.entity=_1633.selections[0].entity;}else{_1634.id=_1633.selections[0].id;_1634.entity=_1633.selections[0].entity;}}return _1634;},getSelections:function(){var _1635=this.getSelectionInfo();var _1636=null;if(_1635){_1636=_1635.selections;}return _1636;},prepareSelections:function(){return this.getSelectionInfo();},getSelectionInfo:function(){var _1637=false;try{var panel=dijit.byId("list");if(panel){_1637=panel.getSelectionInfo(true);}}catch(e){_1538.alert(this.txtErrorActionMsg||"error getting selectionInfo");}return _1637;},getTotalSelectionCount:function(){var count=0;try{var panel=dijit.byId("list");if(panel){count=panel.getTotalSelectionCount();}}catch(e){}return count;},verifySelection:function(_1638){if(_1638!==null){return (_1638.selectionCount!==0);}return false;},verifySingleSelection:function(_1639){if(_1639!==null){return (_1639.selectionCount===1);}return false;},setSelectionCount:function(){try{var panel=dijit.byId("list");if(panel){$("#selectionCount").text(panel.getTotalSelectionCount());}}catch(e){}},refreshList:function(tabId){try{var panel=dijit.byId("list");if(panel){var _163a=Sage.Services.getService("ClientGroupContext");if(_163a){var ctx=_163a.getContext();if(tabId===ctx.CurrentGroupID){panel.refreshView(tabId);}}}}catch(e){}},_getSelectionContext:function(id,_163b,_163c){var _163d={id:null,selectionInfo:null,count:0,mode:"select",name:null};if(!id){_163d.selectionInfo=this.getSelectionInfo();_163d.count=_163d.selectionInfo.selectionCount;if(_163d.count===1){_163d.id=_163d.selectionInfo.selectedIds[0];}}else{var _163e=[];var _163f=[];_163e.push(id);_163f.push({rn:0,id:id});var _1640={key:"",mode:"singleSelect",selectionCount:1,recordCount:1,sortDirection:"",sortField:"",keyField:"",hasCompositeKey:id.indexOf("Activity")>-1?true:false,ranges:[],selections:_163f,selectedIds:_163e};_163d.selectionInfo=_1640;_163d.id=id;_163d.count=1;}_163d.name=(_163d.count>1)?_163c:_163b;return _163d;},getActivityService:function(){var _1641=_1541.getSDataService("dynamic");return _1641;}});if(!Sage.Services.hasService("ActivityService")){Sage.Services.addService("ActivityService",new _1546());}return _1546;});},"Sage/MainView/ActivityMgr/templates/nls/AllOpenDetailSummary":function(){define("Sage/MainView/ActivityMgr/templates/nls/AllOpenDetailSummary",["Sage/LanguageList","dojo/_base/lang"],function(_1642,lang){var nls={root:{txtPhone_Caption:"Phone:",lnkOpportunityName_Caption:"Opportunity:",txtStartTime_Caption:"Start Time:",lnkContactName_Caption:"Contact:",lnkLeadName_Caption:"Lead:",lnkTicketNumber_Caption:"Ticket:",txtLocation_Caption:"Location:",txtLeader_Caption:"Leader:",txtDuration_Caption:"Duration:",lnkAccountName_Caption:"Account:",lnkCompanyName_Caption:"Company:",txtNotes_Caption:"Notes:",btnComplete_Caption:"Complete",txtAttendeeCount_Caption:"Participant Count:"}};return lang.mixin(_1642,nls);});},"Sage/UI/JsonPrintDetailPane":function(){define("Sage/UI/JsonPrintDetailPane",["Sage/UI/_DetailPane","Sage/_Templated","dojo/_base/declare"],function(_1643,_1644,_1645){return _1645("Sage.UI.JsonPrintDetailPane",[_1643,_1644],{widgetsInTemplate:true,contentNode:null,attributeMap:{"content":{node:"contentNode",type:"innerHTML"}},widgetTemplate:new Simplate(["<div class=\"json-print-detail-pane\">","<pre dojoAttachPoint=\"contentNode\"></pre>","</div>"]),_onSelected:function(index,row,grid){this.set("content",dojo.toJson(row,true));}});});},"Sage/MainView/ReportMgr/Crystal/MultiSelectParameterEditor":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/MultiSelectParameterEditor.html":"<div>\r\n    <div data-dojo-attach-point=\"promptParameterContainer\" class=\"crystalParameterContainer\">\r\n        <div data-dojo-attach-point=\"paramsHeaderContainer\"></div>\r\n        <div data-dojo-attach-point=\"divMinMaxMessage\">\r\n            <span data-dojo-attach-point=\"spanMinMaxMessage\">&nbsp;</span>\r\n        </div>\r\n        <div data-dojo-attach-point=\"parameterRangeDiv\" class=\"display-none\">\r\n            <div data-dojo-attach-point=\"parameterRangeWidgetContainer\" style=\"height:auto\"></div>\r\n            <div>\r\n                <label class=\"display-none\" data-dojo-attach-point=\"lblRangeValidationError\" style=\"color:red\">{%= Sage.Utility.htmlEncode($.txtPleaseSpecifyValue) %}</label>\r\n            </div>\r\n            <div style=\"padding:5px\">\r\n                <div data-dojo-type=\"dijit.form.Button\" data-dojo-attach-point=\"cmdAddRange\" dojoAttachEvent=\"onClick:_cmdAddRange_OnClick\"\r\n                    style=\"float:right\" >{%= Sage.Utility.htmlEncode($.txtAddRange) %}\r\n                </div>\r\n            </div>\r\n            <br />\r\n        </div>\r\n        <div data-dojo-attach-point=\"divMultipleValues\">\r\n            <table style=\"width:100%\">\r\n                <colgroup>\r\n                    <col style=\"width:1%\" />\r\n                    <col style=\"width:44%\" />\r\n                    <col style=\"width:10%\" />\r\n                    <col style=\"width:44%\" />\r\n                </colgroup>\r\n                <tr>\r\n                    <td colspan=\"4\">\r\n                        <div data-dojo-attach-point=\"transferBoxContainer\" style=\"height:auto\"></div>\r\n                    </td>\r\n                </tr>\r\n                <tr data-dojo-attach-point=\"rowCustomValues\">\r\n                    <td></td>\r\n                    <td>\r\n                        <div>\r\n                            <label>{%= Sage.Utility.htmlEncode($.lblEnterValue_Caption) %}</label><br />\r\n                            <input type=\"text\" dojoType=\"dijit.form.TextBox\" data-dojo-attach-point=\"txtCustomValue\" style=\"width:85%\" />\r\n                            <span data-dojo-attach-point=\"errorCustomDate\" class=\"display-none\" style=\"color:red\">*</span>\r\n                        </div>\r\n                    </td>\r\n                    <td>\r\n                        <br />\r\n                        <div data-dojo-type=\"dijit.form.Button\" data-dojo-attach-point=\"cmdAddCustom\" dojoAttachEvent=\"onClick:_cmdAddCustom_OnClick\" >{%= Sage.Utility.htmlEncode(\">\") %}</div>\r\n                    </td>\r\n                    <td></td>\r\n                </tr>\r\n                <tr>\r\n                    <td></td>\r\n                    <td colspan=\"3\">\r\n                        <div data-dojo-attach-point=\"divValidationMessage\" style=\"color:red\">\r\n                            <span data-dojo-attach-point=\"spanValidationMessage\">&nbsp;</span>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <div>\r\n        <br />\r\n    </div>\r\n</div>"}});define("Sage/MainView/ReportMgr/Crystal/MultiSelectParameterEditor",["dojo/_base/declare","dojo/_base/array","dojo/number","Sage/MainView/ReportMgr/Crystal/ParameterHeaderWidget","dojo/text!./templates/MultiSelectParameterEditor.html","Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase","Sage/MainView/ReportMgr/ReportManagerUtility","dijit/form/MultiSelect","Sage/Utility","Sage/MainView/ReportMgr/Crystal/ParameterRangeWidget","Sage/Reporting/Enumerations"],function(_1646,_1647,_1648,_1649,_164a,_164b,_164c,_164d,_164e,_164f,_1650){var _1651=_164e.makeTemplateFromString(_164a);var _1652=_1646("Sage.MainView.ReportMgr.Crystal.MultiSelectParameterEditor",[_164b],{widgetTemplate:_1651,parameterRangeWidget:null,isNumeric:false,_setValueAttr:function(value){this._set("value",value);},_getValueAttr:function(){var self=this;this._promptParameter.currentValues=[];_1647.forEach(this._selectedValues,function(_1653,i){var _1654=self._getParameterValue(_1653);self._promptParameter.currentValues.push(_1654);});return this._promptParameter;},constructor:function(_1655){},startup:function(){this.inherited(arguments);this.isNumeric=(this.parameterValueKind===_1650.SlxParameterValueKind.NumberParameter);var _1656=new _1649({promptText:this._promptParameter.promptText,parameterFieldName:this._promptParameter.parameterFieldName}).placeAt(this.paramsHeaderContainer);if(!this._paramDiscreteType){_164c.setDomNodeVisible(this.parameterRangeDiv,true);this.parameterRangeWidget=new _164f({paramInitialIds:this._initialIds,paramInitialValues:this._initialValues,paramValues:this._values,defaultValues:this._promptParameter.defaultValues,parameterValueKind:this._promptParameter.parameterValueKind,allowCustomValues:this._allowCustomValues},"parameterRangeWidget");this.parameterRangeWidget.placeAt(this.parameterRangeWidgetContainer);}this.initializeTransferBoxWidget(this.transferBoxContainer,!this._paramRangeType);if(this.isNumeric){this.connect(this.txtCustomValue,"onKeyPress",this._onKeyPress,true);}_164c.setDomNodeVisible(this.divValidationMessage,false);_164c.setDomNodeVisible(this.rowCustomValues,this._allowCustomValues&&!this._paramRangeType);this._initializeMessages();},isValid:function(){var valid=true;var msg="";if(!this._promptParameter.isOptionalPrompt&&!this._promptParameter.allowNullValue){this._selectedValues=this.transferBox.getSelectedValues();if(this._selectedValues.length>0){dojo.addClass(this.transferBox.errorValidation,"display-none");}else{dojo.removeClass(this.transferBox.errorValidation,"display-none");msg=this.txtPleaseSpecifyValue;valid=false;}}this._showValidationMessage(msg);return valid;},_onKeyPress:function(e){if(!_164e.restrictToNumberOnKeyPress(e,"number")){dojo.stopEvent(e);}},_initializeMessages:function(){var _1657=this.getMinMaxInitializationMessage();this.spanMinMaxMessage.innerHTML=_164e.htmlEncode(_1657);_164c.setDomNodeVisible(this.divMinMaxMessage,(_1657!==""));},_showValidationMessage:function(msg){this.spanValidationMessage.innerHTML=_164e.htmlEncode(msg);_164c.setDomNodeVisible(this.divValidationMessage,(msg!==""));},_getParameterValue:function(_1658){var _1659;if(_1658.range){_1659={className:_1650.ParameterClassName.RangeValue,description:_1658.displayValue,rangeValue:{beginValue:_1658.range.startValue,beginValueType:this.beginValueType,endValue:_1658.range.endValue,endValueType:this.endValueType,lowerBoundType:_1658.range.noLowerValue?_1650.SlxRangeBoundType.NoBound:_1658.range.includeFromRange?_1650.SlxRangeBoundType.BoundInclusive:_1650.SlxRangeBoundType.BoundExclusive,upperBoundType:_1658.range.noUpperValue?_1650.SlxRangeBoundType.NoBound:_1658.range.includeToRange?_1650.SlxRangeBoundType.BoundInclusive:_1650.SlxRangeBoundType.BoundExclusive}};}else{_1659={className:_1650.ParameterClassName.DiscreteValue,description:_1658.displayValue,discreteValue:{actualValue:_1658.value,actualValueType:this.actualValueType,value:_1658.value,valueType:this.valueType}};}return _1659;},_cmdAddRange_OnClick:function(){this.lblRangeValidationError.textContent=this.txtPleaseSpecifyValue;if(this.parameterRangeWidget.verifyRequiredAssignments()){if(this.parameterRangeWidget.validateRangeWithinBoundaries()){dojo.addClass(this.lblRangeValidationError,"display-none");var range=this.parameterRangeWidget.getRangeValue();if(this.isNumeric){range.startValue=range.startValue?_1648.parse(range.startValue.replace(/\D/g,"")):null;range.endValue=range.endValue?_1648.parse(range.endValue.replace(/\D/g,"")):null;}var _165a={range:range,displayValue:range.displayValue,value:range.startValue?range.startValue:range.endValue};this._addToSelectedValues(_165a);}else{dojo.removeClass(this.lblRangeValidationError,"display-none");this.lblRangeValidationError.textContent=this.txtFromMustBeLessThanOrEqualToTo;}}else{dojo.removeClass(this.lblRangeValidationError,"display-none");}},_cmdAddCustom_OnClick:function(){var value=this.txtCustomValue.get("value");if(value===""){dojo.removeClass(this.errorCustomDate,"display-none");this._showValidationMessage(this.txtPleaseSpecifyValue);this.txtCustomValue.focus();}else{this._showValidationMessage("");dojo.addClass(this.errorCustomDate,"display-none");var _165b={value:value,displayValue:value};this._addToSelectedValues(_165b);}},_addToSelectedValues:function(_165c){if(_165c){if(this.valueWithinMinMaxRange(_165c.value)){var item={id:_165c.displayValue,value:_165c.value,displayValue:_165c.displayValue,range:_165c.range,__selected:true,destroyOnRemove:false};this.transferBox.addNewItem(item,true);this._showValidationMessage("");}else{this._showValidationMessage(this.getMinMaxValidationMessage(_165c.value));}}else{this._showValidationMessage(this.txtPleaseSpecifyValue);}}});return _1652;});},"Sage/MainView/ReportMgr/templates/nls/ReportsListSummary":function(){define("Sage/MainView/ReportMgr/templates/nls/ReportsListSummary",["Sage/LanguageList","dojo/_base/lang"],function(_165d,lang){var nls={root:{txtTrue:"True",txtFalse:"False"}};return lang.mixin(_165d,nls);});},"Sage/UI/Alarms/AlarmButton":function(){define("Sage/UI/Alarms/AlarmButton",["dojo/_base/declare","Sage/_Templated","dijit/_Widget","Sage/Utility","Sage/Utility/Activity","dojo/string","dojox/storage/LocalStorageProvider","dojo/date","dijit/form/ComboButton","dojo/_base/event","dojo/_base/lang","dojo/dom-class","Sage/Data/SDataServiceRegistry","dojo/i18n","dojo/i18n!./nls/AlarmButton","Sage/UI/Alarms/AlarmPopup","Sage/UI/ImageButton","Sage/Services/UserOptions"],function(_165e,_165f,_1660,_1661,_1662,_1663,_1664,ddate,_1665,event,lang,_1666,_1667,i18n,_1668){var _1669=_165e("Sage.UI.Alarms.AlarmButton",[_1660,_165f],{pastDueToolTipFmt:" You have ${0} activities that are past due.",pastDueButtonIconClass:"icon_alertIcon_16x16",widgetsInTemplate:true,options:{displayPastDueInToolbar:true,displayAlertsInToolbar:true,promptAlerts:true,includeAlarms:true,includeConfirmations:true,defaultSnooze:"5"},pollInterval:1,_localStore:null,_alertCountKey:"AlertsCount",_pastDueCountKey:"PastDueCount",_started:false,_pastDueVisible:false,_alertBtnVisible:false,widgetTemplate:new Simplate(["<span class=\"alarm-button-container\">","<button data-dojo-type=\"Sage.UI.ImageButton\" id=\"pastDueButton\" imageClass=\"{%= $.pastDueButtonIconClass %}\" class=\"past-due-button display-none\" data-dojo-attach-point=\"_pastDueBtn\" data-dojo-attach-event=\"onClick:_pastDueClick\" >","</button>","<span id=\"alertButton\" data-dojo-attach-point=\"_alertButton\" class=\"alarm-button-container alarm-button display-none\">","<span class=\"position-alarm-button\">","<div class=\"Global_Images icon16x16 icon_Alarm_16x16\"></div>","</span>","<button data-dojo-type=\"dijit.form.ComboButton\" data-dojo-attach-point=\"_button\" data-dojo-attach-event=\"onClick:_cboClick\" class=\"\" >","<div data-dojo-type=\"Sage.UI.Alarms.AlarmPopup\" id=\"alarmPopup\" data-dojo-attach-point=\"_popup\" data-dojo-attach-event=\"onClose:_popupClosed\"></div>","</button>","</span>","</span>"]),constructor:function(){dojo.mixin(this,_1668);},_setPollIntervalAttr:function(val){this.pollInterval=val;},_getPollIntervalAttr:function(){return this.pollInterval;},startup:function(){if(this._started){return;}this.inherited(arguments);this.connect(this._popup,"onAlertChanged",this._alarmChanged);var _166a=Sage.Services.getService("UserOptions");if(_166a){_166a.getByCategory("ActivityAlarm",this._receivedOptions,this);}this._localStore=new _1664();this._localStore.initialize();if(this._button.valueNode){this.connect(this._button.valueNode,"click",function(e){event.stop(e);});}},_receivedOptions:function(_166b){this._sortOptions(_166b["$resources"]||_166b);this._popup.set("options",this.options);if((this.options.displayPastDueInToolbar||this.options.displayAlertsInToolbar)&&(this.pollInterval>0)){var self=this;window.setTimeout(function(){self._poll();},15000);this._initializeButton();}this._started=true;},_sortOptions:function(_166c){var _166d=function(_166e){return ((_166e==="T")||(_166e==="Y")||(_166e==="1"));};for(var i=0;i<_166c.length;i++){var _166f=_166c[i];switch(_166f.name){case "DisplayPastDueInToolbar":this.options.displayPastDueInToolbar=_166d(_166f.value);break;case "DisplayAlertsInToolbar":this.options.displayAlertsInToolbar=_166d(_166f.value);break;case "PromptAlerts":this.options.promptAlerts=_166d(_166f.value);break;case "DisplayAlertAlarms":this.options.includeAlarms=_166d(_166f.value);break;case "DisplayAlertConfirmations":this.options.includeConfirmations=_166d(_166f.value);break;case "DefaultSnooze":this.options.defaultSnooze=_166f.value;break;}}if(!this.options.includeAlarms&&!this.options.includeConfirmations){this.options.promptAlerts=false;}},_poll:function(){var req=new Sage.SData.Client.SDataNamedQueryRequest(_1667.getSDataService("mashups")).setApplicationName("$app").setResourceKind("mashups").setQueryName("execute").setQueryArg("_resultName","GetCounts").setQueryArg("_beforeDate",_1661.Convert.toIsoStringFromDate(new Date())).setQueryArg("_timelessBeforeDate",_1662.formatTimelessEndDate(new Date(),"day",-1)).setQueryArg("_userId",_1661.getClientContextByKey("userID"));req.uri.setCollectionPredicate("'RemindersAndAlarms'");req.read({success:lang.hitch(this,this._onReceiveCounts),failure:lang.hitch(this,this._countsFailed)});},_onReceiveCounts:function(data){var _1670=data["$resources"];if(_1670&&_1670.length>0){var _1671=_1670[0];var _1672=(this.options.includeAlarms)?_1671["ringingAlarms"]:0;var confs=(this.options.includeConfirmations)?_1671["notifications"]:0;var _1673=_1671["pastDue"];this._handlePastDueCount(_1673);this._handleAlertCount(_1672,confs);}var self=this;window.setTimeout(function(){self._poll();},this.pollInterval*60000);},_countsFailed:function(req){},_handlePastDueCount:function(_1674){if(_1674>0&&this.options.displayPastDueInToolbar){this._showPastDue();var _1675=this._getFromSessionStorage(this._pastDueCountKey)||0;if(_1674!=_1675){this._pastDueBtn.set("title",_1663.substitute(this.pastDueToolTipFmt,[_1674]));this._pastDueBtn.set("label",_1674);this._saveToSessionStorage(this._pastDueCountKey,_1674);}}else{this._hidePastDue();}},_showPastDue:function(){if(!this._pastDueVisible){_1666.remove(this._pastDueBtn.domNode,"display-none");this._pastDueVisible=true;}},_hidePastDue:function(){if(this._pastDueVisible){_1666.add(this._pastDueBtn.domNode,"display-none");this._pastDueVisible=false;this._pastDueBtn.set("title","");this._pastDueBtn.set("label","");}},_pastDueClick:function(){Sage.Link.toActivityListView("pastdue");},_initializeButton:function(){var _1676=this._getFromSessionStorage(this._pastDueCountKey)||0;if(this.options.displayPastDueInToolbar&&(_1676)>0){this._showPastDue();this._pastDueBtn.set("title",_1663.substitute(this.pastDueToolTipFmt,[_1676]));this._pastDueBtn.set("label",_1676);}var _1677=this._getFromSessionStorage(this._alertCountKey)||0;if(this.options.displayAlertsInToolbar&&(_1677)>0){this._button.set("label"," "+_1677+" ");this._showAlertButton();}},_handleAlertCount:function(_1678,confs){if(this.options.displayAlertsInToolbar){if(_1678>0||confs>0){var _1679=false;var _167a=this._getFromSessionStorage(this._alertCountKey)||0;if((_167a*1)!==(_1678+confs)){_1679=true;}_167a=_1678+confs;this._saveToSessionStorage(this._alertCountKey,_167a);this._button.set("label"," "+_167a+" ");this._showAlertButton();this._checkShowPopup(_1679,_167a);}else{this._hideAlertButton();}}},_showAlertButton:function(){if(!this._alertBtnVisible){_1666.remove(this._alertButton,"display-none");this._alertBtnVisible=true;}},_hideAlertButton:function(){if(this._alertBtnVisible){_1666.add(this._alertButton,"display-none");this._alertBtnVisible=false;}},_checkShowPopup:function(_167b,_167c){if(!this.options.promptAlerts){return;}if(_167b){this._popup._dataRequested=false;}if(!this._popup.isOpen&&_167c>0&&_167b){this._button.openDropDown();}},_cboClick:function(e){if(this._popup.isOpen){this._button.closeDropDown();}else{this._button.openDropDown();}return false;},_popupClosed:function(){},_alarmChanged:function(){var items=this._popup.getAlertCount();if(items===0){dijit.popup.hide(this._popup);this._hideAlertButton();}else{this._showAlertButton();}this._button.set("label"," "+items+" ");this._saveToSessionStorage(this._alertCountKey,items);},_saveToSessionStorage:function(key,value){sessionStorage.setItem(key,value);},_getFromSessionStorage:function(key){return sessionStorage.getItem(key);}});return _1669;});},"Sage/UI/Controls/_DialogHelpIconMixin":function(){define("Sage/UI/Controls/_DialogHelpIconMixin",["dojo/_base/declare","dojo/dom-construct","dojo/dom-attr","dojo/i18n!./nls/_DialogHelpIconMixin"],function(_167d,_167e,_167f,nls){return _167d("Sage.UI.Controls._DialogHelpIconMixin",null,{helpTopic:"",createHelpIcon:function(url,_1680){if(!url||this.helpIcon){_167e.destroy(this.helpIcon);}var link=_167e.create("a",{href:url,"target":_1680||"help","class":"dialogHelpIcon"},this.titleBar,"first"),node=_167e.create("div",{"class":"Global_Images icon16x16 icon_Help_16x16",title:nls.helpTooltip},link);this.helpIcon=link;},createHelpIconByTopic:function(topic,_1681){if(!topic){topic=this.helpTopic;}else{this.helpTopic=topic;}var _1682=Sage.Link.getHelpUrlTarget(),url=Sage.Link.getHelpUrl(topic,_1681);this.createHelpIcon(url,_1682);},destroy:function(){_167e.destroy(this.helpIcon);this.inherited(arguments);},_setHelpTopicAttr:function(topic){this.helpTopic=topic;if(this.helpIcon){var url=Sage.Link.getHelpUrl(topic);_167f.set(this.helpIcon,"href",url);}else{this.createHelpIconByTopic(topic);}},_getHelpTopicAttr:function(){return this.helpTopic;}});});},"Sage/TaskPane/TaskPaneContent":function(){define("Sage/TaskPane/TaskPaneContent",["dijit/_Widget","Sage/_Templated","Sage/TaskPane/TaskPaneItem","dojo/_base/declare"],function(_1683,_1684,_1685,_1686){var _1687=_1686("Sage.TaskPane.TaskPaneContent",[_1683,_1684],{widgetsInTemplate:true,widgetTemplate:new Simplate(["<div dojoAttachPoint=\"taskletContainerNode\" class=\"task-pane-item-common-tasklist\">","{% for (var i = 0; i < $.taskItems.length; i++) { ","var task = $.taskItems[i]; %}","<div data-dojo-type=\"Sage.TaskPane.TaskPaneItem\" linkText=\"{%= task.displayName %}\" securedAction=\"{%= task.securedAction %}\" action=\"javascript: {%= task.clientAction %}\"></div>","<br />","{% } %}","</div>"])});return _1687;});},"Sage/UI/Alarms/AlarmCountDown":function(){define("Sage/UI/Alarms/AlarmCountDown",["Sage/_Templated","dijit/_Widget","Sage/Utility","dojo/date","dojo/html","dojo/i18n","dojo/i18n!./nls/AlarmCountDown","dojo/_base/declare"],function(_1688,_1689,_168a,_168b,_168c,i18n,_168d,_168e){var _168f=_168e("Sage.UI.Alarms.AlarmCountDown",[_1689,_1688],{widgetsInTemplate:false,startDate:"",_isOverdue:false,_timer:false,widgetTemplate:new Simplate(["<div>","<div dojoAttachPoint=\"_startsIn\"></div>","<div>","<span dojoAttachPoint=\"_countDownAmount\" class=\"alarm-countdown\"></span>","<span dojoAttachPoint=\"_countDownTimeFrame\"></span>","</div>","<div dojoAttachPoint=\"_countDown2\">","<span dojoAttachPoint=\"_countDown2Amount\" class=\"alarm-countdown\"></span>","<span dojoAttachPoint=\"_countDown2TimeFrame\"></span>","</div>","</div>"]),constructor:function(){dojo.mixin(this,_168d);},postCreate:function(){this.inherited(arguments);var c=_168a.Convert;if(c.isDateString(this.startDate)){this.startDate=c.toDateFromString(this.startDate);}if(!this.startDate){return;}this._calculate();},_calculate:function(){var n=new Date();var _1690,_1691;if(_168b.difference(this.startDate,n,"minute")<0){_1690=n;_1691=this.startDate;this._isOverdue=false;}else{_1690=this.startDate;_1691=n;this._isOverdue=true;}var diff;if(_1690.getFullYear()===_1691.getFullYear()&&_1690.getMonth()===_1691.getMonth()&&_1690.getDate()===_1691.getDate()){diff=_168b.difference(_1690,_1691,"minute");if(diff<61){this._setUI(diff,(diff>1)?this.minutesText:this.minuteText);}else{var _1692=diff%60;var hours=Math.floor(diff/60);this._setUI(hours,(hours>1)?this.hoursText:this.hourText,_1692,(_1692>1)?this.minutesText:this.minuteText);}var self=this;window.setTimeout(function(){self._update();},60000);return;}diff=_168b.difference(_1690,_1691,"day");if(diff<31){this._setUI(diff,(diff>1)?this.daysText:this.dayText,false,false);return;}diff=_168b.difference(_1690,_1691,"month");if(diff<13){this._setUI(diff,(diff>1)?this.monthsText:this.monthText,false,false);return;}diff=_168b.difference(_1690,_1691,"year");this._setUI(diff,(diff>1)?this.yearsText:this.yearText);},_setUI:function(amt,_1693,amt2,_1694){if(amt!==0){_168c.set(this._startsIn,(this._isOverdue)?this.overduebyText:this.startsInText);_168c.set(this._countDownAmount," "+amt+" ");if(amt2){_168c.set(this._countDown2Amount," "+amt2+" ");dojo.removeClass(this._countDown2,"display-none");}else{dojo.addClass(this._countDown2,"display-none");}}else{_168c.set(this._startsIn,"");_168c.set(this._countDownAmount,"");_1693=this.startsNowText;}_168c.set(this._countDownTimeFrame,_1693);if(_1694){_168c.set(this._countDown2TimeFrame,_1694);}if(this._isOverdue){dojo.addClass(this.domNode,"overdue-alarm");}else{dojo.removeClass(this.domNode,"overdue-alarm");}},_update:function(){this._calculate();},destroy:function(){if(this._timer){window.clearTimeout(this._timer);}this.inherited(arguments);}});return _168f;});},"dgrid/util/misc":function(){define("dgrid/util/misc",["dojo/has","put-selector/put"],function(has,put){has.add("dom-contains",function(_1695,doc,_1696){return !!_1696.contains;});var _1697=[],_1698,_1699,_169a,_169b=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g;function _169c(index){var _169d=_1697[index],i,l;if(_169d===undefined){return;}_1698[_1699](_169d);_1697[index]=undefined;for(i=index+1,l=_1697.length;i<l;i++){if(_1697[i]>_169d){_1697[i]--;}}};var util={defaultDelay:15,throttle:function(cb,_169e,delay){var ran=false;delay=delay||util.defaultDelay;return function(){if(ran){return;}ran=true;cb.apply(_169e,arguments);setTimeout(function(){ran=false;},delay);};},throttleDelayed:function(cb,_169f,delay){var ran=false;delay=delay||util.defaultDelay;return function(){if(ran){return;}ran=true;var a=arguments;setTimeout(function(){ran=false;cb.apply(_169f,a);},delay);};},debounce:function(cb,_16a0,delay){var timer;delay=delay||util.defaultDelay;return function(){if(timer){clearTimeout(timer);timer=null;}var a=arguments;timer=setTimeout(function(){cb.apply(_16a0,a);},delay);};},each:function(_16a1,_16a2,_16a3){var i,len;if(!_16a1){return;}if(typeof _16a1.length==="number"){for(i=0,len=_16a1.length;i<len;i++){_16a2.call(_16a3,_16a1[i],i,_16a1);}}else{for(i in _16a1){_16a2.call(_16a3,_16a1[i],i,_16a1);}}},contains:function(_16a4,node){if(has("dom-contains")){return _16a4.contains(node);}else{return _16a4.compareDocumentPosition(node)&8;}},addCssRule:function(_16a5,css){if(!_1698){_1698=put(document.getElementsByTagName("head")[0],"style");_1698=_1698.sheet||_1698.styleSheet;_1699=_1698.deleteRule?"deleteRule":"removeRule";_169a=_1698.cssRules?"cssRules":"rules";}var index=_1697.length;_1697[index]=(_1698.cssRules||_1698.rules).length;_1698.addRule?_1698.addRule(_16a5,css):_1698.insertRule(_16a5+"{"+css+"}",_1697[index]);return {get:function(prop){return _1698[_169a][_1697[index]].style[prop];},set:function(prop,value){if(typeof _1697[index]!=="undefined"){_1698[_169a][_1697[index]].style[prop]=value;}},remove:function(){_169c(index);}};},escapeCssIdentifier:function(id,_16a6){return id.replace(_169b,_16a6||"\\$1");}};return util;});},"Sage/main":function(){define("Sage/main",["Sage/_ActionMixin","Sage/Utility","Sage/LanguageList","Sage/Link","Sage/Array","Sage/_ConfigurationProvider","Sage/_Templated","Sage/Format","Sage/Data/main","Sage/Store/main","Sage/Groups/main","Sage/Layout/main","Sage/Library/main","Sage/MailMerge/main","Sage/Services/main","Sage/MainView/main","Sage/QuickForms/Design/main","Sage/TaskPane/main","Sage/UI/main","Sage/Utility/main","Sage/Workspaces/main","dojo/i18n!dijit/nls/common"],function(){});},"Sage/MainView/ReportMgr/Common/nls/ExportOptionsDialog":function(){define("Sage/MainView/ReportMgr/Common/nls/ExportOptionsDialog",["Sage/LanguageList","dojo/_base/lang"],function(_16a7,lang){var nls={root:{txtDialogTitle:"Export Options",txtDialogTitleScheduling:"Export And Scheduling Options",cmdBack_Caption:"< Back",cmdNext_Caption:"Next >",cmdCancel_Caption:"Cancel",txtName:"Name",txtSelectUser:"Select User",txtOK:"OK",txtOutputFormat_Caption:"Format",txtRunAs_Caption:"Run As",txtScheduleDescription_Caption:"Description"}};return lang.mixin(_16a7,nls);});},"Sage/QuickForms/Design/DataSourcePanel":function(){define("Sage/QuickForms/Design/DataSourcePanel",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/Deferred","dojo/string","dojo/dom","dojo/on","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/DeferredList","dijit/_Widget","Sage/Services/_ServiceMixin","Sage/_EventMapMixin","Sage/_Templated","dojo/dnd/Source","dojo/dnd/Manager","dojo/i18n!./nls/DataSourcePanel"],function(_16a8,array,lang,_16a9,_16aa,dom,on,_16ab,_16ac,_16ad,_16ae,_16af,_16b0,_16b1,_16b2,_16b3,_16b4,_16b5){var _16b6=_16a8("Sage.QuickForms.Design.DataSourcePanelDnDSource",[_16b3],{avatarTemplate:new Simplate(["<div class=\"design-property\" data-property-type=\"{%: $.data.dataTypeId %}\">","<div class=\"design-property-icon\"></div>","<span>{%: $.propertyPath %}</span>","</div>"]),owner:null,accept:["none"],constructor:function(){this.creator=true;lang.mixin(this,_16b5);var _16b7=dojo.byId("TaskPane_taskPaneHelp");if(_16b7){_16b7.target="";_16b7.href="javascript:Sage.Utility.openHelp(\"Adding_Data_Field\");";}},checkAcceptance:function(_16b8,nodes){if(_16b8==this){return false;}return this.inherited(arguments);},onDropInternal:function(_16b9,nodes,copy){},onDropExternal:function(_16ba,nodes,copy){},onDndStart:function(_16bb,nodes,copy){this.inherited(arguments);},onDndCancel:function(){this.inherited(arguments);},getItem:function(key){var value=this.inherited(arguments),node=dom.byId(key),path=_16ab.get(node,"data-property"),_16bc=node&&this.owner._context[path];return lang.mixin({context:_16bc},value);},_normalizedCreator:function(data,hint){var _16bd=this.owner._context[data],_16be=_16ad.toDom(this.avatarTemplate.apply(_16bd,this)),_16bf=_16ad.create("div",{"class":"design-surface-dnd-avatar"});_16ad.place(_16be,_16bf);return {node:_16bf};}});var _16c0=_16a8("Sage.QuickForms.Design.DataSourcePanel",[_16af,_16b0,_16b1,_16b2],{events:{"li:click":true},serviceMap:{"dataService":{type:"sdata",name:"metadata"}},widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"design-property-panel\">","<div class=\"design-property-panel-search\">","<div>","<input type=\"text\" data-dojo-attach-point=\"queryNode\" />","</div>","<input type=\"button\" />","</div>","<div class=\"design-property-panel-tree\" data-dojo-attach-point=\"treeNode\">","</div>","</div>"]),containerTemplate:new Simplate(["<ul></ul>"]),propertyTemplate:new Simplate(["<li class=\"design-property\" data-property=\"{%: $.propertyPath %}\" data-property-category=\"{%: $.type %}\" data-property-type=\"{%: $.data.dataTypeId %}\" data-action=\"_toggle\">","<div class=\"design-property-expando\"></div>","<div class=\"design-property-icon\"></div>","<span>{%: $.displayName %}</span>","</li>"]),loadingTemplate:new Simplate(["<ul class=\"design-property-loading\"><li>{%: $.loadingText %}</li></ul>"]),_context:null,_designGroup:null,_designGroupTopics:null,designGroup:"default",queryNode:null,treeNode:null,sortProperty:"propertyName",loadingText:"Loading...",_getDesignGroupAttr:function(){return this._designGroup;},_setDesignGroupAttr:function(value){if(this._designGroupTopics){array.forEach(this._designGroupTopics,function(topic){this.unsubscribe(topic);},this);}this._designGroup=value;this._designGroupTopics=[this.subscribe(_16aa.substitute("/quickforms/design/${0}/clear",[this._designGroup]),this._onFormCleared),this.subscribe(_16aa.substitute("/quickforms/design/${0}/load",[this._designGroup]),this._onFormLoaded)];},constructor:function(){this._context={};this._sources=[];},uninitialize:function(){if(this._sources){array.forEach(this._sources,function(_16c1){_16c1.destroy();});}this._sources=[];},clear:function(){_16ad.empty(this.treeNode);this._context={};},_onFormCleared:function(){this.clear();},_onFormLoaded:function(entry){var _16c2=entry["entity"]["EntityTypeName"].substr(1);this._load(_16c2,this.treeNode);},_toggle:function(evt,node){var path=_16ab.get(node,"data-property"),_16c3=this._context[path];if(_16c3&&_16c3.data["entityName"]){if(_16c3["loaded"]){_16ac.toggle(node,"design-property-expanded");}else{_16ac.add(node,"design-property-expanded");_16c3["loaded"]=true;this._load(_16c3.data["entityName"],node);}}},_load:function(_16c4,node){var _16c5=_16ad.place(this.loadingTemplate.apply(this,this),node);var wait=[],_16c6;_16c6=new _16a9();new Sage.SData.Client.SDataSingleResourceRequest(this.dataService).setResourceKind("entities").setResourceSelector("\""+_16c4+"\"").setQueryArg("select","properties/*").read({success:lang.hitch(this,this._onPropertyRequestSuccess,_16c6,_16c4),failure:lang.hitch(this,this._onRequestFailure,_16c6)});wait.push(_16c6);_16c6=new _16a9();new Sage.SData.Client.SDataResourceCollectionRequest(this.dataService).setResourceKind("relationships").setQueryArg("where",_16aa.substitute("(parentEntity.name eq \"${0}\" and cardinality eq \"M:1\") or (childEntity.name eq \"${0}\" and cardinality eq \"1:M\")",[_16c4])).read({success:lang.hitch(this,this._onRelationshipRequestSuccess,_16c6,_16c4),failure:lang.hitch(this,this._onRequestFailure,_16c6)});wait.push(_16c6);_16c6=new _16a9();new Sage.SData.Client.SDataResourceCollectionRequest(this.dataService).setResourceKind("entities").setQueryArg("where",_16aa.substitute("extendedEntity.name eq \"${0}\"",[_16c4])).setQueryArg("select","extendedEntityPropertyName").read({success:lang.hitch(this,this._onExtendedRequestSuccess,_16c6,_16c4),failure:lang.hitch(this,this._onRequestFailure,_16c6)});wait.push(_16c6);new _16ae(wait,false,true,true).then(lang.hitch(this,this._process,node,_16c5),lang.hitch(this,this._error,node,_16c5));},_onPropertyRequestSuccess:function(_16c7,_16c8,feed){_16c7.resolve(feed["properties"]["$resources"]);},_onExtendedRequestSuccess:function(_16c9,_16ca,feed){var _16cb=array.map(feed["$resources"],function(entry){return {displayName:entry["$descriptor"],propertyName:entry["$key"],entityName:entry["$key"]};});_16c9.resolve(_16cb);},_onRelationshipRequestSuccess:function(_16cc,_16cd,feed){var _16ce=[],_16cf=feed["$resources"];array.forEach(_16cf,function(entry){if(_16cd==entry["parentEntity"]["$key"]&&entry["parentProperty"]["isIncluded"]){_16ce.push({displayName:entry["parentProperty"]["displayName"],propertyName:entry["parentProperty"]["propertyName"],propertyId:entry["parentProperty"]["id"],entityName:entry["childEntity"]["$key"],includes:array.map(entry["columns"]["$resources"],function(_16d0){return _16d0["parentPropertyId"];})});}else{if(_16cd==entry["childEntity"]["$key"]&&entry["childProperty"]["isIncluded"]){_16ce.push({displayName:entry["childProperty"]["displayName"],propertyName:entry["childProperty"]["propertyName"],propertyId:entry["childProperty"]["id"],entityName:entry["parentEntity"]["$key"],includes:array.map(entry["columns"]["$resources"],function(_16d1){return _16d1["childPropertyId"];})});}}},this);_16cc.resolve(_16ce);},_onRequestFailure:function(_16d2,_16d3){_16d2.reject(_16d3);},_error:function(node,_16d4,error){_16ad.destroy(_16d4);},_process:function(node,_16d5,_16d6){var _16d7=_16ab.get(node,"data-property"),_16d8={},_16d9=[],_16da=[],_16db;array.forEach(_16d6[1][1],function(_16dc){array.forEach(_16dc["includes"],function(id){_16d8[id]=true;});_16d9.push({propertyPath:_16d7?_16d7+"."+_16dc["propertyName"]:_16dc["propertyName"],propertyName:_16dc["propertyName"],displayName:_16dc["displayName"]||_16dc["propertyName"],type:"relationship",data:_16dc});});array.forEach(_16d6[0][1],function(_16dd){if(_16d8[_16dd["id"]]){return;}if(_16dd["isIncluded"]){_16da.push({propertyPath:_16d7?_16d7+"."+_16dd["propertyName"]:_16dd["propertyName"],propertyName:_16dd["propertyName"],displayName:_16dd["displayName"]||_16dd["propertyName"],type:"standard",data:_16dd,dataTypeData:_16dd["dataTypeData"]?dojo.fromJson(_16dd["dataTypeData"]):{}});}});_16db=array.map(_16d6[2][1],function(_16de){return {propertyPath:_16d7?_16d7+"."+_16de["propertyName"]:_16de["propertyName"],propertyName:_16de["propertyName"],displayName:_16de["displayName"]||_16de["propertyName"],type:"extended",data:_16de};});var all=_16da.concat(_16d9,_16db),_16df=this.sortProperty;all.sort(function(a,b){var nameA=a[_16df],nameB=b[_16df];return (nameA<nameB)?-1:(nameA>nameB)?1:0;});_16ad.destroy(_16d5);this.render(node,all);},render:function(node,_16e0){var _16e1=_16ad.place(this.containerTemplate.apply(this,this),node);var self=this;array.forEach(_16e0,function(_16e2){this._context[_16e2.propertyPath]=_16e2;var _16e3=_16ad.place(this.propertyTemplate.apply(_16e2,this),_16e1);if(_16e3&&_16e2["type"]=="standard"){_16ab.set(_16e3,"dndType","property");_16ab.set(_16e3,"dndData",_16e2.propertyPath);_16ac.add(_16e3,"dojoDndItem");}else{on(_16e3,"mousedown",function(){if(self._sources&&self._sources.length>0){self._sources[0].selectNone();}});}},this);var _16e4=new _16c0.Source(_16e1,{owner:this,copyOnly:true,selfAccept:false});_16e4.startup();this._sources.push(_16e4);}});_16c0.Source=_16b6;return _16c0;});},"Sage/Groups/GroupNavigator":function(){define("Sage/Groups/GroupNavigator",["Sage/_Templated","dijit/_Widget","Sage/UI/ToolBarLabel","Sage/UI/ImageButton","Sage/Groups/GroupContextService","Sage/Services/ClientEntityContext","dojo/i18n!./nls/GroupNavigator","dojo/_base/lang","dojo/_base/declare","dojo/topic"],function(_16e5,_16e6,_16e7,_16e8,_16e9,_16ea,nls,lang,_16eb,topic){var _16ec=_16eb("Sage.Groups.GroupNavigator",[_16e6,_16e5],{widgetsInTemplate:true,firstText:"Move First",previousText:"Move Previous",nextText:"Move Next",lastText:"Move Last",listText:"List View",labelFmtText:"${0} of ${1}",noRecordsText:"No Records",id:"groupNavigator",_entityContextService:false,_groupContextService:false,_entityChangedHandle:false,_groupChangedHandle:false,widgetTemplate:new Simplate(["<span class=\"list-panel-tbar\">","<div id=\"{%= $.id %}-Start\" data-dojo-type=\"Sage.UI.ImageButton\" imageClass=\"icon_Start_16x16\" tooltip=\"{%= $.firstText %}\" alt=\"{%= $.firstText %}\" dojoAttachPoint=\"_firstButton\" dojoAttachEvent=\"onClick:_moveFirst\"></div>","<div id=\"{%= $.id %}-Previous\"  data-dojo-type=\"Sage.UI.ImageButton\" imageClass=\"icon_Browse_Previous_16x16\" tooltip=\"{%= $.previousText %}\" alt=\"{%= $.previousText %}\" dojoAttachPoint=\"_previousButton\" dojoAttachEvent=\"onClick:_movePrevious\"></div>","<div id=\"{%= $.id %}-Label\"  data-dojo-type=\"Sage.UI.ToolBarLabel\" label=\"\" dojoAttachPoint=\"_groupNavLabel\"></div>","<div id=\"{%= $.id %}-Next\"  data-dojo-type=\"Sage.UI.ImageButton\" imageClass=\"icon_Browse_Next_16x16\" tooltip=\"{%= $.nextText %}\" alt=\"{%= $.nextText %}\" dojoAttachPoint=\"_nextButton\" dojoAttachEvent=\"onClick:_moveNext\"></div>","<div id=\"{%= $.id %}-End\"  data-dojo-type=\"Sage.UI.ImageButton\" imageClass=\"icon_End_16x16\" tooltip=\"{%= $.lastText %}\" alt=\"{%= $.lastText %}\" dojoAttachPoint=\"_lastButton\" dojoAttachEvent=\"onClick:_moveLast\"></div>","<div id=\"{%= $.id %}-Switcher\"  data-dojo-type=\"Sage.UI.ImageButton\" imageClass=\"icon_Switch_to_List_View_16x16\" tooltip=\"{%= $.listText %}\" alt=\"{%= $.listText %}\" dojoAttachPoint=\"_listButton\" dojoAttachEvent=\"onClick:_moveToList\"></div>","</span>"]),startup:function(){this._setLabel();},destroy:function(){if(this._groupChangedHandle){dojo.disconnect(this._groupChangedHandle);this._groupChangedHandle=false;}this.inherited(arguments);},postMixInProperties:function(){this._entityContextService=Sage.Services.getService("ClientEntityContext");this._groupContextService=Sage.Services.getService("ClientGroupContext");lang.mixin(this,nls);},_setLabel:function(args){var _16ed=this._getGroupContext(),_16ee=_16ed.CurrentEntityPosition,count=_16ed.CurrentGroupCount,eCtx=this._entityContextService.getContext();this._enableButtons();if(this._groupNavLabel&&_16ed){if(count===0){_16ee=0;}var lbl=dojo.string.substitute(this.labelFmtText,[_16ee,count]);this._groupNavLabel.set("label",lbl);if(_16ee===0||_16ee===1){this._previousButton.set("disabled",true);this._firstButton.set("disabled",true);}if(_16ee===_16ed.CurrentGroupCount||_16ee===0){this._nextButton.set("disabled",true);this._lastButton.set("disabled",true);}}},_enableButtons:function(){this._nextButton.set("disabled",false);this._lastButton.set("disabled",false);this._previousButton.set("disabled",false);this._firstButton.set("disabled",false);},_moveFirst:function(){var _16ef=this._getGroupContext();var eCtx=this._entityContextService.getContext();if(_16ef.FirstEntityID!==""&&_16ef.FirstEntityID!=eCtx.EntityId){this._publishTopic("/group/nav/first",_16ef.FirstEntityID,eCtx.EntityId,_16ef.CurrentEntityPosition,_16ef.CurrentGroupCount);this._entityContextService.navigateSLXGroupEntity(_16ef.FirstEntityID,eCtx.EntityId);}},_movePrevious:function(){var _16f0=this._getGroupContext();var eCtx=this._entityContextService.getContext();if(_16f0.PreviousEntityID!==""&&_16f0.PreviousEntityID!=eCtx.EntityId){this._publishTopic("/group/nav/previous",_16f0.PreviousEntityID,eCtx.EntityId,_16f0.CurrentEntityPosition,_16f0.CurrentGroupCount);this._entityContextService.navigateSLXGroupEntity(_16f0.PreviousEntityID,eCtx.EntityId);}},_moveNext:function(){var _16f1=this._getGroupContext();var eCtx=this._entityContextService.getContext();if(_16f1.NextEntityID!==""&&_16f1.NextEntityID!=eCtx.EntityId){this._publishTopic("/group/nav/next",_16f1.NextEntityID,eCtx.EntityId,_16f1.CurrentEntityPosition,_16f1.CurrentGroupCount);this._entityContextService.navigateSLXGroupEntity(_16f1.NextEntityID,eCtx.EntityId);}},_moveLast:function(){var _16f2=this._getGroupContext();var eCtx=this._entityContextService.getContext();if(_16f2.LastEntityID!==""&&_16f2.LastEntityID!=eCtx.EntityId){this._publishTopic("/group/nav/last",_16f2.LastEntityID,eCtx.EntityId,_16f2.CurrentEntityPosition,_16f2.CurrentGroupCount);this._entityContextService.navigateSLXGroupEntity(_16f2.LastEntityID,eCtx.EntityId);}},_moveToList:function(){Sage.Link.toListView();},_getGroupContext:function(){return this._groupContextService.getContext();},_publishTopic:function(key,_16f3,_16f4,_16f5,count){topic.publish(key,{"toEntityId":_16f3,"fromEntityId":_16f4,"position":_16f5,"count":count});}});return _16ec;});},"Sage/QuickForms/Design/DesignSurface":function(){define("Sage/QuickForms/Design/DesignSurface",["dojo/query","dojo/keys","dojo/string","dojo/topic","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/event","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/dom-construct","dojo/NodeList-traverse","dojo/NodeList-manipulate","dijit/registry","dijit/focus","dijit/layout/_LayoutWidget","dijit/Menu","dijit/MenuItem","dijit/MenuSeparator","dijit/PopupMenuItem","Sage/_EventMapMixin","dojo/dnd/Source","dojo/dnd/Manager","./ControlDesignerRegistry","./ControlDesigner","./FormDesigner","./RowDesigner","./ColumnDesigner","dojo/i18n!./nls/DesignSurface"],function(query,keys,_16f6,topic,_16f7,array,lang,event,_16f8,_16f9,_16fa,_16fb,_16fc,_16fd,_16fe,_16ff,focus,_1700,Menu,_1701,_1702,_1703,_1704,_1705,_1706,_1707,_1708,_1709,_170a,_170b,_170c){var _170d=_16f7([_1705],{owner:null,accept:["designer","property"],constructor:function(){this.creator=true;},checkAcceptance:function(_170e,nodes){if(_170e==this){return false;}return this.inherited(arguments);},onDropInternal:function(_170f,nodes,copy){},onDropExternal:function(_1710,nodes,copy){var node,item;if(_1710.isInstanceOf(_170d)){node=nodes[0];item=node&&_1710.getItem(node.id);if(item){_1710.selectNone();this.selectNone();this.onDropDesigner(this,_16ff.byId(item.data));}}else{node=nodes[0];item=node&&_1710.getItem(node.id);if(item&&array.indexOf(item.type,"property")>=0){_1710.selectNone();this.selectNone();this.onDropProperty(this,item.context);}}},onDropProperty:function(_1711,_1712){},onDropDesigner:function(_1713,_1714){},onDndStart:function(_1715,nodes,copy){this.inherited(arguments);},onDndCancel:function(){this.inherited(arguments);},_normalizedCreator:function(data,hint){var _1716=_16ff.byId(data),_1717=_16fc.toDom(_1716.domNode.parentNode.innerHTML),_1718=_16fc.create("div",{"class":"design-surface-dnd-avatar"});_16fc.place(_1717,_1718);return {node:_1718};},onDraggingOver:function(){this.inherited(arguments);if(this.empty){var _1719=_1706.manager();if(_1719.source.isInstanceOf(_170d)){var _171a=this.owner.validateMoveFromSource(this,_1719.source);_1719.canDrop(!_171a);}else{}}},onMouseMove:function(e){var _171b,_171c;if(this.isDragging&&!this.empty){_171b=this.before;_171c=this.targetAnchor;}this.inherited(arguments);if(this.isDragging&&!this.empty){if(this.targetAnchor!=_171c||this.before!=_171b){var _171d=_1706.manager();if(_171d.source.isInstanceOf(_170d)){var _171e=this.owner.validateMoveFromSource(this,_171d.source);_171d.canDrop(!_171e);}else{}}}}});var _171f=_16f7([Menu],{owner:null,aboveText:"Above",belowText:"Below",leftText:"Left",rightText:"Right",insertRowText:"Insert Row",insertColumnText:"Insert Column",constructor:function(){lang.mixin(this,_170c);},postCreate:function(){this.inherited(arguments);var _1720=new Menu(),_1721=new Menu();_1720.addChild(new _1701({label:this.aboveText,onClick:lang.hitch(this,this._insertRow,true)}));_1720.addChild(new _1701({label:this.belowText,onClick:lang.hitch(this,this._insertRow,false)}));_1721.addChild(new _1701({label:this.leftText,onClick:lang.hitch(this,this._insertColumn,true)}));_1721.addChild(new _1701({label:this.rightText,onClick:lang.hitch(this,this._insertColumn,false)}));this.addChild(new _1703({label:this.insertRowText,popup:_1720}));this.addChild(new _1703({label:this.insertColumnText,popup:_1721}));},_insertColumn:function(_1722){if(this.owner){this.owner.insertColumnAround(this.target,_1722);}},_insertRow:function(_1723){if(this.owner){this.owner.insertRowAround(this.target,_1723);}},open:function(_1724,node,_1725){this.target=_1724;if(this.target){this._scheduleOpen(node,null,_1725);}}});var _1726=_16f7([Menu],{owner:null,aboveText:"Above",belowText:"Below",insertRowText:"Insert Row",deleteRowText:"Delete Row",constructor:function(){lang.mixin(this,_170c);},postCreate:function(){this.inherited(arguments);var _1727=new Menu();_1727.addChild(new _1701({label:this.aboveText,onClick:lang.hitch(this,this._insertRow,true)}));_1727.addChild(new _1701({label:this.belowText,onClick:lang.hitch(this,this._insertRow,false)}));this.addChild(new _1703({label:this.insertRowText,popup:_1727}));this.addChild((this._delete=new _1701({label:this.deleteRowText,onClick:lang.hitch(this,this._deleteRow,false)})));},open:function(_1728,node,_1729){this.target=_1728;if(this.target){this._delete.set("disabled",this.owner.validateDeleteRowAt(this.target.index));this._scheduleOpen(node,null,_1729);}},_insertRow:function(_172a){if(this.owner){var index=_172a?this.target.get("index"):this.target.get("index")+1;this.owner.insertRowAt(index);}},_deleteRow:function(){if(this.owner){this.owner.deleteRowAt(this.target.index);}}});var _172b=_16f7([Menu],{owner:null,leftText:"Left",rightText:"Right",insertColumnText:"Insert Column",deleteColumnText:"Delete Column",constructor:function(){lang.mixin(this,_170c);},postCreate:function(){this.inherited(arguments);var _172c=new Menu();_172c.addChild(new _1701({label:this.leftText,onClick:lang.hitch(this,this._insertColumn,true)}));_172c.addChild(new _1701({label:this.rightText,onClick:lang.hitch(this,this._insertColumn,false)}));this.addChild(new _1703({label:this.insertColumnText,popup:_172c}));this.addChild((this._delete=new _1701({label:this.deleteColumnText,onClick:lang.hitch(this,this._deleteColumn)})));},open:function(_172d,node,_172e){this.target=_172d;if(this.target){this._delete.set("disabled",!!this.owner.validateDeleteColumnAt(this.target.index));this._scheduleOpen(node,null,_172e);}},_insertColumn:function(_172f){if(this.owner){var index=_172f?this.target.get("index"):this.target.get("index")+1;this.owner.insertColumnAt(index);}},_deleteColumn:function(){if(this.owner){this.owner.deleteColumnAt(this.target.index);}}});var _1730=_16f7("Sage.QuickForms.Design.DesignSurface",[_1700,_1704],{events:{"click":"_onClick","keydown":"_onKeyDown",".design-surface-selector-cell[data-select-row]:contextmenu":"_onRowContextMenu",".design-surface-selector-cell[data-select-column]:contextmenu":"_onColumnContextMenu",".dojoDndSource:contextmenu":"_onCellContextMenu"},_designGroup:null,_designGroupTopics:null,_rowContextMenu:null,_columnContextMenu:null,_cellContextMenu:null,baseClass:"design-surface",selections:null,form:null,columns:null,rows:null,columnCount:3,currentLayout:null,tableNode:null,singleSelection:true,designGroup:"default",bisectionErrorText:"The placement will cause another control to be bisected.",rowBoundsErrorText:"The chosen row is out of bounds.",columnBoundsErrorText:"The chosen column is out of bounds.",rowSpanBoundsErrorText:"The chosen row span is out of bounds.",columnSpanBoundsErrorText:"The chosen column span is out of bounds.",occupiedErrorText:"There is not enough empty space for the chosen size.",_getDesignGroupAttr:function(){return this._designGroup;},_setDesignGroupAttr:function(value){if(this._designGroupTopics){array.forEach(this._designGroupTopics,function(topic){this.unsubscribe(topic);},this);}this._designGroup=value;this._designGroupTopics=[this.subscribe(_16f6.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),this._onDesignerSelected)];},_onRowContextMenu:function(evt){event.stop(evt);if(this._rowContextMenu){this._rowContextMenu.open(this.findDesignerByNode(evt.target),evt.target,{x:evt.pageX,y:evt.pageY});}},_onColumnContextMenu:function(evt){event.stop(evt);if(this._columnContextMenu){this._columnContextMenu.open(this.findDesignerByNode(evt.target),evt.target,{x:evt.pageX,y:evt.pageY});}},_onCellContextMenu:function(evt){event.stop(evt);if(this._cellContextMenu){this._cellContextMenu.open(this.findDesignerByNode(evt.target),evt.target,{x:evt.pageX,y:evt.pageY});}},constructor:function(){this.selections=[];lang.mixin(this,_170c);},buildRendering:function(){this.inherited(arguments);_16f8.set(this.domNode,"tabIndex",0);},createContextMenus:function(){this._rowContextMenu=new _1726({owner:this});this._rowContextMenu.startup();this._columnContextMenu=new _172b({owner:this});this._columnContextMenu.startup();this._cellContextMenu=new _171f({owner:this});this._cellContextMenu.startup();},postCreate:function(){this.inherited(arguments);},uninitialize:function(){if(this._sources){array.forEach(this._sources,function(_1731){_1731.destroy();});}if(this._contextMenu){this._contextMenu.destroyRecursive();}this._sources=[];this.inherited(arguments);},startup:function(){if(this._started){return;}this.inherited(arguments);this.createContextMenus();},resize:function(){this.inherited(arguments);array.forEach(this.getChildren(),function(child){if(typeof child.resize=="function"){child.resize();}});if(this._sources){array.forEach(this._sources,function(_1732){_1732.sync();});}},_buildKeyHandlerMap:function(){var map={};map[this.isLeftToRight()?keys.LEFT_ARROW:keys.RIGHT_ARROW]="_onLeftArrow";map[this.isLeftToRight()?keys.RIGHT_ARROW:keys.LEFT_ARROW]="_onRightArrow";map[keys.UP_ARROW]="_onUpArrow";map[keys.DOWN_ARROW]="_onDownArrow";return map;},_onKeyDown:function(evt){var key=evt.keyCode,map=this._keyHandlerMap||(this._keyHandlerMap=this._buildKeyHandlerMap());if(map[key]&&this[map[key]]){this[map[key]](evt);event.stop(evt);}},_onLeftArrow:function(evt){this._moveSelectionIndicator("l");},_onRightArrow:function(evt){this._moveSelectionIndicator("r");},_onUpArrow:function(evt){this._moveSelectionIndicator("u");},_onDownArrow:function(evt){this._moveSelectionIndicator("d");},_moveSelectionIndicator:function(_1733){var _1734=this.selections.length==1?this.selections[0]:null,_1735=_1734&&_1734.designer;if(_1735&&_1735.isInstanceOf(_1708)){var next=this._findNextWidget(_1735,_1733),cell=next&&query(next.domNode).closest(".design-surface-cell")[0];if(next){this._handleSelectionOf(next,false,cell,next.domNode);}}},_findNextWidget:function(_1736,_1737){var _1738=this.currentLayout,_1739=_1736.get("row")||0,_173a=_1736.get("column")||0,_173b=_1736.get("rowSpan")||1,_173c=_1736.get("columnSpan")||1,spanV=[_1739,_1739+_173b-1],spanH=[_173a,_173a+_173c-1],_173d,_173e,_173f,_1740;switch(_1737){case "u":_173d=[_1739-1,0];_173e=-1;_173f=spanH;_1740=1;break;case "d":_173d=[_1739+_173b,_1738.rows.length-1];_173e=1;_173f=spanH;_1740=1;break;case "l":_173d=spanV;_173e=1;_173f=[_173a-1,0];_1740=-1;break;case "r":_173d=spanV;_173e=1;_173f=[_173a+_173c,_1738.columnCount-1];_1740=1;break;}for(var row=_173d[0];_173e*row<=_173d[1];row+=_173e){for(var _1741=_173f[0];_1740*_1741<=_173f[1];_1741+=_1740){var data=this._readFromLayout(_1738,row,_1741);if(!data){continue;}var _1742=data.widget;if(_1742===_1736){continue;}return _1742;}}return null;},_handleSelectionOf:function(_1743,_1744,_1745,_1746){if(_1743){var _1747=array.some(this.selections,function(_1748){return (_1748.designer===_1743);});if(_1744&&!this.singleSelection){if(!_1747){array.forEach(this.selections,function(_1749){if(_1749.focusNode){_16f8.set(_1749.focusNode,"tabIndex","-1");}});this.selections.push({designer:_1743,styleNode:_1745,focusNode:_1746});if(_1746){_16f8.set(_1746,"tabIndex",0);focus.focus(_1746);}if(_1745){_16f9.add(_1745,"design-surface-cell-selected");}this.onSelectionChanged(this.selections,true);topic.publish(_16f6.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),_1743,true,this);}}else{this._clearSelectionDom();this._clearSelectionState(false);this.selections=[{designer:_1743,styleNode:_1745,focusNode:_1746}];if(_1746){_16f8.set(_1746,"tabIndex",0);focus.focus(_1746);}if(_1745){_16f9.add(_1745,"design-surface-cell-selected");}this.onSelectionChanged(this.selections,false);topic.publish(_16f6.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),_1743,false,this);}}else{if(this.singleSelection||!_1744){this._clearSelectionDom();this._clearSelectionState();}}},findDesignerByNode:function(_174a){var _174b=this._findSelectableDesignerByNode(_174a);return _174b&&_174b.designer;},_findSelectableDesignerByNode:function(_174c){var cell=query(_174c).closest(".design-surface-cell")[0],node=cell&&query(".dojoDndItem > *",cell)[0],_174d=node&&_16ff.byNode(node);if(_174d){return {designer:_174d,styleNode:cell,focusNode:_174d.domNode};}if(cell&&_16f8.has(cell,"data-select-row")){return {designer:this.form&&this.form.get("rows")[parseInt(_16f8.get(cell,"data-select-row"))],styleNode:cell,focusNode:cell};}if(cell&&_16f8.has(cell,"data-select-column")){return {designer:this.form&&this.form.get("columns")[parseInt(_16f8.get(cell,"data-select-column"))],styleNode:cell,focusNode:cell};}return null;},_onClick:function(evt){var _174e=evt.shiftKey,_174f=this._findSelectableDesignerByNode(evt.target);if(_174f){if(_174f.designer.isInstanceOf(_1708)){this._handleSelectionOf(_174f.designer,_174e,_174f.styleNode,_174f.focusNode);}else{this._handleSelectionOf(_174f.designer,false,_174f.styleNode,_174f.focusNode);}}else{this._handleSelectionOf(this.form,_174e);}},onSelectionChanged:function(_1750,_1751){},_clearSelectionDom:function(){if(this.selections.length>0){array.forEach(this.selections,function(_1752){if(_1752.focusNode){_16f8.set(_1752.focusNode,"tabIndex","-1");}if(_1752.styleNode){_16f9.remove(_1752.styleNode,"design-surface-cell-selected");}});}},_clearSelectionState:function(_1753){if(this.selections.length>0){this.selections=[];if(_1753!==false){this.onSelectionChanged(this.selections);topic.publish(_16f6.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),false,false,this);}}},_syncDomWithSelectionState:function(){array.forEach(this.selections,function(_1754){var _1755=_1754.designer;if(_1755.isInstanceOf(_1708)){_1754.styleNode=query(_1755.domNode).closest(".design-surface-cell")[0];_1754.focusNode=_1755.domNode;}else{if(_1755.isInstanceOf(_170a)){_1754.styleNode=query(_16f6.substitute(".design-surface-selector-cell[data-select-row=\"${0}\"]",[_1755.index]),this.domNode)[0];_1754.focusNode=_1754.styleNode;}else{if(_1755.isInstanceOf(_170b)){_1754.styleNode=query(_16f6.substitute(".design-surface-selector-cell[data-select-column=\"${0}\"]",[_1755.index]),this.domNode)[0];_1754.focusNode=_1754.styleNode;}}}_16f8.set(_1754.focusNode,"tabIndex",0);focus.focus(_1754.focusNode);_16f9.add(_1754.styleNode,"design-surface-cell-selected");},this);},_onDesignerSelected:function(_1756,_1757,_1758){if(_1756&&_1758!==this){this._clearSelectionDom();this._clearSelectionState(false);}},_buildLayoutFor:function(_1759){var rows=[],_175a=this.form?this.form.get("columnCount"):this.columnCount;array.forEach(_1759,function(child){var _175b=child.get("row")||0,_175c=child.get("column")||0,_175d=child.get("rowSpan")||1,_175e=child.get("columnSpan")||1,row,edge,i,j;if(_175d>1||_175e>1){edge=[_175c,_175c+(_175e-1)];for(i=0;i<_175d;i++){row=rows[_175b+i]||(rows[_175b+i]=[]);for(j=0;j<_175e;j++){row[_175c+j]={widget:child,span:(i>0||j>0),edge:edge};}}}else{row=rows[_175b]||(rows[_175b]=[]);row[_175c]={widget:child,span:false,edge:[_175c,_175c]};}if((_175c+_175e)>_175a){_175a=(_175c+_175e);}},this);return {rows:rows,columnCount:_175a,children:_1759};},_syncNonVisibleDesigners:function(_175f){if(!this.form){return;}var _1760=_175f.rows,_1761=_1760.length,_1762=_175f.columnCount,rows,count,_1763,i;if(this.form.get("rowCount")>_1761){rows=this.form.get("rows");for(i=(rows.length-1);i>(_1761-1);i--){if(rows[i].added){this.form.removeRow(i);}else{break;}}}else{if(this.form.get("rowCount")<_1761){rows=this.form.get("rows");count=rows.length;for(i=0;i<(_1761-count);i++){this.form.addRow(new _170a({entry:{"Height":35,"SizeType":"Absolute"},form:this.form,index:count+i,added:true}));}}}if(this.form.get("columnCount")>_1762){_1763=this.form.get("columns");for(i=(_1763.length-1);i>(_1762-1);i--){if(_1763[i].added){this.form.removeColumn(i);}else{break;}}}else{if(this.form.get("columnCount")<_1762){_1763=this.form.get("columns");count=_1763.length;for(i=0;i<(_1762-count);i++){this.form.addColumn(new _170b({entry:{"Width":10,"SizeType":"Percent"},form:this.form,index:count+i,added:true}));}}}},_renderLayout:function(_1764){if(this._sources){array.forEach(this._sources,function(_1765){_1765.destroy();});}this._sources=[];var rows=_1764.rows,_1766=_1764.children,_1767=Math.max((this.form&&this.form.get("rowCount"))||0,rows.length),_1768=Math.max((this.form&&this.form.get("columnCount"))||0,_1764.columnCount),_1769=_16fc.create("table",{"class":"design-surface-table"},this.domNode),_176a=_16fc.create("colgroup",null,_1769),_176b=_16fc.create("tbody",null,_1769),_176c,_176d,_176e,_176f,j,i;_16fc.create("col",{},_176a);var _1770=100/_1768;for(j=0;j<_1768;j++){_16fc.create("col",{"width":_1770+"%"},_176a);}var _1771=[];if(rows.length>0){_176c=_16fc.create("tr",{"class":"design-surface-selector-row"},_176b);for(i=0;i<_1768+1;i++){_176d=_16fc.create("td",{"class":"design-surface-cell design-surface-selector-cell","data-select-column":i-1},_176c);}}for(j=0;j<_1767;j++){var row=rows[j];_176c=_16fc.create("tr",{"class":"design-surface-row"},_176b);_176d=_16fc.create("td",{"class":"design-surface-cell design-surface-selector-cell","data-select-row":j},_176c);for(i=0;i<_1768;i++){var cell=row&&row[i];if(cell){if(cell.span){continue;}var _1772=cell.widget,_1773=_1772.get("row")||0,_1774=_1772.get("rowSpan")||1,_1775=_1772.get("column")||0,_1776=_1772.get("columnSpan")||1;_176d=_16fc.create("td",{"colspan":_1776,"rowspan":_1774,"class":"design-surface-cell","data-design-row":_1773,"data-design-column":_1775},_176c);_1771.push({node:_176d,widget:_1772});}else{_176d=_16fc.create("td",{"class":"design-surface-cell design-surface-cell-empty"},_176c);}_176f=new _1730.Source(_176d,{owner:this,empty:!cell,row:j,column:i,copyOnly:true,selfAccept:false,onDropProperty:lang.hitch(this,this._onDropProperty),onDropDesigner:lang.hitch(this,this._onDropDesigner)});_176f.startup();this._sources.push(_176f);}}array.forEach(_1771,function(_1777){var _1778=_16fa.getComputedStyle(_1777.node),_1779=_16fb.getMarginBox(_1777.node,_1778),_177a=_16fb.getPadExtents(_1777.node,_1778),_177b=_16fb.getBorderExtents(_1777.node,_1778);_176e=_16fc.create("div",{"dndType":"designer","dndData":_1777.widget.id,"class":"dojoDndItem","style":{"padding":"0px"}},_1777.node);var _177c=_16fa.getComputedStyle(_176e),_177d=_16fb.getBorderExtents(_176e,_177c);_16fb.setContentSize(_176e,{h:(_1779.h-_177a.h-_177b.h-_177d.h)});_176e.appendChild(_1777.widget.domNode);},this);if(this.tableNode){this.tableNode.parentNode.removeChild(this.tableNode);}array.forEach(_1766,function(child){if(typeof child.layout=="function"){child.layout();}});this.currentLayout=_1764;this.tableNode=_1769;if(this._sources){array.forEach(this._sources,function(_177e){_177e.sync();});}},_readFromLayout:function(_177f,row,_1780){return (_177f.rows[row]&&_177f.rows[row][_1780]);},_applyPushToConnectionTree:function(_1781,_1782,_1783){_1783=_1783||{};for(var i=0;i<_1782.children.length;i++){var _1784=_1782.children[i],_1785=_1781-_1784.distance,node=_1784.node;if(_1783[node.id]){if(_1785>_1783[node.id].value){_1783[node.id].value=_1785;}}else{_1783[node.id]={widget:node.widget,value:_1785};}this._applyPushToConnectionTree(_1785,node,_1783);}return _1783;},_buildConnectionTree:function(_1786,_1787,_1788,rootp){var span=[_1787.column,_1787.column+_1787.columnSpan],_1789=_1786.rows.length,_178a=_1786.columnCount,_178b={},nodes=_1788||{},root=rootp||_1787;for(var _178c=span[0];_178c<span[1];_178c++){for(var row=(_1787.row+_1787.rowSpan);row<_1789;row++){var data=this._readFromLayout(_1786,row,_178c);if(!data){continue;}var _178d=data.widget;if(_178d===_1787.widget){continue;}if(_178d===root.widget){continue;}if(_178b[_178d.id]){continue;}_178b[_178d.id]=true;if(nodes[_178d.id]){_1787.children.push({distance:row-(_1787.row+_1787.rowSpan),node:nodes[_178d.id]});}else{var node={id:_178d.id,widget:_178d,row:_178d.get("row"),rowSpan:_178d.get("rowSpan")||1,column:_178d.get("column"),columnSpan:_178d.get("columnSpan")||1,children:[]};nodes[_178d.id]=node;_1787.children.push({distance:row-(_1787.row+_1787.rowSpan),node:node});this._buildConnectionTree(_1786,node,nodes,root);}break;}}},moveWidget:function(_178e,_178f,_1790){var _1791=this.currentLayout,_1792=_178e.get("rowSpan")||1,_1793=_178e.get("columnSpan")||1,root={id:_178e.id,widget:_178e,row:_178f,rowSpan:0,column:_1790,columnSpan:_1793,children:[]};this._buildConnectionTree(_1791,root);var push=this._applyPushToConnectionTree(_1792,root);for(var name in push){var _1794=push[name].widget,value=push[name].value;if(value>0){_1794.unchecked(function(){this.set("row",this.get("row")+value);});}}_178e.unchecked(function(){this.set("row",_178f);this.set("column",_1790);});topic.publish(_16f6.substitute("/quickforms/design/${0}/designerMoved",[this._designGroup]),_178e,this);setTimeout(lang.hitch(this,function(){this.layout(true);}),50);},_onDropProperty:function(_1795,_1796){var ctor=_1707.getDesignerForDataType(_1796.data["dataTypeId"]);if(!ctor){return;}var _1797=new ctor({form:this.form});_1797.setupFor(_1796);this.form.addControl(_1797);this.addChild(_1797);this._handleSelectionOf(_1797,false);this._onDropDesigner(_1795,_1797);},_onDropDesigner:function(_1798,_1799){var _179a=this.currentLayout,_179b=_179a.columnCount,_179c=this._readFromLayout(_179a,_1798.row,_1798.column),_179d=_179c&&_179c.widget,_179e=(_179d&&_179d.get("rowSpan"))||1,_179f=(_1799&&_1799.get("rowSpan"))||1,_17a0=(_1799&&_1799.get("columnSpan"))||1,_17a1=(!_179c||_1798.before)?_1798.row:_1798.row+_179e,_17a2=((_1798.column+_17a0)>_179b)?_179b-_17a0:_1798.column;this.moveWidget(_1799,_17a1,_17a2);},insertRowAround:function(_17a3,_17a4){var _17a5=_17a3.get("row")||0,_17a6=_17a3.get("rowSpan")||1,_17a7=_17a4?_17a5:_17a5+_17a6;this.insertRowAt(_17a7);},insertRowAt:function(_17a8){this.form.addRow(new _170a({entry:{"Height":35,"SizeType":"Absolute"},form:this.form,index:_17a8}),_17a8);array.forEach(this.getChildren(),function(_17a9){var _17aa=_17a9.get("row")||0;if(_17aa>=_17a8){_17a9.unchecked(function(){this.set("row",this.get("row")+1);});topic.publish(_16f6.substitute("/quickforms/design/${0}/designerMoved",[this._designGroup]),_17a9,this);}},this);setTimeout(lang.hitch(this,function(){this.layout(true);}),50);},deleteRowAt:function(_17ab){var _17ac=this.currentLayout,_17ad=_17ac.rows.length,_17ae=_17ac.columnCount;for(var _17af=0;_17af<_17ae;_17af++){var _17b0=this._readFromLayout(_17ac,_17ab,_17af);if(_17b0){return;}}this.form.removeRow(_17ab);array.forEach(this.getChildren(),function(_17b1){var _17b2=_17b1.get("row")||0;if(_17b2>=_17ab){_17b1.unchecked(function(){this.set("row",this.get("row")-1);});topic.publish(_16f6.substitute("/quickforms/design/${0}/designerMoved",[this._designGroup]),_17b1,this);}},this);setTimeout(lang.hitch(this,function(){this.layout(true);}),50);},validateDeleteRowAt:function(_17b3){var _17b4=this.currentLayout,_17b5=_17b4.rows.length,_17b6=_17b4.columnCount;for(var _17b7=0;_17b7<_17b6;_17b7++){var _17b8=this._readFromLayout(_17b4,_17b3,_17b7);if(_17b8){return {error:"occupied"};}}return false;},insertColumnAround:function(_17b9,_17ba){var _17bb=_17b9.get("column")||0,_17bc=_17b9.get("columnSpan")||1,_17bd=_17ba?_17bb:_17bb+_17bc;this.insertColumnAt(_17bd);},insertColumnAt:function(_17be){this.form.addColumn(new _170b({entry:{"Width":10,"SizeType":"Percent"},form:this.form,index:_17be}),_17be);array.forEach(this.getChildren(),function(_17bf){var _17c0=_17bf.get("column")||0;if(_17c0>=_17be){_17bf.unchecked(function(){this.set("column",this.get("column")+1);});topic.publish(_16f6.substitute("/quickforms/design/${0}/designerMoved",[this._designGroup]),_17bf,this);}},this);setTimeout(lang.hitch(this,function(){this.layout(true);}),50);},deleteColumnAt:function(_17c1){var _17c2=this.currentLayout,_17c3=_17c2.rows.length,_17c4=_17c2.columnCount;for(var row=0;row<_17c3;row++){var _17c5=this._readFromLayout(_17c2,row,_17c1);if(_17c5){return;}}this.form.removeColumn(_17c1);array.forEach(this.getChildren(),function(_17c6){var _17c7=_17c6.get("column")||0;if(_17c7>=_17c1){_17c6.unchecked(function(){this.set("column",this.get("column")-1);});topic.publish(_16f6.substitute("/quickforms/design/${0}/designerMoved",[this._designGroup]),_17c6,this);}},this);setTimeout(lang.hitch(this,function(){this.layout(true);}),50);},validateDeleteColumnAt:function(_17c8){var _17c9=this.currentLayout,_17ca=_17c9.rows.length,_17cb=_17c9.columnCount;for(var row=0;row<_17ca;row++){var _17cc=this._readFromLayout(_17c9,row,_17c8);if(_17cc){return {error:"occupied"};}}return false;},validateSize:function(_17cd,_17ce,_17cf){var _17d0=this.currentLayout,_17d1=_17d0.rows.length,_17d2=_17d0.columnCount,_17d3=_17cd.get("row")||0,_17d4=_17cd.get("rowSpan")||1,_17d5=_17cd.get("column")||0,_17d6=_17cd.get("columnSpan")||1;if(_17ce<1){return {error:"bounds",what:"rowSpan",message:this.rowSpanBoundsErrorText};}if(_17cf<1){return {error:"bounds",what:"columnSpan",message:this.columnSpanBoundsErrorText};}if(_17ce<=_17d4&&_17cf<=_17d6){return false;}if(_17d2<(_17d5+_17cf)){return {error:"bounds",what:"column",message:this.columnBoundsErrorText};}for(var row=_17d3;row<(_17d3+_17ce)&&row<_17d1;row++){var span=[row<(_17d3+_17d4)?_17d5+_17d6:_17d5,_17d5+_17cf];for(var _17d7=span[0];_17d7<span[1];_17d7++){var _17d8=this._readFromLayout(_17d0,row,_17d7);if(!_17d8){continue;}var _17d9=_17d8.widget;if(_17d9===_17cd){continue;}return {error:"occupied",what:_17d9.id,message:this.occupiedErrorText};}}return false;},validateMove:function(_17da,_17db,_17dc){var _17dd=this.currentLayout,_17de=_17dd.columnCount,_17df=_17da.get("columnSpan")||1,_17e0={};if(_17db<0){return {error:"bounds",what:"row",message:this.rowBoundsErrorText};}if(_17dc<0){return {error:"bounds",what:"column",message:this.columnBoundsErrorText};}if(_17de<(_17dc+_17df)){return {error:"bounds",what:"column",message:this.columnBoundsErrorText};}for(var _17e1=_17dc;_17e1<(_17dc+_17df);_17e1++){var _17e2=this._readFromLayout(_17dd,_17db,_17e1);if(!_17e2){continue;}var _17e3=_17e2.widget;if(_17e3===_17da){continue;}if(_17e2.span){if(_17e0[_17e3.id]){continue;}return {error:"bisection",what:_17e3.id,message:this.bisectionErrorText};}_17e0[_17e3.id]=true;}return false;},validateMoveFromSource:function(_17e4,_17e5){var _17e6=this.currentLayout,_17e7=_17e6.columnCount,_17e8=this._readFromLayout(_17e6,_17e4.row,_17e4.column),_17e9=_17e8&&_17e8.widget,_17ea=(_17e9&&_17e9.get("rowSpan"))||1,_17eb=_17e5.row,_17ec=_17e5.column,_17ed=this._readFromLayout(_17e6,_17eb,_17ec),_17ee=_17ed&&_17ed.widget,_17ef=(_17ee&&_17ee.get("rowSpan"))||1,_17f0=(_17ee&&_17ee.get("columnSpan"))||1,_17f1=(!_17e8||_17e4.before)?_17e4.row:_17e4.row+_17ea,_17f2=((_17e4.column+_17f0)>_17e7)?_17e7-_17f0:_17e4.column;return this.validateMove(_17ee,_17f1,_17f2);},clearSelections:function(){this._clearSelectionDom();this._clearSelectionState();},clear:function(){this._clearSelectionState();array.forEach(this.getChildren(),function(child){this.removeChild(child);},this);this.form=null;this.layout();},layout:function(force){if(!this._borderBox||!this._borderBox.h){return;}var _17f3=this.currentLayout,_17f4=this.getChildren(),_17f5={},_17f6=false;if(_17f3){array.forEach(_17f3.children,function(child){_17f5[child.id]=true;});for(var i=0;i<_17f4.length;i++){if(!_17f5[_17f4[i].id]){break;}}_17f6=(_17f4.length!=i)||(_17f4.length!=_17f3.children.length);}else{_17f6=true;}if(_17f6||force){_17f3=this._buildLayoutFor(_17f4);this._syncNonVisibleDesigners(_17f3);this._renderLayout(_17f3);this._syncDomWithSelectionState();}}});_1730.Source=_170d;_1730.RowContextMenu=_1726;_1730.ColumnContextMenu=_172b;_1730.CellContextMenu=_171f;return _1730;});},"Sage/MainView/ReportMgr/templates/nls/ScheduleDetailSummary":function(){define("Sage/MainView/ReportMgr/templates/nls/ScheduleDetailSummary",["Sage/LanguageList","dojo/_base/lang"],function(_17f7,lang){var nls={root:{txtScheduleName_Caption:"Job Name:",txtDescription_Caption:"Description:",txtRunAsUser_Caption:"Run As:",txtScheduledBy_Caption:"Scheduled By:",txtOutputFormat_Caption:"Output Format:",txtFrequency_Caption:"Frequency:",txtUser_Caption:"Author:",txtLastExecutionDate_Caption:"Last Run:",txtExecutionCount_Caption:"Execution Count:",txtReportName_Caption:"Report:"}};return lang.mixin(_17f7,nls);});},"Sage/TaskPane/LeadTasksTasklet":function(){define("Sage/TaskPane/LeadTasksTasklet",["dojo/i18n!./nls/LeadTasksTasklet","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneContent","Sage/MainView/Lead/UpdateLeads","Sage/UI/Dialogs","dojo/_base/declare","Sage/Utility/Jobs"],function(_17f8,_17f9,_17fa,_17fb,_17fc,_17fd,jobs){var _17fe=_17fd("Sage.TaskPane.LeadTasksTasklet",[_17f9,_17fa],{taskItems:[],constructor:function(){dojo.mixin(this,_17f8);this.taskItems=[{taskId:"UpdateLeads",type:"Link",displayName:this.updateLeadsTitle,clientAction:"leadTasksActions.updateLeads();",securedAction:"Entities/Lead/MultiUpdate"},{taskId:"DeleteLeads",type:"Link",displayName:this.deleteLeadsTitle,clientAction:"leadTasksActions.deleteLeads();",securedAction:"Entities/Lead/MultiDelete"}];},updateLeads:function(){this.prepareSelectedRecords(this.updateLeadsActionItem(this.getSelectionInfo()));},updateLeadsActionItem:function(_17ff){return function(){var _1800=dijit.byId("dlgUpdateMultipleLeads");if(!_1800){_1800=new _17fb(_17ff);}else{_1800.setSelectionInfo(_17ff);}_1800.show();};},deleteLeads:function(){this.prepareSelectedRecords(this.confirmDeleteLeadJob(this,this.getSelectionInfo()));},confirmDeleteLeadJob:function(self,_1801){return function(){_17fc.raiseQueryDialog(_17f8.deleteLeadsTitle,dojo.string.substitute("${0}",[_17f8.confirmDeleteLeads]),function(_1802){self.deleteLeadsActionItem(_1802,self,_1801);},self.yesButtonText,self.noButtonText);};},deleteLeadsActionItem:function(_1803,self,_1804){if(_1803){var _1805=[{"name":"EntityName","value":"Lead"},{"name":"SelectedIds","value":(_1804.selectionCount>0)?_1804.selectedIds.join(",")||"":""},{"name":"GroupId","value":(_1804.selectionCount===0)?this.getCurrentGroupId()||"":""}];var _1806={closable:true,title:this.deleteLeadsTitle,key:"Sage.SalesLogix.BusinessRules.Jobs.DeleteEntityJob",parameters:_1805,success:function(_1807){},failure:function(_1808){_17fc.showError(dojo.string.substitute(_17f8.deleteJobError,[_1808.statusText]));},ensureZeroFilters:true};jobs.triggerJobAndDisplayProgressDialog(_1806);}},getCurrentGroupId:function(){var _1809=Sage.Services.getService("ClientGroupContext");if(_1809){var _180a=_1809.getContext();return _180a.CurrentGroupID;}return "";}});return _17fe;});},"url:Sage/MainView/ReportMgr/Crystal/templates/ParameterHeaderWidget.html":"<table style=\"padding-bottom:5px; width:100%\">\r\n    <colgroup>\r\n        <col style=\"width:45%\" />\r\n        <col style=\"width:10%\" />\r\n        <col style=\"width:45%\" />\r\n    </colgroup>\r\n    <tr>\r\n        <td>\r\n            <label for=\"values\" style=\"font-weight:bold\" >${promptText}</label>\r\n        </td>\r\n        <td></td>\r\n        <td>\r\n            <label style=\"font-weight:bold\">${parameterFieldName}</label>\r\n        </td>\r\n    </tr>\r\n    <tr>\r\n        <td colspan=\"3\">\r\n            <div style=\"border-bottom: 1px solid #B5BCC7\"></div>\r\n        </td>\r\n    </tr>\r\n</table>\r\n","Sage/MainView/Opportunity/nls/UpdateOpportunities":function(){define("Sage/MainView/Opportunity/nls/UpdateOpportunities",["Sage/LanguageList","dojo/_base/lang"],function(_180b,lang){var nls={root:{addToForecast_No:"No",addToForecast_Yes:"Yes",btnCancel_Caption:"Cancel",btnOK_Caption:"OK",estimatedClose_Days:"days",estimatedClose_MoveOut:"Move",estimatedClose_To:"To",moveEstCloseDate_Backward:"Backward",moveEstCloseDate_Forward:"Forward",update_To_Caption:"To:",update_Property_Caption:"Update:",updateMultipleOpps_Caption:"Update Opportunities",updateProp_AcctMgr:"Account Manager",updateProp_Comments:"Comments",updateProp_EstClose:"Estimated Close",updateProp_Forecast:"Add To Forecast",updateProp_Probability:"Close Probability %",lookupActMgrText:"Lookup Account Manager",lookupNameColText:"Name",lookupTitleColText:"Title",lookupDepartmentColText:"Department",lookupRegionColText:"Region",lookupTypeColText:"Type",errorUnspecifiedValue:"Please specify a value before continuing.",errorRequestingJobMgr:"An error occurred performing update: ${0}"}};return lang.mixin(_180b,nls);});},"Sage/MainView/ReportMgr/BaseListPanelConfig":function(){define("Sage/MainView/ReportMgr/BaseListPanelConfig",["Sage/_ConfigurationProvider","Sage/Data/SDataStore","dijit/Menu","dijit/PopupMenuItem","dijit/MenuSeparator","Sage/UI/MenuItem","dojo/i18n!./nls/BaseListPanelConfig","dijit/registry","dojo/_base/declare"],function(_180c,_180d,Menu,_180e,_180f,_1810,_1811,_1812,_1813){var _1814=_1813("Sage.MainView.ReportMgr.BaseListPanelConfig",[_180c],{list:false,detail:false,summary:false,toolBar:false,_listId:false,_store:false,_service:false,_where:false,_sort:false,_select:false,_include:false,_structure:false,_currentUserId:false,_resourceKind:false,_nlsResources:false,_securedAction:"",keyField:"$key",hasCompositeKey:false,_menuItems:null,_contextMenu:false,_summaryformaterScope:false,entityName:false,rebuildMenus:true,rebuildOnRefresh:false,constructor:function(){this._nlsResources=_1811;var _1815=Sage.Services.getService("ClientContextService");if(_1815){if(_1815.containsKey("userID")){this._currentUserId=_1815.getValue("userID");}}this._include=this._getInclude();this._menuItems=[];},rebuild:function(){this._where=this._getWhere();this._structure=this._getStructure();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();},_onListRefresh:function(event){},_getListConfig:function(){if(!this._store){this._store=this._getStore();}else{this._store.where=this._where;}var _1816={id:this._listId,structure:this._structure,store:this._store,selectedRegionContextMenuItems:this._getListContextMenuItems(),onSelectedRegionContextMenu:this._onListContext};return _1816;},_getStore:function(){var store=new _180d({id:this._listId,service:this._service,resourceKind:this._resourceKind,include:this._include,select:this._select,sort:this._sort,where:this._where});return store;},_getSelect:function(){var _1817=[];return _1817;},_getInclude:function(){var _1818=[];return _1818;},_getSort:function(){var sort=[];return sort;},_getWhere:function(){var where="";return where;},_getStructure:function(){var _1819=[];return _1819;},_getSummaryConfig:function(){var store=new _180d({id:this._listId,service:this._service,resourceKind:this._resourceKind,include:[],select:["$key"],where:this._where});var _181a=[{field:"$key",formatter:"formatSummary",width:"100%",name:"Summary View"}];var _181b=this._getFormatterScope();var _181c={structure:_181a,layout:"layout",store:store,rowHeight:170,rowsPerPage:10,formatterScope:_181b};return _181c;},_getFormatterScope:function(){return false;},_getDetailConfig:function(){return false;},_getToolBars:function(){var _181d={items:[]};return _181d;},_getListContextMenuItems:function(){if(!this._contextMenu){return;}if(this._menuItems.length>0){return this._menuItems;}if(!Sage.UI.DataStore.ContextMenus){return [];}if(!Sage.UI.DataStore.ContextMenus.listContextMenu){return [];}if(this._menuItems.length>0){this._menuItems[0].destroyDescendants();}this._menuItems=[];var _181e=Sage.UI.DataStore.ContextMenus.listContextMenu.items;var len=_181e.length;for(var i=0;i<len;i++){var mDef=_181e[i];if(mDef.id===this._currentListContextSubMenu){this._buildChildMenu(mDef.submenu,null);}}return this._menuItems;},_getGridMenu:function(){var _181f=dijit.byId("_listContextmenu");return _181f;},_buildChildMenu:function(_1820,_1821){var len=_1820.length;for(var i=0;i<len;i++){var mDef=_1820[i];if(mDef.submenu.length>0){var _1822=new Menu();this._buildChildMenu(mDef.submenu,_1822);var _1823=new _180e({label:mDef.text,popup:_1822});if(_1821){_1821.addChild(_1823);}else{this._menuItems.push(_1823);}}else{var _1824=null;if((mDef.text==="-")||(mDef.text===" ")||(mDef.isspacer)){_1824=new _180f();}else{var href=mDef.href;if(href.indexOf("javascript:")<0){href=dojo.string.substitute("javascript:${0}()",[href]);}_1824=new _1810({label:mDef.text||"...",icon:mDef.img,title:mDef.tooltip||"",ref:href,onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}});}if(_1821){_1821.addChild(_1824);}else{this._menuItems.push(_1824);}}}},_onListContext:function(){},getFilterConfig:function(_1825,entry,_1826){var _1827=this._service;var _1828=_1825;var _1829=this.entityName;var _182a=this._resourceKind;var where=this._where;var _182b={groupId:this._listId,store:new _180d({executeReadWith:"readFeed",request:new Sage.SData.Client.SDataResourcePropertyRequest(_1828).setResourceKind("entities").setResourceSelector("\""+_1829+"\"").setResourceProperty("filters").setQueryArg("where","filterType ne \"analyticsMetric\"").setQueryArg("count",20)}),createStoreForFilter:function(_182c){return _182c&&_182c["filterName"]?new _180d({executeReadWith:"readFeed",request:new Sage.SData.Client.SDataResourcePropertyRequest(_1827).setResourceKind(_182a).setResourceProperty("$queries/executeMetric").setQueryArg("_filterName",_182c["filterName"]).setQueryArg("orderby","displayName").setQueryArg("_activeFilter",where)}):null;},getFilterManager:function(){var _182d=_1812.byId("list");return _182d&&_182d.get("filterManager");}};return _182b;}});return _1814;});},"url:Sage/UI/Filters/templates/EditFilterItems.html":"<div>\r\n    <div class=\"filter-items-dialog\" data-dojo-type=\"dijit.Dialog\" data-dojo-props=\"title:'${dialogTitle}'\" data-dojo-attach-point=\"dialogNode\">\r\n        <div class=\"filter-items-search\">\r\n            <label>${findItemText}</label> <input data-dojo-attach-point=\"textFind\" data-dojo-type=\"dijit.form.TextBox\" />\r\n            <span data-dojo-attach-point=\"buttonFind\" title=\"${findText}\" data-dojo-type=\"Sage.UI.ImageButton\" data-dojo-props=\"imageClass: 'icon_Find_16x16'\" data-dojo-attach-event=\"onClick:_onFindClick\"></span>&nbsp;\r\n\t\t\t<span data-dojo-attach-point=\"buttonClear\" title=\"${clearText}\" data-dojo-type=\"dijit.form.Button\" data-dojo-attach-event=\"onClick:_onClearClick\">${clearText}</span>\r\n        </div>\r\n        <div class=\"filter-clear-all\">\r\n            <input data-dojo-attach-point=\"checkAll\" data-dojo-type=\"dijit.form.CheckBox\" />\r\n            <label>${selectAllText}</label>\r\n        </div>\r\n        <div class=\"filter-items-dialog-content\" data-dojo-attach-point=\"contentNode\">\r\n        </div>\r\n        <div class=\"button-bar alignright\">\r\n            <button data-dojo-attach-point=\"buttonOK\" data-dojo-attach-event=\"onClick:_onOKClick\" data-dojo-type=\"dijit.form.Button\">${okText}</button>\r\n            <button data-dojo-attach-point=\"buttonCancel\" data-dojo-attach-event=\"onClick:_onCancelClick\" data-dojo-type=\"dijit.form.Button\">${cancelText}</button>\r\n        </div>\r\n    </div>\r\n</div>","Sage/Store/main":function(){define("Sage/Store/main",["Sage/Store/SData"],function(){});},"Sage/UI/nls/EditCalendarUsers":function(){define("Sage/UI/nls/EditCalendarUsers",["Sage/LanguageList","dojo/_base/lang"],function(_182e,lang){var nls={root:{selectAllText:"Select All",findItemText:"Find User:",findText:"Find",clearText:"Clear",dialogTitle:"Edit Calendar Users",okText:"OK",cancelText:"Cancel",maxUsersErrorMessage:"Sorry, you cannot select more than ${0} users (including your own).  Clear one of the currently selected users and try again.",updateErrorMessage:"Error updating calendar users"}};return lang.mixin(_182e,nls);});},"Sage/MainView/ReportMgr/Crystal/nls/CrystalReportParametersDialog":function(){define("Sage/MainView/ReportMgr/Crystal/nls/CrystalReportParametersDialog",["Sage/LanguageList","dojo/_base/lang"],function(_182f,lang){var nls={root:{txtDialogTitle:"Enter Values",cmdBack_Caption:"< Back",cmdNext_Caption:"Next >",cmdCancel_Caption:"Cancel"}};return lang.mixin(_182f,nls);});},"Sage/UI/main":function(){define("Sage/UI/main",["Sage/UI/Columns/main","Sage/UI/Controls/main","Sage/UI/Dashboard/main","Sage/UI/Alarms/main","Sage/UI/SLXPreviewGrid/main","Sage/UI/_DetailPane","Sage/UI/_DialogLoadingMixin","Sage/UI/widgetEditorLookup","Sage/UI/_DetailPanelConfigurationProvider","Sage/UI/_TitlePaneConfigProvider","Sage/UI/AttachmentList","Sage/UI/ActivityList","Sage/UI/NotesHistoryList","Sage/UI/ComboBox","Sage/UI/ConditionManager","Sage/UI/DashboardGroupListConfigurationProvider","Sage/UI/DateTextBox","Sage/UI/DetailPanel","Sage/UI/Dialogs","Sage/UI/EditableGrid","Sage/UI/EditorContainer","Sage/UI/Filters/CheckBoxFilter","Sage/UI/Filters/LookupFilter","Sage/UI/Filters/EditFilterItems","Sage/UI/Filters/EditFilters","Sage/UI/FilteringSelect","Sage/UI/Filters/FilterManager","Sage/UI/Filters/FilterPanel","Sage/UI/Filters/GroupFilterConfigurationProvider","Sage/UI/GridContainer","Sage/UI/GridMenuItem","Sage/UI/GroupListConfigurationProvider","Sage/UI/GroupMenuFmtScope","Sage/UI/GroupsTitlePaneConfigProvider","Sage/UI/GroupTabPane","Sage/UI/ImageButton","Sage/UI/JsonPrintDetailPane","Sage/UI/ListPanel","Sage/UI/MenuBar","Sage/UI/MenuBarItem","Sage/UI/MenuItem","Sage/UI/NavBar","Sage/UI/NavBarPane","Sage/UI/NumberTextBox","Sage/UI/OrientableMenuBar","Sage/UI/PopupMenuBarItem","Sage/UI/PopupMenuItem","Sage/UI/SDataLookup","Sage/UI/SearchConditionWidget","Sage/UI/SLXPreviewGrid","Sage/UI/SpeedSearch","Sage/UI/SummaryContainer","Sage/UI/SummaryContents","Sage/UI/SummaryDetailPane","Sage/UI/SummaryFormatterScope","Sage/UI/TextBox","Sage/UI/TimeZoneItem","Sage/UI/TitleContentPane","Sage/UI/ToggleButton","Sage/UI/ToolBarLabel","Sage/UI/UniqueToListValidationTextBox","Sage/UI/URL","Sage/UI/WidgetEditor","Sage/UI/ActivityScheduler","Sage/UI/TimelessActivitiesPane","Sage/UI/Calendar","Sage/UI/CalendarUsersListPane","Sage/UI/TransferBoxWidget"],function(){});},"Sage/UI/Columns/PickList":function(){define("Sage/UI/Columns/PickList",["Sage/UI/Controls/PickList","Sage/UI/Controls/DropDownSelectPickList","Sage/Data/BaseSDataStore","dojo/_base/declare"],function(_1830,_1831,_1832,_1833){var _1834=_1833("Sage.UI.Columns.PickList",dojox.grid.cells._Widget,{icon:"",widgetClass:_1831,storeData:null,pickList:null,storageMode:"id",displayMode:"AsText",constructor:function(args){this.inherited(arguments);if(this.storageMode==="id"&&this.displayMode==="AsText"){if(this.pickListName&&this.storeData===null){this._loadPickList();}}},formatter:function(val,index){if(this.storageMode==="id"){val=this.getStoreTextById(val);}return val;},_loadPickList:function(){var _1835=new dojo.Deferred();var _1836={pickListName:this.pickListName,canEditText:false,itemMustExist:true,maxLength:-1,storeMode:this.storageMode,sort:false,displayMode:this.displayMode};this.pickList=new _1830(_1836);this.pickList.getPickListData(_1835);_1835.then(dojo.hitch(this,this._loadData),function(e){console.error(e);});},getStoreTextById:function(val){var _1837=val;if(this.storeData){dojo.forEach(this.storeData.items,function(item,index,array){if(item.id===val){_1837=item.text;}},this);}return _1837;},_loadData:function(data){var items=[];for(var i=0;i<data.items.$resources.length;i++){var item=data.items.$resources[i];items.push({id:item.$key,code:item.code,number:item.number,text:item.text});}this.storeData={identifier:"id",label:"text",items:items};}});return _1834;});},"Sage/UI/Controls/DurationSelect":function(){define("Sage/UI/Controls/DurationSelect",["Sage/UI/Controls/_customSelectMixin","Sage/Utility/Activity","dojo/date","dojo/data/ItemFileReadStore","dojo/i18n!./nls/DurationSelect","dojo/_base/declare"],function(_1838,_1839,_183a,_183b,_183c,_183d){var _183e=_183d("Sage.UI.Controls.DurationSelect",_1838,{id:"",startTime:new Date(),timeValue:new Date(),valuesAreAfterStart:true,_store:null,_storeData:{},labelFmt:"${amount} ${interval} (${endTime})",splitAmoutLabelFmt:"${amount1} ${interval1}, ${amount2} ${interval2} (${endTime})",minuteText:"minute",minutesText:"minutes",hourText:"hour",hoursText:"hours",dayText:"day",daysText:"days",timeIncrements:[0,5,10,15,30,60,120,240],items:[],itemsByDur:{},constructor:function(){dojo.mixin(this,_183c);},resetItems:function(){this.items=[];this.itemsByDur={};},_fillSelect:function(){if(this._select){this.resetItems();var _183f=false;for(var i=0;i<this.timeIncrements.length;i++){var inc=this.timeIncrements[i];this.items.push(this._createItem(inc));_183f=_183f||(this.value===inc);}if(!_183f&&(this.value)){this.items.push(this._createItem(this.value));}this._storeData={identifier:"value",label:"label",items:this.items};this._store=new _183b({data:this._storeData});this._select.set("store",this._store);this._select.set("searchAttr","label");if(this.value||this.value===0){this.set("value",this.value);}}},_createItem:function(inc){var st=this.startTime;if(st.getHours()===0&&st.getMinutes===0&&st.getSeconds()===5){st=new Date(st.getUTCFullYear(),st.getUTCMonth(),st.getUTCDate(),0,0,0);}var newD;newD=_183a.add(st,"minute",(this.valuesAreAfterStart)?inc:inc*-1);var obj={"value":inc,"dateValue":newD,"label":this._formatLabel(inc,newD)};this.itemsByDur[inc]=obj;return obj;},_formatLabel:function(inc,_1840){var _1841;var _1842={amount:inc,interval:(inc===1)?this.minuteText:this.minutesText,endTime:_183a.locale.format(_1840,{selector:"time"})};var _1843=this.labelFmt;if(inc>59){var mod=inc%60;_1841=Math.floor(inc/60);if(mod===0){_1842["amount"]=_1841;_1842["interval"]=(_1841===1)?this.hourText:this.hoursText;}else{_1842["amount1"]=_1841;_1842["interval1"]=(_1841===1)?this.hourText:this.hoursText;_1842["amount2"]=mod;_1842["interval2"]=(mod===1)?this.minuteText:this.minutesText;_1843=this.splitAmoutLabelFmt;}if(_1841>23){var _1844=Math.round(_1841/24);_1842["amount"]=_1844;_1842["interval"]=(_1844===1)?this.dayText:this.daysText;_1842["endTime"]=_183a.locale.format(_1840,{selector:"datetime"});}}return dojo.string.substitute(_1843,_1842);},_handleValueNotInStore:function(_1845){var _1846=this.text;var _1847=/\(([\s\S]*)\)/;var _1848=_1847.exec(_1845);var _1849=_1847.exec(_1846);if((_1848)&&(_1849)){if(_1848[1]===_1849[1]){_1845=_1845.replace(_1848[0],"");}else{var _184a=_183a.locale.parse(_1848[1],{selector:"time"});if(_184a){_184a.setFullYear(this.startTime.getFullYear());_184a.setMonth(this.startTime.getMonth());_184a.setDate(this.startTime.getDate());this._setTimeValueAttr(_184a);return this.value;}}}var dur=0;if(typeof _1845==="number"){dur=_1845;}else{if(_1845.indexOf(",")>0){var _184b=_1845.split(",");for(var i=0;i<_184b.length;i++){var _184c=this._getMinutesFromStringPart(_184b[i]);if(_184c){dur+=_184c;}}}else{dur=this._getMinutesFromStringPart(_1845);}}if(!dur){this._select.set("value",this.text);return this.value;}var _184d=this._createItem(dur);this.value=_184d.value;this.text=_184d.label;this._select.set("displayedValue",_184d.label);return _184d.value;},_setValueAttr:function(value){this._removeOldValueFromStore();this.text=value;this.value=value;if(this._store){this._store.fetchItemByIdentity({identity:value,onItem:function(item){if(item){this._select.set("value",this._store.getValue(item,this._storeData.label));this.value=this._store.getValue(item,this._storeData.identifier);this.text=this._store.getValue(item,this._storeData.label);}else{this._handleValueNotInStore(value);}},onError:function(){},scope:this});}},_removeOldValueFromStore:function(){for(var i=0;i<this.timeIncrements.length;i++){if(this.value===this.timeIncrements[i]){return;}}delete (this.itemsByDur[this.value]);var l=this.items.length;for(i=0;i<l;i++){if(this.items[i].value===this.value||this.items[i].value[0]===this.value){this.items.splice(i,1);return;}}},_getMinutesFromStringPart:function(str){var parts=str.trim().split(" ");var num=parseInt(parts[0],10);if(isNaN(num)){return false;}if(parts.length>1){if(this.hoursText.indexOf(parts[1])>-1){num=num*60;}}return num;},_setStartTimeAttr:function(_184e){if(_183a.compare(this.startTime,_184e,"datetime")!==0){this.startTime=_184e;this._fillSelect();}},_setValuesAreAfterStartAttr:function(_184f){if(this.valuesAreAfterStart!==_184f){this.valuesAreAfterStart=_184f;this._fillSelect();}},_getTimeValueAttr:function(){if(this.itemsByDur.hasOwnProperty(this.value)){var dVal=this.itemsByDur[this.value].dateValue;return (dojo.isArray(dVal))?dVal[0]:dVal;}else{if(this.value&&this.startTime){var d=_183a.add(this.startTime,"minute",(this.valuesAreAfterStart)?this.value:this.value*-1);this.dateValue=d;return this.dateValue;}return null;}},_setTimeValueAttr:function(time){if(!time){return;}if(this.items.length<1){this._fillSelect();}var d=this.startTime;if(d.getHours()===0&&d.getMinutes===0&&d.getSeconds()===5){time=new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds());}for(var obj in this.itemsByDur){if(obj&&this.itemsByDur[obj].dateValue){var _1850=dojo.isArray(this.itemsByDur[obj].dateValue)?this.itemsByDur[obj].dateValue[0]:this.itemsByDur[obj].dateValue;if(_183a.compare(_1850,time,"datetime")===0){this.set("value",this.itemsByDur[obj].value);this.text=this.itemsByDur[obj].label;this._select.set("displayedValue",this.itemsByDur[obj].label);return;}}}var dur=_183a.difference(this.startTime,time,"minute");if(dur<0){dur=dur*-1;}var o={"value":dur,"dateValue":time,"label":this._formatLabel(dur,time)};this.set("value",dur);this.text=o.label;this.itemsByDur[dur]=o;this._select.set("displayedValue",o.label);},_setTimeIncrementsAttr:function(_1851){if(this.timeIncrements===_1851){return;}this.timeIncrements=_1851;this._fillSelect();}});return _183e;});},"Sage/Services/ClientEntityContext":function(){define("Sage/Services/ClientEntityContext",["dojo/_base/declare"],function(_1852){var _1853=_1852("Sage.Services.ClientEntityContext",null,{hasClearListener:false,tempContext:false,constructor:function(_1854){this.inherited(arguments);dojo.mixin(this,_1854);this.emptyContext={"EntityId":"","EntityType":"","Description":"","EntityTableName":""};},getContext:function(){if(this.tempContext){return this.tempContext;}if((Sage.Data)&&(Sage.Data.EntityContextStore)){return Sage.Data.EntityContextStore;}return this.emptyContext;},setContext:function(obj){Sage.Data.EntityContextStore=dojo.mixin(this.emptyContext,obj);this.onEntityContextChanged(Sage.Data.EntityContextStore);},setTemporaryContext:function(obj){this.tempContext=obj;},clearTemporaryContext:function(){this.tempContext=false;},navigateSLXGroupEntity:function(_1855,_1856,_1857){if(Sage.Services){var mgr=Sage.Services.getService("ClientBindingManagerService");if((mgr)&&(!mgr.canChangeEntityContext())){return false;}var _1858=Sage.Services.getService("ClientContextService");if(_1858.containsKey("ClientEntityId")){_1858.setValue("ClientEntityId",_1855);}else{_1858.add("ClientEntityId",_1855);}_1856=(_1856)?_1856:Sage.Data.EntityContextStore.EntityId;if(_1858.containsKey("PreviousEntityId")){_1858.setValue("PreviousEntityId",_1856);}else{_1858.add("PreviousEntityId",_1856);}if(_1857){if(_1858.containsKey("ClientEntityPosition")){_1858.setValue("ClientEntityPosition",_1857);}else{_1858.add("ClientEntityPosition",_1857);}}if(!this.hasClearListener){Sys.WebForms.PageRequestManager.getInstance().add_pageLoaded(function(){if(Sage.Services){var _1859=Sage.Services.getService("ClientContextService");if(_1859.containsKey("PreviousEntityId")){_1859.remove("PreviousEntityId");}}});this.hasClearListener=true;}Sage.Data.EntityContextStore.EntityId=_1855;Sage.Data.EntityContextStore.Description="";}if(window.TabControl){var _185a=TabControl.getState();if(_185a){_185a.clearUpdatedTabs();TabControl.updateStateProxy();}}__doPostBack("MainContent","");return true;},onEntityContextChanged:function(_185b){}});if(!Sage.Services.hasService("ClientEntityContext")){Sage.Services.addService("ClientEntityContext",new Sage.Services.ClientEntityContext());}return _1853;});},"Sage/QuickForms/Design/Editors/CheckBoxAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/CheckBoxAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/CheckBoxAdvancedPropertyEditor"],function(_185c,lang,_185d,_185e,_185f,_1860,_1861,_1862,_1863,_1864,_1865){return _185c("Sage.QuickForms.Design.Editors.CheckBoxAdvancedPropertyEditor",[_185d,_1863,_1862],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlLabelPlacementTooltipText %}\">","<label>{%= $.controlLabelPlacementText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_controlLabelPlacement\" data-dojo-attach-event=\"onChange:_onControlLabelPlacementChange\">","{% for (var placement in $.labelPlacementText) { %}","<span value=\"{%= placement %}\">{%= $.labelPlacementText[placement] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" style=\"display:none;\" title=\"{%= $.checkedTooltipText %}\">","<label>{%= $.checkedText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_checked\" data-dojo-attach-event=\"onChange:_onCheckedChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.enabledTooltipText %}\">","<label>{%= $.enabledText %}</label>","<div data-dojo-attach-point=\"_enabled\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onEnabledChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.defaultDataBindingTooltipText %}\">","<label>{%= $.defaultDataBindingText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_defaultDataBinding\" data-dojo-attach-event=\"onChange:_onDefaultDataBindingChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_checked:null,_controlType:null,_controlId:null,_enabled:null,_controlLabelPlacement:null,_defaultDataBinding:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",checkedText:"Checked:",checkedTooltipText:"Sets default state of checkbox to selected.",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},constructor:function(){lang.mixin(this,_1865);},setup:function(){this.inherited(arguments);this._checked.set("value",this._designer.get("checked"));this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._enabled.set("value",this._designer.get("enabled"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._visible.set("value",this._designer.get("visible"));var _1866=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_1866&&_1866["DataItemName"])||"");},_onCheckedChange:function(value){if(this.isSuspended()){return;}this._designer.set("checked",value);},_onControlTypeChange:function(value){},_onControlIdChange:function(value){},_onDefaultDataBindingChange:function(value){},_onEnabledChange:function(value){if(this.isSuspended()){return;}this._designer.set("enabled",value);},_onControlLabelPlacementChange:function(value){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",value);},_onVisibleChange:function(value){if(this.isSuspended()){return;}this._designer.set("visible",value);}});});},"url:Sage/MainView/Contact/templates/ContactDetailSummary.html":"[\r\n'<table style=\"width:100%\">',\r\n    '<thead>',\r\n        '<tr>',\r\n            '<th>',\r\n                '<div class=\"SummaryTitle\">',\r\n                    '<a href=\"Contact.aspx?entityid={%= $.templateData.id %}\">{%= Sage.Utility.htmlEncode($.templateData.name) %}</a>',\r\n                '</div>',\r\n            '</th>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_address1 %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_citystatezip %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</thead>',\r\n    '<tbody>',\r\n        '<tr>',\r\n            '<td class=\"DataColumn\">',\r\n                '<table>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccount_Caption || \"Account:\" %}</td>',\r\n                        '<td class=\"DataItem\"><a href=\"Account.aspx?entityid={{%= $.templateData.account_id %}}\">{%= Sage.Utility.htmlEncode($.templateData.accountname) %}</a></td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTitle_Caption || \"Title:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.title %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWorkPhone_Caption || \"Work Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.workphone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svHomePhone_Caption || \"Home Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.homephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svMobilePhone_Caption || \"Mobile Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.mobilephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svEmail_Caption || \"Email:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.email %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWebAddress_Caption || \"Web:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.webaddress %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svType_Caption || \"Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.type %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccMgr_Caption || \"Acct. Mgr.:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountmanager_userinfo_firstname %} {%= $.templateData.accountmanager_userinfo_lastname %}</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</tbody>',\r\n'</table>',\r\n'<br/>',\r\n'<div style=\"padding-right:20px; text-align:right\">',\r\n    '<asp:Panel runat=\"server\" ID=\"pnlCancel\" CssClass=\"controlslist qfActionContainer\">',\r\n        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Close\" onClick=\"javascript:contactSearchForDuplicates._close();\">{%= $.closeText %}</div>',\r\n    '</asp:Panel>',\r\n'</div>'\r\n] ","Sage/MainView/ReportMgr/SchedulesListPanelConfig":function(){define("Sage/MainView/ReportMgr/SchedulesListPanelConfig",["Sage/MainView/ReportMgr/BaseListPanelConfig","Sage/MainView/ReportMgr/SchedulesSDataSummaryFormatterScope","dojo/_base/declare","dojo/i18n!./nls/SchedulesListPanelConfig","Sage/Utility/Jobs","Sage/UI/Columns/DateTime","dojo/_base/lang","dojo/i18n!./templates/nls/SchedulesListSummary","dojo/i18n!./templates/nls/ScheduleDetailSummary"],function(_1867,_1868,_1869,_186a,_186b,_186c,_186d){var _186e=_1869("Sage.MainView.ReportMgr.SchedulesListPanelConfig",[_1867],{_listId:"Schedules",_resourceKind:"triggers",_contextMenu:"ReportManagerListContextMenu",_currentListContextSubMenu:"ReportSchedulesListContextMenu",constructor:function(){_186d.mixin(this,_186a);var _186f=Sage.Services.getService("JobService");this._service=_186f.getSchedulingSDataService();this._structure=this._getStructure();this._select=this._getSelect();this._sort=this._getSort();this._where=this._getWhere();this._include=this._getInclude();this._store=this._getStore();this.list=this._getListConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();this.list.selectionMode="single";},_getStructure:function(){return [{field:"job",name:this.colJobName,width:"100px",formatter:_186b.formatJobDescription},{field:"$descriptor",name:this.colNameDescription,width:"100px"},{field:"user",name:this.colNameRunAsUser,width:"100px",formatter:_186b.formatUser},{field:"startTimeUtc",type:_186c,name:this.colNameStartTimeUtc,width:"100px"},{field:"endTimeUtc",type:_186c,name:this.colNameEndTimeUtc,width:"100px"},{field:"priority",name:this.colNamePriority,width:"100px"},{field:"status",name:this.colNameStatus,width:"100px"},{field:"timesTriggered",name:this.colNameExecutionCount,width:"100px"}];},_getSelect:function(){return ["$key","job","user","startTimeUtc","endTimeUtc","repeatCount","repeatInterval","priority","status","timesTriggered"];},_getInclude:function(){var _1870=["$descriptors,$key"];return _1870;},_getWhere:function(){return "jobId like 'Saleslogix.Reporting%'";},_getSort:function(){var sort=[{attribute:"job"}];return sort;},_getSummaryListRequestConfig:function(){var _1871={resourceKind:this._resourceKind,serviceName:"scheduling",keyField:"$key",select:this._getSelect(),include:this._getInclude(),useBatchRequest:false,sort:this._getSort()};return _1871;},_getFormatterScope:function(){var _1872=this._getSummaryListRequestConfig();return new _1868({templateLocation:"MainView/ReportMgr/templates/SchedulesListSummary.html",resetDataManager:true,requestConfiguration:_1872});},_getSummaryDetailRequestConfig:function(){var _1873={resourceKind:this._resourceKind,serviceName:"dynamic",keyField:"$key",select:this._getSelect(),include:this._getInclude(),useBatchRequest:false};return _1873;},_getDetailConfig:function(){var _1874=this._getFormatterScope();return {resourceKind:this._resourceKind,requestConfiguration:this._getSummaryDetailRequestConfig(),templateLocation:"MainView/ReportMgr/templates/ScheduleDetailSummary.html"};},_getToolBars:function(){var _1875={items:[]};return _1875;}});return _186e;});},"Sage/UI/GridContainer":function(){define("Sage/UI/GridContainer",["dojox/layout/GridContainer","dojo/_base/declare"],function(_1876,_1877){var _1878=_1877("Sage.UI.GridContainer",_1876,{_updateColumnsWidth:function(_1879){if(!_1879){var _187a=[];_187a.push(this._dragManager);_187a.callee=arguments.callee;this.inherited(_187a);}else{this.inherited(arguments);}}});return _1878;});},"Sage/UI/DateTextBox":function(){define("Sage/UI/DateTextBox",["dijit/form/DateTextBox","Sage/Utility","dojo/_base/declare"],function(_187b,util,_187c){var _187d=_187c("Sage.UI.DateTextBox",_187b,{_getValueAttr:function(){var d=this.inherited(arguments);return (d)?util.Convert.toJsonStringFromDate(d):d;},_setValueAttr:function(value,_187e,_187f){if(Sage.Utility.Convert.isDateString(value)){value=util.Convert.toDateFromString(value);}this.inherited(arguments,[value,_187e,_187f]);}});return _187d;});},"Sage/QuickForms/Design/nls/DateTimePickerControlDesigner":function(){define("Sage/QuickForms/Design/nls/DateTimePickerControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1880,lang){var nls={root:{displayNameText:"DateTime Picker"}};return lang.mixin(_1880,nls);});},"Sage/UI/Controls/nls/HelpMenu":function(){define("Sage/UI/Controls/nls/HelpMenu",["Sage/LanguageList","dojo/_base/lang"],function(_1881,lang){var nls={root:{helpText:"Help",aboutText:"About",webClientHelpText:"Web Client Help",gettingStartedText:"Getting Started Guide",quickReferenceText:"Quick Reference Card"}};return lang.mixin(_1881,nls);});},"Sage/UI/_DetailPanelConfigurationProvider":function(){define("Sage/UI/_DetailPanelConfigurationProvider",["dojo/_base/declare"],function(_1882){var _1883=_1882("Sage.UI._DetailPanelConfigurationProvider",null,{detailModeConfiguration:false,constructor:function(_1884){dojo.mixin(this,_1884);},requestDetailModeConfiguration:function(_1885){if(_1885.success&&this.detailModeConfiguration){_1885.success.call(_1885.scope||this,this.detailModeConfiguration,this);}}});return _1883;});},"Sage/QuickForms/Design/Editors/nls/LayoutPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/LayoutPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1886,lang){var nls={root:{titleText:"Layout",positionText:"Position",sizeText:"Size",rowText:"Row:",rowTooltipText:"Row number of the control.",columnText:"Column:",columnTooltipText:"Column number of the control.",rowSpanText:"Row Span:",rowSpanTooltipText:"Number of cells the control occupies vertically.",columnSpanText:"Column Span:",columnSpanTooltipText:"Number of cells the control occupies horizontally."}};return lang.mixin(_1886,nls);});},"Sage/TaskPane/nls/UserTasklet":function(){define("Sage/TaskPane/nls/UserTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_1887,lang){var nls={root:{addToRoleTitle:"Add to Role",resetUsersTitle:"Reset Users",associateContactTitle:"Associate with Contact",disAssociateContactTitle:"Disassociate from Contact",disAssociateDialogTitle:"Disassociate from a Contact",confirmDisAssociate:"Are you sure you want to disassociate the ${0} selected user from an associated contact?",confirmDisAssociateMultiple:"Are you sure you want to disassociate the ${0} selected users from any associated contacts?",associationExistsMessage:"The user you selected is already associated to a contact. To associate this user to a different contact, you must first disassociate the user and contact.",multipleSelectionErrorMessage:"You can only perform this task for 1 user at a time. \n Please select a single user and select the task again.",noSelectionErrorMessage:"You need to select at least one user to disassociate. \n Please select one or more user(s) and select the task again.",singleSelectionErrorMessage:"You need to select a user to disassociate. \n Please select a single user and select the task again."}};return lang.mixin(_1887,nls);});},"Sage/UI/EditCalendarUsers":function(){require({cache:{"url:Sage/UI/templates/EditCalendarUsers.html":"<div>\r\n    <div class=\"filter-items-dialog\" data-dojo-type=\"dijit.Dialog\"  data-dojo-attach-point=\"dialogNode\" >\r\n        <div class=\"filter-items-search\" style=\"border-bottom: 1px solid #cccccc;\">\r\n            <label>${findItemText}</label> <input data-dojo-attach-point=\"textFind\" data-dojo-type=\"dijit.form.TextBox\" />\r\n            <span data-dojo-attach-point=\"buttonFind\" title=\"${findText}\" data-dojo-type=\"Sage.UI.ImageButton\" data-dojo-props=\"imageClass: 'icon_Find_16x16'\" data-dojo-attach-event=\"onClick:_onFindClick\"></span>&nbsp;\r\n\t\t\t<span data-dojo-attach-point=\"buttonClear\" title=\"${clearText}\" data-dojo-type=\"dijit.form.Button\" data-dojo-attach-event=\"onClick:_onClearClick\">${clearText}</span>\r\n        </div>     \r\n        <div class=\"filter-items-dialog-content\" data-dojo-attach-point=\"contentNode\" style=\"height:238px;\">\r\n        </div>\r\n        <div class=\"button-bar alignright\">\r\n            <button data-dojo-attach-point=\"buttonOK\" data-dojo-attach-event=\"onClick:_onOKClick\" data-dojo-type=\"dijit.form.Button\">${okText}</button>\r\n            <button data-dojo-attach-point=\"buttonCancel\" data-dojo-attach-event=\"onClick:_onCancelClick\" data-dojo-type=\"dijit.form.Button\">${cancelText}</button>\r\n        </div>\r\n    </div>\r\n</div>"}});define("Sage/UI/EditCalendarUsers",["dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","Sage/Data/SDataServiceRegistry","Sage/Data/WritableSDataStore","dijit/Dialog","dijit/form/Button","Sage/UI/ImageButton","dijit/form/CheckBox","dijit/form/TextBox","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-construct","dijit/registry","Sage/UI/Controls/_DialogHelpIconMixin","dojo/json","dojo/parser","dojo/text!./templates/EditCalendarUsers.html","dojo/i18n!./nls/EditCalendarUsers","Sage/Utility"],function(_1888,_1889,_188a,_188b,_188c,_188d,_188e,_188f,_1890,_1891,_1892,array,lang,_1893,_1894,_1895,json,_1896,_1897,_1898,_1899){return _1892("Sage.UI.EditCalendarUsers",[_1888,_1889,_188a],{templateString:_1897,widgetsInTemplate:true,id:"editFilterItems",store:null,checkBoxes:null,allItems:null,parent:null,formatter:null,favoriteUserIds:[],maxSelectCount:25,selectedCount:0,currentUserId:null,count:1000,loading:false,handles:null,mainHandles:null,safeCheck:true,open:false,checkBoxTemplate:new Simplate(["<input id=\"{%: $.id %}\" ","name=\"{%: $.name %}\" ","data-dojo-type=\"dijit.form.CheckBox\" ","{%: $.disabled %}","class=\"editFilterCheckBox\" />","<label for=\"{%: $.id %}\" {%: $.disabledStyle %}>{%: $.itemName %}</label><br />"]),constructor:function(_189a){this.inherited(arguments);this.checkBoxes=[];this.allItems=[];this.handles=[];this.mainHandles=[];lang.mixin(this,_1898);this.initialize();},initialize:function(){this.maxUsersErrorMessage=dojo.string.substitute(this.maxUsersErrorMessage,[this.maxSelectCount]);this.currentUserId=Sage.Utility.getClientContextByKey("userID");var _189b=new Sage.SData.Client.SDataResourceCollectionRequest(_188b.getSDataService("dynamic"));_189b.setResourceKind("activityresourceviews");this.store=new _188c({service:_188b.getSDataService("dynamic"),resourceKind:"activityresourceviews",select:["$key","ResourceId","Name"],include:[],sort:[{attribute:"Name"}]});},_where:function(_189c){var _189d=Sage.Utility.getClientContextByKey("userID");var _189e="";if(lang.trim(_189d)==="ADMIN"){_189e=dojo.string.substitute("(AccessId eq '${0}' OR AccessId eq '${1}' OR AccessId eq 'EVERYONE') AND Type eq 'User'",[_189d,lang.trim(_189d)]);}else{_189e=dojo.string.substitute("(AccessId eq '${0}' OR AccessId eq 'EVERYONE') AND Type eq 'User'",[lang.trim(_189d)]);}if(_189c){_189c=_189c.replace(/'/g,"''");_189e+=dojo.string.substitute(" AND Name like '%${0}%'",[lang.trim(_189c)]);}return _189e;},postCreate:function(){this.inherited(arguments);this.mainHandles.push(this.textFind.on("keyDown",lang.hitch(this,this._onFindMouseDown)));},showDialog:function(_189f,_18a0){this.favariteUserCalendarId=_18a0;this.favoriteUserIds=_189f;this.requestData();lang.mixin(this.dialogNode,new _1895());this.dialogNode.titleNode.innerHTML=this.dialogTitle;this.dialogNode.show();this.open=true;},hideDialog:function(){this.dialogNode.hide();},_onClearClick:function(){this.textFind.set("value","");this._onFindClick();},_onCancelClick:function(){this.textFind.set("value","");this.dialogNode.hide();this.allItems=[];},_onOKClick:function(){this.textFind.set("value","");this._addFavoriteUsers(this.allItems,this._refreshParent,this);this.dialogNode.hide();this.allItems=[];},_refreshParent:function(scope){if(scope.parent){scope.parent.refreshCalendarUsers(scope.allItems);}},_addFavoriteUsers:function(_18a1,_18a2,scope){var _18a3=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");var _18a4=new Sage.SData.Client.SDataServiceOperationRequest(_18a3).setResourceKind("UserCalendarFavorites").setOperationName("UpdateUserCalendarFavorites");var entry={"$name":"UpdateUserCalendarFavorites","request":{"UserCalendarFavoriteId":this.favariteUserCalendarId,"userId":this.currentUserId,"favUserIds":_18a1.join()}};_18a4.execute(entry,{success:_18a2(scope),failure:function(){_18a2(scope);},scope:scope||this});},uninitialize:function(){if(!this.contentNode){return;}array.forEach(this.mainHandles,function(_18a5){_18a5.remove();});this._destroyContent();this.checkBoxes=null;this.allItems=null;this.buttonCancel.destroy(false);this.buttonOK.destroy(false);this.buttonFind.destroy(false);this.textFind.destroy(false);this.dialogNode.destroy(false);this.inherited(arguments);},requestData:function(_18a6){if(!this.loading){this._destroyContent();this.checkBoxes=[];}this.loading=true;var _18a7="";if(_18a6){_18a7=this._where(_18a6);}else{_18a7=this._where();}this.store.fetch({onError:lang.hitch(this,this._onFetchError),onComplete:lang.hitch(this,this._onFetchComplete),query:{conditions:_18a7},count:this.count,scope:this});},_onFindMouseDown:function(event){if(event.keyCode===13){this._onFindClick();}},_onFindClick:function(){if(!this.loading){var _18a8=this.textFind.get("value");if(_18a8){this.requestData(_18a8);}else{this.requestData();}}},_destroyContent:function(){if(!this.contentNode){return;}array.forEach(_1894.findWidgets(this.contentNode),function(_18a9){_18a9.destroy(false);});array.forEach(this.handles,function(_18aa){_18aa.remove();});this.handles=[];this.checkBoxes=[];this.contentNode.innerHTML="";},_onFetchError:function(){},_onCheckClick:function(e){var self=this.self,_18ab=this.checkBox,name=_18ab&&_18ab.get("id"),index;if(_18ab.checked){index=array.indexOf(self.allItems,name);if(index==-1){if(self.selectedCount<self.maxSelectCount){self.selectedCount++;self.allItems.push(name);}else{Sage.UI.Dialogs.showError(self.maxUsersErrorMessage);_18ab.set("checked",false);}}}else{index=array.indexOf(self.allItems,name);self.allItems.splice(index,1);self.selectedCount--;}},_onFetchComplete:function(items){var entry,_18ac,id,_18ad=null,_18ae=[],i,len=items.length,name,_18af,_18b0,_18b1;this.selectedCount=0;for(i=0;i<len;i++){entry=items[i];_18b0="";_18b1="";name=entry.Name||"";id=entry.ResourceId;if(id==this.currentUserId){_18b0="disabled = 'true'";}_18ae.push(this.checkBoxTemplate.apply({id:id,name:name,itemName:name,disabled:_18b0,disabledStyle:_18b1}));}this.contentNode.innerHTML="";_18ad=_1893.toDom(_18ae.join(""));_1893.place(_18ad,this.contentNode,"last");this._finishedLoading();},_finishedLoading:function(){this._parseCheckBoxes();this.setupCheckState();this.loading=false;},_parseCheckBoxes:function(){if(!this.contentNode){return;}var _18b2;_1896.parse(this.contentNode);_18b2=_1894.findWidgets(this.contentNode);array.forEach(_18b2,function(_18b3){_18b3.on("click",lang.hitch({checkBox:_18b3,self:this},this._onCheckClick));this.checkBoxes.push(_18b3);},this);},setupCheckState:function(){var _18b4=this.currentUserId;if(!_1899.isItemInArray(this.favoriteUserIds,_18b4)){this.favoriteUserIds.push(_18b4);}array.forEach(this.checkBoxes,function(_18b5){var _18b6,_18b7,label=_18b5.get("id");_18b6=array.indexOf(this.favoriteUserIds,label);if(_1899.isItemInArray(this.favoriteUserIds,label)){_18b5.set("checked",true);this.selectedCount++;this.allItems.push(label);}else{_18b5.set("checked",false);}},this);}});});},"Sage/Utility/File/LibraryDocument":function(){define("Sage/Utility/File/LibraryDocument",["Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/Utility/File","Sage/UI/Dialogs","dojo/_base/lang","dojo/string","Sage/Utility","Sage/Utility/ErrorHandler","Sage/Utility/File/DescriptionsForm","dojo/i18n!./nls/LibraryDocument"],function(_18b8,_18b9,_18ba,_18bb,dLang,_18bc,_18bd,_18be,_18bf,nls){Sage.namespace("Utility.File.LibraryDocument");Sage.Utility.File.LibraryDocument={_stateInfo:{total:0,processed:0,successCount:0,failedCount:0},_errors:[],_store:false,_target:false,_totalProgress:0,_attachmentTemplate:false,_files:[],_fileCount:0,_uploadAttemptCount:0,_isUploading:false,_descriptionsForm:false,_uploadUrlFmt:"slxdata.ashx/slx/system/-/libraryDirectories('${0}')/documents/file",_uploadUrl:false,createDocuments:function(files,_18c0){this._target=(_18c0&&typeof _18c0!=="undefined")?_18c0:false;var _18c1="Library Document";this._ensureDescriptionsForm();this._descriptionsForm.set("entityDesc",_18c1);this._descriptionsForm.set("files",files);this._descriptionsForm.show();},handleDescriptions:function(files,_18c2){var _18c3="";var id="";var i;for(i=0;i<_18c2.length;i++){_18c2[i][_18c3]=id;}for(i=0;i<files.length;i++){this._files.push(files[i]);}this.uploadFiles();},_checkState:function(){if(this._stateInfo.processed==this._stateInfo.total){_18bb.closeProgressBar();if(this._errors.length>0){var crlf="<br>";var _18c4=[];_18c4.push(_18bc.substitute(this.uploadError,[this._stateInfo.failedCount,this._stateInfo.successCount]));_18c4.push(crlf);var self=this;dojo.forEach(this._errors,function(err,idx){if(err&&typeof err==="object"&&err.hasOwnProperty("message")){_18c4.push(_18bc.substitute(self.failureNumber,[(idx+1)])+err.message);if(idx!==(self._errors.length-1)){_18c4.push(crlf);}}});this._errors=[];Sage.UI.Dialogs.showError(_18c4.join(crlf));}dojo.publish("/sage/library/manager/libraryDocuments/refresh",null);this._resetCounts();}},_resetCounts:function(){this._fileCount=0;this._uploadAttemptCount=0;this._isUploading=false;this._totalProgress=0;this._stateInfo.processed=0;this._stateInfo.total=0;this._stateInfo.failedCount=0;this._stateInfo.successCount=0;},_failAdd:function(xhr){var _18c5={url:this._uploadUrl};var _18c6=_18be.getHttpStatusInfo(xhr,_18c5);if(_18c6&&typeof _18c6==="object"){this._errors.push(_18c6);}else{this._errors.push({message:this.unknownError});}this._uploadAttemptCount=this._uploadAttemptCount+1;this._updateProgress((this._fileCount<1)?100:(this._uploadAttemptCount/this._fileCount)*100);this._stateInfo.processed++;this._stateInfo.failedCount++;this._checkState();},_ensureDescriptionsForm:function(){if(!this._descriptionsForm){this._descriptionsForm=new _18bf({entityDesc:"",fileType:Sage.Utility.File.fileType.ftLibraryDocs,files:this._files||[]});dojo.connect(this._descriptionsForm,"onDescriptionsEntered",this,"handleDescriptions");}},_successUpload:function(_18c7){this._uploadAttemptCount=this._uploadAttemptCount+1;this._updateProgress((this._fileCount<1)?100:(this._uploadAttemptCount/this._fileCount)*100);this._stateInfo.processed++;this._stateInfo.successCount++;this._checkState();},_updateProgress:function(_18c8){var pct=this._totalProgress;if(_18c8&&_18c8.lengthComputable){var _18c9=(_18c8.loaded/_18c8.total)*100;pct+=Math.round(_18c9/this._fileCount);}else{if(_18c8){pct=_18c8;}}this._totalProgress=pct;if(pct<99){_18bb.showProgressBar({pct:pct,title:this.percentComplete});}},uploadFiles:function(_18ca){this._isUploading=true;this._fileCount=this._files.length;if(_18ca&&!this._attachmentTemplate){this._attachmentTemplate=_18ca;}var _18cb="";if(Sage.Library&&Sage.Library.FileHandler){_18cb=Sage.Library.FileHandler.findDirectoryId(this._target);}var sUrl=_18bc.substitute(this._uploadUrlFmt,[_18cb]);this._uploadUrl=sUrl;this._stateInfo.processed=0;this._stateInfo.total=this._files.length;while(this._files.length>0){var file=this._files.pop();Sage.Utility.File.uploadFile(file,this._uploadUrl,this._updateProgress,this._successUpload,this._failAdd,this);}}};dLang.mixin(Sage.Utility.File.LibraryDocument,nls);return Sage.Utility.File.LibraryDocument;});},"Sage/UI/Controls/DropDownSelectUser":function(){require({cache:{"url:Sage/UI/Controls/templates/DropDownSelectUser.html":"<div>\r\n    <select data-dojo-type=\"Sage.UI.ComboBox\" shouldPublishMarkDirty=\"false\" dojoAttachPoint=\"comboBox\" dojoAttachEvent=\"onBlur: _onBlur\">\r\n    </select>\r\n</div>\r\n"}});define("Sage/UI/Controls/DropDownSelectUser",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/form/ComboBox","dojo/data/ItemFileReadStore","Sage/Data/BaseSDataStore","Sage/Data/SDataServiceRegistry","Sage/UI/ComboBox","dojo/text!./templates/DropDownSelectUser.html","dojo/_base/declare"],function(_18cc,_18cd,_18ce,_18cf,_18d0,_18d1,_18d2,_18d3,_18d4,_18d5){var _18d6=_18d5("Sage.UI.Controls.DropDownSelectUser",[_18ce,_18cc,_18cd],{dataStore:null,storeOptions:null,storeData:null,templateString:_18d4,widgetsInTemplate:true,constructor:function(_18d7){this.storeOptions=_18d7.storeOptions||{include:["UserInfo"],select:["Id","UserName","UserInfo/FirstName","UserInfo/LastName","Type"],sort:[{attribute:"UserInfo.LastName",descending:false}],service:_18d2.getSDataService("dynamic",false,true,true),resourceKind:"users"};this.dataStore=new _18d1(this.storeOptions);this.inherited(arguments);},postCreate:function(){var def=new dojo.Deferred();this.getUserData(def);def.then(dojo.hitch(this,function(data){if(!data){return;}var items=[];var count=data.length;var item=null;for(var i=0;i<count;i++){item=data[i];if(item.Type!=="Template"){items.push({id:item.$key,text:[item.UserInfo.FirstName,item.UserInfo.LastName].join(" ")});}}this.storeData={identifier:"id",label:"text",items:items};var _18d8=new _18d0({data:this.storeData});this.comboBox.set("store",_18d8);this.comboBox.set("searchAttr","text");}),function(e){console.error(e);});this.inherited(arguments);},getUserData:function(_18d9){this.dataStore.fetch({onComplete:function(data){_18d9.callback(data);},onError:function(e){_18d9.errback(e);},scope:this});},_getValueAttr:function(){return this.comboBox.get("value");}});return _18d6;});},"Sage/QuickForms/Design/Editors/PickListAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/PickListAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dojo/string","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dojo/data/ItemFileWriteStore","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/PickListAdvancedPropertyEditor"],function(_18da,lang,_18db,_18dc,_18dd,_18de,_18df,_18e0,_18e1,_18e2,_18e3,_18e4,_18e5){return _18da("Sage.QuickForms.Design.Editors.PickListAdvancedPropertyEditor",[_18dc,_18e3,_18e2],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.displayModeTooltipText %}\">","<label>{%= $.displayModeText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_displayMode\" data-dojo-attach-event=\"onChange:_onDisplayModeChange\">","{% for (var mode in $.displayModeTypeText) { %}","<span value=\"{%= mode %}\">{%= $.displayModeTypeText[mode] %}</span>","{% } %}","</div>","</div>","<div class=\"editor-field\" title=\"{%= $.controlLabelPlacementTooltipText %}\">","<label>{%= $.controlLabelPlacementText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_controlLabelPlacement\" data-dojo-attach-event=\"onChange:_onControlLabelPlacementChange\">","{% for (var placement in $.labelPlacementText) { %}","<span value=\"{%= placement %}\">{%= $.labelPlacementText[placement] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.allowMultiplesTooltipText %}\">","<label>{%= $.allowMultiplesText %}</label>","<div data-dojo-attach-point=\"_allowMultiples\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onAllowMultiplesChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.canEditTextTooltipText %}\">","<label>{%= $.canEditTextText %}</label>","<div data-dojo-attach-point=\"_canEditText\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onCanEditTextChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.enabledTooltipText %}\">","<label>{%= $.enabledText %}</label>","<div data-dojo-attach-point=\"_enabled\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onEnabledChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.mustExistInListTooltipText %}\">","<label>{%= $.mustExistInListText %}</label>","<div data-dojo-attach-point=\"_mustExistInList\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onMustExistInListChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.maxLengthTooltipText %}\">","<label>{%= $.maxLengthText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_maxLength\" data-dojo-attach-event=\"onChange:_onMaxLengthChange\" data-dojo-props=\"constraints:{min:-1,places:0}\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.requiredTooltipText %}\">","<label>{%= $.requiredText %}</label>","<div data-dojo-attach-point=\"_required\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onRequiredChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.defaultDataBindingTooltipText %}\">","<label>{%= $.defaultDataBindingText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_defaultDataBinding\" data-dojo-attach-event=\"onChange:_onDefaultDataBindingChange\" data-dojo-props=\"disabled:true\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.pickListNameTooltipText %}\">","<label>{%= $.pickListNameText %}</label>","<div data-dojo-type=\"dijit.form.ComboBox\" data-dojo-attach-point=\"_pickListName\" data-dojo-attach-event=\"onChange:_onPickListNameChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.storageModeTooltipText %}\">","<label>{%= $.storageModeText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_storageMode\" data-dojo-attach-event=\"onChange:_onStorageModeChange\" data-dojo-props=\"disabled:true\">","{% for (var mode in $.storageModeTypeText) { %}","<span value=\"{%= mode %}\">{%= $.storageModeTypeText[mode] %}</span>","{% } %}","</div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_allowMultiples:null,_canEditText:null,_controlType:null,_controlId:null,_controlLabelPlacement:null,_defaultDataBinding:null,_displayMode:null,_enabled:null,_maxLength:null,_mustExistInList:null,_pickListName:null,_required:null,_storageMode:null,_visible:null,pickListRequest:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",allowMultiplesText:"Allow Multiple Selections:",allowMultiplesTooltipText:"Allows user to select more than one item.",canEditTextText:"Can Edit Text:",canEditTextTooltipText:"Allows user to type value.",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",displayModeText:"Display Mode:",displayModeTooltipText:"Mode of display of control: text box, hyperlink, or plain text.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",mustExistInListText:"Item Must Exist:",mustExistInListTooltipText:"Requires typed value to be on list.",pickListNameText:"Pick List Name:",pickListNameTooltipText:"Name of the list of values the user can select from when entering data.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",storageModeText:"Storage Mode:",storageModeTooltipText:"How the value is stored: Text, Id, or Code.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},displayModeTypeText:{"AsControl":"As Control","AsText":"As Text","AsHyperlink":"As Hyperlink"},storageModeTypeText:{"Text":"Text","Id":"ID","Code":"Code"},pickListRequestErrorText:"Unable to retrieve picklists from server.",constructor:function(){lang.mixin(this,_18e5);},setup:function(){this.inherited(arguments);this._allowMultiples.set("value",this._designer.get("allowMultiples"));this._canEditText.set("value",this._designer.get("canEditText"));this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._displayMode.set("value",this._designer.get("displayMode"));this._enabled.set("value",this._designer.get("enabled"));this._maxLength.set("value",this._designer.get("maxLength"));this._mustExistInList.set("value",this._designer.get("mustExistInList"));this._pickListName.set("value",this._designer.get("pickListName"));this._required.set("value",this._designer.get("required"));this._storageMode.set("value",this._designer.get("storageMode"));this._visible.set("value",this._designer.get("visible"));var _18e6=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_18e6&&_18e6["DataItemName"])||"");},destroy:function(){if(this.pickListRequest){this.pickListRequest.abort();}this.inherited(arguments);},createPickListRequest:function(){var _18e7=new Sage.SData.Client.SDataResourceCollectionRequest(this.dataService).setCount(300).setStartIndex(0);_18e7.setResourceKind("picklists");_18e7.setQueryArg(Sage.SData.Client.SDataUri.QueryArgNames.OrderBy,"name asc");return _18e7;},requestPickListNames:function(){var _18e8=this.createPickListRequest();if(_18e8){this.pickListRequest=_18e8.read({success:this.onRequestPickListNamesSuccess,failure:this.onRequestPickListNamesFailure,scope:this});}},onRequestPickListNamesSuccess:function(feed){this.pickListRequest=null;this.processPickListFeed(feed);},onRequestPickListNamesFailure:function(_18e9,o){this.pickListRequest=null;alert(_18db.substitute(this.pickListRequestErrorText,[_18e9,o]));},processPickListFeed:function(feed){if(!feed["$resources"]){return;}var _18ea=new _18e1({data:{identifier:"$key",label:"name",items:[]}});for(var i=0;i<feed["$resources"].length;i++){var entry=feed["$resources"][i];if(entry.name){_18ea.newItem(entry);}}this._pickListName.set({store:_18ea,disabled:false});},_onAllowMultiplesChange:function(value){if(this.isSuspended()){return;}this._designer.set("allowMultiples",value);},_onCanEditTextChange:function(value){if(this.isSuspended()){return;}this._designer.set("canEditText",value);},_onControlTypeChange:function(value){},_onControlIdChange:function(value){},_onControlLabelPlacementChange:function(value){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",value);},_onDefaultDataBindingChange:function(value){},_onDisplayModeChange:function(value){if(this.isSuspended()){return;}this._designer.set("displayMode",value);},_onEnabledChange:function(value){if(this.isSuspended()){return;}this._designer.set("enabled",value);},_onMaxLengthChange:function(value){if(this.isSuspended()){return;}this._designer.set("maxLength",value);},_onMustExistInListChange:function(value){if(this.isSuspended()){return;}this._designer.set("mustExistInList",value);},_onPickListNameChange:function(value){if(this.isSuspended()){return;}this._designer.set("pickListName",value);var _18eb=this._pickListName.get("item");this._designer.set("pickListId",_18eb["$key"][0]);},_onRequiredChange:function(value){if(this.isSuspended()){return;}this._designer.set("required",value);},_onStorageModeChange:function(value){if(this.isSuspended()){return;}this._designer.set("storageMode",value);},_onVisibleChange:function(value){if(this.isSuspended()){return;}this._designer.set("visible",value);}});});},"Sage/TaskPane/ActivityTaskContents":function(){define("Sage/TaskPane/ActivityTaskContents",["dijit/_Widget","Sage/_Templated","dojo/_base/declare"],function(_18ec,_18ed,_18ee){var _18ef=_18ee("Sage.TaskPane.ActivityTaskContents",[_18ec,_18ed],{widgetsInTemplate:true,templateLocation:"",templateString:"",widgetTemplate:"",constructor:function(_18f0){this.widgetTemplate=_18f0.taskTemplate;dojo.subscribe("/sage/ui/list/selectionChanged",function(_18f1){var _18f2=dojo.byId("selectionCount");if(_18f2){_18f2.innerHTML=_18f1.getTotalSelectionCount();}});},_clearSelection:function(e){var _18f3=dijit.byId("list");if(_18f3){_18f3._listGrid.selection.clear();}}});return _18ef;});},"Sage/UI/Controls/Phone":function(){define("Sage/UI/Controls/Phone",["dijit/_Widget","Sage/_Templated","Sage/UI/Controls/TextBox","dojo/_base/declare"],function(_18f4,_18f5,_18f6,_18f7){var _18f8=_18f7("Sage.UI.Controls.Phone",_18f6,{slxchangehook:"true",_setslxchangehookAttr:{node:"focusNode",type:"attribute",attribute:"slxchangehook"},shouldPublishMarkDirty:true,autoPostBack:false,postCreate:function(){this.inherited(arguments);this.unformattedValue=this.unformatNumber(this.get("value"));},unformattedValue:"",formatPhoneChange:function(_18f9){var _18fa=this.formatNumberForDisplay(_18f9);this.unformattedValue=this.unformatNumber(_18f9);this.set("value",_18fa);},formatters:[{test:/^\+.*/,format:"{0}"},{test:/^(\d{3})(\d{3,4})$/,format:"{3}-{4}"},{test:/^(\d{3})(\d{3})(\d{2,4})$/,format:"({3}) {4}-{5}"},{test:/^(\d{3})(\d{3})(\d{2,4})([^0-9]{1,}.*)$/,format:"({3}) {4}-{5}{6}"},{test:/^(\d{11,})(.*)$/,format:"{1}"}],unformatNumber:function(_18fb){var n=_18fb;n=n.replace("(","");n=n.replace(")","");n=n.replace(" ","");n=n.replace("-","");return n;},formatNumberForDisplay:function(_18fc,clean){var n=_18fc;if(typeof clean==="undefined"){clean=n;}for(var i=0;i<this.formatters.length;i++){var _18fd=this.formatters[i],match;if((match=_18fd.test.exec(clean))){return String.format.apply(String,[_18fd.format,n,clean].concat(match));}}return n;},onChange:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}this.formatPhoneChange(e);}});return _18f8;});},"Sage/UI/Alarms/nls/ActivityAlarm":function(){define("Sage/UI/Alarms/nls/ActivityAlarm",["Sage/LanguageList","dojo/_base/lang"],function(_18fe,lang){var nls={root:{noSubjectText:"No Subject",contactText:"Contact",accountText:"Account",opportunityText:"Opportunity",leadText:"Lead",companyText:"Company",recurringText:"Recurring",ticketText:"Ticket",leaderText:"Leader",locationText:"Location"}};return lang.mixin(_18fe,nls);});},"url:Sage/Utility/File/templates/FallbackFilePicker_LibraryDoc.html":"[\r\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"uploadFileDialog\" title=\"{%= $.addLibraryFileText %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:_onHide\">',\r\n        '<iframe src=\"about:blank\" style=\"width:0px;height:0px;border-width:0px;\" name=\"{%= $._iframeId %}\" id=\"{%= $._iframeId %}\" dojoAttachPoint=\"_iframe\" dojoAttachEvent=\"onload:_iframeLoad\"></iframe>',\r\n        '<form method=\"post\" enctype=\"multipart/form-data\" action=\"\" target=\"{%= $._iframeId %}\" dojoAttachPoint=\"_postForm\" class=\"attachment-properties-form\">',\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"160\">',\r\n                 '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.uploadFileText %}\" >',\r\n                    '<input name=\"file\" multiple=\"false\" type=\"file\" dojoAttachEvent=\"onchange:_onNewFile\" dojoAttachPoint=\"btn_FileSelect\" class=\"uploadButton\" />',\r\n                 '</div>',\r\n                 '<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.descriptionText %}\" name=\"description\" id=\"{%= $.id %}_tb_Description\" dojoAttachPoint=\"tb_Description\" maxlength=\"255\" ></div>',\r\n                 '<input type=\"hidden\" dojoType=\"dijit.form.TextBox\" name=\"fileName\" id=\"{%= $.id %}_tb_realFileName\" dojoAttachPoint=\"tb_realFileName\" maxlength=\"255\" />',\r\n            '</div>',\r\n            '<div class=\"general-dialog-actions\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id %}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.okText %}</div>',\r\n                '<span>&nbsp;&nbsp</span>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>',\r\n            '</div>',\r\n        '</form>',\r\n    '</div>',\r\n'</div>'\r\n]","Sage/TaskPane/ActivityTaskPaneActions":function(){define("Sage/TaskPane/ActivityTaskPaneActions",["dojo/parser","dojo/ready"],function(_18ff,ready){Sage.namespace("TaskPane.ActivityTaskPaneActions");Sage.TaskPane.ActivityTaskPaneActions={scheduleMeeting:function(){this._getActivityService().scheduleActivity({type:"Meeting"});},scheduleToDo:function(){this._getActivityService().scheduleActivity({type:"ToDo"});},schedulePhoneCall:function(){this._getActivityService().scheduleActivity({type:"PhoneCall"});},schedulePerosnalActivity:function(){this._getActivityService().scheduleActivity({type:"Personal"});},completeActivity:function(){this._getActivityService().completeActivity();},deleteActivity:function(){this._getActivityService().deleteActivity();},acceptConfirmation:function(){this._getActivityService().acceptConfirmation();},declineConfirmation:function(){this._getActivityService().declineConfirmation();},deleteConfirmation:function(){this._getActivityService().deleteConfirmation();},scheduleEvent:function(){this._getActivityService().scheduleEvent();},deleteEvent:function(){this._getActivityService().deleteEvent();},scheduleLitRequest:function(){this._getActivityService().scheduleLitRequest();},deleteLitRequest:function(){this._getActivityService().deleteLitRequest();},_getActivityService:function(){return Sage.Services.getService("ActivityService");}};return Sage.TaskPane.ActivityTaskPaneActions;});},"Sage/UI/Alarms/JobNotificationPopup":function(){define("Sage/UI/Alarms/JobNotificationPopup",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","Sage/UI/EditableGrid","Sage/Utility","dojo/string","dojo/i18n!./nls/JobNotificationPopup","dojo/_base/declare","Sage/Utility/Jobs"],function(_1900,_1901,_1902,_1903,_1904,_1905,_1906,_1907,_1908){var _1909=_1907("Sage.UI.Alarms.JobNotificationPopup",[_1902,_1900,_1901],{_notificationCount:-1,_dataRequested:false,widgetsInTemplate:true,isOpen:false,grid:"",templateString:["<div class=\"alarm-popup notification-popup\">","<div class=\"alarm-title notification-title\">","<span class=\"alarm-main-title\">&nbsp;${notificationPopupStrings.title}</span>","<span class=\"alarm-title-tools notification-title-tools\">","<span dojoType=\"Sage.UI.ImageButton\" imageClass=\"icon_Help_16x16\" title=\"${notificationPopupStrings.helpText}\" dojoAttachEvent=\"onClick:_showHelp\" ></span>","</span>","</div>","<div data-dojo-type=\"dijit.layout.StackContainer\" dojoAttachPoint=\"_panelContainer\" class=\"alarm-body\" >","<div data-dojo-type=\"dijit.layout.BorderContainer\" id=\"jobNotifications_Grid\" dojoAttachPoint=\"jobNotifications_Grid\" style=\"width:100%;height:100%;\"></div>","</div>","</div>"].join(""),constructor:function(){this.notificationPopupStrings=_1906;var _190a=Sage.Services.getService("JobService");var _190b=_190a.getSchedulingSDataService();this._service=_190b;},onOpen:function(){this.isOpen=true;this._panelContainer.resize();if(!this._dataRequested){this._loadNotifications();}else{this.grid.refresh();}},_onNotificationRequestComplete:function(){var count=this.context.query.scope.rowCount;},_loadNotifications:function(){var _190c={readOnly:true,columns:this._getColumnLayout(),tools:[],storeOptions:{service:this._service,resourceKind:"executions",include:["$descriptors"],select:["$key","job","trigger","progress","elapsed","status","result"],sort:[{attribute:"status",descending:true}],onComplete:this._onNotificationRequestComplete},contextualCondition:function(){},id:this.id+"executions",tabId:"jobExecutions",gridNodeId:this.jobNotifications_Grid.id,singleClickEdit:true,dblClickAction:this._onDblClick,rowsPerPage:20};var grid=new _1903(_190c);var _190d=dijit.byId(grid.gridNodeId);_190d.addChild(grid);window.setTimeout(function(){grid.startup();_190d.resize();},1);this.grid=grid;grid.startup();this._dataRequested=true;},_onDblClick:function(){},_getColumnLayout:function(){function _190e(item,_190f,cell){var _1910=cell.grid.store.getValue(item,"result");if(!_1910){return this.defaultValue;}var parts=_1910.split("://");if(parts.length===1){return this.defaultValue;}return _1905.substitute("<a href=\"javascript: Sage.Utility.File.Attachment.getAttachment('${1}');\" title=\"${0}\">${0}</a>",[item.trigger?item.trigger.$descriptor:"",parts[1]]);};function _1911(_1912){if(!_1912||typeof _1912!=="number"){_1912=0;}var _1913=new dijit.ProgressBar({indeterminate:false,maximum:100,value:_1912});return _1913;};var _1914=[{width:10,field:"$key",name:" ",sortable:false,hidden:true},{width:10,field:"job",name:this.notificationPopupStrings.colNameJobName||"Type",sortable:true,formatter:_1908.formatJobDescription},{width:8,field:"progress",name:this.notificationPopupStrings.colNameProgress||"Progress",formatter:_1911,sortable:false},{width:6,field:"status",name:this.notificationPopupStrings.colNameStatus||"Status",sortable:true},{width:24,field:"_item",name:this.notificationPopupStrings.colExecutionResult||"Result",formatter:_190e,sortable:false}];return _1914;},onClose:function(){this.isOpen=false;},startup:function(){this.inherited(arguments);},_showHelp:function(){_1904.openHelp("jobNotifications");}});return _1909;});},"Sage/MainView/Opportunity/nls/OpportunityStatistics":function(){define("Sage/MainView/Opportunity/nls/OpportunityStatistics",["Sage/LanguageList","dojo/_base/lang"],function(_1915,lang){var nls={root:{opportunityStatistics_Caption:"Opportunity Statistics",loadingMessge:"Loading...",opportunityCount:"# of Opportunities",salesPotentialTotal:"Sales Potential Total (Average)",weightedPotentialTotal:"Weighted Potential Total (Average)",averageCloseProbability:"Average Close Probability",actualAmountTotal:"Actual Amount Total (Average)",averageDaysOpen:"Average # of Days Open",rangeEstClose:"Range of Est. Close (Min - Max)",btnClose_Caption:"Close",errorRequestingStatistics:"Sorry an error occurred attempting to request opportunity statistics."}};return lang.mixin(_1915,nls);});},"Sage/UI/Filters/GroupFilterConfigurationProvider":function(){define("Sage/UI/Filters/GroupFilterConfigurationProvider",["Sage/Services/_ServiceMixin","Sage/_ConfigurationProvider","Sage/Data/GroupLayoutSingleton","Sage/Data/SDataStore","dojo/_base/declare","dojo/_base/lang","dijit/registry","dojo/string","Sage/Utility/Filters","dojo/json"],function(_1916,_1917,_1918,_1919,_191a,lang,_191b,_191c,_191d,json){var _191e=_191a("Sage.UI.Filters.GroupFilterConfigurationProvider",[_1917,_1916],{FILTER_COUNT:150,_configuration:null,_hasLayoutConfiguration:false,_hasFilterHiddenConfiguration:false,serviceMap:{"groupContextService":"ClientGroupContext","metaDataService":{type:"sdata",name:"metadata"},"systemDataService":{type:"sdata",name:"system"}},constructor:function(_191f){this.inherited(arguments);this._subscribes.push(dojo.subscribe("/group/context/changed",this,this._onGroupContextChanged));},_onGroupContextChanged:function(){this.onConfigurationChange();},onConfigurationChange:function(){},_createConfiguration:function(entry,_1920){var _1921=entry&&entry.layout,_1922=[],_1923=[],i=0,_1924=this.groupContextService&&this.groupContextService.getContext(),_1925=_1924&&_1924.CurrentGroupID,_1926=_1924&&_1924.CurrentEntity,_1927=this.systemDataService,_1928=this.metaDataService,_1929,where;for(i=0;i<_1921.length;i++){_1922.push("\""+_1921[i].propertyPath+"\"");_1923.push("\""+_1921[i].caption+"\"");}_1929=new Sage.SData.Client.SDataResourcePropertyRequest(_1928);_1929.setResourceKind("entities");_1929.setResourceSelector("\""+_1926+"\"");_1929.setResourceProperty("filters");_1929.setQueryArg("count",this.FILTER_COUNT);if(_1926==="User"){_1923.push("\"Role\"");_1923.push("\"Team\"");}where=_191c.substitute("filterType ne \"analyticsMetric\" and (propertyName in (${0}) or displayName in (${1}))",[_1922.join(","),_1923.join(",")]);_1929.setQueryArg("where",where);this._configuration.store=new _1919({executeReadWith:"readFeed",request:_1929});this._configuration.createStoreForFilter=function(_192a){var _192b=new Sage.SData.Client.SDataResourcePropertyRequest(_1927);_192b.setResourceKind("groups");_192b.setResourceSelector("\""+_1925+"\"");_192b.setResourceProperty("$queries/executeMetric");_192b.setQueryArg("_filterName",_192a.filterName);_192b.setQueryArg("orderby","displayName");return _192a&&_192a.filterName?new _1919({executeReadWith:"readFeed",request:_192b}):null;};this._configuration.getFilterManager=function(){var _192c=_191b.byId("list");return _192c&&_192c.get("filterManager");};this._configuration.groupId=_1925;},requestConfiguration:function(_192d){this._configuration={};this._hasLayoutConfiguration=false;this._hasFilterHiddenConfiguration=false;var _192e=new _1918(),group=this.getCurrentGroup(),_192f=lang.hitch(this,this._onRequestConfigurationSuccess,_192d||{}),_1930=lang.hitch(this,this._onRequestConfigurationFailure,_192d||{});_192e.getGroupLayout(this.formatPredicate(group),_192f,_1930,group.$key);this._getHiddenFilters(_192d);},formatPredicate:function(group){return "'"+group.$key+"'";},getCurrentGroup:function(){var _1931=this.groupContextService&&this.groupContextService.getContext(),_1932=_1931&&_1931.CurrentFamily,name=_1931&&_1931.CurrentName,id=_1931&&_1931.CurrentGroupID;return {name:name,family:_1932,$key:id};},_onRequestConfigurationSuccess:function(_1933,entry){this._createConfiguration(entry,_1933);this._hasLayoutConfiguration=true;this._callOptionsSuccess(_1933);},_onRequestConfigurationFailure:function(_1934,_1935){if(_1934.failure){_1934.failure.call(_1934.scope||this,_1935,_1934,this);}},_getHiddenFilters:function(_1936){var key=this._getHiddenFiltersKey();if(key){_191d.getHiddenFilters(key,lang.hitch(this,this._onHiddenFiltersFetchComplete,_1936||{}),function(err){console.error(err);});}},_getHiddenFiltersKey:function(){var key=_191d.getHiddenFiltersKey();return key;},_onHiddenFiltersFetchComplete:function(_1937,_1938){if(_1938&&_1938.response&&_1938.response.value){this._configuration._hiddenFilters=json.parse(_1938.response.value);if(this._configuration._hiddenFilters&&this._configuration._hiddenFilters.constructor===Array){this._configuration._hiddenFilters={};}}this._configuration._hiddenFiltersKey=this._getHiddenFiltersKey();this._hasFilterHiddenConfiguration=true;this._callOptionsSuccess(_1937);},_callOptionsSuccess:function(_1939){if(!this._hasLayoutConfiguration||!this._hasFilterHiddenConfiguration){return;}if(_1939.success){_1939.success.call(_1939.scope||this,this._configuration,_1939,this);this._hasLayoutConfiguration=false;this._hasFilterHiddenConfiguration=false;}}});return _191e;});},"Sage/UI/NavBarPane":function(){define("Sage/UI/NavBarPane",["dijit/layout/_LayoutWidget","Sage/_Templated","Sage/UI/MenuItem","dijit/Menu","dojo/_base/declare"],function(_193a,_193b,_193c,_193d,_193e){var _193f=_193e("Sage.UI.NavBarPane",[_193a,_193b],{textImageRelationMap:{0:new Simplate(["<div class=\"Global_Images icon32x32 {%: $.imageClass %}\"></div>","<br />","<span>{%: $.text %}</span>"]),1:new Simplate(["<span>{%: $.text %}</span>","<br />","<div class=\"Global_Images icon32x32 {%: $.imageClass %}\"></div>"]),2:new Simplate(["<div class=\"Global_Images icon32x32 {%: $.imageClass %}\"></div>","<span>{%: $.text %}</span>"]),3:new Simplate(["<span>{%: $.text %}</span>","<div class=\"Global_Images icon32x32 {%: $.imageClass %}\"></div>"]),4:new Simplate(["<img src=\"{%: $.img %}\" alt=\"\" />","<span>{%: $.text %}</span>"]),},attributeMap:{"listContent":{node:"listNode",type:"innerHTML"}},widgetTemplate:new Simplate(["<div class=\"nav-bar-pane\">","<ul dojoAttachPoint=\"listNode,containerNode\"></ul>","</div>"]),itemTemplate:new Simplate(["<li id=\"{%: $.id %}\" class=\"{%: $.className %}\" aria-haspopup=\"{%: $.haspopup %}\">","<a href=\"{%: $.href %}\">","{%= $.innerTemplate.apply($) %}","</a>","</li>"]),title:null,items:null,_requiredContextMenus:null,_contextMenus:null,constructor:function(){this._requiredContextMenus=[];this._contextMenus=[];},postCreate:function(){this.inherited(arguments);this._processItemCollection(this.items);},startup:function(){this.inherited(arguments);this._processContextMenus(this._requiredContextMenus);},destroy:function(_1940){this.inherited(arguments);dojo.forEach(this._contextMenus,function(item){item.destroy(_1940);});},_processItemCollection:function(items){var _1941=[];dojo.forEach(items,function(item){item.id=item.id||Sage.guid("NavItem");if(window.location.href.indexOf(item.href)!==-1){item.className="nav-bar-item-current-page";}else{item.className="nav-bar-item";}if(item.contextmenu){this._requiredContextMenus.push({id:item.id,name:item.contextmenu});item.haspopup="true";}else{item.haspopup="false";}if(item.imageClass===""){item.innerTemplate=this.textImageRelationMap[4];}else{item.innerTemplate=this.textImageRelationMap[item.textImageRelation];}_1941.push(this.itemTemplate.apply(item,this));},this);this.set("listContent",_1941.join(""));},_processContextMenus:function(menus){var i,j,menu,_1942,item,_1943,items;for(i=0;i<menus.length;i++){menu=menus[i];_1943=Sage.UI.DataStore.ContextMenus&&Sage.UI.DataStore.ContextMenus[menu.name];items=_1943&&_1943.items;if(items&&items.length>0){_1942=new _193d({targetNodeIds:[menu.id]});for(j=0;j<items.length;j++){item=items[j];_1942.addChild(new _193c({id:_1942.id+"_"+item.id,label:item.text||"...",title:item.tooltip||"...",img:item.img||this._blankGif,ref:item.href,onClick:this._onContextMenuClick}));}this._contextMenus.push(_1942);}}},_onContextMenuClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}});return _193f;});},"url:Sage/MainView/ReportMgr/Crystal/templates/MultiSelectParameterEditor.html":"<div>\r\n    <div data-dojo-attach-point=\"promptParameterContainer\" class=\"crystalParameterContainer\">\r\n        <div data-dojo-attach-point=\"paramsHeaderContainer\"></div>\r\n        <div data-dojo-attach-point=\"divMinMaxMessage\">\r\n            <span data-dojo-attach-point=\"spanMinMaxMessage\">&nbsp;</span>\r\n        </div>\r\n        <div data-dojo-attach-point=\"parameterRangeDiv\" class=\"display-none\">\r\n            <div data-dojo-attach-point=\"parameterRangeWidgetContainer\" style=\"height:auto\"></div>\r\n            <div>\r\n                <label class=\"display-none\" data-dojo-attach-point=\"lblRangeValidationError\" style=\"color:red\">{%= Sage.Utility.htmlEncode($.txtPleaseSpecifyValue) %}</label>\r\n            </div>\r\n            <div style=\"padding:5px\">\r\n                <div data-dojo-type=\"dijit.form.Button\" data-dojo-attach-point=\"cmdAddRange\" dojoAttachEvent=\"onClick:_cmdAddRange_OnClick\"\r\n                    style=\"float:right\" >{%= Sage.Utility.htmlEncode($.txtAddRange) %}\r\n                </div>\r\n            </div>\r\n            <br />\r\n        </div>\r\n        <div data-dojo-attach-point=\"divMultipleValues\">\r\n            <table style=\"width:100%\">\r\n                <colgroup>\r\n                    <col style=\"width:1%\" />\r\n                    <col style=\"width:44%\" />\r\n                    <col style=\"width:10%\" />\r\n                    <col style=\"width:44%\" />\r\n                </colgroup>\r\n                <tr>\r\n                    <td colspan=\"4\">\r\n                        <div data-dojo-attach-point=\"transferBoxContainer\" style=\"height:auto\"></div>\r\n                    </td>\r\n                </tr>\r\n                <tr data-dojo-attach-point=\"rowCustomValues\">\r\n                    <td></td>\r\n                    <td>\r\n                        <div>\r\n                            <label>{%= Sage.Utility.htmlEncode($.lblEnterValue_Caption) %}</label><br />\r\n                            <input type=\"text\" dojoType=\"dijit.form.TextBox\" data-dojo-attach-point=\"txtCustomValue\" style=\"width:85%\" />\r\n                            <span data-dojo-attach-point=\"errorCustomDate\" class=\"display-none\" style=\"color:red\">*</span>\r\n                        </div>\r\n                    </td>\r\n                    <td>\r\n                        <br />\r\n                        <div data-dojo-type=\"dijit.form.Button\" data-dojo-attach-point=\"cmdAddCustom\" dojoAttachEvent=\"onClick:_cmdAddCustom_OnClick\" >{%= Sage.Utility.htmlEncode(\">\") %}</div>\r\n                    </td>\r\n                    <td></td>\r\n                </tr>\r\n                <tr>\r\n                    <td></td>\r\n                    <td colspan=\"3\">\r\n                        <div data-dojo-attach-point=\"divValidationMessage\" style=\"color:red\">\r\n                            <span data-dojo-attach-point=\"spanValidationMessage\">&nbsp;</span>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <div>\r\n        <br />\r\n    </div>\r\n</div>","Sage/TaskPane/nls/GroupListTasklet":function(){define("Sage/TaskPane/nls/GroupListTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_1944,lang){var nls={root:{GroupListOptionsTitle:"Group List Options",maximizeTitle:"Expand Group List",minimizeTitle:"Minimize Group List"}};return lang.mixin(_1944,nls);});},"Sage/MainView/ReportMgr/Crystal/nls/CrystalReportConditionEditor":function(){define("Sage/MainView/ReportMgr/Crystal/nls/CrystalReportConditionEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1945,lang){var nls={root:{dlgCrystalReportConditionDetails_Title:"Add/Edit Condition",cmdOK_Caption:"OK",cmdCancel_Caption:"Cancel",cmbConditionType_Caption:"Match By",txtInvalidParameterTitle:"Invalid Parameter",txtInvalidParameterMessage:"Invalid Parameter: ${0}",lkpUser_Caption:"User",lkpGroup_Caption:"Group",txtSelectUser:"Select User",chkCurrentUser_Caption:"Current User",txtName:"Name",txtOK:"OK",txtSelectGroup:"Select Group",cmbDateRange_Caption:"Date Range",cmbDateRange_SpecificDates_Caption:"Specific Dates",cmbDateRange_ThisWeek_Caption:"This Week",cmbDateRange_ThisMonth_Caption:"This Month",cmbDateRange_ThisQuarter_Caption:"This Quarter",cmbDateRange_ThisYear_Caption:"This Year",cmbDateRange_LastWeek_Caption:"Last Week",cmbDateRange_LastMonth_Caption:"Last Month",cmbDateRange_LastQuarter_Caption:"Last Quarter",cmbDateRange_LastYear_Caption:"Last Year",cmbDateRange_MonthToDate_Caption:"Month to Date",cmbDateRange_QuarterToDate_Caption:"Quarter to Date",cmbDateRange_YearToDate_Caption:"Year to Date",dtFromDate_Caption:"From",dtToDate_Caption:"To",cmbTable_Caption:"Table",cmbField_Caption:"Field",cmbOperator_Caption:"Operator",txtValue_Caption:"Value",txtNumericValueFrom_Caption:"From",txtNumericValueTo_Caption:"To"}};return lang.mixin(_1945,nls);});},"Sage/UI/URL":function(){define("Sage/UI/URL",["dijit/_Widget","Sage/_Templated","dijit/form/ValidationTextBox","dojox/validate/regexp","Sage/UI/Controls/TextBox","dojo/_base/declare","Sage/Utility"],function(_1946,_1947,_1948,_1949,_194a,_194b,_194c){dojo.mixin(_1948.prototype.attributeMap,{slxchangehook:"focusNode"});var _194d=_194b("Sage.UI.URL",[_1946,_1947],{widgetTemplate:new Simplate(["<div class=\"urlcontrol\" slxcompositecontrol=\"true\" id=\"{%= $.id %}\" >","<input data-dojo-type=\"Sage.UI.Controls.TextBox\" name=\"{%= $.name %}\" ","data-dojo-props=\"textWithIcons: {%= $.buttonVisible %}\"","dojoAttachPoint=\"focusNode\" type=\"text\" style=\"\" ","hotKey=\"{%= $.hotKey %}\" ","{% if($.disabled === \"disabled\") { %} ","disabled=\"disabled\" ","{% } %}","{% if($.readonly === \"readonly\") { %} ","readonly=\"readonly\" ","{% } %}","{% if ($.disabled !== \"disabled\") { %} "," dojoAttachEvent=\"onChange:formatURLChange, onDblClick:launchWebSite, regExpGen:regExpGen\" ","{% } %}"," tabindex=\"{%= $.tabIndex %}\" ","value=\"{%= $.url %}\" required=\"{%= $.required %}\" ","id=\"{%= $.id %}_urlText\" maxlength=\"{%= $.maxLength %}\" > ","{% if ($.buttonVisible && $.disabled !== \"disabled\") { %}","<img alt=\"{%= $.buttonToolTip %}\" data-dojo-attach-event=\"ondijitclick: launchWebSite\"   "," tabindex=\"{%= $.tabIndex %}\" alt=\"{%= $.buttonToolTip %}\" ","src=\"{%= $.buttonImageUrl %}\" title=\"{%= $.buttonToolTip %}\" id=\"{%= $.id %}_urlButton\"> ","{% } %}","</div>"]),name:"",autoPostBack:false,readonly:"",disabled:"",hotKey:"",buttonVisible:true,maxLength:128,buttonImageUrl:"",buttonToolTip:"WWW",required:false,tabIndex:0,url:"",webAddressId:"",constructor:function(_194e){_194e.id=_194e.webAddressId;},postCreate:function(){this.formatURL();this.inherited(arguments);},widgetsInTemplate:true,attributeMap:{slxchangehook:{node:"focusNode",type:"attribute",attribute:"slxchangehook"}},regExpGen:function(){return _194c.regexp.invalidInput;},formatURL:function(){dojo.style(this.focusNode.focusNode,"color","#000099");dojo.style(this.focusNode.focusNode,"font-family","Tahoma");},formatURLChange:function(){if(this.url!==this.focusNode.value){this.url=this.focusNode.value;}},launchWebSite:function(){var url=this.url;if(url.length<1){return;}var _194f="http://";var _1950="https://";var winH;if(url.indexOf(_194f)===-1&&url.indexOf(_1950)===-1){url=_194f+url;}winH=window.open(url,"",["dependent=no","directories=yes","location=yes","menubar=yes","resizeable=yes","pageXOffset=0px","pageYOffset=0px","scrollbars=yes","status=yes","titlebar=yes","toolbar=yes"].join(","));}});return _194d;});},"Sage/MainView/JobMgr/JobDefinitionsListPanelConfig":function(){define("Sage/MainView/JobMgr/JobDefinitionsListPanelConfig",["Sage/MainView/JobMgr/BaseListPanelConfig","Sage/MainView/JobMgr/SDataSummaryFormatterScope","dojo/_base/declare","dojo/i18n!./nls/JobDefinitionsListPanelConfig","dojo/i18n!./templates/nls/JobDefinitionsListSummary","dojo/i18n!./templates/nls/JobDefinitionDetailSummary"],function(_1951,_1952,_1953,_1954){var _1955=_1953("Sage.MainView.JobMgr.JobDefinitionsListPanelConfig",[_1951],{constructor:function(){this._nlsResources=_1954;this._listId="JobDefinitions";this._resourceKind="jobs";this.entityName="Job";this._contextMenu="JobManagerListContextMenu";this._currentListContextSubMenu="JobDefinitionsListContextMenu";this._structure=this._getStructure();this._select=this._getSelect();this._sort=this._getSort();this._where=this._getWhere();this._include=this._getInclude();this._store=this._getStore();this.list=this._getListConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();this.keyField="$key";},_getStructure:function(){var _1956=this._nlsResources.colNameJobName||"Job Name";var _1957=this._nlsResources.colNameDescription||"Description";var _1958=this._nlsResources.colNameType||"Type";var _1959=[{field:"$descriptor",name:_1956,width:"100px"},{field:"description",name:_1957,width:"100px"},{field:"type",name:_1958,width:"50px"}];return _1959;},_getSelect:function(){var _195a=["$key","description","type"];return _195a;},_getWhere:function(){return "";},_getSort:function(){var sort=[{attribute:"description"}];return sort;},_getInclude:function(){var _195b=[];return _195b;},_getSummaryListRequestConfig:function(){var _195c={resourceKind:this._resourceKind,serviceName:"scheduling",keyField:"$key",select:["$key","description"],include:[],useBatchRequest:false};return _195c;},_getFormatterScope:function(){var _195d=this._getSummaryListRequestConfig();var _195e=new _1952({templateLocation:"MainView/JobMgr/templates/JobDefinitionsListSummary.html",resetDataManager:true,requestConfiguration:_195d});return _195e;},_getSummaryDetailRequestConfig:function(){var _195f={resourceKind:this._resourceKind,serviceName:"scheduling",keyField:"$key",select:["$key","description"],include:["$descriptors"],useBatchRequest:false};return _195f;},_getDetailConfig:function(){var _1960=this._getFormatterScope();var _1961=this._getSummaryDetailRequestConfig();var _1962={resourceKind:this._resourceKind,requestConfiguration:_1961,templateLocation:"MainView/JobMgr/templates/JobDefinitionDetailSummary.html"};return _1962;},_getToolBars:function(){var _1963={items:[]};return _1963;}});return _1955;});},"Sage/UI/Grid/Plugins/ShowHideColumns":function(){define("Sage/UI/Grid/Plugins/ShowHideColumns",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojox/grid/enhanced/_Plugin","dojox/grid/EnhancedGrid","dijit/Menu","dijit/CheckedMenuItem","dojo/on","dojo/topic"],function(_1964,array,lang,_1965,_1966,Menu,_1967,on,topic){var _1968=_1964("Sage.UI.Grid.Plugins.ShowHideColumns",_1965,{name:"showHideColumns",privates:{},hideQueue:null,constructor:function(){this.hideQueue=[];this.inherited(arguments);},onStartUp:function(){var menu=new Menu(),_1969;menu.startup();on(menu,"open",lang.hitch(this,function(){if(this.grid.headerMenu){this.grid.headerMenu.destroyDescendants();}array.forEach(this.grid.layout.cells,function(cell){_1969=new _1967({label:cell.name||"",checked:!cell.hidden});_1969._onClick=lang.hitch({plugin:this,item:_1969,cell:cell},function(e){this.plugin.hideQueue.push(this.cell);this.item.set("checked",!this.item.checked);e.cancelBubble=true;});this.grid.headerMenu.addChild(_1969);},this);}));on(menu,"blur",lang.hitch(this,function(){array.forEach(this.hideQueue,function(item){this.grid.layout.setColumnVisibility(item.index,item.hidden);topic.publish("/sage/ui/grid/columnToggle/"+this.grid.id,item);},this);topic.publish("/sage/ui/grid/columnsToggled/"+this.grid.id);this.hideQueue=[];}));this.grid.set("headerMenu",menu);}});_1966.registerPlugin(_1968);return _1968;});},"Sage/MainView/IntegrationContract/nls/AdvancedSearchOptions":function(){define("Sage/MainView/IntegrationContract/nls/AdvancedSearchOptions",["Sage/LanguageList","dojo/_base/lang"],function(_196a,lang){var nls={root:{dialogCaption:"Link to Accounting",searchOptionsHeader:"Search for Matches in ",searchOptionsText:"The following criteria was used in the previous search. Modify the criteria for a new search. Click OK to begin searching.",propertyText:"Property",operatorText:"Operator",searchText:"Search Value",loadingText:"loading...",loadingDisplay:"Searching for results...",hideImgAltText:"Remove Condition",addImgAltText:"Add Condition",okText:"OK",cancelText:"Cancel"}};return lang.mixin(_196a,nls);});},"Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility":function(){define("Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility",["dojo/date/locale","dojo/i18n!./nls/CrystalReportsUtility","Sage/Reporting/Enumerations","Sage/MainView/ReportMgr/ReportManagerUtility","dojo/_base/array","dojo/store/Memory"],function(_196b,_196c,_196d,_196e,_196f,_1970){Sage.namespace("Sage.MainView.ReportMgr.Crystal.CrystalReportsUtility");dojo.mixin(Sage.MainView.ReportMgr.Crystal.CrystalReportsUtility,{_nlsResources:_196c,getConditionTypes:function(_1971){var _1972=[];if(_1971){if(_1971.useDateFilter){_1972.push({conditionType:_196d.ReportConditionType.DateRange,caption:_196d.getReportConditionTypeCaption(_196d.ReportConditionType.DateRange)});}if(_1971.useGroupFilter){_1972.push({conditionType:_196d.ReportConditionType.Group,caption:_196d.getReportConditionTypeCaption(_196d.ReportConditionType.Group)});}_1972.push({conditionType:_196d.ReportConditionType.Query,caption:_196d.getReportConditionTypeCaption(_196d.ReportConditionType.Query)});if(_1971.useUserFilter){_1972.push({conditionType:_196d.ReportConditionType.User,caption:_196d.getReportConditionTypeCaption(_196d.ReportConditionType.User)});}}return _1972;},getCurrentEntityCondition:function(){var _1973=null;var _1974=_196e.getCurrentEntityContext();if(_1974&&_1974.EntityTableName&&_1974.EntityId){var _1975=_1974.EntityTableName.toUpperCase()+"ID";_1973={conditionType:_196d.ReportConditionType.Query,table:_1974.EntityTableName.toUpperCase(),field:_1975,operator:_196d.ReportConditionOperator.Is,value:_1974.EntityId,fromRange:null,toRange:null,dataType:_196d.FieldDataTypes.String,tag:null};}return _1973;},getCurrentUserCondition:function(){var _1976={conditionType:_196d.ReportConditionType.User,table:null,field:null,operator:_196d.ReportConditionOperator.Is,value:_196c.txtCurrentUser,fromRange:null,toRange:null,dataType:_196d.FieldDataTypes.String,tag:":UserID"};return _1976;},getDateOnlyFormattedDate:function(_1977){return _196b.format(_1977,{selector:"date",fullYear:true});},initializeComboBoxValues:function(_1978,_1979,_197a){var _197b=new _1970({identifier:"id",name:"description",value:"value",data:_1978});_197a.set("store",_197b);_197a.set("searchAttr","description");_197a.set("value","_id");_197a.set("maxHeight","150");_197a.set("required",false);if(_1979!==""){_196f.some(_1978,function(entry,i){if(entry.value==_1979){_197a.set("displayedValue",entry.description);return true;}});}else{_197a.set("displayedValue","");}},getRangeInitialValue:function(_197c,_197d){var value="";if(_197c&&_197c.length>0){var _197e=_197c[0];if(_197e.parameterClass===_196d.SlxParameterValueRangeKind.Discrete){value=_197e.value;}else{if(_197d){value=_197e.value.beginValue;}else{value=_197e.value.endValue;}}}return value;}});return Sage.MainView.ReportMgr.Crystal.CrystalReportsUtility;});},"Sage/QuickForms/Design/Editors/FormAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/FormAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/FormAdvancedPropertyEditor"],function(_197f,lang,_1980,_1981,_1982,_1983,_1984,_1985,_1986,_1987){return _197f("Sage.QuickForms.Design.Editors.FormAdvancedPropertyEditor",[_1980,_1985,_1984],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.generalText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.useEntityNameAsTitleTooltipText %}\">","<label>{%= $.useEntityNameAsTitleText %}</label>","<div data-dojo-attach-point=\"_useEntityNameAsTitle\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onUseEntityNameAsTitleChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_useEntityNameAsTitle:null,titleText:"Advanced",generalText:"General",useEntityNameAsTitleText:"Use Entity Name As Title:",useEntityNameAsTitleTooltipText:"Use name of current entity in form title.",constructor:function(){lang.mixin(this,_1987);},setup:function(){this.inherited(arguments);this._useEntityNameAsTitle.set("value",this._designer.get("useEntityNameAsTitle"));},_onUseEntityNameAsTitleChange:function(value){if(this.isSuspended()){return;}this._designer.set("useEntityNameAsTitle",value);}});});},"Sage/QuickForms/Design/nls/ColumnDesigner":function(){define("Sage/QuickForms/Design/nls/ColumnDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1988,lang){var nls={root:{displayNameText:"Column"}};return lang.mixin(_1988,nls);});},"Sage/MainView/ActivityMgr/AttendeeLookup/BaseLookupConfig":function(){define("Sage/MainView/ActivityMgr/AttendeeLookup/BaseLookupConfig",["Sage/UI/Controls/Lookup","dojo/_base/declare"],function(_1989,_198a){var _198b=_198a("Sage.MainView.ActivityMgr.AttendeeLookup.BaseLookupConfig",null,{lookupName:"LookupName",lookupDisplayName:"Lookup Display Name",lookupType:_1989,entityName:"entityName",id:false,cells:[],defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"picklistName":null,"defaultValue":""},gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"someEntity",sort:[{attribute:"SortField"}]},displayMode:0,isModal:true,seedProperty:"",seedValue:"",overrideSeedValueOnSearch:true,initialLookup:true,preFilters:[],query:{},dialogTitle:"Lookup",dialogButtonText:"Ok",allowClearingResult:true,readonly:true,showEntityInfoToolTip:false,_nlsResources:{},constructor:function(){},rebuild:function(){this._lookup=null;},getLookupInstance:function(uiid){var _198c=this.getConfig(uiid);var _198d=new this.lookupType(_198c);return _198d;},addCell:function(cell,_198e){},removeCell:function(_198f){},getCells:function(){return this.cells;},getConfig:function(uiid){var _1990={id:this.id+"_base_"+uiid,structure:[{defaultCell:this.defaultCell,cells:this.cells,}],gridOptions:this.gridOptions,storeOptions:this.storeOptions,isModal:this.isModal,displayMode:this.displayMode,initialLookup:this.initialLookup,preFilters:this.preFilters,returnPrimaryKey:this.returnPrimaryKey,dialogTitle:this.dialogTitle,dialogButtonText:this.dialogButtonText,doSelected:function(){alert("overide the doSelect method");}};var _1991={id:this.id+"_"+uiid,allowClearingResult:this.allowClearingResult,readonly:this.readonly,showEntityInfoToolTip:this.showEntityInfoToolTip,config:_1990};return _1991;}});return _198b;});},"Sage/UI/Controls/SingleSelectPickList":function(){require({cache:{"url:Sage/UI/Controls/templates/SingleSelectPickList.html":"<div>\r\n    <select id=\"${id}-Combo\" data-dojo-type=\"Sage.UI.ComboBox\" shouldPublishMarkDirty=\"false\" required=\"${required}\" dojoAttachPoint=\"comboBox\" dojoAttachEvent=\"onChange:_onChange\" tabindex=\"${tabIndex}\">\r\n    </select>\r\n</div>\r\n"}});define("Sage/UI/Controls/SingleSelectPickList",["dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/ComboBox","dojo/data/ItemFileReadStore","dojo/data/ObjectStore","dojo/store/Memory","Sage/UI/ComboBox","Sage/UI/Controls/PickList","dojo/text!./templates/SingleSelectPickList.html","dojo/string","dojo/_base/declare"],function(_1992,_1993,_1994,_1995,_1996,_1997,_1998,_1999,_199a,_199b,_199c,_199d){var _199e=_199d("Sage.UI.Controls.SingleSelectPickList",[_199a,_1992,_1993,_1994],{store:null,constructor:function(_199f){if(_199f.clientId){this.id=_199f.clientId+"-SingleSelectPickList";}this.inherited(arguments);},postCreate:function(){this._setupTooltips(this.comboBox._buttonNode,this.comboBox.textbox);this._setupRenderAsHyperlink();this._setupTooltips();this.inherited(arguments);var _19a0=dojo.byId(this._textId);if(_19a0&&_19a0.value&&(this.comboBox.value!==_19a0.value)){this.comboBox.set("value",_19a0.value);}},_setupTooltips:function(){if(this.controlTooltip&&this.controlTooltip!==""){this.comboBox.set("title",this.controlTooltip);}if(this.buttonTooltip&&this.buttonTooltip!==""){if(this.comboBox._buttonNode){this.comboBox._buttonNode.title=this.buttonTooltip;}}},_setupRenderAsHyperlink:function(){if(!this.renderAsHyperlink){return;}dojo.addClass(this.comboBox.domNode,"comboAsHyperlink");dojo.connect(this.comboBox.domNode,"onclick",this,function(){this.comboBox.loadDropDown();});},_loadData:function(){var def=new dojo.Deferred();this.getPickListData(def);def.then(dojo.hitch(this,function(data){if(typeof data==="string"){this.comboBox.set("value",data);}var items=[];var _19a1;for(var i=0;i<data.items.$resources.length;i++){var item=data.items.$resources[i];items.push({id:item.$key,code:item.code,number:item.number,text:item.text});}this.storeData={identifier:"id",label:"text",items:items};this.store=new _1996({data:this.storeData});this.comboBox.set("store",this.store);this.comboBox.set("searchAttr","text");this.store._forceLoad();var _19a2=dojo.byId(this._textId);var _19a3=dojo.byId(this._picklistId);var _19a4=dojo.byId(this._codeId);if(_19a2&&_19a2.value){this.lastValidValue=_19a2.value;this.initialValue=this.lastValidValue;this.comboBox.set("value",this.lastValidValue);}else{if(_19a3&&_19a3.value){_19a1=this.getStoreItemById(_19a3.value);if(_19a1){this.lastValidValue=this.store.getValue(_19a1,"text");this.initialValue=this.lastValidValue;this.comboBox.set("value",this.lastValidValue);}}else{if(_19a4&&_19a4.value){_19a1=this.getStoreItemByCode(_19a4.value);if(_19a1){this.lastValidValue=this.store.getValue(_19a1,"text");this.initialValue=this.lastValidValue;this.comboBox.set("value",this.lastValidValue);}}else{var val=this.comboBox.get("value");if(val||val===""){this.lastValidValue=val;}else{this.lastValidValue=items[0].text;this.comboBox.set("value",this.lastValidValue);}}}}}),function(e){console.error(e);});if(this.get("canEditText")===false){this.comboBox.textbox.disabled=true;}var len=this.get("maxLength");if(len>0){this.comboBox.set("maxLength",len);}},uninitialize:function(){this.inherited(arguments);},getStoreItemById:function(id){var _19a5=null,_19a6;if(this.store){if(this.storeData){dojo.forEach(this.storeData.items,function(item,index,array){if(item.id){_19a6=this.store.getValue(item,"id");if(_19a6===id){_19a5=item;return _19a5;}}},this);}}return _19a5;},getStoreItemByCode:function(code){var _19a7=null,_19a8;if(this.store){if(this.storeData){dojo.forEach(this.storeData.items,function(item,index,array){if(item.code){_19a8=this.store.getValue(item,"code");_19a8=_199c.trim(_19a8);_19a8=_19a8.toUpperCase();code=_199c.trim(code);code=code.toUpperCase();if(_19a8===code){_19a7=item;return _19a7;}}},this);}}return _19a7;},getStoreItemByValue:function(value){var _19a9=null,text;if(value){if(this.store){dojo.forEach(this.storeData.items,function(item,index,array){if(item.text){text=this.store.getValue(item,"text");text=_199c.trim(text);text=text.toUpperCase();value=_199c.trim(value);value=value.toUpperCase();if(text===value){_19a9=item;return _19a9;}}},this);}}return _19a9;},_onChange:function(_19aa){this.onChange(_19aa);},_setPickListNameAttr:function(value){this.inherited(arguments);this._loadData();},_setValueAttr:function(value){this.inherited(arguments);this.comboBox.set("value",value);},_getValueAttr:function(){return this.comboBox.get("value");},_getCodeAttr:function(){var item,code,value,_19ab;code="";value=this._getValueAttr();item=this.getStoreItemByValue(value);if(item){code=this.store.getValue(item,"code");}return code;},templateString:_199b,widgetsInTemplate:true,storeData:null,lastValidValue:"",initialValue:"",disabled:false,_setDisabledAttr:function(_19ac){this.disabled=_19ac;this.comboBox.set("disabled",_19ac);},_getDisabledAttr:function(){this.disabled=this.comboBox.get("disabled");return this.disabled;},focus:function(){this.comboBox.focus();},onChange:function(_19ad){if(this.storeData){var val=this.comboBox.get("value");if(val!=this.initialValue){if(this.get("itemMustExist")){var valid=dojo.some(this.storeData.items,function(item){if(item.text==_19ad||_19ad==""){return true;}else{return false;}},this);if(valid){this.lastValidValue=_19ad;}if(!valid){if(this.lastValidValue!=="undefined"&&this.lastValidValue!==null){this.comboBox.set("value",this.lastValidValue);return;}}}if(this.comboBox.isValid()){var code="",id="";dojo.forEach(this.storeData.items,function(item,index,array){if(item.text==val){code=item.code;id=item.id;}},this);this.setASPNETInputs(val,code,id);}}}}});return _199e;});},"Sage/UI/TransferBoxWidgetEnumerations":function(){define("Sage/UI/TransferBoxWidgetEnumerations",["dojo/_base/declare"],function(_19ae){Sage.namespace("Sage.UI.TransferBoxWidgetEnumerations");dojo.mixin(Sage.UI.TransferBoxWidgetEnumerations,{SearchConditions:{EqualTo:"EqualTo",Contains:"Contains",StartingWith:"StartingWith"},SelectionMode:{Extended:"extended",Multiple:"multiple",Single:"single",None:"none"}});return Sage.UI.TransferBoxWidgetEnumerations;});},"Sage/MainView/JobMgr/SDataDetailViewDataManager":function(){define("Sage/MainView/JobMgr/SDataDetailViewDataManager",["Sage/Data/SDataServiceRegistry","Sage/Data/SDataStore","dojo/_base/declare","dojo/_base/lang"],function(_19af,_19b0,_19b1,lang){var _19b2=_19b1("Sage.MainView.JobMgr.SDataDetailRequestQueue",null,{select:[],resourceKind:"",fetching:false,include:[],service:null,constructor:function(_19b3){lang.mixin(this,_19b3);this.requestHash={};this.fetching=false;var _19b4=Sage.Services.getService("JobService");this.service=_19b4.getSchedulingSDataService();},add:function(_19b5,_19b6){var _19b7=this.requestHash[_19b5];if((_19b7)&&(_19b7.id!==_19b6.id)){if(!_19b7.duplicates){_19b7.duplicates=[];}var found=false;for(var i=0;i<_19b7.duplicates.length;i++){if(_19b7.duplicates[i].context.id===_19b6.id){found=true;}}if(!found){_19b7.duplicates.push({id:_19b6.id,context:_19b6});}}else{this.requestHash[_19b5]=_19b6;}},send:function(_19b8,_19b9){this.fetching=true;var _19ba=this;var _19bb=new Sage.SData.Client.SDataSingleResourceRequest(this.service);_19bb.setResourceKind(this.resourceKind);for(var id in this.requestHash){_19bb.setResourceSelector("'"+id+"'");}_19bb.setQueryArg("include",this.include.join(","));_19bb.read({success:lang.hitch(_19b9,_19b8,_19ba),failure:lang.hitch(this,this.requestFailed,_19ba)});},requestFailed:function(a,b,c){}});var _19bc=_19b1("Sage.MainView.JobMgr.SDataDetailViewDataManager",null,{keyField:"$key",constructor:function(){this.queue=new _19b2();this.requestTimeout=false;},requestDataNoWait:function(_19bd,_19be,_19bf){var _19c0=new _19b2();if(_19bf.keyField){this.keyField=_19bf.keyField;}_19c0.select=_19bf.select;_19c0.resourceKind=_19bf.resourceKind;_19c0.serviceName=_19bf.serviceName;_19c0.include=_19bf.include;_19c0.useBatchRequest=_19bf.useBatchRequest;if(_19bf.expandRecurrences!==null){_19c0.expandRecurrences=_19bf.expandRecurrences;}_19c0.add(_19bd,_19be);_19c0.send(this.receiveData,this);},receiveData:function(_19c1,data){var _19c2=data;var id=_19c2.id;if(!id){id=_19c2[this.keyField];_19c2.id=id;}var _19c3=_19c1.requestHash[_19c2.id];if(_19c3){try{if(!_19c3.applied){_19c3.applied=true;_19c3.set("entity",_19c2);}}catch(err){console.error(err);}}}});return _19bc;});},"Sage/MainView/JobMgr/templates/nls/JobDefinitionDetailSummary":function(){define("Sage/MainView/JobMgr/templates/nls/JobDefinitionDetailSummary",["Sage/LanguageList","dojo/_base/lang"],function(_19c4,lang){var nls={root:{txtJobName_Caption:"Job Name:",txtDescription_Caption:"Description:"}};return lang.mixin(_19c4,nls);});},"Sage/UI/OrientableMenuBar":function(){define("Sage/UI/OrientableMenuBar",["dijit/MenuBar","dojo/_base/declare"],function(_19c5,_19c6){var _19c7=_19c6("Sage.UI.OrientableMenuBar",_19c5,{postCreate:function(args){this.inherited(arguments);if(typeof this.orientation!=="undefined"){this._orient=this.orientation;}}});return _19c7;});},"Sage/UI/nls/SearchMenuItem":function(){define("Sage/UI/nls/SearchMenuItem",["Sage/LanguageList","dojo/_base/lang"],function(_19c8,lang){var nls={root:{findText:"Find",clearText:"Clear",showHiddenText:"Show Hidden: "}};return lang.mixin(_19c8,nls);});},"Sage/Library/nls/DocumentProperties":function(){define("Sage/Library/nls/DocumentProperties",["Sage/LanguageList","dojo/_base/lang"],function(_19c9,lang){var nls={root:{Abstract:"Abstract",Cancel:"Cancel",DocumentProperties:"Document Properties",Created:"Created",Description:"Description",Directory:"Directory",DoNotExpire:"Do Not Expire",Expires:"Expires",FileName:"File Name",ForceDistribution:"Force distribution of this file",InvalidFileName:"A filename cannot contain any of the following characters: \\ / : * ? \" < > |",Never:"Never",OK:"OK",Revised:"Revised",Size:"Size",Status:"Status"}};return lang.mixin(_19c9,nls);});},"Sage/QuickForms/Design/Help":function(){define("Sage/QuickForms/Design/Help",["dojo/string"],function(_19ca){return {defaultTarget:"MCWebHelp",defaultTopic:null,defaultSubSystem:null,defaultUrlFormat:"help/WebClient_CSH.htm#${0}",subSystemUrlFormat:"help/Subsystems/${1}/${1}_CSH.htm#${0}",open:function(topic,_19cb,_19cc){var url=Sage.Link.getHelpUrl(topic,_19cb);window.open(url,_19cc||this.defaultTarget);}};});},"Sage/UI/nls/NotesHistoryList":function(){define("Sage/UI/nls/NotesHistoryList",["Sage/LanguageList","dojo/_base/lang"],function(_19cd,lang){var nls={root:{typeText:"Type",showDbChangesText:"Show Database Changes",selectAllText:"Select All",dateText:"Date",dateTimeText:"Date/Time",dateRangeText:"Date Range",userText:"User",accountText:"Account",contactText:"Contact",opportunityText:"Opportunity",regardingText:"Regarding",notesText:"Notes",resultText:"Result",categoryText:"Category",sendEmailText:"Send via E-Mail",sendToWordText:"Send to Word",addNoteText:"Add Note",completeAnActivityText:"Complete an Activity",helpText:"Help",pleaseSelectRecordsText:"Please select one or more records",UnableToFindWordMsg:"Cannot start Microsoft Word.  Please check your security settings.",printedOnText:"Printed On"}};return lang.mixin(_19cd,nls);});},"Sage/Data/ServiceOperationSDataStore":function(){define("Sage/Data/ServiceOperationSDataStore",["Sage/Data/BaseSDataStore","Sage/Utility","dojo/_base/declare","dojo/_base/lang"],function(_19ce,_19cf,_19d0,lang){var _19d1=_19d0("Sage.Data.ServiceOperationSDataStore",_19ce,{isInsertMode:false,constructor:function(o){lang.mixin(this,o);this.features["dojo.data.api.Notification"]=true;this.identityAttributes=["$cacheID"];this.dirtyDataCache={isDirty:false};this.singleResourceRequest=null;},entry:"",fetch:function(_19d2){var items={};items.$resources=[];if(_19d2.isRender&&this.dataCarrierId){var _19d3=dojo.query([".",this.dataCarrierId].join(""));if(_19d3[0].value.length>0){var _19d4=dojo.fromJson(_19d3[0].value);this.addItemsToCache(_19d2,_19d4.$resources);}}for(var item in this.dataCache){if(this.dataCache.hasOwnProperty(item)&&item!=="query"){items.$resources.push(this.dataCache[item]);}}this.setContext(_19d2);this.verifyService();if(this.isInsertMode){var self=this;window.setTimeout(function(){self.onSuccess(_19d2,items);},5);return;}var _19d5=new Sage.SData.Client.SDataServiceOperationRequest(this.service).setContractName(this.contractName).setOperationName(this.operationName);var qry="";if(this.query){if(!_19d2.query){_19d2.query={};}lang.mixin(_19d2.query,this.query);}if(_19d2.query){if(typeof _19d2.query==="function"){qry=_19d2.query();}else{if(typeof _19d2.query==="string"){qry=_19d2.query;}else{if(typeof _19d2.query==="object"){if(_19d2.query.hasOwnProperty("fn")){qry=_19d2.query.fn.call(_19d2.query.scope||this);}if(_19d2.query.hasOwnProperty("conditions")){if(typeof _19d2.query.conditions==="string"){qry+=(qry.length>0)?" and "+_19d2.query.conditions:_19d2.query.conditions;}}}}}}_19d2.evaluatedQuery=qry||"";if(qry&&qry!==""){_19d5.setQueryArg("where",qry);}if(this.select&&this.select.length>0){_19d5.setQueryArg("select",this.select.join(","));}if(this.include&&this.include.length>0){_19d5.setQueryArg("include",this.include.join(","));}_19d5.execute(this.entry,{success:lang.hitch(this,this.onSuccess,_19d2),failture:lang.hitch(this,this.onFailure,_19d2)});var key;return {abort:lang.hitch(this,this.abortRequest,key)};},onSuccesssss:function(_19d6,feed){if(this.entry===""){this.entry=feed;}if(_19d6.onBegin){_19d6.onBegin.call(_19d6.scope||this,feed.response.totalCount,_19d6);}if(_19d6.onComplete){_19d6.onComplete.call(_19d6.scope||this,feed.response.totalCount,_19d6);}},onSuccess:function(_19d7,feed){if(_19d7.onBegin){_19d7.onBegin.call(_19d7.scope||this,feed.response.totalCount,_19d7);}if(this.onProcess){this.onProcess.call(_19d7.scope||this,feed.response.items,_19d7);}if(_19d7.onComplete){_19d7.onComplete.call(_19d7.scope||this,feed.response.items,_19d7);}if(this.onComplete){this.onComplete.call(_19d7.scope||this,feed.response.items,_19d7);}this.addToCache(_19d7,feed);},addToCache:function(_19d8,item,count){var key;count=(typeof count==="undefined")?(Math.random()*11):count;if(this.isInsertMode){item.$cacheID=new Date().getTime()+count;}key=this.getIdentity(item);this.dataCache[key]=item;},addItemsToCache:function(_19d9,items){for(var i=0;i<items.length;i++){this.addToCache(_19d9,items[i],i);}},clearCache:function(){this.inherited(arguments);this.clearDirtyDataCache();},clearDirtyDataCache:function(){for(var key in this.dirtyDataCache){if(key!=="isDirty"){delete this.dirtyDataCache[key];}}this.dirtyDataCache.isDirty=false;},isItem:function(_19da){var id=this.getIdentity(_19da);if(id&&id!==""){return this.dataCache.hasOwnProperty(id);}return false;},isItemLoaded:function(_19db){return this.isItem(_19db);},loadItem:function(_19dc){if(!this.isItem(_19dc.item)){throw new Error("Unable to load "+_19dc.item);}},getValues:function(item,_19dd){if(this.isItem(item)&&(typeof _19dd==="string")){return (item[_19dd]||[]).slice(0);}return [];},hasAttribute:function(item,_19de){if(this.isItem(item)&&(typeof _19de==="string")){return _19de in item;}return false;},close:function(){this.clearCache();},deleteItem:function(item,scope){var id=this.getIdentity(item);if(id&&id!==""){delete this.dataCache[id];}var _19df={};_19df.scope=scope||this;var _19e0=function(){if(typeof this.onResponse==="function"){this.onResponse.call(this);}};_19df.success=_19e0;_19df.success.call(_19df.scope);},isDirty:function(item){if(item){var id=this.getIdentity(item);if(id&&id!==""){return this.dirtyDataCache.hasOwnPropery(id);}}return this.dirtyDataCache.isDirty;},newItem:function(args){var _19e1=this.createTemplateRequest();if(_19e1){_19e1.read({success:function(entry){if((args)&&(args.onComplete)&&(typeof args.onComplete==="function")){args.onComplete.call(args.scope||this,entry);}},failure:this.requestTemplateFailure,scope:this});}},createTemplateRequest:function(){var _19e2=new Sage.SData.Client.SDataTemplateResourceRequest(this.service);if((this.resourceKind)&&(this.resourceKind!=="")){_19e2.setResourceKind(this.resourceKind);}return _19e2;},requestTemplateFailure:function(){},saveNewEntity:function(_19e3,_19e4,_19e5,scope){this.addToCache(scope,_19e3);_19e4();},createItem:function(item,scope){var _19e6={};_19e6.scope=scope||this;_19e6.scope.store=this;var _19e7=function(_19e8){if(typeof this.onResponse==="function"){this.onResponse.call(this,_19e8);}};_19e6.success=_19e7;this.addToCache(scope,item);_19e6.success.call(_19e6.scope,item);},revert:function(){this.clearDirtyDataCache();this.onDataReset();},setValue:function(item,_19e9,value){var _19ea=this.getValue(item,_19e9,"");_19cf.setValue(item,_19e9,value);this.onSet(item,_19e9,_19ea,value);return true;},setValues:function(item,_19eb,_19ec){alert("not implemented - setValues");},unsetAttribute:function(item,_19ed){alert("not implemented - unsetAttribute");},dataCacheToArray:function(){var _19ee=[];for(var item in this.dataCache){if(this.dataCache.hasOwnProperty(item)&&item!=="query"){_19ee.push(this.dataCache[item]);}}return _19ee;},onDataChange:function(){this.clearDirtyDataCache();var _19ef=dojo.query([".",this.dataCarrierId].join(""));if(_19ef[0]){this.entry.$resources=this.dataCacheToArray();_19ef[0].value=JSON.stringify(this.entry);}},onSet:function(item,_19f0,_19f1,_19f2){},onNew:function(_19f3,_19f4){},onDelete:function(_19f5){},onDataReset:function(){},onDataSaved:function(){},onItemSaved:function(_19f6,_19f7){},onItemNotSaved:function(_19f8,error){}});return _19d1;});},"Sage/Utility/nls/File":function(){define("Sage/Utility/nls/File",["Sage/LanguageList","dojo/_base/lang"],function(_19f9,lang){var nls={root:{unableToUploadText:"Saleslogix Desktop Integration Module must be installed to use this feature.",unknownSizeText:"unknown",largeFileWarningText:"Warning: This request exceeds the size limit set by your administrator and failed to upload.",largeFileWarningTitle:"Warning"}};return lang.mixin(_19f9,nls);});},"Sage/MainView/ReportMgr/ReportManagerFormatter":function(){define("Sage/MainView/ReportMgr/ReportManagerFormatter",["Sage/Utility","dojo/date/locale","dojo/number","dojo/string","dojo/_base/array","dojo/i18n!./nls/ReportManagerFormatter","Sage/Reporting/Enumerations"],function(_19fa,_19fb,_19fc,_19fd,_19fe,_19ff,_1a00){Sage.namespace("Sage.MainView.ReportMgr.ReportManagerFormatter");dojo.mixin(Sage.MainView.ReportMgr.ReportManagerFormatter,{_isNumeric:function(value){return !isNaN(parseFloat(value))&&isFinite(value);},formatDate:function(value){if(_19fa.Convert.isDateString(value)){var date=_19fa.Convert.toDateFromString(value);return _19fb.format(date,{selector:"datetime",fullYear:true});}return "";},formatFileSize:function(value){var self=Sage.MainView.ReportMgr.ReportManagerFormatter;if(value&&self._isNumeric(value)){return _19fc.round(value/1024,0)+" KB";}return "";},formatElapsedTime:function(value){var self=Sage.MainView.ReportMgr.ReportManagerFormatter;if(value&&self._isNumeric(value)){var days=Math.floor(value/(24*3600));var hours=Math.floor((value-(days*24*3600))/3600);var _1a01=Math.floor((value-(hours*3600))/60);var _1a02=value-(days*24*3600)-(hours*3600)-(_1a01*60);return _19fd.pad(hours,2)+":"+_19fd.pad(_1a01,2)+":"+_19fd.pad(_1a02,2);}return "";},formatBoolean:function(value){return _19fa.isTrue(value)?_19ff.txtTrue:_19ff.txtFalse;},_getParameterValue:function(_1a03,name){var value="";if(_1a03){_19fe.some(_1a03,function(entry,i){if(entry.name===name){value=entry.value;return true;}});}return value;},formatGetUserById:function(item){if(!item){return "";}else{return _19fa.getUserName(item);}},getParameterRunAsUser:function(_1a04){if(_1a04){var _1a05=Sage.MainView.ReportMgr.ReportManagerFormatter._getParameterValue(_1a04,"RunAsUserId");return _19fa.getUserName(_1a05);}return "";},formatScheduleName:function(item){return Sage.MainView.ReportMgr.ReportManagerFormatter._getParameterValue(item.parameters,"ScheduleName");},formatScheduleDescription:function(item){return Sage.MainView.ReportMgr.ReportManagerFormatter._getParameterValue(item.parameters,"Description");},formatPluginName:function(item){return Sage.MainView.ReportMgr.ReportManagerFormatter._getParameterValue(item.parameters,"PluginName");},formatTemplateName:function(_1a06){return Sage.MainView.ReportMgr.ReportManagerFormatter._getParameterValue(_1a06,"TemplateName");},formatOutputFormat:function(item){return Sage.MainView.ReportMgr.ReportManagerFormatter._getParameterValue(item.parameters,"OutputFormat");},formatScheduleUser:function(user){if(user&&user.$descriptor){return user.$descriptor;}return "";},formatCronExpression:function(item){return item.cronExpression;},formatAttachment:function(value,_1a07,cell){var item=this.grid.getItem(_1a07);return _19fd.substitute("<a href=\"javascript: Sage.Utility.File.Attachment.getAttachment('${0}');\" title=\"${1}\">${1}</a>",[item.AttachId,item.ScheduleName]);},formatExecutionType:function(value,_1a08,cell){return _1a00.getExecutionTypeCaption(value);},formatReportType:function(value){return _1a00.getReportTypeCaption(value);},formatProperCase:function(value){if(typeof value==="string"){return value.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase();});}else{return "";}}});return Sage.MainView.ReportMgr.ReportManagerFormatter;});},"Sage/MainView/ReportMgr/nls/HistoryListPanelConfig":function(){define("Sage/MainView/ReportMgr/nls/HistoryListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_1a09,lang){var nls={root:{colNameDate:"Date",colNameScheduleName:"Description",colNameExecutionType:"Execution Type",colNameRunAs:"Run As",colNameScheduledBy:"Scheduled By",colNameReportName:"Report",colNameSize:"File Size",colNameOutputFormat:"Output Format",colNameReportType:"Type"}};return lang.mixin(_1a09,nls);});},"Sage/UI/Columns/Lookup":function(){define("Sage/UI/Columns/Lookup",["Sage/Utility","dojox/grid/cells","dojo/_base/declare"],function(_1a0a,cells,_1a0b){var _1a0c=_1a0b("Sage.UI.Columns.Lookup",cells._Widget,{widgetClass:Sage.UI.SDataLookup,defaultValue:"",constructor:function(o){if(o.lookupOptions.returnObject){this.formatter=function(_1a0d,_1a0e,_1a0f){if(_1a0d!==null){var _1a10=o.lookupOptions.field.split(".");var _1a11=_1a0d;for(var i=0;i<_1a10.length;i++){if(_1a11){_1a11=_1a11[_1a10[i]];}}return _1a11;}return null;};}},getWidgetProps:function(_1a12){var luId=this.LuId();var _1a13="";if(this.lookupOptions.seedOnRelatedEntity){var oItem=this.item[this.lookupOptions.seedOnRelatedEntity];if(oItem&&typeof oItem.$key!=="undefined"){_1a13=oItem.$key;}else{}}return dojo.mixin({},this.widgetProps||{},{id:luId,value:_1a12,displayMode:this.lookupOptions.displayMode,seedOnRowEntity:this.lookupOptions.seedOnRowEntity,seedOnRelatedEntity:this.lookupOptions.seedOnRelatedEntity,relatedEntityId:_1a13,rowEntityId:this.item.$key,returnObject:this.lookupOptions.returnObject,addEmptyListItem:this.lookupOptions.addEmptyListItem,field:this.lookupOptions.field,name:this.lookupOptions.name,structure:this.lookupStructure,storeOptions:this.lookupStoreOptions,gridOptions:this.lookupGridOptions,shouldPublishMarkDirty:false});},formatNode:function(_1a14,_1a15,_1a16){if(!this.widgetClass){return _1a15;}var _1a17=dijit.byId(this.LuId());if(!_1a17){this.widget=this.createWidget.apply(this,arguments);}else{this.widget=_1a17;this.attachWidget.apply(this,arguments);}this.sizeWidget.apply(this,arguments);this.grid.views.renormalizeRow(_1a16);this.grid.scroller.rowHeightChanged(_1a16,true);this.widget.focusNode.focus();return undefined;},setCurrentItems:function(){this.editInfo=this.grid.edit.info;this.item=this.grid.getItem(this.editInfo.rowIndex);},LuId:function(){this.setCurrentItems();var _1a18=[this.item.$key,this.editInfo.cell.field].join("_");if(_1a0a.getModeId()==="insert"){_1a18=[this.item.$cacheID,this.editInfo.cell.field].join("_");}return _1a18;},getValue:function(){this.setCurrentItems();if(this.lookupOptions.returnObject){return (this.widget.focusNode.item!==null)?this.widget.focusNode.item:this.widget.focusNode.value;}return this.widget.focusNode.value;}});return _1a0c;});},"Sage/UI/Columns/Dnd":function(){define("Sage/UI/Columns/Dnd",["Sage/UI/Columns/DndCell","dojo/_base/declare"],function(_1a19,_1a1a){var _1a1b=_1a1a("Sage.UI.Columns.Dnd",dojox.grid.cells._Base,{formatter:function(val,index){var item=this.grid.getItem(index);var _1a1c=item.displayName||item.columnName||this.defaultValue;var cell=new _1a19({value:_1a1c,index:index});return cell;}});return _1a1b;});},"Sage/Library/Manager":function(){define("Sage/Library/Manager",["Sage/Data/SDataServiceRegistry","Sage/Library/FileHandler","Sage/Library/FolderHandler","Sage/Services/RoleSecurityService","Sage/Services/SystemOptions","Sage/UI/Dialogs","Sage/Utility","dojox/grid/DataGrid","Sage/UI/ImageButton","dijit/Toolbar","dijit/Tree","dijit/tree/ForestStoreModel","dojo/data/ItemFileReadStore","dojo/i18n","dojo/string","dojo/_base/array","dojo/date/locale","dojo/dom-construct","dojo/_base/lang","dojo/i18n!./nls/Manager","dojox/widget/Standby"],function(_1a1d,_1a1e,_1a1f,_1a20,_1a21,_1a22,_1a23,_1a24,_1a25,_1a26,Tree,_1a27,_1a28,i18n,_1a29,_1a2a,_1a2b,_1a2c,dLang,nls,_1a2d){Sage.namespace("Library.Manager");dojo.mixin(Sage.Library.Manager,{_convert:_1a23.Convert,_grid:null,_remote:false,_roles:null,_rootId:null,_standby:false,_system:null,_tree:null,_addButtonToToolbar:function(btn,_1a2e){_1a2e.addChild(new _1a25({label:btn.label,showLabel:false,iconClass:btn.icon,id:btn.id,layoutAlign:"right",onClick:function(){btn.clickHandler();}}));},_createGrid:function(){var self=this;this._grid=new _1a24({store:new _1a28({data:{items:[]}}),id:"libraryGrid",structure:[{field:"_item",name:self.resources.File,formatter:self._renderFileName,width:"160px",sortField:"fileName"},{field:"fileSize",name:self.resources.Size,formatter:self._renderSize,width:"50px"},{field:"createDate",name:self.resources.Created,formatter:self._renderDate,width:"60px"},{field:"revisionDate",name:self.resources.Revised,formatter:self._renderDate,width:"60px"},{field:"_item",name:self.resources.Expires,formatter:self._renderExpires,width:"60px",sortField:"expireDate"},{field:"description",name:self.resources.Description,width:"150px"}]});if(this._remote){var _1a2f={field:"status",name:"Status",formatter:self._renderStatus,width:"150px"};this._grid.structure.splice(1,0,_1a2f);this._grid.setStructure(this._grid.structure);}var _1a30=this._grid.getSortProps;this._grid.getSortProps=function(){var info=dojo.hitch(self._grid,_1a30)();if(info&&typeof info!=="undefined"){if(info[0]&&info[0]["attribute"]==="_item"){var cell=self._grid.getCell(self._grid.getSortIndex());if(cell&&typeof cell!=="undefined"&&cell.hasOwnProperty("sortField")){info[0]["attribute"]=cell.sortField;}}return info;}return null;};dojo.byId("libraryGridPlaceHolder").appendChild(this._grid.domNode);this._grid.startup();},_createGridToolbar:function(){var _1a31=new _1a26({},"gridToolbar");var btns=[];if(Sage.Library.FileHandler.can.add||Sage.Library.FileHandler.can.manage){btns.push({label:this.resources.AddFiles,id:"btnAddFiles",clickHandler:Sage.Library.FileHandler.handleAddButtonClicked,icon:"libraryIcon addFileIcon"});}btns.push({label:this.resources.FileProperties,id:"btnEditFile",clickHandler:Sage.Library.FileHandler.editLibraryFileProps,icon:"libraryIcon editFileIcon"});if(Sage.Library.FileHandler.can["delete"]||Sage.Library.FileHandler.can.manage){btns.push({label:this.resources.DeleteSelectedFile,id:"btnDeleteFile",clickHandler:Sage.Library.FileHandler.handleDeleteButtonClicked,icon:"libraryIcon deleteFileIcon"});}btns.push({label:this.resources.Help,id:"btnHelp",clickHandler:function(){window.open(Link.getHelpUrl("library"),Link.getHelpUrlTarget());},icon:"libraryIcon helpFileIcon"});for(var i=0;i<btns.length;i++){this._addButtonToToolbar(btns[i],_1a31);}},_createTreeView:function(){this.refreshDirs();},_createTreeViewToolbar:function(){var _1a32=new _1a26({},"treeToolbar");var btns=[];if(Sage.Library.FolderHandler.can.add||Sage.Library.FolderHandler.can.manage){btns.push({label:this.resources.AddFolder,id:"btnAddFolder",clickHandler:Sage.Library.FolderHandler.handleAddFolder,icon:"libraryIcon addFolderIcon"});}if(Sage.Library.FolderHandler.can.edit||Sage.Library.FolderHandler.can.manage){btns.push({label:this.resources.EditFolder,id:"btnEditFolder",clickHandler:Sage.Library.FolderHandler.handleEditFolderName,icon:"libraryIcon editFolderIcon"});}if(Sage.Library.FolderHandler.can["delete"]||Sage.Library.FolderHandler.can.manage){btns.push({label:this.resources.DeleteFolder,id:"btnDeleteFolder",clickHandler:Sage.Library.FolderHandler.handleDeleteFolderClicked,icon:"libraryIcon deleteFolderIcon"});}if(btns.length>0){for(var i=0;i<btns.length;i++){this._addButtonToToolbar(btns[i],_1a32);}}},_createView:function(){this._createTreeViewToolbar();this._createTreeView();this._createGridToolbar();this._createGrid();},_handleDeliveredDocRequest:function(_1a33){Sage.Library.FileHandler.updateRemoteStatus(_1a33,"DeliveredRead",function(){Sage.Library.Manager.refreshGrid();var sUrl=_1a29.substitute("slxdata.ashx/slx/system/-/libraryDocuments('${0}')/file",[_1a33]);window.open(sUrl,"FileWin");});},_handleOrderDocRequest:function(_1a34,_1a35){_1a22.raiseQueryDialog(Sage.Library.Manager.resources.Confirm,Sage.Library.Manager.resources.ConfirmDownload,function(_1a36){if(_1a36){Sage.Library.FileHandler.updateRemoteStatus(_1a34,_1a35,function(entry){Sage.Library.FileHandler.logRemoteDocRequest(_1a34);Sage.Library.Manager.refreshGrid();});}},Sage.Library.Manager.resources.Yes,Sage.Library.Manager.resources.No,"questionIcon");},_handleReorderDocRequest:function(_1a37){_1a22.raiseQueryDialog(Sage.Library.Manager.resources.Confirm,Sage.Library.Manager.resources.ConfirmDownloadReorder,function(_1a38){if(_1a38){Sage.Library.FileHandler.logRemoteDocRequest(_1a37);}},Sage.Library.Manager.resources.Yes,Sage.Library.Manager.resources.No,"questionIcon");},_renderDate:function(value){try{if(!value){return "";}if(dojo.isString(value)&&Sage.Library.Manager._convert.isDateString(value)){var date=Sage.Library.Manager._convert.toDateFromString(value);date=new Date(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate());return dojo.date.locale.format(date,{selector:"date"});}return "";}catch(e){if(typeof console!=="undefined"){console.error("_renderDate: %o",e);}return "";}},_renderExpires:function(item,meta,_1a39){try{if(item.expires[0]!==true){return Sage.Library.Manager.resources.Never;}return Sage.Library.Manager._renderDate(item.expireDate[0]);}catch(e){if(typeof console!=="undefined"){console.error("_renderExpires: %o",e);}return "";}},_renderFileName:function(item,index,_1a3a){try{if(!Sage.Library.Manager._remote){return _1a29.substitute("<a id=\"document_${0}\" href=\"slxdata.ashx/slx/system/-/libraryDocuments('${0}')/file\" target=\"FileWin\">${1}</a>",[item.$key[0],item.fileName[0]||""]);}else{switch(item.status[0]){case "Available":return _1a29.substitute("<a id=\"document_${0}\" href=\"javascript:Sage.Library.Manager._handleOrderDocRequest('${0}', 'Ordered');\">${1}</a>",[item.$key[0],item.fileName[0]||""]);case "Revised":return _1a29.substitute("<a id=\"document_${0}\" href=\"javascript:Sage.Library.Manager._handleOrderDocRequest('${0}', 'RevisionOrdered');\">${1}</a>",[item.$key[0],item.fileName[0]||""]);case "Ordered":case "RevisionOrdered":return _1a29.substitute("<a id=\"document_${0}\" href=\"javascript:Sage.Library.Manager._handleReorderDocRequest('${0}');\">${1}</a>",[item.$key[0],item.fileName[0]||""]);case "Delivered":return _1a29.substitute("<a id=\"document_${0}\" href=\"javascript:Sage.Library.Manager._handleDeliveredDocRequest('${0}');\">${1}</a>",[item.$key[0],item.fileName[0]||""]);case "DeliveredRead":return _1a29.substitute("<a id=\"document_${0}\" href=\"slxdata.ashx/slx/system/-/libraryDocuments('${0}')/file\" target=\"FileWin\">${1}</a>",[item.$key[0],item.fileName[0]||""]);default:return item.fileName[0]||"";}}}catch(e){if(typeof console!=="undefined"){console.error("_renderFileName: %o",e);}return "";}},_renderFixed:function(n,d){try{if(typeof d!=="number"){d=2;}var m=Math.pow(10,d);var v=Math.floor(parseFloat(n)*m)/m;return v;}catch(e){if(typeof console!=="undefined"){console.error("_renderFixed: %o",e);}return "";}},_renderSize:function(value){try{if(value/(1024*1024)>0.5){return Sage.Library.Manager._renderFixed(value/(1024*1024),1)+" MB";}if(value/(1024)>0.05){return Sage.Library.Manager._renderFixed(value/(1024),1)+" KB";}return value+" B";}catch(e){if(typeof console!=="undefined"){console.error("_renderSize: %o",e);}return "";}},_renderStatus:function(value){return Sage.Library.FileHandler.translateStatus(value);},_showLoading:function(){if(this._standby===false&&this._grid.domNode){var _1a3b=this._grid.domNode;this._standby=new _1a2d({target:_1a3b,color:"white",image:"images/loader_lg.gif"});document.body.appendChild(this._standby.domNode);this._standby.startup();}var self=this;window.setTimeout(function(){self._standby.show();},0);},_hideLoading:function(){var self=this;window.setTimeout(function(){if(self._standby){self._standby.hide();self._standby=false;}},1);},resources:{},init:function(){Sage.Library.Manager._roles=Sage.Services.getService("RoleSecurityService");Sage.Library.Manager._system=_1a1d.getSDataService("system");dLang.mixin(Sage.Library.Manager.resources,nls);dojo.subscribe("/sage/library/manager/libraryDirs/refresh",function(){Sage.Library.Manager.refreshDirs();});dojo.subscribe("/sage/library/manager/libraryDocuments/refresh",function(item){Sage.Library.Manager.refreshGrid(item);});},createView:function(){var _1a3c=Sage.Services.getService("SystemOptions");if(_1a3c){_1a3c.get("DbType",function(val){this._remote=(val&&val==2);this._createView();},function(){this._createView();if(typeof console!=="undefined"){console.error("Unable to determine SystemOptions.DbType.");}},this);}else{this._createView();if(typeof console!=="undefined"){console.error("Unable to load the SystemOptions service.");}}},getDirs:function(_1a3d){var self=this;var _1a3e=new Sage.SData.Client.SDataResourceCollectionRequest(this._system);_1a3e.setResourceKind("libraryDirectories");_1a3e.setQueryArg("orderBy","fullPath");_1a3e.setQueryArg("format","json");_1a3e.setQueryArg("count",200);_1a3e.read({success:function(feed){var _1a3f=feed["$resources"];if(_1a3f&&dojo.isArray(_1a3f)&&_1a3f.length>0){var _1a40,oData,_1a41=0,_1a42=false;try{var _1a43=function(dir){var _1a44=dojo.filter(_1a40[(dir.depth-2)].items,function(item){return (item.$key==dir.parentId);});if(_1a44.length==1){return _1a44[0];}return null;};for(var i=_1a3f.length-1;i>=0;i--){if(this._remote===false&&_1a3f[i].directoryExists===false){_1a3f.splice(i,1);}}dojo.some(_1a3f,function(dir){if(dir.parentId.trim()=="0"){dir.parentId="0";dir.fullPath="";dir.root=true;self._rootId=dir.$key;return true;}else{return false;}});dojo.forEach(_1a3f,function(dir){if(dir.root!==true&&dir.fullPath.indexOf("\\")!==0){dir.fullPath="\\"+dir.fullPath;_1a42=true;if(typeof console!=="undefined"){}}dir.depth=dir.fullPath.split("\\").length;if(dir.depth>_1a41){_1a41=dir.depth;}});if(_1a42){_1a3f.sort(function(dir1,dir2){return (dir1.fullPath.toLocaleUpperCase().localeCompare(dir2.fullPath.toLocaleUpperCase()));});}_1a3f.sort(function(dir1,dir2){return dir1.depth-dir2.depth;});_1a40=new Array(_1a41);dojo.forEach(_1a40,function(item,idx){_1a40[idx]={items:[]};});dojo.forEach(_1a3f,function(dir){_1a40[dir.depth-1].items.push(dir);});dojo.forEach(_1a3f,function(dir,idx){if(idx===0){if(dir.root!==true){throw new Error(_1a29.substitute(self.resources.InvalidRoot,[dir.directoryName,dir.$key]));}dir.id=dir.$key;dir.items=[];oData=dir;}else{if(dir.depth>1){switch(dir.depth){case 2:dir.id=dir.$key;dir.children=[];oData.items.push(dir);break;default:var _1a45=_1a43(dir);if(_1a45!==null){dir.id=dir.$key;dir.children=[];if(!_1a45.children){_1a45.children=[];}_1a45.children.push(dir);}else{if(typeof console!=="undefined"){}}break;}}}});if(typeof _1a3d==="function"){_1a3d(oData);}}catch(e){Sage.UI.Dialogs.showError(self.resources.LibraryDataError+" "+e);}}},failure:function(xhr,sdata){_1a23.ErrorHandler.handleHttpError(xhr,sdata,{message:self.resources.DirectoryInformationError});}});return true;},getOpenFolderId:function(item){var id=this.getRootId();if(item&&item.id&&item.root!==true){id=item.id;if(dojo.isArray(id)){id=id[0];}if(typeof console!=="undefined"){}}else{if(this._tree.attr("selectedItem")){id=this._tree.attr("selectedItem").id;if(dojo.isArray(id)){id=id[0];}if(typeof console!=="undefined"){}}else{if(typeof console!=="undefined"){}}}return id;},getRootId:function(){return this._rootId;},refreshDirs:function(){var self=this;this.getDirs(function(data){if(self._tree){self._tree.destroyRecursive();}var _1a46=new _1a28({data:data});var _1a47=new _1a27({store:_1a46,rootId:data.$key,rootLabel:Sage.Library.Manager.resources.Library,labelAttr:"directoryName",childrenAttrs:["children"]});var _1a48=new dojo.create("div",{id:"libraryTree"});self._tree=new dijit.Tree({model:_1a47,onClick:Sage.Library.FolderHandler.handleFolderClicked,persist:false,_createTreeNode:function(args){args.id="dijit__TreeNode_"+args.item.id;return new dijit._TreeNode(args);},rootId:data.$key},_1a48);var _1a49=dojo.connect(self._tree,"onLoad",function(){dojo.disconnect(_1a49);self.refreshGrid();});dojo.place(self._tree.domNode,"libraryTreeRoot","after");});},refreshGrid:function(item){var self=this;var id=this.getOpenFolderId(item);var _1a4a=new Sage.SData.Client.SDataResourceCollectionRequest(this._system);_1a4a.setResourceKind("libraryDocuments");_1a4a.setQueryArg("where",_1a29.substitute("directory.Id eq '${0}'",[id]));_1a4a.setQueryArg("orderBy","fileName");_1a4a.setQueryArg("format","json");this._showLoading();_1a4a.read({success:function(feed){try{var files={items:feed["$resources"]||[]};for(var i=files.items.length-1;i>=0;i--){if(files.items[i].fileExists===false){if(!self._remote){files.items.splice(i,1);}else{if(files.items[i].status==="Delivered"||files.items[i].status==="DeliveredRead"){files.items[i].status="Available";Sage.Library.FileHandler.updateRemoteStatus(files.items[i].$key,"Available");}}}}var _1a4b=new _1a28({data:files});self._grid.setStore(_1a4b);}finally{self._hideLoading();}},failure:function(xhr,sdata){self._hideLoading();_1a23.ErrorHandler.handleHttpError(xhr,sdata,{message:self.resources.DocumentInformationError});}});}});Sage.Library.Manager.init();return Sage.Library.Manager;});},"Sage/QuickForms/Design/EditableGridControlDesigner":function(){define("Sage/QuickForms/Design/EditableGridControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/GenericBasicPropertyEditor","./Editors/GenericAdvancedPropertyEditor","dojo/i18n!./nls/EditableGridControlDesigner"],function(_1a4c,array,lang,_1a4d,_1a4e,_1a4f,_1a50,_1a51,_1a52,_1a53,_1a54,_1a55,_1a56){return _1a4c("Sage.QuickForms.Design.EditableGridControlDesigner",[_1a50,_1a51,_1a4f,_1a52],{designSupport:{visible:true},editors:[_1a54,_1a55,_1a53],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %}\" data-dojo-attach-point=\"containerNode\">","<table class=\"{%= $.fieldClass %}-table\" data-dojo-attach-point=\"tableNode\">","</table>","</div>"]),tableHeaderTemplate:new Simplate(["<th>{%: $.ColumnHeading || $.Text %}</th>"]),fieldClass:"design-editablegrid",helpTopicName:"visual_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.SDataGrid.QFSDataGrid, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Editable Grid",constructor:function(){lang.mixin(this,_1a56);},_getColumnsAttr:function(){return lang.getObject("Columns",false,this.entry);},_setColumnsAttr:function(value){lang.setObject("Columns",value,this.entry);},renderColumns:function(){var _1a57=this.get("columns"),row=_1a4d.create("tr");for(var i=0;i<_1a57.length;i++){var _1a58=lang.clone(_1a57[i]);_1a58.widthStyle=_1a58.Width>0?_1a58.Width+"em":"auto";_1a4d.place(this.tableHeaderTemplate.apply(_1a58,this),row,"last");}_1a4d.place(row,this.tableNode,"only");},startup:function(){this.inherited(arguments);this.renderColumns();}});});},"Sage/MainView/JobMgr/templates/nls/ScheduleDetailSummary":function(){define("Sage/MainView/JobMgr/templates/nls/ScheduleDetailSummary",["Sage/LanguageList","dojo/_base/lang"],function(_1a59,lang){var nls={root:{txtScheduleName_Caption:"Schedule:",txtJobName_Caption:"Job Name:",txtUser_Caption:"Scheduled By:",txtRunAs_Caption:"Run As:",txtStartTime_Caption:"Start Time:",txtEndTime_Caption:"End Time:",txtNextRunTime_Caption:"Next Run Time:",txtRepeatCount_Caption:"Repeat Count:",txtRepeatInterval_Caption:"Repeat Interval:",txtPriority_Caption:"Priority:",txtStatus_Caption:"Status:",txtExecutionCount_Caption:"Execution Count:"}};return lang.mixin(_1a59,nls);});},"Sage/QuickForms/Design/nls/UrlControlDesigner":function(){define("Sage/QuickForms/Design/nls/UrlControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1a5a,lang){var nls={root:{displayNameText:"Url"}};return lang.mixin(_1a5a,nls);});},"Sage/TaskPane/nls/ContactTasksTasklet":function(){define("Sage/TaskPane/nls/ContactTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_1a5b,lang){var nls={root:{associateContactTitle:"Associate with User",disAssociateContactTitle:"Disassociate from User",disAssociateDialogTitle:"Disassociate from a User",confirmDisAssociate:"Are you sure you want to disassociate the ${0} selected contact from an associated user?",confirmDisAssociateMultiple:"Are you sure you want to disassociate the ${0} selected contacts from any associated users?",associationExistsMessage:"The contact you selected is already associated to a user. To associate this contact to a different user, you must first disassociate the contact and user.",multipleSelectionErrorMessage:"You can only perform this task for 1 contact at a time. \n Please select a single contact and select the task again.",noSelectionErrorMessage:"You need to select at least one contact to disassociate. \n Please select one or more contact(s) and select the task again.",singleSelectionErrorMessage:"You need to select a contact to disassociate. \n Please select a single contact and select the task again."}};return lang.mixin(_1a5b,nls);});},"Sage/MainView/ActivityMgr/templates/nls/EventSummary":function(){define("Sage/MainView/ActivityMgr/templates/nls/EventSummary",["Sage/LanguageList","dojo/_base/lang"],function(_1a5c,lang){var nls={root:{txtStartDate_Caption:"Start Date:",txtEndDate_Caption:"End Date:",txtLocation_Caption:"Location:",txtUser_Caption:"User:",txtDescription_Caption:"Description:"}};return lang.mixin(_1a5c,nls);});},"Sage/Data/QBTreeStoreModel":function(){define("Sage/Data/QBTreeStoreModel",["dijit/tree/ForestStoreModel","Sage/Data/SDataServiceRegistry","dojo/string","dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(_1a5d,_1a5e,_1a5f,array,_1a60,lang){return _1a60("Sage.Data.QBTreeStoreModel",_1a5d,{insertedChildren:null,constructor:function(){this.insertedChildren=[];},convertDescriptionToFilter:function(_1a61){if(_1a61.$descriptor){var _1a62=_1a61.$descriptor;_1a62=_1a62.replace(this.rootId+":","");return _1a62;}return _1a61.id;},getChildren:function(_1a63,_1a64,_1a65){this.store.fetch({queryArgs:{"_pathFilter":this.convertDescriptionToFilter(_1a63)},resourcePredicate:_1a63.root?undefined:"",onComplete:lang.hitch(this,function(data,obj){var _1a66=_1a5e.getSDataService("metadata",false,true,false),_1a67,table,i,temp,_1a68=[],_1a69,_1a6a;table=_1a63.id||_1a63.toTable;array.forEach(this.insertedChildren,lang.hitch(this,function(child){if(child.parentItem===_1a63){data.push(child);}}));_1a69=[function(item){if(item.toTable===table){item.toTable=item.fromTable;temp=item.toField;item.toField=item.fromField;item.fromTable=table;item.fromField=temp;}},function(item){var _1a6b=item.joinType,_1a6c={"Left":"[left]",">":"[left]","Inner":"[inner]","=":"[inner]","Right":"[right]","<":"[right]"},_1a6d=_1a6c[_1a6b];if(item.toTable){item.label=_1a5f.substitute("${2} (${1} -> ${3})${4}",[item.fromTable,item.fromField,item.toTableDisplayName,item.toField,_1a6d]);}},function(item){item.parentItem=_1a63;},function(item){item.children=[];},function(item){var _1a6e=item.joinType,_1a6f={"Left":">","Inner":"=","Right":"<",},_1a70=_1a6f[_1a6e]||item.joinType;item.dataPathSegment=_1a5f.substitute("${0}${1}${2}.${3}",[item.fromField,_1a70,item.toField,item.toTable]);},function(item){item.displayPathSegment=_1a5f.substitute("${0}",[item.toTable]);},function(item){var _1a71;function _1a72(path,_1a73){if(_1a73.root){if(path&&path.length>0){if(path.startsWith("!")){path=path.substring(1,path.length);}}return _1a73.id+":"+path;}return _1a72(_1a5f.substitute("!${0}",[_1a73.dataPathSegment])+path,_1a73.parentItem);};_1a71=_1a72("!",item);item.dataPath=_1a71;item["$descriptor"]=item["$descriptor"]||_1a71;},function(item){var _1a74;function _1a75(path,_1a76){if(_1a76.root){return _1a76.id+path;}return _1a75(_1a5f.substitute(".${0}${1}",[_1a76.displayPathSegment,path]),_1a76.parentItem);};_1a74=_1a75("",item);item.displayPath=_1a74;}];_1a6a=function(item){return function(func){func(item);};};for(i=0;i<data.length;i++){array.forEach(_1a69,lang.hitch(this,_1a6a(data[i])));}data=array.filter(data,lang.hitch(this,function(item){var _1a77=item.parentItem;while(!_1a77.root){if(item.toTable===_1a77.toTable){return false;}_1a77=_1a77.parentItem;}if(item.toTable===_1a77.id){return false;}return true;}));data.sort(function(a,b){if(a.toTable<b.toTable){return -1;}if(a.toTable>b.toTable){return 1;}return 0;});_1a63.children=data;_1a64(data,obj);}),onError:_1a65});},getIdentity:function(item){return item.$descriptor;},mayHaveChildren:function(item){return item.root||true;},newItem:function(args,_1a78){var child={"$descriptor":args.fromtable,"$etag":"","$httpStatus":200,"fromTable":args.fromtable,"fromField":args.fromfield,"toTable":args.totable,"toTableDisplayName":args.fromtable,"toField":args.tofield,"cascadeType":args.cascadetype,"joinType":args.jointype,"parentItem":_1a78.item,"children":[]};this.insertedChildren.push(child);this.addItemToStore(child,_1a78.item);},addItemToStore:function(_1a79,_1a7a){var store=this.store,_1a7b=this.childrenAttrs[0],_1a7c=store.getValue(_1a7a,_1a7b),_1a7d;if(_1a7a){if(_1a7c){_1a7d=_1a7c.slice(0);_1a7d.push(_1a79);store.setValue(_1a7a,_1a7b,_1a7d);}}}});});},"Sage/MainView/ReportMgr/Common/nls/_WizardDialogBase":function(){define("Sage/MainView/ReportMgr/Common/nls/_WizardDialogBase",["Sage/LanguageList","dojo/_base/lang"],function(_1a7e,lang){var nls={root:{txtFinish:"Finish"}};return lang.mixin(_1a7e,nls);});},"Sage/UI/ImageButton":function(){require({cache:{"url:Sage/templates/ImageButton.html":"<span id=\"${id}\" class=\"dijit dijitReset dijitInline\" role=\"presentation\">\r\n<span class=\"dijitReset dijitInline dijitButtonNode imageButtonNode\" data-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\">\r\n        <span class=\"dijitReset dijitStretch dijitButtonContents\"\r\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\r\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\r\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\">\r\n                <img alt=\"\" src=\"\" data-dojo-attach-point=\"iconNode\"/>\r\n                <div class=\"dijitIcon dijitMenuItemIcon Global_Images icon16x16 ${imageClass}\" data-dojo-attach-point=\"iconNodeSprite\"></div>\r\n            </span\r\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\n\t\t\t\tid=\"${id}_label\"\r\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\r\n\t\t\t></span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\r\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\r/></span>\r\r\n"}});define("Sage/UI/ImageButton",["dijit/form/Button","dijit/_Widget","dojo/text","dojo/dom-style","dojo/_base/declare","dojo/text!../templates/ImageButton.html"],function(_1a7f,_1a80,text,_1a81,_1a82,_1a83){var _1a84=_1a82("Sage.UI.ImageButton",_1a7f,{hoverText:"",templateString:_1a83,iconClass:"",_setIconClassAttr:{node:"iconNode",type:"class"},label:"",_setLabelAttr:{node:"containerNode",type:"innerHTML"},icon:"",_setIconAttr:{node:"iconNode",type:"attribute",attribute:"src"},imageClass:"",iconStyle:"",_setIconStyleAttr:{node:"iconNode",type:"style"},tooltip:"",_setTooltipAttr:{node:"titleNode",type:"attribute",attribute:"title"},alt:"",_setAltAttr:{node:"valueNode",type:"attribute",attribute:"title"},postMixInProperties:function(){if(this.hasImageClass()&&this.hasIcon()){this.icon=this._blankGif;}else{this.icon=this.icon||this._blankGif;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(this.hasImageClass()){this.set("icon",this._blankGif);_1a81.set(this.iconNode,"display","none");}else{_1a81.set(this.iconNodeSprite,"display","none");}},hasImageClass:function(){if(this.imageClass&&this.imageClass!=="noIcon"){return true;}return false;},hasIcon:function(){if(this.icon&&this.icon!==this._blankGif){return true;}return false;},_onButtonClick:function(e){}});return _1a84;});},"Sage/MainView/JobMgr/nls/SchedulesListPanelConfig":function(){define("Sage/MainView/JobMgr/nls/SchedulesListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_1a85,lang){var nls={root:{colNameTriggerName:"Schedule",colNameJobName:"Job Name",colNameUser:"Scheduled By",colNameStartTimeUtc:"Start Time",colNameEndTimeUtc:"End Time",colNamePriority:"Priority",colNameStatus:"Status",colNameTimesTriggered:"Execution Count"}};return lang.mixin(_1a85,nls);});},"Sage/Library/FileHandler":function(){define("Sage/Library/FileHandler",["Sage/Data/SDataServiceRegistry","Sage/Services/RoleSecurityService","Sage/Services/SystemOptions","Sage/Utility/File","Sage/Utility/File/Attachment","Sage/Utility/File/DragDropWatcher","Sage/Utility/File/DefaultDropHandler","Sage/Utility/File/FallbackFilePicker","Sage/Utility/File/LibraryDocument","Sage/Library/DocumentProperties","Sage/UI/Dialogs","Sage/Utility","dijit/ProgressBar","dojo/i18n","dojo/parser","dojo/string","dojo/dom-construct","dojo/dom-attr","dojo/_base/lang","dojo/_base/window","dojo/i18n!./nls/FileHandler"],function(_1a86,_1a87,_1a88,File,_1a89,_1a8a,_1a8b,_1a8c,_1a8d,_1a8e,_1a8f,_1a90,_1a91,i18n,_1a92,_1a93,_1a94,_1a95,dLang,_1a96,nls){Sage.namespace("Library.FileHandler");dojo.mixin(Sage.Library.FileHandler,{_docPropsDlg:false,_fileInputBtn:false,_createFileInputBtn:function(){var self=this;this._fileInputBtn=_1a96.doc.createElement("INPUT");_1a95.set(this._fileInputBtn,{"type":"file","multiple":"true","accept":"*/*","class":"display-none",onchange:function(e){self.handleHTML5Files(e);},});_1a94.place(this._fileInputBtn,"filePicker");},_getNewRequest:function(){var _1a97=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Library.FileHandler._system);_1a97.setResourceKind("libraryDocuments");_1a97.setQueryArg("format","json");return _1a97;},_initSecurity:function(){this.can.add=this._roles.hasAccess("Entities/LibraryDocs/Add");this.can.edit=this._roles.hasAccess("Entities/LibraryDocs/Edit");this.can["delete"]=this._roles.hasAccess("Entities/LibraryDocs/Delete");this.can.manage=(this._roles.hasAccess("Administration/Manage/Library")||this._roles.hasAccess("Administration/View"));},_remote:false,_roles:null,_system:null,can:{add:false,edit:false,"delete":false,manage:false},resources:{},init:function(){var _1a98=Sage.Services.getService("SystemOptions");if(_1a98){_1a98.get("DbType",function(val){this._remote=(val&&val==2);},function(){if(typeof console!=="undefined"){console.error("Unable to determine SystemOptions.DbType.");}},this);}else{if(typeof console!=="undefined"){console.error("Unable to load the SystemOptions service.");}}Sage.Library.FileHandler._roles=Sage.Services.getService("RoleSecurityService");Sage.Library.FileHandler._initSecurity();Sage.Library.FileHandler._system=_1a86.getSDataService("system");dLang.mixin(Sage.Library.FileHandler.resources,nls);if(Sage.Library.FileHandler.can.add||Sage.Library.FileHandler.can.manage){dojo.connect(_1a8a,"onFilesDropped",this,"onFilesDropped");}this._createFileInputBtn();Sage.Utility.File.DefaultDropHandler.fileType=Sage.Utility.File.fileType.ftLibraryDocs;},addFiles:function(){if(!(Sage.Library.FileHandler.can.add||Sage.Library.FileHandler.can.manage)){Sage.Library.FileHandler.showAccessError();return;}if(Sage.gears&&Sage.gears.factory){var _1a99=Sage.gears.factory.create("beta.desktop");_1a99.openFiles(function(files){if(files&&files.length>0){_1a8d.createDocuments(files);}});}else{if(File.supportsHTML5File){Sage.Library.FileHandler._fileInputBtn.click();}else{var fbfp=dijit.byId("fallbackFilePicker");if(!fbfp){fbfp=new _1a8c({id:"fallbackFilePicker",fileType:Sage.Utility.File.fileType.ftLibraryDocs});}fbfp.show();}}},deleteFile:function(_1a9a,_1a9b,_1a9c){if(!(Sage.Library.FileHandler.can["delete"]||Sage.Library.FileHandler.can.manage)){Sage.Library.FileHandler.showAccessError();return;}var _1a9d=Sage.Library.FileHandler._getNewRequest();_1a9d.setResourceSelector("'"+_1a9a+"'");_1a9d["delete"]({},{scope:this,ignoreETag:true,success:function(){if(_1a9b&&typeof _1a9b==="function"){_1a9b();}},failure:function(xhr,sdata){if(_1a9c&&typeof _1a9c==="function"){_1a9c(xhr,sdata);}else{_1a90.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FileHandler.resources.FileDeleteError});}}});},updateProperties:function(_1a9e,data,_1a9f,_1aa0){if(!(Sage.Library.FileHandler.can.edit||Sage.Library.FileHandler.can.manage)){Sage.Library.FileHandler.showAccessError();return;}var _1aa1=Sage.Library.FileHandler._getNewRequest();_1aa1.setResourceSelector("'"+_1a9e+"'");_1aa1.setQueryArg("_includeFile","false");_1aa1.update(data,{scope:this,success:function(entry){if(_1a9f&&typeof _1a9f==="function"){_1a9f(entry);}},failure:function(xhr,sdata){if(_1aa0&&typeof _1aa0==="function"){_1aa0(xhr,sdata);}else{if(xhr.readyState==4&&xhr.status==412){Sage.UI.Dialogs.showError(Sage.Library.FileHandler.resources.DocumentUpdateConflictError);}else{_1a90.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FileHandler.resources.DocumentPropertiesUpdateError});}}}});},onFilesDropped:function(files,_1aa2){Sage.Utility.File.DefaultDropHandler.fileType=Sage.Utility.File.fileType.ftLibraryDocs;},documentProperties:function(){if(Sage.Library.FileHandler._docPropsDlg===false){Sage.Library.FileHandler._docPropsDlg=new _1a8e();}return Sage.Library.FileHandler._docPropsDlg;},getSelectedRow:function(_1aa3){try{if(!_1aa3){_1aa3="$key";}var grid=dijit.byId("libraryGrid");if(grid){var _1aa4=grid.selection.getSelected();if(_1aa4&&_1aa4.length>0){return _1aa4[0][_1aa3][0];}}return false;}catch(e){console.error(e);return false;}},handleHTML5Files:function(e){if(this._fileInputBtn.files.length>0){_1a8d.createDocuments(this._fileInputBtn.files);}_1a94.destroy(Sage.Library.FileHandler._fileInputBtn);this._createFileInputBtn();},handleAddButtonClicked:function(event){Sage.Library.FileHandler.addFiles();},findDirectoryId:function(_1aa5){if(!_1aa5){if(Sage.Library.Manager){return Sage.Library.Manager.getOpenFolderId();}else{return "";}}try{var _1aa6=dijit.getEnclosingWidget(_1aa5);if(_1aa6&&typeof _1aa6==="object"&&_1aa6.isTreeNode){if(_1aa6.item){if(_1aa6.item.root!==true){if(_1aa6.item.id&&dojo.isArray(_1aa6.item.id)&&_1aa6.item.id.length==1){return _1aa6.item.id[0];}else{return "";}}else{return _1aa6.item.id;}}}}catch(e){if(typeof console!=="undefined"){console.error(e);}}if(Sage.Library.Manager){return Sage.Library.Manager.getOpenFolderId();}return "";},editLibraryFileProps:function(){var row=Sage.Library.FileHandler.getSelectedRow();if(row){var _1aa7=!(Sage.Library.FileHandler.can.edit||Sage.Library.FileHandler.can.manage);Sage.Library.FileHandler.showPropertiesDialog(row,_1aa7);}else{Sage.UI.Dialogs.showInfo(Sage.Library.FileHandler.resources.PleaseSelectFile);}},validateProperties:function(_1aa8){if(!(Sage.Library.FileHandler.can.edit||Sage.Library.FileHandler.can.manage)){return;}if(!_1aa8){return;}if(typeof console!=="undefined"){try{var _1aa9=dojo.clone(_1aa8);}catch(e){console.error(e);}}var _1aaa=["abstract","createDate","description","expireDate","expires","fileName","flags","revisionDate","doNotExpire","forceDistribution","status","fileSize","directory"];dojo.forEach(_1aaa,function(prop){if(_1aa8.hasOwnProperty(prop)){var value=_1aa8[prop];var _1aab;var _1aac;switch(prop){case "expireDate":case "revisionDate":_1aab=_1aa8[prop+"$originalValue"];if(_1aab&&dojo.isString(_1aab)&&_1a90.Convert.isDateString(_1aab)){var _1aad=_1a90.Convert.toDateFromString(_1aab);_1aad=new Date(_1aad.getUTCFullYear(),_1aad.getUTCMonth(),_1aad.getUTCDate());if(value&&value.toString()===_1aad.toString()){delete _1aa8[prop];}}break;case "doNotExpire":if(value){if(_1aa8.hasOwnProperty("expires")){_1aac=dojo.isArray(value)&&value.length>0&&value[0]==="on";var _1aae=_1aa8["expires"];if(_1aae===null){_1aae="false";}if((!_1aac&&_1aae=="true")||(_1aac&&_1aae=="false")){delete _1aa8["expires"];}else{_1aa8["expires"]=(_1aac)?false:true;}}}delete _1aa8[prop];break;case "forceDistribution":if(value){if(_1aa8.hasOwnProperty("flags")){_1aac=dojo.isArray(value)&&value.length>0&&value[0]==="on";var flags=_1aa8["flags"];if(flags===null){flags="0";}if((!_1aac&&flags==="0")||(_1aac&&flags==="1")){delete _1aa8["flags"];}else{_1aa8["flags"]=(_1aac)?1:0;}}}delete _1aa8[prop];break;case "expires":case "flags":break;case "status":case "createDate":case "fileSize":case "directory":delete _1aa8[prop];break;default:_1aab=_1aa8[prop+"$originalValue"];if(value===null&&_1aab===null){delete _1aa8[prop];}else{if(value!==null&&_1aab===null){}else{if(value===null&&_1aab!==null){}else{if(dojo.isString(value)&&dojo.isString(_1aab)){if(value==_1aab){delete _1aa8[prop];}}}}}break;}}if(_1aa8.hasOwnProperty(prop+"$originalValue")){delete _1aa8[prop+"$originalValue"];}});if(typeof console!=="undefined"){}var _1aaf=false;dojo.some(_1aaa,function(prop){if(_1aa8.hasOwnProperty(prop)){_1aaf=true;return true;}else{return false;}});if(_1aaf){var sKey=_1aa8.$key;delete _1aa8.$key;Sage.Library.FileHandler.updateProperties(sKey,_1aa8,function(entry){if(typeof console!=="undefined"){}dojo.publish("/sage/library/manager/libraryDocuments/refresh",null);});}},closePropertiesDialog:function(){Sage.Library.FileHandler.documentProperties().hide();},showPropertiesDialog:function(_1ab0,_1ab1,_1ab2){if(_1ab0){var _1ab3=Sage.Library.FileHandler._getNewRequest();_1ab3.setResourceSelector("'"+_1ab0+"'");_1ab3.setQueryArg("_includeFile","false");_1ab3.setQueryArg("include","directory/fullPath");_1ab3.read({scope:this,success:function(entry){var _1ab4=["abstract","createDate","description","expireDate","expires","fileName","flags","revisionDate","status"];dojo.forEach(_1ab4,function(prop){var value=entry[prop];if(prop!="createDate"){entry[prop+"$originalValue"]=value;}switch(prop){case "createDate":case "expireDate":case "revisionDate":if(value&&dojo.isString(value)&&_1a90.Convert.isDateString(value)){var date=_1a90.Convert.toDateFromString(value);entry[prop]=new Date(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate());}break;case "expires":if(value===null){entry[prop]="false";}break;case "flags":if(value===null){entry[prop]=0;}break;case "abstract":case "description":case "fileName":if(value===null){entry[prop]="";}break;case "status":entry[prop]=Sage.Library.FileHandler.translateStatus(value);break;}});Sage.Library.FileHandler.documentProperties().show(entry,_1ab1);},failure:function(xhr,sdata){if(_1ab2&&typeof _1ab2==="function"){_1ab2(xhr,sdata);}else{_1a90.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FileHandler.resources.DocumentPropertiesError});}}});}},handleDeleteButtonClicked:function(_1ab5,event){var name=Sage.Library.FileHandler.getSelectedRow("fileName");if(name){var msg=_1a93.substitute(Sage.Library.FileHandler.resources.DeleteFileCnfmFmt,[name]);Sage.UI.Dialogs.raiseQueryDialog(Sage.Library.FileHandler.resources.Confirm,msg,Sage.Library.FileHandler.handleDeleteConfirmed,Sage.Library.FileHandler.resources.Yes,Sage.Library.FileHandler.resources.No,"questionIcon");}else{Sage.UI.Dialogs.showInfo(Sage.Library.FileHandler.resources.PleaseSelectFile);}},handleDeleteConfirmed:function(ok){if(ok){var id=Sage.Library.FileHandler.getSelectedRow();if(id){Sage.Library.FileHandler.deleteFile(id,function(){dojo.publish("/sage/library/manager/libraryDocuments/refresh",null);});}}},logRemoteDocRequest:function(_1ab6){if(!this._remote){return;}var _1ab7=new Sage.SData.Client.SDataServiceOperationRequest(this._system);_1ab7.setResourceKind("libraryDocuments");_1ab7.setQueryArg("format","json");_1ab7.setOperationName("RequestLibraryDocument");var _1ab8={"$name":"RequestLibraryDocument","request":{"entity":{$key:_1ab6},"LibraryDocumentId":_1ab6}};_1ab7.execute(_1ab8,{scope:this,success:function(entry){var _1ab9=false;if(dojo.isObject(entry)){var _1aba=entry.response||null;if(_1aba!==null){_1ab9=_1aba.Result||false;}}if(_1ab9===false){_1a8f.showError(Sage.Library.FileHandler.resources.LogRequestError);}},failure:function(xhr,sdata){_1a90.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FileHandler.resources.LogRequestError});}});},showAccessError:function(){Sage.UI.Dialogs.showError(Sage.Library.FileHandler.resources.AccessError);},translateStatus:function(_1abb){if(!dojo.isString(_1abb)){return Sage.Library.FileHandler.resources.Unknown;}switch(_1abb){case "Available":return Sage.Library.FileHandler.resources.Available;case "Ordered":return Sage.Library.FileHandler.resources.Ordered;case "Delivered":return Sage.Library.FileHandler.resources.Delivered;case "Revised":return Sage.Library.FileHandler.resources.Revised;case "RevisionOrdered":return Sage.Library.FileHandler.resources.RevisionOrdered;case "DeliveredRead":return Sage.Library.FileHandler.resources.DeliveredRead;default:return Sage.Library.FileHandler.resources.Unknown;}},updateRemoteStatus:function(_1abc,_1abd,_1abe,_1abf){if(!this._remote){return;}var _1ac0=Sage.Library.FileHandler._getNewRequest();_1ac0.setResourceSelector("'"+_1abc+"'");_1ac0.setQueryArg("_includeFile","false");_1ac0.update({status:_1abd},{scope:this,success:function(entry){if(_1abe&&typeof _1abe==="function"){_1abe(entry);}},failure:function(xhr,sdata){if(_1abf&&typeof _1abf==="function"){_1abf(xhr,sdata);}else{_1a90.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FileHandler.resources.FileStatusError});}}});}});Sage.Library.FileHandler.init();return Sage.Library.FileHandler;});},"Sage/MainView/ActivityMgr/PastDueListPanelConfig":function(){define("Sage/MainView/ActivityMgr/PastDueListPanelConfig",["Sage/MainView/ActivityMgr/BaseListPanelConfig","Sage/Utility","Sage/Utility/Activity","Sage/UI/SummaryFormatterScope","Sage/UI/SDataSummaryFormatterScope","Sage/Data/SDataStore","Sage/Data/SDataStore","Sage/UI/Columns/DateTime","Sage/Data/SDataServiceRegistry","dojo/_base/declare","dojo/i18n!./nls/ActivityListPanelConfig","dojo/i18n!./templates/nls/UserActivityDetailSummary","dojo/i18n!./templates/nls/UserActivityListSummary"],function(_1ac1,_1ac2,_1ac3,_1ac4,_1ac5,_1ac6,_1ac7,_1ac8,_1ac9,_1aca,_1acb){var _1acc=_1aca("Sage.MainView.ActivityMgr.PastDueListPanelConfig",[_1ac1],{constructor:function(){this._nlsResources=_1acb;this._listId="pastdue";this._resourceKind="useractivities";this.entityName="UserActivity";this._contextMenu="ActivityListContextMenu";this._scheduleContextMenu="ScheduleContextMenu";this._service=_1ac9.getSDataService("system");this._structure=this._getStructure();this._select=this._getSelect();this._include=this._getInclude();this._sort=this._getSort();this._where=this._getWhere();this._store=this._getStore();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.toolBar=this._getToolBars();this.keyField="$key";this.hasCompositeKey=true;this.rebuildOnRefresh=true,dojo.subscribe("/entity/activity/change",this._onListRefresh);dojo.subscribe("/entity/activity/delete",this._onListRefresh);dojo.subscribe("/entity/activity/create",this._onListRefresh);dojo.subscribe("/entity/userActivity/change",this._onListRefresh);dojo.subscribe("/entity/userActivity/delete",this._onListRefresh);dojo.subscribe("/entity/userActivity/create",this._onListRefresh);dojo.subscribe("/entity/activity/confirm",this._onListRefresh);dojo.subscribe("/entity/activity/decline",this._onListRefresh);dojo.subscribe("/entity/userNotification/delete",this._onListRefresh);},_onListRefresh:function(event){var _1acd=Sage.Services.getService("ActivityService");_1acd.refreshList("pastdue");},_getSelect:function(){var _1ace=["Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Alarm","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","UserId","AlarmTime","Alarm","Status"];return _1ace;},_getInclude:function(){var _1acf=["Activity","$descriptors"];return _1acf;},_getSort:function(){var sort=[];return sort;},_getWhere:function(){var where;var dt=new Date();var dtNow=Sage.Utility.Convert.toIsoStringFromDate(dt);var _1ad0=_1ac3.formatTimelessEndDate(dt,"day",-1);where=dojo.string.substitute("(User.Id eq '${0}') and ( Activity.Type ne \"atLiterature\" ) and ((Alarm eq 'false') or (Alarm eq null)) and ((Activity.StartDate lt '${1}') and ((Activity.Timeless eq 'false') or (Activity.Timeless eq null )) or ((Activity.StartDate lt '${2}') and (Activity.Timeless eq 'true' )))",[this._currentUserId,dtNow,_1ad0]);return where;},_getStructure:function(){var _1ad1="<div class='Global_Images icon16x16 icon_attach_to_16' title='"+this._nlsResources.colNameAttachment+"' />";var _1ad2="<div class='Global_Images icon16x16 icon_recurring' title='"+this._nlsResources.colNameRecurring+"' />";var _1ad3="<div class='Global_Images icon16x16 icon_unconfirmedActivity16x16' title='"+this._nlsResources.colNameUnConfirmStatus+"' />";var _1ad4=this._nlsResources.colNameType||"Activity Type";var _1ad5=this._nlsResources.colNameStartDate||"Start Date";var _1ad6=this._nlsResources.colNameDuration||"Duration";var _1ad7=this._nlsResources.colNameContact||"Name";var _1ad8=this._nlsResources.colNameAccount||"Account/Company";var _1ad9=this._nlsResources.colNameRegarding||"Regarding";var _1ada=this._nlsResources.colNamePriority||"Priority";var _1adb=this._nlsResources.colNameUserId||"Leader";var _1adc=this._nlsResources.colNameTypeName||"Type";var _1add=[{field:"Status",name:_1ad3,type:_1ac3.activityConfirmStatusCell,width:"20px"},{field:"Activity.Attachment",name:_1ad1,type:_1ac3.activityAttachCell,width:"20px"},{field:"Activity.Recurring",name:_1ad2,type:_1ac3.activityRecurringCell,width:"20px"},{field:"Activity.Type",name:_1ad4,type:_1ac3.activityTypeCell,width:"90px"},{field:"Activity.StartDate",name:_1ad5,type:_1ac8,timelessField:"Activity.Timeless",width:"100px"},{field:"Activity.Duration",name:_1ad6,type:_1ac3.activityDurationCell,width:"40px"},{field:"Activity.ContactId",name:_1adc,type:_1ac3.activityNameTypeCell,width:"40px"},{field:"Activity.ContactName",name:_1ad7,type:_1ac3.activityNameCell,width:"200px"},{field:"Activity.AccountName",name:_1ad8,type:_1ac3.activityAccountCell,width:"200px"},{field:"Activity.Description",name:_1ad9,width:"100px"},{field:"Activity.Priority",name:_1ada,width:"40px"},{field:"Activity.Leader",name:_1adb,type:_1ac3.activityLeaderCell,width:"200px"}];return _1add;},_getSummaryConfig:function(){var store=new _1ac6({id:this._listId,service:this._service,resourceKind:this._resourceKind,include:["Activity","$descriptors"],select:["$key"],expandRecurrences:false,where:this._where});var _1ade=[{field:"$key",formatter:"formatSummary",width:"100%",name:"Summary View"}];var _1adf=this._getFormatterScope();var _1ae0={structure:_1ade,layout:"layout",store:store,rowHeight:120,rowsPerPage:10,formatterScope:_1adf};return _1ae0;},_getDetailConfig:function(){var _1ae1=this._getFormatterScope();var _1ae2=this._getSummaryDetailRequestConfig();var _1ae3={resourceKind:this._resourceKind,requestConfiguration:_1ae2,templateLocation:"MainView/ActivityMgr/templates/UserActivityDetailSummary.html"};return _1ae3;},_getSummaryListRequestConfig:function(){var _1ae4={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Alarm","Status","Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","Activity/Location","Activity/TicketId","Activity/TicketNumber","Activity/OpportunityId","Activity/OpportunityName","Activity/Notes","Activity/PhoneNumber","Activity/Details/AttendeeCount"],include:["Activity","$descriptors"],useBatchRequest:true,expandRecurrences:false};return _1ae4;},_getSummaryDetailRequestConfig:function(){var _1ae5={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Alarm","Status","Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","Activity/Location","Activity/TicketId","Activity/TicketNumber","Activity/OpportunityId","Activity/OpportunityName","Activity/LongNotes","Activity/PhoneNumber","Activity/Details/AttendeeCount"],include:["Activity","$descriptors"],useBatchRequest:true,expandRecurrences:false};return _1ae5;},_getFormatterScope:function(){var _1ae6=this._getSummaryListRequestConfig();var _1ae7=new _1ac5({templateLocation:"MainView/ActivityMgr/templates/UserActivityListSummary.html",resetDataManager:true,requestConfiguration:_1ae6});return _1ae7;},_getToolBars:function(){var _1ae8={items:[]};return _1ae8;},getTimelessProperty:function(_1ae9){return "Activity.Timeless";}});return _1acc;});},"Sage/Utility/File/nls/GoogleDocPicker":function(){define("Sage/Utility/File/nls/GoogleDocPicker",["Sage/LanguageList","dojo/_base/lang"],function(_1aea,lang){var nls={root:{googleDocumentsTitle:"Google Documents",couldNotOpenWindowMsg:"Could not open authentication window - please check your popup blocker settings."}};return lang.mixin(_1aea,nls);});},"Sage/QuickForms/Design/nls/ComboBoxControlDesigner":function(){define("Sage/QuickForms/Design/nls/ComboBoxControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1aeb,lang){var nls={root:{displayNameText:"ComboBox"}};return lang.mixin(_1aeb,nls);});},"Sage/UI/SDataSummaryFormatterScope":function(){define("Sage/UI/SDataSummaryFormatterScope",["Sage/UI/SummaryContainer","dojo/i18n","Sage/UI/SummaryFormatterScope","Sage/Data/SDataSummaryViewDataManager","Sage/UI/Controls/SummaryAggregate","dojo/_base/declare"],function(_1aec,i18n,_1aed,_1aee,_1aef,_1af0){var _1af1=_1af0("Sage.UI.SDataSummaryFormatterScope",[_1aed],{constructor:function(args){dojo.mixin(this,args);this.widgets=[];this.preFetchResources();this._setupDataManager();},_setupDataManager:function(){this.dataManager=new _1aee(this.requestConfiguration);if(Sage.Services.hasService("SummaryViewDataManager")){Sage.Services.removeService("SummaryViewDataManager");}Sage.Services.addService("SummaryViewDataManager",this.dataManager);}});return _1af1;});},"Sage/MainView/ActivityMgr/nls/LitRequestListPanelConfig":function(){define("Sage/MainView/ActivityMgr/nls/LitRequestListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_1af2,lang){var nls={root:{colNameView:"View",colNameContact:"Contact",colNameDescription:"Description",colNameFillDate:"Filled",colNameFillStatus:"Status",colNameOptions:"Options",colNamePriority:"Priority",colNameReqestDate:"Request Date",colNameSendDate:"Send Date",colNameSendVia:"Send Via",colNameTotalCost:"Total Cost",colNameFillUser:"Fill User",colNameReqestUser:"Request User",colNameAccount:"Account",colNamePostalCode:"Postal Code"}};return lang.mixin(_1af2,nls);});},"Sage/MainView/ActivityMgr/nls/HistoryEditor":function(){define("Sage/MainView/ActivityMgr/nls/HistoryEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1af3,lang){var nls={root:{labelWidth:"100",tabNameGeneralText:"General",tabNameAttachmentsText:"Attachments",scheduleText:"Schedule",startTimeText:"Scheduled",completedDateText:"Completed",timeLessText:"Timeless",durationText:"Duration",contactText:"Contact",accountText:"Account",leadText:"Lead",opportunityText:"Opportunity",ticketText:"Ticket",companyText:"Company",regardingText:"Regarding",resultText:"Result",notesText:"Notes",priorityText:"Priority",leaderText:"Leader",categoryText:"Category",locationText:"Location",scheduledByFormatText:"Scheduled by ${user} on ${date}",cancelText:"Cancel",okText:"OK",deleteText:"Delete",lookupActText:"Lookup Account",lookupContactText:"Lookup Contact",lookupOpportunityText:"Lookup Opportunity",lookupTicketText:"Lookup Ticket",lookupLeadText:"Lookup Lead",lookupLeaderText:"Lookup Leader",lookupResourcesText:"Lookup",mainPhoneText:"Main Phone",typeText:"Type",subTypeText:"Sub-Type",nameText:"Name",cityText:"City",stateText:"State",workphoneText:"Work Phone",emailText:"Email",acctMgrText:"Acct Manager",descriptionText:"Description",stageText:"Stage",statusText:"Status",ownerText:"Owner",ticketNumberText:"Ticket Number",phoneText:"Phone",urgencyText:"Urgency",areaText:"Area",recurringText:"Recurring",followupText:"Follow-up",noneText:"None",carryOverAttachmentsText:"Carry Over Attachments",carryOverNotesText:"Carry Over Notes",asScheduledText:"As Scheduled",insertText:"Insert",couldNotSaveErrorText:"We're sorry, the history could not be saved because an error occurred.",deleteMessage:"You are about to permanently delete this record.",deleteTitle:"Delete History",couldNotDeleteErrorText:"We're sorry, the history could not be deleted because an error occurred.",postalText:"Postal Code",tabNameParticipants:"All Participants"}};return lang.mixin(_1af3,nls);});},"Sage/UI/DetailPanel":function(){define("Sage/UI/DetailPanel",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-construct","dojo/dom-class","dojo/i18n","dijit/registry","dijit/layout/BorderContainer","dijit/Toolbar","dijit/ToolbarSeparator","Sage/_Templated","Sage/UI/_DetailPanelConfigurationProvider"],function(_1af4,lang,array,_1af5,_1af6,i18n,_1af7,_1af8,_1af9,_1afa,_1afb,_1afc,_1afd){return _1af4("Sage.UI.DetailPanel",[_1af8,_1afb],{widgetsInTemplate:true,contentTemplate:new Simplate(["<div class=\"detail-panel-toolbar listPanelToolbar rightTools\" data-dojo-type=\"dijit.Toolbar\" style=\"{%= $.toolbarStyle %}\" data-dojo-attach-point=\"_toolbar\" data-dojo-props=\"region: 'top', align: 'right', splitter: false\">","<span data-dojo-type=\"dijit.ToolbarSeparator\" data-dojo-attach-point=\"_buttonSeparator\"></span>","<div data-dojo-type=\"dijit.form.Button\" data-dojo-attach-point=\"_helpButton\" data-dojo-attach-event=\"onClick:showHelp\" data-dojo-props=\"showLabel:true\">{%= $.helpText %}</div>","</div>"]),helpText:"Help",helpTopicName:"detailview",toolbarStyle:"",toolbarActive:true,id:"detailPanel",buildRendering:function(){this.inherited(arguments);_1af6.add(this.domNode,"detail-panel");},startup:function(){this.inherited(arguments);this.requestConfiguration();},showHelp:function(){Sage.Utility.openHelp(this.helpTopicName);},requestConfiguration:function(){if(this.configurationProvider){this.configurationProvider.requestDetailModeConfiguration({scope:this,success:this._applyConfiguration});}},_applyConfiguration:function(_1afe){this._configuration=_1afe;this._configureToolbar(_1afe);this._configureContent(_1afe);},_configureContent:function(_1aff){var _1b00=_1aff&&_1aff.content;if(_1b00){var _1b01=_1b00;if(lang.isFunction(_1b01)){_1b01=_1b01.call(this,_1aff,this);}if(_1b01){if(this._content){this.removeChild(this._content);this._content.destroyRecursive();this._content=null;}_1b01.set("region","center");this._content=_1b01;this.addChild(_1b01);this.layout();}}},_configureToolbar:function(_1b02){if(this._toolbarApplied){return;}var _1b03=_1b02&&_1b02.toolBar;if(_1b03===false){if(this.toolbarActive){this.removeChild(this._toolbar);this.toolbarActive=false;}}else{if(_1b03){if(!this.toolbarActive){this.addChild(this._toolbar);this.toolbarActive=true;}array.forEach(_1b03.items,function(item,index){this._toolbar.addChild(new dijit.form.Button(item),index);},this);}}this._toolbarApplied=true;}});});},"Sage/Groups/nls/GroupManager":function(){define("Sage/Groups/nls/GroupManager",["Sage/LanguageList","dojo/_base/lang"],function(_1b04,lang){var nls={root:{ConfirmDeleteMessage:"Are you sure you want to delete the current group?",ConfirmDeleteFmtMessage:"Are you sure you want to delete this group: ${0}",InvalidSortStringMessage:"Error: Invalid sort string - ",InvalidConditionStringMessage:"Error: Invalid condition string - ",InvalidLayoutConditionStringMessage:"Error: Invalid layout string - ",noneSelectedTitle:"No records selected",noneSelectedPromptFmt:"No records selected. The full group, ${0} record(s), will be added.  Proceed?",noneSelectedRemovePromptFmt:"No records selected. The full group, ${0} record(s), will be removed.  Proceed?",noRecordsInGroup:"There are no records to be selected from this group.",newGroupTitle:"Add Records to new Group",newGroupNamePrompt:"${0} selected record(s) will be added to this new group.<br><br>Group Name:<br>${1}",newGroupRePrompt:"&nbsp;&nbsp;<i>Please enter a group name.</i>",invalidCharMsg:"Name Cannot contain: / \\ : * ? \" <> | or '",groupNameText:"Group Name:",saveLookupDlgTitle:"Save Lookup Results as New Group",yesCaption:"Yes",noCaption:"No",cancelCaption:"Cancel",okCaption:"OK",LOCALSTORE_NAMESPACE:"SageGroups",exportToExcel:"This method has been deprecated, please see Sage.TaskPane.CommonTasksTasklet.exportToExcel."}};return lang.mixin(_1b04,nls);});},"Sage/UI/TimelessActivitiesPane":function(){define("Sage/UI/TimelessActivitiesPane",["dijit/_Widget","dojo/i18n","Sage/UI/SLXPreviewGrid","Sage/UI/EditableGrid","Sage/UI/Columns/ActivityType","Sage/UI/Columns/HistoryType","Sage/Utility","Sage/Data/SDataServiceRegistry","Sage/Data/WritableSDataStore","dojo/_base/lang","dojo/string","dojo/i18n!./nls/TimelessActivitiesPane","dojo/_base/declare"],function(_1b05,i18n,_1b06,_1b07,_1b08,_1b09,_1b0a,_1b0b,_1b0c,lang,_1b0d,_1b0e,_1b0f){var _1b10=_1b0f("Sage.UI.TimelessActivitiesPane",_1b05,{gridMode:null,Id:null,grid:null,currentUserIds:[],userColor:[],queryStartDate:null,queryEndDate:null,currentUserDeafultCalendarView:null,schedulerDate:null,weekStart:null,workWeekStart:null,users:{},userActivities:[],constructor:function(_1b11){lang.mixin(this,i18n.getLocalization("Sage.UI","TimelessActivitiesPane",this.lang));this.Id=_1b11.Id;this.users=_1b11.users;this.gridMode=_1b11.mode;var _1b12;var self=this;var _1b13=function(data){var ndate=data.date.valueOf();switch(data.mode){case "day":var _1b14=new Date(ndate);_1b14.setHours(0,0,0,0);self.queryStartDate=Sage.Utility.Activity.formatRawTimelessStartDate(_1b14);self.queryEndDate=Sage.Utility.Activity.formatRawTimelessEndDate(_1b14);break;case "month":var _1b15=dojo.date.getDaysInMonth(new Date(ndate));var _1b16=new Date(new Date(ndate).setDate(1));_1b16.setHours(0,0,0,0);var _1b17=new Date(new Date(ndate).setDate(_1b15));_1b17.setHours(0,0,0,0);self.queryStartDate=Sage.Utility.Activity.formatRawTimelessStartDate(_1b16);self.queryEndDate=Sage.Utility.Activity.formatRawTimelessEndDate(_1b17);break;case "week":var _1b18=new Date(data.weekStartDate.valueOf());var _1b19=new Date(data.weekEndDate.valueOf());_1b18.setHours(0,0,0,0);_1b19.setHours(0,0,0,0);self.queryStartDate=Sage.Utility.Activity.formatRawTimelessStartDate(_1b18);self.queryEndDate=Sage.Utility.Activity.formatRawTimelessEndDate(_1b19);break;case "workweek":var _1b1a=new Date(data.workWeekStartDate.valueOf());var _1b1b=new Date(data.workWeekEndDate.valueOf());_1b1a.setHours(0,0,0,0);_1b1b.setHours(0,0,0,0);self.queryStartDate=Sage.Utility.Activity.formatRawTimelessStartDate(_1b1a);self.queryEndDate=Sage.Utility.Activity.formatRawTimelessEndDate(_1b1b);break;default:var sDate=new Date(ndate);sDate.setHours(0,0,0,0);self.queryStartDate=Sage.Utility.Activity.formatRawTimelessStartDate(sDate);self.queryEndDate=Sage.Utility.Activity.formatRawTimelessEndDate(sDate,"day",1);break;}};if(this.users){for(var i in this.users){_1b12=lang.trim(this.users[i]["userId"].toString());var _1b1c=_1b0d.substitute("'${0}'",[_1b12]);if(dojo.indexOf(this.currentUserIds,_1b1c)==-1){this.currentUserIds.push(_1b1c);}if(this.users[i]["usercolor"]){this.userColor[_1b12]=lang.trim(this.users[i]["usercolor"].toString());}if(this.currentUserDeafultCalendarView===null){this.currentUserDeafultCalendarView=this.users[i]["defaultcalendarview"].toString();}if(this.weekStart===null){this.weekStart=this.users[i]["weekstartdate"];}if(this.weekEnd===null){this.weekEnd=this.users[i]["weekenddate"];}if(this.workWeekStart===null){this.workWeekStart=this.users[i]["workweekstartdate"];}if(this.workWeekEnd===null){this.workWeekEnd=this.users[i]["workweekenddate"];}}var _1b1d={};_1b1d.mode=this.currentUserDeafultCalendarView;_1b1d.date=new Date();_1b1d.weekStartDate=this.weekStart;_1b1d.weekEndDate=this.weekEnd;_1b1d.workWeekStartDate=this.workWeekStart;_1b1d.workWeekEndDate=this.workWeekEnd;_1b13(_1b1d);}dojo.subscribe("/sage/ui/calendarUserList/updated",function addUser(_1b1e){if(_1b1e){self.currentUserIds=[];for(var i in _1b1e){var _1b1f=lang.trim(_1b1e[i]["userId"].toString());var _1b20=_1b0d.substitute("'${0}'",[_1b1f]);if(dojo.indexOf(self.currentUserIds,_1b20)==-1){self.currentUserIds.push(_1b20);}if(_1b1e[i]["usercolor"]){self.userColor[_1b1f]=lang.trim(_1b1e[i]["usercolor"].toString());}}}self.userActivities=[];setTimeout(function(){self.grid.refresh();},"1");});dojo.subscribe("/sage/ui/calendarUser/selectionChanged/add",function addUser(data){var _1b21=lang.trim(data.userId.toString());var _1b22=_1b0d.substitute("'${0}'",[_1b21]);if(dojo.indexOf(self.currentUserIds,_1b22)==-1){self.currentUserIds.push(_1b22);}self.userColor[_1b21]=data.usercolor.toString();self.userActivities=[];setTimeout(function(){self.grid.refresh();},"1");});dojo.subscribe("/sage/ui/calendarUser/selectionChanged/remove",function removeUser(data){self.currentUserIds=dojo.filter(self.currentUserIds,function(item){return item!="'"+data.userId.toString()+"'";});self.userActivities=[];self.grid.refresh();});dojo.subscribe("/entity/activity/calendar/schedulerDateChanged",function refreshList(data){_1b13(data);self.userActivities=[];self.grid.refresh();});dojo.subscribe("/entity/activity/create",function(data){self.refreshGrid(data);});dojo.subscribe("/entity/userActivities/timeless/saved",function(data){self.grid.refresh();});dojo.subscribe("/entity/activity/change",function(data){self.refreshGrid(data);});dojo.subscribe("/entity/activity/timeless/delete",function(data){self.userActivities=[];self.grid.refresh();});},refreshGrid:function(data){if(data!==null){if(data.Timeless||data.TimelessChanged){this.userActivities=[];this.grid.refresh();}}},startup:function(){var self=this;var _1b23;if(this.gridMode==="completed"){_1b23={context:null,readOnly:true,columns:[{field:"$key",editable:false,hidden:true,id:"id",formatter:function(value,_1b24,cel){var _1b25=[cel.grid.id,"-row",_1b24].join("");var id=(Sage.Utility.getModeId()==="insert")?_1b25:value;var _1b26=["<div id=",id," >",id,"</ div>"].join("");return _1b26;}},{field:"UserId",name:" ",sortable:false,width:"20px",formatter:function(value){return "<div class='userStyles "+self.userColor[value]+"'></div>";}},{field:"Type",keyField:"$key",name:this.header_type,type:_1b09,width:"90px"},{field:"ContactName",name:this.header_contact,width:"100px"},{field:"Description",name:this.header_regarding,width:"100px"}],storeOptions:{service:_1b0b.getSDataService("dynamic"),resourceKind:"history",include:["$descriptors"],select:["$key","Regarding","Description","AccountId","AccountName","ActivityId","ContactName","Recurring","StartDate","Timeless","Type","Priority","PhoneNumber","LeadId","LeadName","LongNotes","Location","UserName"],sort:[{attribute:"StartDate",descending:true}]},tools:[],contextualCondition:function(){if(self.queryStartDate===null){self.queryStartDate=Sage.Utility.Activity.formatTimelessStartDate(new Date());}if(self.queryEndDate===null){self.queryEndDate=Sage.Utility.Activity.formatTimelessEndDate(new Date());}return dojo.string.substitute("UserId in (${0}) and Timeless and StartDate between @${1}@ and @${2}@ and Type in ('atPhoneCall','atToDo','atAppointment','atPersonal')",[self.currentUserIds.toString(),self.queryStartDate,self.queryEndDate]);},id:this.Id,tabId:"ActivityCalendar",gridNodeId:this.gridNodeId,rowsPerPage:10,singleClickEdit:true,dblClickAction:Sage.Link.editActivity,selectionMode:"single"};}else{_1b23={context:null,readOnly:true,columns:[{field:"$key",editable:false,hidden:true,id:"id",formatter:function(value,_1b27,cel){var _1b28=[cel.grid.id,"-row",_1b27].join("");var id=(Sage.Utility.getModeId()==="insert")?_1b28:value;var _1b29=["<div id=",id," >",id,"</ div>"].join("");return _1b29;}},{field:"UserActivities.$resources",name:" ",sortable:false,width:"20px",formatter:function(data){var uId;if(data){for(var i=0;i<data.length;i++){var _1b2a=data[i];if(!_1b2a["remove"]){var _1b2b=_1b2a.User.$key;uId=_1b2b;}}}return "<div class='userStyles "+self.userColor[uId]+"'></div>";}},{field:"Type",keyField:"$key",name:this.header_type,type:_1b08,width:"90px"},{field:"ContactName",name:this.header_contact,width:"100px"},{field:"Description",name:this.header_regarding,width:"100px"}],storeOptions:{service:_1b0b.getSDataService("system"),resourceKind:"activities",include:["$descriptors,UserInfo"],select:["$key","Regarding","Description","AccountId","AccountName","ActivityId","ContactName","Recurring","StartDate","Timeless","Type","Priority","Leader/$key","PhoneNumber","LeadId","LeadName","LongNotes","Location","UserActivities/User/$key"],sort:[{attribute:"StartDate",descending:true}],onComplete:this._onComplete},tools:[],contextualCondition:function(){if(self.queryStartDate===null){self.queryStartDate=Sage.Utility.Activity.formatTimelessStartDate(new Date());}if(self.queryEndDate===null){self.queryEndDate=Sage.Utility.Activity.formatTimelessEndDate(new Date());}return dojo.string.substitute("UserActivities.UserId in (${0}) and Timeless and UserActivities.Status ne 'asDeclned' and StartDate between @${1}@ and @${2}@ and Type in ('atPhoneCall','atToDo','atAppointment','atPersonal')",[self.currentUserIds.toString(),self.queryStartDate,self.queryEndDate]);},id:this.Id,tabId:"ActivityCalendar",gridNodeId:this.gridNodeId,rowsPerPage:10,singleClickEdit:true,dblClickAction:Sage.Link.editActivity,selectionMode:"single"};}var grid=new _1b07(_1b23);var _1b2c=dijit.byId(grid.gridNodeId);_1b2c.addChild(grid);window.setTimeout(function(){grid.startup();_1b2c.resize();},1);this.grid=grid;grid.onRowContextMenu=function(e){var item=e.grid.getItem(e.rowIndex);self._bindContextMenu(item.$key,new Date(),e.grid.domNode);};var _1b2d=function(id){var valid=false;if(id){if(id.trim()!==""){valid=true;}}return valid;};grid.onRowMouseOver=function(e){var item=e.grid.getItem(e.rowIndex);var html="";var _1b2e,_1b2f="";if(item.Type){html+=self.tooltip_type+" : "+Sage.Utility.Activity.getActivityTypeName(item.Type)+"<br>";}if(_1b2d(item.LeadId)){html+=self.tooltip_lead+" : "+item.LeadName+"<br>";if(item.AccountName){html+=self.tooltip_company+" : "+item.AccountName+"<br>";}}else{if(item.ContactName){html+=self.tooltip_contact+" : "+item.ContactName+"<br>";}if(item.AccountName){html+=self.tooltip_account+" : "+item.AccountName+"<br>";}}if(item.PhoneNumber){html+=self.tooltip_phone+" : "+item.PhoneNumber+"<br>";}if(item.UserId){_1b2e=item.UserId;_1b2f=item.UserName;}else{if(item.Leader){_1b2e=item.Leader.$key;_1b2f=item.Leader.$descriptor;}}if(lang.trim(_1b0a.getClientContextByKey("userID")).toUpperCase()!==_1b2e){if(_1b2f){html+=self.tooltip_leader+" : "+_1b2f+"<br>";}}if(item.Description){html+=self.tooltip_regarding+" : "+item.Description+"<br>";}if(item.Location){html+=self.tooltip_location+" : "+item.Location+"<br>";}if(item.LongNotes){html+=self.tooltip_notes+" : "+item.LongNotes+"<br>";}dijit.showTooltip(html,e.cellNode);};grid.onRowMouseOut=function(e){dijit.hideTooltip(e.cellNode);};dojo.connect(this.grid,"onHeaderCellClick",function(e){self.userActivities=[];this.inherited(arguments);});dojo.connect(dijit.byId("TaskPane_splitter"),"onMouseUp",function(e){self.userActivities=[];});},_startGrid:function(data){this.grid.startup();},_onComplete:function(data){var self=this;if(data){self.userActivities=[];var cnt=data.length;for(var i=0;i<cnt;i++){var _1b30=false;var _1b31=data[i]["$key"];if(data[i].UserActivities){var _1b32=data[i].UserActivities.$resources;var ln=_1b32.length;for(var j=0;j<ln;j++){if(_1b30){data[i].UserActivities.$resources[j]["remove"]=true;continue;}var _1b33=_1b32[j];var _1b34=_1b33.User.$key;var _1b35=self.userActivities[_1b31];if(_1b35){if(dojo.indexOf(_1b35,_1b34)<0){self.userActivities[_1b31].push(_1b34);_1b30=true;}else{data[i].UserActivities.$resources[j]["remove"]=true;}}else{self.userActivities[_1b31]=[];self.userActivities[_1b31].push(_1b34);_1b30=true;}}}else{var uId=data[i].Leader.$key;var uIds=self.userActivities[_1b31];if(uIds){if(dojo.indexOf(uIds,uId)<0){self.userActivities[_1b31].push(uId);}}else{self.userActivities[_1b31]=[];self.userActivities[_1b31].push(uId);}data[i].UserActivities=[];data[i].UserActivities.$resources=[];var _1b36={};_1b36.$key=uId;_1b36.User={$key:uId};data[i].UserActivities.$resources.push(_1b36);}}}},_bindContextMenu:function(_1b37,_1b38,_1b39){if(this.pMenu1){this.pMenu1.unBindDomNode(_1b39);}this.pMenu1=null;this.pMenu1=new dijit.Menu({});var _1b3a="mnuCalendarActivity";if(this.gridMode==="completed"){_1b3a="mnuCalendarHistory";}var _1b3b=Sage.UI.DataStore.ContextMenus.calendar_activityContextMenu.items;var len=_1b3b.length;for(var i=0;i<len;i++){var mDef=_1b3b[i];if(mDef.id===_1b3a){this._buildChildMenu(mDef.submenu,null,_1b37,_1b38);break;}}this.pMenu1.bindDomNode(_1b39);},_buildChildMenu:function(_1b3c,_1b3d,_1b3e,_1b3f){var len=_1b3c.length;for(var i=0;i<len;i++){var mDef=_1b3c[i];if(mDef.submenu.length>0){var _1b40=new dijit.Menu();this._buildChildMenu(mDef.submenu,_1b40,_1b3e,_1b3f);var _1b41=new dijit.PopupMenuItem({label:mDef.text,popup:_1b40});if(_1b3d){_1b3d.addChild(_1b41);}else{this.pMenu1.addChild(_1b41);}}else{var _1b42=null;if((mDef.text==="-")||(mDef.text===" ")||(mDef.isspacer)){_1b42=new dijit.MenuSeparator();}else{var href=mDef.href;var self=this;_1b42=new Sage.UI.MenuItem({label:mDef.text||"...",icon:"Libraries/dojo/dojo/resources/blank.gif",title:mDef.tooltip||"",ref:href,onClick:function(){switch(this.ref.toUpperCase()){case "OPENACTIVITY":Sage.Link.editActivity(_1b3e);break;case "OPENHISTORY":Sage.Link.editHistory(_1b3e);break;case "COMPLETEACTIVITY":Sage.Link.completeActivity(_1b3e);break;case "DELETEACTIVITY":Sage.Link.deleteActivity(_1b3e,function(data){self.grid.refresh();});break;case "GOTOACCOUNT":Sage.Link.goToActivityAssociation("Account",_1b3e);break;case "GOTOCONTACT":Sage.Link.goToActivityAssociation("Contact",_1b3e);break;case "GOTOOPPORTUNITY":Sage.Link.goToActivityAssociation("Opportunity",_1b3e);break;case "GOTOTICKET":Sage.Link.goToActivityAssociation("Ticket",_1b3e);break;case "GOTOLEAD":Sage.Link.goToActivityAssociation("Lead",_1b3e);break;}}});}if(_1b3d){_1b3d.addChild(_1b42);}else{this.pMenu1.addChild(_1b42);}}}}});return _1b10;});},"Sage/MainView/ReportMgr/Crystal/ParameterHeaderWidget":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/ParameterHeaderWidget.html":"<table style=\"padding-bottom:5px; width:100%\">\r\n    <colgroup>\r\n        <col style=\"width:45%\" />\r\n        <col style=\"width:10%\" />\r\n        <col style=\"width:45%\" />\r\n    </colgroup>\r\n    <tr>\r\n        <td>\r\n            <label for=\"values\" style=\"font-weight:bold\" >${promptText}</label>\r\n        </td>\r\n        <td></td>\r\n        <td>\r\n            <label style=\"font-weight:bold\">${parameterFieldName}</label>\r\n        </td>\r\n    </tr>\r\n    <tr>\r\n        <td colspan=\"3\">\r\n            <div style=\"border-bottom: 1px solid #B5BCC7\"></div>\r\n        </td>\r\n    </tr>\r\n</table>\r\n"}});define("Sage/MainView/ReportMgr/Crystal/ParameterHeaderWidget",["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojo/text!./templates/ParameterHeaderWidget.html","Sage/Utility"],function(_1b43,_1b44,_1b45,_1b46,_1b47,_1b48){var _1b49=_1b43("Sage.MainView.ReportMgr.Crystal.ParameterHeaderWidget",[_1b44,_1b45,_1b46],{templateString:_1b47,promptText:"",parameterFieldName:"",constructor:function(){},postCreate:function(){this.inherited(arguments);}});return _1b49;});},"url:Sage/MainView/ActivityMgr/templates/RecurringEditor.html":"\r\n['<div>',\r\n    '<table style=\"width:100%\">',\r\n        '<tr>',\r\n            '<td class=\"recurring-selectors\">',  //radio buttons...\r\n                '<div>{%= $.activityOccurrsText %}</div>',\r\n                '<div>',\r\n                    '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"recurPeriod\" value=\"None\" id=\"{%= $.id %}_rdo_Once\" dojoAttachPoint=\"rdo_Once\" checked=\"true\" dojoAttachEvent=\"onChange:_onceChanged\" />',  //  \r\n                    '<label for=\"{%= $.id %}_rdo_Once\">&nbsp;{%= $.onceText %}</label>',\r\n                '</div><div>',\r\n                    '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"recurPeriod\" value=\"daily\" id=\"{%= $.id %}_rdo_Daily\" dojoAttachPoint=\"rdo_Daily\" dojoAttachEvent=\"onChange:_dailyChanged\" />',\r\n                    '<label for=\"{%= $.id %}_rdo_Daily\">&nbsp;{%= $.dailyText %}</label>',\r\n                '</div><div>',\r\n                    '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"recurPeriod\" value=\"weekly\" id=\"{%= $.id %}_rdo_Weekly\" dojoAttachPoint=\"rdo_Weekly\" dojoAttachEvent=\"onChange:_weeklyChanged\" />',\r\n                    '<label for=\"{%= $.id %}_rdo_Weekly\">&nbsp;{%= $.weeklyText %}</label>',\r\n                '</div><div>',\r\n                    '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"recurPeriod\" value=\"monthly\" id=\"{%= $.id %}_rdo_Monthly\" dojoAttachPoint=\"rdo_Monthly\" dojoAttachEvent=\"onChange:_monthlyChanged\" />',\r\n                    '<label for=\"{%= $.id %}_rdo_Monthly\">&nbsp;{%= $.monthlyText %}</label>',\r\n                '</div><div>',\r\n                    '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"recurPeriod\" value=\"yearly\" id=\"{%= $.id %}_rdo_Yearly\" dojoAttachPoint=\"rdo_Yearly\" dojoAttachEvent=\"onChange:_yearlyChanged\" />',\r\n                    '<label for=\"{%= $.id %}_rdo_Yearly\">&nbsp;{%= $.yearlyText %}</label>',\r\n                '</div>',\r\n            '</td>',\r\n            '<td>',  //panel for each different recurring type...\r\n                '<div dojoType=\"dijit.layout.StackContainer\" dojoAttachPoint=\"_panelContainer\" class=\"recurring-body\" >',\r\n                    '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_oncePanel\" class=\"recurring-panel\"  >',\r\n                        '{%= $.occursOnceText %}',\r\n                    '</div>',\r\n//daily panel...............................\r\n                    '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_dailyPanel\" class=\"recurring-panel\"  >',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"dailyEvery\" value=\"days\" id=\"{%= $.id %}_rdoDailyEvery\" checked=\"true\" dojoAttachPoint=\"_rdoDailyEvery\" dojoAttachEvent=\"onChange:_dailyEveryChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoDailyEvery\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_dailyEveryText\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.daysText %}</span>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"dailyEvery\" value=\"daysAfter\" id=\"{%= $.id %}_rdoDailyEveryAfter\" dojoAttachPoint=\"_rdoDailyEveryAfter\" />',\r\n                                '<label for=\"{%= $.id %}_rdoDailyEveryAfter\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_dailyEveryAfterText\" disabled=\"true\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.daysAfterText %}</span>',\r\n                            '</div>',\r\n                    '</div>',\r\n//weekly panel............................\r\n                    '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_weeklyPanel\" class=\"recurring-panel\"  >',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"weeklyEvery\" value=\"weeksOn\" id=\"{%= $.id %}_rdoWeeklyEvery\" checked=\"true\" dojoAttachPoint=\"_rdoWeeklyEvery\" dojoAttachEvent=\"onChange:_weeklyEveryChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoWeeklyEvery\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_weeklyEveryText\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.weeksOnText %}</span>',\r\n                        '</div>',\r\n                        '<div style=\"white-space:normal;padding-bottom:10px;\">',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkMonday\" value=\"mon\" id=\"{%= $.id %}_chkMonday\" dojoAttachPoint=\"_chkMonday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkMonday\" class=\"padded-inline-label\">{%= $.monText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkTuesday\" value=\"tue\" id=\"{%= $.id %}_chkTuesday\" dojoAttachPoint=\"_chkTuesday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkTuesday\" class=\"padded-inline-label\">{%= $.tueText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkWednesday\" value=\"wed\" id=\"{%= $.id %}_chkWednesday\" dojoAttachPoint=\"_chkWednesday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkWednesday\" class=\"padded-inline-label\">{%= $.wedText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkThursday\" value=\"thu\" id=\"{%= $.id %}_chkThursday\" dojoAttachPoint=\"_chkThursday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkThursday\" class=\"padded-inline-label\">{%= $.thurText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkFriday\" value=\"fri\" id=\"{%= $.id %}_chkFriday\" dojoAttachPoint=\"_chkFriday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkFriday\" class=\"padded-inline-label\">{%= $.friText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkSaturday\" value=\"sat\" id=\"{%= $.id %}_chkSaturday\" dojoAttachPoint=\"_chkSaturday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkSaturday\" class=\"padded-inline-label\">{%= $.satText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkSunday\" value=\"sun\" id=\"{%= $.id %}_chkSunday\" dojoAttachPoint=\"_chkSunday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkSunday\" class=\"padded-inline-label\">{%= $.sunText %}</label>',\r\n                            '</span>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"weeklyEvery\" value=\"weeksAfter\" id=\"{%= $.id %}_rdoWeeklyEveryAfter\" dojoAttachPoint=\"_rdoWeeklyEveryAfter\" />',\r\n                                '<label for=\"{%= $.id %}_rdoWeeklyEveryAfter\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_weeklyEveryAfterText\" disabled=\"true\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_calculateEnd\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.weeksAfterText %}</span>',\r\n                        '</div>',\r\n                    '</div>',\r\n//monthly panel.........................................................\r\n                    '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_monthlyPanel\" class=\"recurring-panel\"  >',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"monthlyOn\" value=\"monthyOn\" id=\"{%= $.id %}_rdoMonthlyOn\" checked=\"true\" dojoAttachPoint=\"_rdoMonthlyOn\" dojoAttachEvent=\"onChange:_monthlyOnChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoMonthlyOn\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_monthlyEveryText\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.monthsOnText %}</span>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_datesSelect\" dojoAttachEvent=\"onChange:_calculateEnd\" maxHeight=\"300\"></select>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"monthlyOn\" value=\"monthyOnThe\" id=\"{%= $.id %}_rdoMonthlyOnThe\" dojoAttachPoint=\"_rdoMonthlyOnThe\" />', // dojoAttachEvent=\"onChange:_monthlyOnChanged\"\r\n                                '<label for=\"{%= $.id %}_rdoMonthlyOnThe\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_monthlyOnTheText\" disabled=\"true\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.monthsOnTheText %}</span>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_weeksSelect\" disabled=\"true\" dojoAttachEvent=\"onChange:_calculateEnd\"></select>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_weekdaySelect\" disabled=\"true\" dojoAttachEvent=\"onChange:_calculateEnd\"></select>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"monthlyOn\" value=\"monthyAfter\" id=\"{%= $.id %}_rdoMonthlyAfter\" dojoAttachPoint=\"_rdoMonthlyAfter\" dojoAttachEvent=\"onChange:_monthlyOnChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoMonthlyAfter\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_monthlyAfterText\" disabled=\"true\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_calculateEnd\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.monthsAfterText %}</span>',\r\n                        '</div>',\r\n                    '</div>',\r\n// yearly panel..............\r\n                    '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_yearlyPanel\" class=\"recurring-panel\"  >',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"yearlyOn\" value=\"yearlyOn\" id=\"{%= $.id %}_rdoYearlyOn\" checked=\"true\" dojoAttachPoint=\"_rdoYearlyOn\" dojoAttachEvent=\"onChange:_yearlyOnChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoYearlyOn\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_yearlyEveryText\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.yearsOnText %}</span>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_monthNamesSelect\" dojoAttachEvent=\"onChange:_yearlyRecurDateChanged\"></select>',\r\n                            '<select dojoType=\"dijit.form.Select\" maxHeight=\"300\" dojoAttachPoint=\"_yearDatesSelect\" dojoAttachEvent=\"onChange:_yearlyRecurDateChanged\"></select>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= ($.labelWidth - 3) %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"yearlyOn\" value=\"yearlyOnThe\" id=\"{%= $.id %}_rdoYearlyOnThe\" dojoAttachPoint=\"_rdoYearlyOnThe\" />',\r\n                                '<label for=\"{%= $.id %}_rdoYearlyOnThe\" class=\"padded-inline-label\">{%= $.theText %}</label>',\r\n                            '</div>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_yearWeeksSelect\" disabled=\"true\" dojoAttachEvent=\"onChange:_yearlyRecurDateChanged\"></select>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_yearWeekdaySelect\" disabled=\"true\" dojoAttachEvent=\"onChange:_yearlyRecurDateChanged\"></select>',\r\n                            '<label class=\"padded-inline-label\">{%= $.inText %}</label>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_yearMonthNamesSelect\" disabled=\"true\" dojoAttachEvent=\"onChange:_yearlyRecurDateChanged\"></select>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"yearlyOn\" value=\"yearlyEveryAfter\" id=\"{%= $.id %}_rdoYearlyEveryAfter\" dojoAttachPoint=\"_rdoYearlyEveryAfter\" dojoAttachEvent=\"onChange:_yearlyOnChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoYearlyEveryAfter\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_yearlyEveryAfterText\" disabled=\"true\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_calculateEnd\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.yearsAfterText %}</span>',\r\n                            '</div>',\r\n                    '</div>',\r\n                '</div>', //stack container\r\n// End date calculator section.........................................\r\n                '<div dojoAttachPoint=\"_startEndCalculator\" class=\"display-none\">',\r\n                    '<hr />',\r\n                    '<table>',\r\n                        '<tr>',\r\n                            '<td>{%= $.startRecurringText %}</td>',\r\n                            '<td>',\r\n                                '<div dojoType=\"Sage.UI.Controls.DateTimePicker\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}_dtp_StartRecur\" value=\"{%= $.startDate %}\" dojoAttachPoint=\"dtp_startRecur\" displayDate=\"true\" displayTime=\"false\" dojoAttachEvent=\"onChange:_recurringStartDateChanged\" readOnly=\"true\" ></div>',\r\n                            '</td>',\r\n                        '</tr>',\r\n                        '<tr>',\r\n                            '<td>',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"endRecur\" value=\"endAfterNum\" id=\"{%= $.id %}_rdoEndAfterNum\" dojoAttachPoint=\"_rdoEndAfter\" dojoAttachEvent=\"onChange:_endCalcModeChanged\" checked=\"true\" />',\r\n                                '<label for=\"{%= $.id %}_rdoEndAfterNum\" class=\"padded-inline-label\">{%= $.endAfterText  %}</label>',\r\n                            '</td><td>',\r\n                                '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"2\" constraints=\"{places: 0, type: \\'decimal\\', max: 999, min: 1}\" maxlength=\"3\" id=\"{%= $.id %}_num_Occurances\" dojoAttachPoint=\"num_Occurances\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_numOccurancesChanged\" />',\r\n                                '<span class=\"padded-inline-label\">{%= $.occurrencesText %}</span>',\r\n                            '</td>',\r\n                        '</tr><tr>',\r\n                            '<td>',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"endRecur\" value=\"endOn\" id=\"{%= $.id %}_rdoEndOn\" dojoAttachPoint=\"_rdoEndOn\" />',\r\n                                '<label for=\"{%= $.id %}_rdoEndOn\" class=\"padded-inline-label\">{%= $.endOnText %}</label>',\r\n                            '</td>',\r\n                            '<td>',\r\n                                '<div dojoType=\"Sage.UI.Controls.DateTimePicker\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}_dtp_EndRecur\" dojoAttachPoint=\"dtp_endRecur\" displayDate=\"true\" displayTime=\"false\" dojoAttachEvent=\"onChange:_endRecurChanged\" ></div>',\r\n                            '</td>',\r\n                        '</tr>',\r\n                    '</table>',\r\n                '</div>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</table>',\r\n'</div>']","Sage/UI/Columns/DndCell":function(){require({cache:{"url:Sage/UI/Columns/templates/DndCell.html":"<div>\r\n    <div data-dojo-type=\"dojo.dnd.Source\" dojoAttachPoint=\"sourceNode\" copyOnly=\"true\" accept=\"\">\r\n        <div class=\"dojoDndItem\" dojoAttachPoint=\"dndItem\"></div>\r\n    </div>\r\n</div>\r\n"}});define("Sage/UI/Columns/DndCell",["dijit/_Widget","dijit/_Templated","dojo/dnd/Source","dojo/text!./templates/DndCell.html","dojo/_base/declare"],function(_1b4a,_1b4b,_1b4c,_1b4d,_1b4e){var _1b4f=_1b4e("Sage.UI.Columns.DndCell",[_1b4a,_1b4b],{templateString:_1b4d,widgetsInTemplate:true,value:null,index:-1,constructor:function(_1b50){this.inherited(arguments);},postCreate:function(){this.dndItem.innerHTML=this.get("value");this.dndItem.type="cell";this.dndItem.data={value:this.get("value"),index:this.index};this.inherited(arguments);}});return _1b4f;});},"Sage/QuickForms/Design/Editors/nls/DateTimePickerAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/DateTimePickerAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1b51,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",buttonToolTipText:"Button Tooltip:",buttonToolTipTooltipText:"The tooltip  to display when the user\\'s mouse hovers over the button part of the control.",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",displayModeText:"Display Mode:",displayModeTooltipText:"Mode of display of control: text box, hyperlink, or plain text.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",timelessText:"Timeless:",timelessTooltipText:"Use date without time and no DST conversion.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"},displayModeTypeText:{AsControl:"As Control",AsText:"As Text",AsHyperlink:"As Hyperlink"}}};return lang.mixin(_1b51,nls);});},"Sage/UI/ComboBox":function(){define("Sage/UI/ComboBox",["dijit/form/ComboBox","dojo/currency","dojo/_base/declare"],function(_1b52,_1b53,_1b54){var _1b55=_1b54("Sage.UI.ComboBox",[_1b52],{_hClickBody:false,maxHeight:dojo.isIE?160:170,shouldPublishMarkDirty:true,autoPostBack:false,_onKeyPress:function(e){dojo.stopEvent(e);},postCreate:function(){this.connect(this,"onChange",this.onChanged);this.inherited(arguments);},onChanged:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}if(this.autoPostBack){__doPostBack(this.id,"");}},onClickBody:function(e){if(dojo.isIE>=9&&this._opened){var obj=dijit.getEnclosingWidget(e.target);if(obj&&obj===this){return;}this.closeDropDown();}},closeDropDown:function(focus){if(dojo.isIE>=9&&this._hClickBody){dojo.disconnect(this._hClickBody);this._hClickBody=false;}this.inherited(arguments);},openDropDown:function(){if(dojo.isIE>=9){this._hClickBody=dojo.connect(document.body,"onclick",this,this.onClickBody);}this.inherited(arguments);}});return _1b55;});},"Sage/QuickForms/Design/Editors/nls/ComboBoxBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/ComboBoxBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1b56,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_1b56,nls);});},"Sage/UI/Dialogs":function(){define("Sage/UI/Dialogs",["dijit/form/Button","dijit/Dialog","dijit/ProgressBar","dijit/form/TextBox","dijit/form/ValidationTextBox","dojo/i18n!./nls/Dialogs","dojo/_base/array"],function(_1b57,_1b58,_1b59,_1b5a,_1b5b,_1b5c,array){Sage.namespace("UI.Dialogs");dojo.mixin(Sage.UI.Dialogs,{raiseQueryDialog:function(title,query,_1b5d,_1b5e,_1b5f,_1b60){return this.raiseQueryDialogExt({title:title,query:query,callbackFn:_1b5d,yesText:_1b5e,noText:_1b5f,icon:_1b60});},raiseQueryDialogExt:function(opts){var dlg=dijit.byId("queryDialog"),_1b61,_1b62,_1b63,_1b64,i,_1b65,_1b66,_1b67;if(dlg){dlg.destroyRecursive();}_1b61=(opts&&typeof opts.width==="number")?opts.width:700;_1b62=new dijit.Dialog({id:"queryDialog",title:opts.title,style:opts.style||{"width":_1b61}});_1b63=function(_1b68){_1b62.hide();if(!opts.callbackFn||typeof opts.callbackFn!=="function"){return;}if(_1b68){opts.callbackFn.call(opts.scope||this,true);}else{opts.callbackFn.call(opts.scope||this,false);}};_1b62.on("hide",function(){_1b62.destroyRecursive();});if(opts.icon){var _1b69=new dojo.create("div",{id:"queryDialog-iconDiv","class":"messageIcon "+opts.icon});_1b62.containerNode.appendChild(_1b69);}_1b64=[];if(opts.query instanceof Array){for(i=0;i<opts.query.length;i++){_1b64.push(dojo.create("div",{id:"queryDialog-questionDiv_"+i,innerHTML:opts.query[i]}));}}else{var div=dojo.create("div",{id:"queryDialog-questionDiv",innerHTML:opts.query});var _1b6a=div.getElementsByTagName("script");array.forEach(_1b6a,function(_1b6b){var src=_1b6b.getAttribute("src");if(src===null&&_1b6b.innerHTML!==""){eval(_1b6b.innerHTML);}else{if(src!==null&&_1b6b.innerHTML===""){var head=document.getElementsByTagName("head")[0];var clone=dojo.clone(_1b6b);(head||document.body).appendChild(clone);}else{if(typeof console!=="undefined"){}}}div.removeChild(_1b6b);});_1b64.push(div);}_1b65=new dojo.create("div",{id:"queryDialog-buttonDiv",style:"text-align: "+(opts.align||"center")+"; margin-top: 10px"});_1b66=new dijit.form.Button({label:opts.yesText||_1b5c.yesText,id:"qry_yesButton",onClick:function(_1b6c){_1b63(true);}});_1b65.appendChild(_1b66.domNode);if((opts.noText)||(opts.showNoButton)){_1b67=new dijit.form.Button({label:opts.noText||_1b5c.noText,id:"qry_noButton",style:"padding-left: 10px",onClick:function(_1b6d){_1b63(false);}});_1b65.appendChild(_1b67.domNode);}dojo.forEach(_1b64,function(_1b6e){_1b62.containerNode.appendChild(_1b6e);});_1b62.containerNode.appendChild(_1b65);_1b62.show();},raiseInputDialog:function(title,query,_1b6f,_1b70,_1b71,_1b72,_1b73,_1b74){return this.raiseInputDialogExt({title:title,query:query,callbackFn:_1b6f,yesText:_1b70,noText:_1b71,defaultValue:_1b72,regExp:_1b73,invalidMessage:_1b74});},raiseInputDialogExt:function(opts){var _1b75,_1b76,_1b77,_1b78,_1b79,_1b7a,_1b7b;_1b75=dijit.byId("inputDialog");if(_1b75){_1b75.destroyRecursive();}_1b75=new dijit.Dialog({id:"inputDialog",title:opts.title});_1b76=dojo.create("div",{id:"inputDialog-questionDiv",innerHTML:opts.query});_1b77=(opts.regExp&&dojo.isString(opts.regExp))?new dijit.form.ValidationTextBox({id:"inputDialog-inputBox",value:opts.defaultValue||"",style:"margin-top: 8px",regExp:opts.regExp||"",invalidMessage:opts.invalidMessage||""}):new dijit.form.TextBox({id:"inputDialog-inputBox",value:opts.defaultValue||"",style:"margin-top: 8px"});_1b78=function(_1b7c){if(_1b7c){opts.callbackFn(true,_1b77.get("value"));}else{opts.callbackFn(false,_1b77.get("value"));}_1b75.hide();};_1b79=new dijit.form.Button({label:opts.yesText||_1b5c.yesText,id:"inp_yesButton",onClick:function(_1b7d){_1b78(true);}});_1b7a=new dijit.form.Button({label:opts.noText||_1b5c.noText,id:"inp_noButton",onClick:function(_1b7e){_1b78(false);}});_1b7b=new dojo.create("div",{id:"inputDialog-buttonDiv"});_1b75.on("hide",function(){_1b75.destroyRecursive();});_1b7b.appendChild(_1b79.domNode);_1b7b.appendChild(_1b7a.domNode);_1b75.containerNode.appendChild(_1b76);_1b75.containerNode.appendChild(_1b77.domNode);_1b75.containerNode.appendChild(_1b7b);if(opts.closable===false){dojo.destroy(_1b75.closeButtonNode);}_1b75.show();},showProgressBar:function(opts){var iMax=(opts&&typeof opts.maximum!=="undefined")?opts.maximum:100,prog,_1b7f=(opts&&typeof opts.width==="number")?opts.width:300,_1b80=(opts&&typeof opts.width==="number")?opts.height:125,_1b81=dojo.string.substitute("width: ${0}px; height: ${1}px",[_1b7f,_1b80]),_1b82=(opts&&typeof opts.canclose==="boolean")?opts.canclose:true,_1b83,sMsg,_1b84,bar,msg;if(!dijit.byId("progressDialog")){prog=new dijit.ProgressBar({id:"progressDialogBar",style:"margin-top: 10px; margin-bottom: 10px",indeterminate:(opts&&opts.indeterminate!=="undefined")?opts.indeterminate:false,maximum:iMax});_1b83=new dijit.Dialog({id:"progressDialog",title:opts.title,style:_1b81,closable:_1b82});if(opts&&typeof opts.showmessage==="boolean"&&opts.showmessage){sMsg=(opts&&typeof opts.message==="string")?opts.message:"";_1b84=new dojo.create("div",{innerHTML:sMsg,style:"text-align: left; margin-top: 10px; margin-bottom: 10px",id:"progressDialogMessage"});_1b83.containerNode.appendChild(_1b84);}_1b83.containerNode.appendChild(prog.domNode);_1b83.show();}bar=dijit.byId("progressDialogBar");bar.update({progress:opts.pct,title:opts.title});if(opts&&typeof opts.showmessage==="boolean"&&opts.showmessage&&typeof opts.message==="string"){msg=dojo.byId("progressDialogMessage");if(msg){msg.innerHTML=opts.message;}}},closeProgressBar:function(opts){var dlg=dijit.byId("progressDialog");if(dlg){dlg.hide();dlg.destroyRecursive();}},alert:function(msg,title,icon){var opts={title:title||"Saleslogix",query:msg,callbackFn:false,yesText:_1b5c.okText||"OK",noText:false,scope:window,icon:icon||"noIcon",style:{width:"700px"}};Sage.UI.Dialogs.raiseQueryDialogExt(opts);},showInfo:function(msg,title){this.alert(msg,title,"infoIcon");},showWarning:function(msg,title){this.alert(msg,title,"warningIcon");},showError:function(msg,title){this.alert(msg,title,"errorIcon");}});Sage.WebClientMessageService=function(_1b85){};Sage.WebClientMessageService.prototype.hideClientMessage=function(){if(typeof console!=="undefined"){}};Sage.WebClientMessageService.prototype.showClientMessage=function(title,msg,fn,scope){if(typeof console!=="undefined"){}if(typeof title==="object"){Sage.UI.Dialog.raiseQueryDialogEx(title);}var o={title:(typeof msg==="string")?title:"",query:(typeof msg==="string")?msg:title,callbackFn:fn,yesText:_1b5c.yesText||"Yes",noText:_1b5c.noText||"No",scope:scope};Sage.UI.Dialogs.raiseQueryDialogExt(o);};Sage.Services.addService("WebClientMessageService",new Sage.WebClientMessageService());return Sage.UI.Dialogs;});},"Sage/MainView/ReportMgr/nls/ReportsListPanelConfig":function(){define("Sage/MainView/ReportMgr/nls/ReportsListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_1b86,lang){var nls={root:{colNameReportName:"Name",colNameType:"Type",colNameTable:"Table",colNameCreateUser:"Create User",colNameCreateDate:"Create Date",colNameLastExecutionDate:"Last Run",colNameLastExecutionUser:"Last Run By",colNameModifyUser:"Modify User",colNameModifyDate:"Modify Date"}};return lang.mixin(_1b86,nls);});},"Sage/_EventMapMixin":function(){define("Sage/_EventMapMixin",["dojo/on","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-attr","dojo/query"],function(on,_1b87,array,lang,_1b88,query){var proxy=function(fn,scope){return function(evt){fn.call(scope,evt,this);};};return _1b87("Sage._EventMapMixin",null,{events:null,_eventSignals:null,postCreate:function(){this.inherited(arguments);this._eventSignals=(this._eventSignals||[]);if(this.events){for(var name in this.events){var item=this.events[name];if(item){var event=null,fn=null;if(lang.isObject(item)){event=item.selector?on.selector(item.selector,item.event||name):item.event||name;fn=lang.isFunction(this[item.action])?this[item.action]:this._invokeDynamicAction;}else{event=name;fn=lang.isFunction(this[item])?this[item]:this._invokeDynamicAction;}this._eventSignals.push(on(this.domNode,event,proxy(fn,this)));}}}},_invokeDynamicAction:function(evt,node){var _1b89=_1b88.get(node,"data-action"),fn=lang.isFunction(this[_1b89])?this[_1b89]:null;if(fn){fn.call(this,evt,node);}},uninitialize:function(){this.inherited(arguments);array.forEach(this._eventSignals,function(_1b8a){_1b8a.remove();});}});});},"Sage/UI/Alarms/nls/JobNotificationButton":function(){define("Sage/UI/Alarms/nls/JobNotificationButton",["Sage/LanguageList","dojo/_base/lang"],function(_1b8b,lang){var nls={root:{notificationToolTip:"You have ${0} job notifications.",notificationErrorToolTip:"An error occured retrieving job notifications. Please contact your administrator."}};return lang.mixin(_1b8b,nls);});},"Sage/MainView/ReportMgr/Crystal/nls/CrystalReportWizardController":function(){define("Sage/MainView/ReportMgr/Crystal/nls/CrystalReportWizardController",["Sage/LanguageList","dojo/_base/lang"],function(_1b8c,lang){var nls={root:{txtOnDemandScheduleName:"On Demand",txtReportSuccessfullyScheduled:"Report successfully scheduled.",txtDynamicParametersMessage:"Reports with dynamic parameters are currently not supported.",txtError:"Error",txtScheduleSuccessfullyUpdated:"Schedule successfully updated.",txtInvalidReportWithDynamicParameters:"The \"${0}:${1}\" report cannot run or be scheduled because it is invalid for the following reason(s): ${2}",txtInvalidDynamicParameterDatasource:"The dynamic parameter \"${p.name}\" (\"${p.promptText}\") is currently unsupported because its datasource requires parameter input.",txtInvalidDynamicParameterReason:"The dynamic parameter \"${p.name}\" (\"${p.promptText}\") is invalid: ${p.invalidDynamicParameterReason}",txtInvalidDynamicParameterUnknownReason:"The dynamic parameter \"${p.name}\" (\"${p.promptText}\") is invalid."}};return lang.mixin(_1b8c,nls);});},"Sage/UI/SLXPreviewGrid/Filter/Lookup":function(){define("Sage/UI/SLXPreviewGrid/Filter/Lookup",["dojo/_base/declare","dijit/_Widget","Sage/UI/SLXPreviewGrid/Filter/_previewGridFilterMixin"],function(_1b8d,_1b8e,_1b8f){var _1b90=_1b8d("Sage.UI.SLXPreviewGrid.Filter.Lookup",[_1b8e,_1b8f],{okText:"OK",lookupStructure:[],lookupGridOptions:{},lookupStoreOptions:{},postCreate:function(){this.inherited(arguments);var _1b91={structure:this.lookupStructure,gridOptions:this.lookupGridOptions,storeOptions:this.lookupStoreOptions,isModal:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.name,dialogButtonText:this.okText};this._lup=new Sage.UI.Controls.Lookup({id:this.id+"_lup",config:_1b91,required:false},this.domNode);var div=document.createElement("div");this.domNode.appendChild(div);dojo.place(this._lup.domNode,div,"only");},getQuery:function(){var obj=this._lup.get("selectedObject");if(obj&&obj["$key"]){return this.field+" eq '"+obj["$key"]+"'";}return "";},reset:function(){this._lup.set("selectedObject",null);},getState:function(){return {"value":this._lup.get("selectedObject")};},applyState:function(state){if(state){this._lup.set("selectedObject",state["value"]||"");}}});return _1b90;});},"Sage/Data/SingleEntryPropertySDataStore":function(){define("Sage/Data/SingleEntryPropertySDataStore",["Sage/Data/SingleEntrySDataStore","dojo/_base/declare"],function(_1b92,_1b93){var _1b94=_1b93("Sage.Data.SingleEntryPropertySDataStore",_1b92,{propertyName:null,fetch:function(_1b95){var _1b96=this._getRequest(_1b95),key;if(this.sort){_1b96.setQueryArg("orderby",this.sort);}this.verifyService();if(_1b95.predicate){if(this._entity&&(_1b95.predicate===this._entity.$key)&&this._okToCache){if(_1b95.onComplete){_1b95.onComplete.call(_1b95.scope||this,this._entity,_1b95);return;}}_1b96.setResourceSelector(_1b95.predicate);}if(this.select&&this.select.length>0){_1b96.setQueryArg("select",this.select.join(","));}if(this.include&&this.include.length>0){_1b96.setQueryArg("include",this.include.join(","));}if(this.predicate&&this.predicate.length>0){_1b96.setResourceSelector(this.predicate);}if(_1b95.beforeRequest){_1b95.beforeRequest.call(_1b95.scope||this,_1b96);}_1b96.setQueryArg("startIndex",_1b95.start+1);_1b96.setQueryArg("count",_1b95.count||100);key=_1b96.readFeed({success:dojo.hitch(this,this.onSuccess,_1b95),failure:dojo.hitch(this,this.onFailure,_1b95)});return {abort:dojo.hitch(this,this.abortRequest,key)};},abortRequest:function(key){this.service.abortRequest(key);},onSuccess:function(_1b97,feed){if(_1b97.onBegin){_1b97.onBegin.call(_1b97.scope||this,feed.$totalResults,_1b97);}if(_1b97.onComplete){_1b97.onComplete.call(_1b97.scope||this,feed.$resources,_1b97);}},_getRequest:function(_1b98){if(!this._request){var req=new Sage.SData.Client.SDataResourcePropertyRequest(this.service);req.setResourceKind(this.resourceKind);req.setResourceProperty(this.propertyName);this._request=req;}return this._request;},});return _1b94;});},"Sage/MainView/JobMgr/nls/JobDefinitionsListPanelConfig":function(){define("Sage/MainView/JobMgr/nls/JobDefinitionsListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_1b99,lang){var nls={root:{colNameJobName:"Job Name",colNameDescription:"Description",colNameType:"Type"}};return lang.mixin(_1b99,nls);});},"Sage/MainView/ActivityMgr/nls/RecurringEditor":function(){define("Sage/MainView/ActivityMgr/nls/RecurringEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1b9a,lang){var nls={root:{activityOccurrsText:"This activity occurs...",onceText:"Once",dailyText:"Daily",weeklyText:"Weekly",monthlyText:"Monthly",yearlyText:"Yearly",occursOnceText:"This activity occurs only once",everyText:"Every",daysText:"Day(s)",daysAfterText:"Day(s) after completion",startRecurringText:"Start Recurring: ",endAfterText:"End After",endOnText:"End Recurring",occurrencesText:"occurrences",weeksOnText:"Week(s) on",monText:"Monday",tueText:"Tuesday",wedText:"Wednesday",thurText:"Thursday",friText:"Friday",satText:"Saturday",sunText:"Sunday",weeksAfterText:"Week(s) after completion",monthsOnText:"Month(s) on day",monthsOnTheText:"Month(s) on the",monthsAfterText:"Month(s) after completion",firstText:"1st",secondText:"2nd",thirdText:"3rd",fourthText:"4th",lastText:"last",yearsOnText:"Year(s) on",yearsAfterText:"Year(s) after completion",janText:"January",febText:"February",marText:"March",aprText:"April",mayText:"May",junText:"June",julText:"July",augText:"August",sepText:"September",octText:"October",novText:"November",decText:"December",theText:"The",inText:"in"}};return lang.mixin(_1b9a,nls);});},"Sage/MainView/ReportMgr/Crystal/nls/CrystalReportsUtility":function(){define("Sage/MainView/ReportMgr/Crystal/nls/CrystalReportsUtility",["Sage/LanguageList","dojo/_base/lang"],function(_1b9b,lang){var nls={root:{txtCurrentUser:"Current User"}};return lang.mixin(_1b9b,nls);});},"Sage/MainView/JobMgr/BaseListPanelConfig":function(){define("Sage/MainView/JobMgr/BaseListPanelConfig",["Sage/_ConfigurationProvider","Sage/Services/JobService","Sage/Data/SDataServiceRegistry","Sage/Data/SDataStore","dijit/Menu","dijit/PopupMenuItem","dijit/MenuSeparator","Sage/UI/MenuItem","dojo/i18n!./nls/BaseListPanelConfig","dijit/registry","dojo/_base/declare"],function(_1b9c,_1b9d,_1b9e,_1b9f,Menu,_1ba0,_1ba1,_1ba2,_1ba3,_1ba4,_1ba5){var _1ba6=_1ba5("Sage.MainView.JobMgr.BaseListPanelConfig",[_1b9c],{list:false,detail:false,summary:false,toolBar:false,_listId:false,_store:false,_sDataService:false,_where:false,_sort:false,_select:false,_include:false,_structure:false,_currentUserId:false,_resourceKind:false,_nlsResources:false,_securedAction:"",keyField:"$key",hasCompositeKey:false,_menuItems:null,_contextMenu:false,_summaryformaterScope:false,entityName:false,rebuildMenus:true,rebuildOnRefresh:false,constructor:function(){var _1ba7=Sage.Services.getService("JobService");this._sDataService=_1ba7.getSchedulingSDataService();this._nlsResources=_1ba3;var _1ba8=Sage.Services.getService("ClientContextService");if(_1ba8){if(_1ba8.containsKey("userID")){this._currentUserId=_1ba8.getValue("userID");}}this._include=this._getInclude();this._menuItems=[];},rebuild:function(){this._where=this._getWhere();this._structure=this._getStructure();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();},_getListConfig:function(){if(!this._store){this._store=this._getStore();}else{this._store.where=this._where;}var _1ba9={id:this._listId,structure:this._structure,store:this._store,selectedRegionContextMenuItems:this._getListContextMenuItems(),onSelectedRegionContextMenu:this._onListContext,selectionMode:"single"};return _1ba9;},_getStore:function(){var store=new _1b9f({id:this._listId,service:this._sDataService,resourceKind:this._resourceKind,include:this._include,select:this._select,sort:this._sort,where:this._where});return store;},_getSelect:function(){var _1baa=[];return _1baa;},_getInclude:function(){var _1bab=[];return _1bab;},_getSort:function(){var sort=[];return sort;},_getWhere:function(){var where="";return where;},_getStructure:function(){var _1bac=[];return _1bac;},_getSummaryConfig:function(){var store=new _1b9f({id:this._listId,service:this._sDataService,resourceKind:this._resourceKind,include:[],select:["$key"],where:this._where});var _1bad=[{field:"$key",formatter:"formatSummary",width:"100%",name:"Summary View"}];var _1bae=this._getFormatterScope();var _1baf={structure:_1bad,layout:"layout",store:store,rowHeight:170,rowsPerPage:10,formatterScope:_1bae};return _1baf;},_getFormatterScope:function(){return false;},_getDetailConfig:function(){return false;},_getToolBars:function(){var _1bb0={items:[]};return _1bb0;},_getListContextMenuItems:function(){if(!this._contextMenu){return;}if(this._menuItems.length>0){return this._menuItems;}if(!Sage.UI.DataStore.ContextMenus){return [];}if(!Sage.UI.DataStore.ContextMenus.listContextMenu){return [];}if(this._menuItems.length>0){this._menuItems[0].destroyDescendants();}this._menuItems=[];var _1bb1=Sage.UI.DataStore.ContextMenus.listContextMenu.items;var len=_1bb1.length;for(var i=0;i<len;i++){var mDef=_1bb1[i];if(mDef.id===this._currentListContextSubMenu){this._buildChildMenu(mDef.submenu,null);}}return this._menuItems;},_getGridMenu:function(){var _1bb2=dijit.byId("_listContextmenu");return _1bb2;},_buildChildMenu:function(_1bb3,_1bb4){var len=_1bb3.length;for(var i=0;i<len;i++){var mDef=_1bb3[i];if(mDef.submenu.length>0){var _1bb5=new Menu();this._buildChildMenu(mDef.submenu,_1bb5);var _1bb6=new _1ba0({label:mDef.text,popup:_1bb5});if(_1bb4){_1bb4.addChild(_1bb6);}else{this._menuItems.push(_1bb6);}}else{var _1bb7=null;if((mDef.text==="-")||(mDef.text===" ")||(mDef.isspacer)){_1bb7=new _1ba1();}else{var href=mDef.href;if(href.indexOf("javascript:")<0){href=dojo.string.substitute("javascript:${0}()",[href]);}_1bb7=new _1ba2({label:mDef.text||"...",icon:mDef.img,title:mDef.tooltip||"",ref:href,onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}});}if(_1bb4){_1bb4.addChild(_1bb7);}else{this._menuItems.push(_1bb7);}}}},_onListContext:function(){},getFilterConfig:function(_1bb8,entry,_1bb9){var _1bba=this._sDataService;var _1bbb=_1bb8;var _1bbc=this.entityName;var _1bbd=this._resourceKind;var where=this._where;var _1bbe={};var _1bbf=new Sage.SData.Client.SDataResourcePropertyRequest(_1bbb);_1bbf.setResourceKind("executions");_1bbf.setResourceSelector("\""+_1bbc+"\"");_1bbf.setResourceProperty("filters");_1bbf.setQueryArg("where","filterType ne \"analyticsMetric\"");_1bbf.setQueryArg("count",20);_1bbe["groupId"]=this._listId;_1bbe["store"]=new _1b9f({executeReadWith:"readFeed",request:_1bbf});var _1bc0=new Sage.SData.Client.SDataResourcePropertyRequest(_1bba);_1bc0.setResourceKind(_1bbd);_1bc0.setResourceProperty("$queries/executeMetric");_1bc0.setQueryArg("_filterName",filter["filterName"]);_1bc0.setQueryArg("orderby","displayName");_1bc0.setQueryArg("_activeFilter",where);_1bbe["createStoreForFilter"]=function(_1bc1){return _1bc1&&_1bc1["filterName"]?new _1b9f({executeReadWith:"readFeed",request:_1bc0}):null;};_1bbe["getFilterManager"]=function(){var _1bc2=_1ba4.byId("list");return _1bc2&&_1bc2.get("filterManager");};return _1bbe;}});return _1ba6;});},"Sage/QuickForms/Design/Editors/nls/DataGridAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/DataGridAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1bc3,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",dataSourceText:"Data Source:",dataSourceTooltipText:"Source of the data for this control such as another control or an entity.",emptyTableRowText:"Empty Table Row Text:",emptyTableRowTooltipText:"Text to display if grid shows no data.",expandableRowsText:"Expandable Rows:",expandableRowsTooltipText:"Allows user to expand grid rows to show more text.",renderVerticalText:"Render Vertically:",renderVerticalTooltipText:"Show grid rows as columns.",showSortIconText:"Show Sort Icon:",showSortIconTooltipText:"Show sort icon on columns that are sortable.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form."}};return lang.mixin(_1bc3,nls);});},"Sage/UI/EditableGrid":function(){define("Sage/UI/EditableGrid",["dojox/grid/DataGrid","dijit/Toolbar","dijit/form/Button","dijit/layout/ContentPane","Sage/Data/WritableSDataStore","Sage/Data/WritableStore","Sage/UI/SDataLookup","dojo/i18n","dojo/_base/lang","Sage/Utility","Sage/UI/ImageButton","Sage/UI/Dialogs","Sage/Utility/_LocalStorageMixin","dojo/i18n!./nls/EditableGrid","Sage/UI/ToolBarLabel","dojo/parser","dojo/dom-construct","dojo/_base/declare","dojo/_base/array"],function(_1bc4,_1bc5,_1bc6,_1bc7,_1bc8,_1bc9,_1bca,i18n,_1bcb,_1bcc,_1bcd,_1bce,_1bcf,_1bd0,_1bd1,_1bd2,_1bd3,_1bd4,array){var _1bd5=_1bd4("Sage.UI.EditableGrid",[_1bc4,_1bcf],{recordCountLabel:null,STORE_KEY_COLUMN_SIZE:"_COLUMN_UNIT_WIDTH_",STORE_NS:"SAGE_UI_EDITABLEGRID",STORE_KEY_SORT:"_SORT_INFO_",lookupControl:null,mode:"",region:"center",_dataChangeConnections:[],_registeredWidgets:null,constructor:function(opts){this.mode=_1bcc.getModeId();if(opts.storeOptions&&opts.storeOptions.isInsertMode){this.mode="insert";}this._dataChangeConnections=[];this._registeredWidgets=[];},_setModeAttr:function(mode){if(this.mode!==mode){this.mode=mode;if(!this.store){return;}if(((mode==="insert")&&(this.store.declaredClass!=="Sage.Data.WritableStore"))||((mode!=="insert")&&(this.store.declaredClass!="Sage.Data.WritableSDataStore"))){this._replaceStore();}}},_getModeAttr:function(){return this.mode;},onBlur:function(){if(this.edit&&this.edit.isEditing()){this.edit.apply();}},postMixInProperties:function(){dojo.mixin(this,_1bd0);dojo.mixin(this,i18n.getLocalization("dijit","common"));this.setEditable();if(!this.storeOptions){this.storeOptions={};}this.ensureValue(this.storeOptions,"pagesize",this.rowsPerPage||20);this.ensureValue(this,"singleClickEdit",true);if(typeof this.contextualCondition==="function"){this.query={fn:this.contextualCondition,scope:this};}else{if(typeof this.contextualCondition==="object"){if(this.contextualCondition.fn){this.ensureValue(this.contextualCondition,"scope",this);this.query=this.contextualCondition;}}}this.structure=[{defaultCell:_1bcb.mixin({defaultValue:""},this.columnDefaults),cells:this.columns}];function _1bd6(item,list){for(var i=0;i<list.length;i++){if(item===list[i]){return;}}list.push(item);};if((this.tabId)&&(this.tabId!=="")){this.addToolsToWorkspaceToolbar();this.currentEntityId=_1bcc.getCurrentEntityId();}else{this.createOwnToolbar();}this._setUserPrefColumnWidths();var cols=this.columns,sel,i,p,inc,parts,_1bd7,field;if(!this.store){sel=this.storeOptions.select||[];for(i=0;i<sel.length;i++){sel[i]=sel[i].replace(/\./g,"/");}inc=this.storeOptions.include||[];for(i=0;i<cols.length;i++){if(cols[i].field){field=cols[i].field;_1bd6(field.replace(/\./g,"/"),sel);}if(cols[i].field.indexOf(".")>0){parts=cols[i].field.split(".");_1bd7="";for(p=0;p<parts.length-1;p++){_1bd7+=parts[p];_1bd6(_1bd7,inc);_1bd7+="/";}}}this.store=this.getStore();this.markClean();}else{sel=this.store.select=this.store.select||[];inc=this.store.include=this.store.include||[];for(i=0;i<sel.length;i++){sel[i]=sel[i].replace(/\./g,"/");}for(i=0;i<cols.length;i++){if(cols[i].field){field=cols[i].field;_1bd6(field.replace(/\./g,"/"),sel);}if(cols[i].field.indexOf(".")>0){parts=cols[i].field.split(".");_1bd7="";for(p=0;p<parts.length-1;p++){_1bd7+=parts[p];_1bd6(_1bd7,inc);_1bd7+="/";}}}}this._setSortInfo();this.inherited(arguments);},postCreate:function(){dojo.connect(this,"onKeyDown",this.customKeyDown);dojo.connect(this,"onResizeColumn",this._onResizeColumn);dojo.subscribe("Sage/events/TabWorkspace/MIDDLE_AREA_DROP",this,this._setMiddleAreaHeight);this.connect(this,"_onNew",this.showLoading);this.connect(this.scroller,"scroll",this._onScroll);dojo.connect(this,"onResizeColumn",this._onScroll);this.setupHeader();this.inherited(arguments);},showLoading:function(){this.showMessage(this.loadingMessage);this._clearData();this.markClean();},headerTemplate:new Simplate(["<div>","<div id=\"{%= $.id %}_HeaderBar\"  data-dojo-type=\"dijit.layout.ContentPane\" gutters=\"false\"  region=\"top\" ","style=\"{%= $.headerStyle %}\" class=\"editable-grid-hbar\">","<div class=\"editable-grid-hbar-left\"></div>","<div class=\"editable-grid-hbar-center\"></div>","<div class=\"editable-grid-hbar-right\"><div id=\"{%= $.gridNodeId %}_recordCountLabel\"></div></div>","</div>","</div>"]),setupHeader:function(){this.recordCountLabel=new _1bd1();this.recordCountLabel.set("label",dojo.string.substitute(this.recordCountFormatString,this._getRecordCount()));var _1bd8=this.headerTemplate.apply(this);_1bd8=dojo.toDom(_1bd8);this.headerContentPane=_1bd2.parse(_1bd8);var _1bd9=dijit.byId(this.gridNodeId);_1bd9.addChild(this.headerContentPane[0]);dojo.place(this.recordCountLabel.domNode,this.gridNodeId+"_recordCountLabel","replace");},resetContextualCondition:function(_1bda){if(typeof _1bda==="function"){this.query={fn:_1bda,scope:this};}else{if(typeof _1bda==="object"){if(_1bda.fn){this.ensureValue(_1bda,"scope",this);this.query=_1bda;}}}this.contextualCondition=_1bda;},_getRecordCount:function(){var _1bdb,_1bdc,_1bdd,count;_1bdb=this.scroller;count=_1bdb.rowCount;if(count<=0){_1bdc=0;_1bdd=0;count=0;}else{_1bdc=(_1bdb.firstVisibleRow===0)?1:_1bdb.firstVisibleRow+1;_1bdd=(_1bdb.lastVisibleRow>=_1bdb.rowCount)?_1bdb.rowCount:_1bdb.lastVisibleRow;}return [_1bdc,_1bdd,count];},_onScroll:function(inTop){if(this.recordCountLabel){this.recordCountLabel.set("label",dojo.string.substitute(this.recordCountFormatString,this._getRecordCount()));}},_setMiddleAreaHeight:function(data){var _1bde=["#",data.tab.ElementId," #",this.id].join("");var self=dojo.query(_1bde)[0];if(self){var _1bdf=["#",data.tab.ElementId," .tws-tab-view-body"].join("");var _1be0=dojo.query(_1bdf)[0];dojo.style(_1be0,"height","10px");TabControl.setViewBodyHeight();}},_setUserPrefColumnWidths:function(){var self=this;dojo.forEach(this.columns,function(col){if(col&&col.field){var key=self._getColumnSizeKey(col),value=self.getFromLocalStorage(key,self.STORE_NS);if(value){col.width=value;}}});},_getColumnSizeKey:function(cell){var _1be1=cell.field.replace(/[\.\$]/g,"_"),id=[this.id,"_",this.STORE_KEY_COLUMN_SIZE,_1be1].join("");return id;},_onResizeColumn:function(_1be2){var cell=this.getCell(_1be2),value=cell.unitWidth,key=this._getColumnSizeKey(cell);this.saveToLocalStorage(key,value,this.STORE_NS);},listenForPageSave:function(){var _1be3=Sage.Services.getService("ClientBindingManagerService");if(_1be3){_1be3.addListener(_1be3.ON_SAVE,this.saveChanges,this);}},removePageSaveListener:function(){var _1be4=Sage.Services.getService("ClientBindingManagerService");if(_1be4){_1be4.removeListener(_1be4.ON_SAVE,this.saveChanges);}},setEditable:function(){var _1be5=true,i;if(this.appliedSecurity){var svc=Sage.Services.getService("RoleSecurityService");if(svc){_1be5=svc.hasAccess(this.appliedSecurity);}}if(this.readOnly){_1be5=false;}if(!_1be5){for(i=0;i<this.columns.length;i++){if(this.columns[i].editable){this.columns[i].editable=false;}}this.editable=false;}else{for(i=0;i<this.columns.length;i++){if(this.columns[i].editable){this.editable=true;break;}}}},onHeaderCellClick:function(e){var r=true;if(this.store.dirtyDataCache.isDirty){var s=Sage.Services.getService("ClientBindingManagerService");r=confirm(s._PageExitWarningMessage);}if(this.columns[e.cell.index].sortable===false||!r||this.mode==="insert"){dojo.stopEvent(e);}else{this.inherited(arguments);var _1be6=this.getSortProps();if(_1be6&&_1be6.length>0){var _1be7=_1be6[0];_1be7.cellIndex=e.cell.index;this.saveToLocalStorage(this.STORE_KEY_SORT+this.id,_1be7,this.STORE_NS);}}},_setSortInfo:function(){var key=this.STORE_KEY_SORT+this.id;var _1be8=this.getFromLocalStorage(key,this.STORE_NS);if(_1be8){if(_1be8.descending){this.sortInfo=(_1be8.cellIndex+1)*-1;}else{this.sortInfo=_1be8.cellIndex+1;}}},ensureValue:function(obj,key,_1be9){obj[key]=obj[key]||_1be9;},amIInATab:function(){if(this.context&&this.context.workspace){return (this.context.workspace.indexOf("TabWorkspace")>-1);}return false;},isMyTabVisible:function(){if(this.amIInATab()&&window.TabControl){return window.TabControl.getState().isTabVisible(this.tabId);}return true;},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.mode!=="insert"){this.listenForPageSave();}if(this.context&&this.context.workspace){if(this.context.workspace.indexOf("TabWorkspace")<=-1){dojo.style(dojo.byId(this.id+"_Container"),"height","300px");var main=dijit.byId(this.gridNodeId);main.resize();}}if(this.amIInATab()&&this.isMyTabVisible()){var _1bea=["#","element_",this.tabId," .formtable"].join("");var _1beb=dojo.query(_1bea)[0];if(_1beb){var _1bec=dojo.byId(this.id+"_Container");if(!_1bec){_1bec=dijit.byId(this.id).getParent();_1bec=_1bec.domNode;}dojo.style(_1bec,"height","300px");}}},destroy:function(){if(this.lookupControl){this.lookupControl.destroy(false);}if(this.toolbar){this.toolbar.destroy(false);}if(this.grid){this.grid.destroy(false);}if(this.store&&this.store.destroy){this.store.destroy(false);}if(this._registeredWidgets){array.forEach(this._registeredWidgets,function(item){item.destroy(false);});this._registeredWidgets=null;}this.removePageSaveListener();this.inherited(arguments);},_replaceStore:function(){dojo.forEach(this._dataChangeConnections,function(_1bed){dojo.disconnect(_1bed);});if(this.store&&this.store.destroy){this.store.destroy(false);}this.store=false;this.store=this.getStore();},getStore:function(){if(this.store){return this.store;}this.storeOptions["isInsertMode"]=(this.mode==="insert");var store=(this.mode!=="insert")?new _1bc8(this.storeOptions):new _1bc9(this.storeOptions);if(this.onDataChange){this._dataChangeConnections.push(dojo.connect(store,"onSet",this.onDataChange));}if(store.onDataChange){this._dataChangeConnections.push(dojo.connect(store,"setValue",store.onDataChange));this._dataChangeConnections.push(dojo.connect(store,"saveNewEntity",store.onDataChange));this._dataChangeConnections.push(dojo.connect(store,"deleteItem",store.onDataChange));this._dataChangeConnections.push(dojo.connect(store,"createItem",store.onDataChange));}this._dataChangeConnections.push(dojo.connect(store,"onSet",this,function(_1bee,_1bef,_1bf0,_1bf1){if(this.mode!=="insert"&&_1bf1){if(this.edit.info.cell&&this.edit.info.cell.widget&&this.edit.info.cell.widget.returnObject===true){if(_1bf0.$key!==_1bf1.$key){this.markDirty();}}else{if(_1bf0!==_1bf1){this.markDirty();}}}}));return store;},customKeyDown:function(e){this.applyEditOnEnter(e);this.navigateOnKeyDown(e);},navigateOnKeyDown:function(e){},applyEditOnEnter:function(e){if(e.charOrCode==13||e.keyCode==13){this.doApplyEdit();this.edit.apply();dojo.stopEvent(e);}},createOwnToolbar:function(){var _1bf2=Sage.Services.getService("RoleSecurityService");var _1bf3=dijit.byId(this.gridNodeId);this.toolbar=new _1bc5({"class":"right-tools","region":"top"});_1bf3.addChild(this.toolbar);for(var i=0;i<this.tools.length;i++){var tool=this.tools[i];if(tool.appliedSecurity&&tool.appliedSecurity!==""){if((_1bf2)&&(!_1bf2.hasAccess(tool.appliedSecurity))){continue;}}var btn=false;if(typeof tool==="string"){switch(tool){case "add":btn=new _1bcd({imageClass:"icon_plus_16x16",tooltip:this.addText,id:this.id+"_addBtn",onClick:_1bcb.hitch(this,function(){this.addNew();})});break;case "delete":btn=new _1bcd({imageClass:"icon_Delete_16x16",tooltip:this.deleteText,id:this.id+"_delBtn",onClick:_1bcb.hitch(this,function(){this.deleteSelected();})});break;case "save":btn=new _1bcd({imageClass:"icon_Save_16x16",tooltip:this.saveText,id:this.id+"_saveBtn",onClick:_1bcb.hitch(this,function(){this.saveChanges();})});break;case "cancel":btn=new _1bcd({imageClass:"icon_Reset_16x16",tooltip:this.cancelText,id:this.id+"_cancelBtn",onClick:_1bcb.hitch(this,function(){this.cancelChanges();})});break;}}else{if((tool.type)&&(tool.type==="Sage.UI.SDataLookup")){var conf=tool.controlConfig||tool;btn=new _1bca(conf);this.lookupControl=btn;}else{btn=new _1bcd({icon:tool.icon||"",imageClass:tool.imageClass||"",id:tool.id,onClick:_1bcb.hitch(tool.scope||this,tool.handler),tooltip:tool.alternateText||tool.tooltip});}}if(btn){this.toolbar.addChild(btn);btn=false;}}this.toolbar.startup();},addToolsToWorkspaceToolbar:function(){if(this.readOnly){return;}this.dirtyDataMsgID=this.tabId+"_dirtydatamsg";var _1bf4=_1bd3.create("span",{"class":"grid-unsaveddata-msg","id":this.dirtyDataMsgID,"style":"display:none;","content":(this.editable)?this.unsavedDataText:""});var _1bf5,_1bf6;switch(this.context.workspace){case "Sage.Platform.WebPortal.Workspaces.Tab.TabWorkspace":if(this.mode!=="insert"){var elem=dojo.query("#"+"element_"+this.tabId+" td.tws-tab-view-title");if(elem){dojo.place(_1bf4,elem[0]);}}_1bf6=["element_",this.tabId].join("");_1bf5=dojo.query(["#",_1bf6," td.tws-tab-view-tools-right"].join(""));break;case "Sage.Platform.WebPortal.Workspaces.MainContentWorkspace":if(this.mode!=="insert"){dojo.place(_1bf4,dojo.query("#"+this.tabId+" span.mainContentHeaderTitle")[0]);}_1bf6=this.tabId;_1bf5=dojo.query("#"+_1bf6+" td.mainContentHeaderToolsRight");break;case "Sage.Platform.WebPortal.Workspaces.DialogWorkspace":_1bf5=dojo.query("td.dialog-tools-right");break;default:}var _1bf7=Sage.Services.getService("RoleSecurityService");var _1bf8=0,_1bf9,_1bfa;for(var i=0;i<this.tools.length;i++){_1bf9="";var tool=this.tools[i];if(typeof tool.mergeControlId!=="undefined"&&tool.mergeControlId.length!==0){_1bfa=dojo.query("[id$="+tool.mergeControlId+"]",dojo.byId("element_"+this.tabId))[0];_1bf9=tool.mergePosition.toLowerCase();}if(!_1bfa){_1bfa=_1bf5[0];_1bf9="";}if(this.mode==="insert"&&!tool.displayInInsert){continue;}if(tool.appliedSecurity&&tool.appliedSecurity!==""){if((_1bf7)&&(!_1bf7.hasAccess(tool.appliedSecurity))){continue;}}if(typeof tool==="string"){switch(tool){case "add":var addid=this.id+"_addBtn";var _1bfb=new _1bcd({id:addid,imageClass:"icon_plus_16x16",onClick:_1bcb.hitch(this,this.addNew),tooltip:this.addText});this._registeredWidgets.push(_1bfb);dojo.place(_1bfb.domNode,_1bf5[0],_1bf8);break;case "delete":var delid=this.id+"_delBtn";var _1bfc=new _1bcd({id:delid,tooltip:this.deleteText,imageClass:"icon_Delete_16x16",onClick:_1bcb.hitch(this,this.deleteSelected)});this._registeredWidgets.push(_1bfc);dojo.place(_1bfc.domNode,_1bf5[0],_1bf8);break;case "save":var _1bfd=this.id+"_saveBtn";var _1bfe=new _1bcd({id:_1bfd,tooltip:this.saveText,imageClass:"icon_Save_16x16",onClick:_1bcb.hitch(this,this.saveChanges)});this._registeredWidgets.push(_1bfe);dojo.place(_1bfe.domNode,_1bf5[0],_1bf8);break;case "cancel":var cclid=this.id+"_cancelBtn";var _1bff=new _1bcd({id:cclid,tooltip:this.cancelText,imageClass:"icon_Reset_16x16",onClick:_1bcb.hitch(this,this.cancelChanges)});this._registeredWidgets.push(_1bff);dojo.place(_1bff.domNode,_1bf5[0],_1bf8);break;}}else{if((tool.type)&&(tool.type==="Sage.UI.SDataLookup")){var conf=tool.controlConfig||tool;var lup=new _1bca(conf);dojo.place(lup.domNode,_1bfa,_1bf8);this.lookupControl=lup;}else{var _1c00=new _1bcd({id:tool.id,icon:tool.icon||"",imageClass:tool.imageClass||"",onClick:_1bcb.hitch(tool.scope||this,tool.handler),tooltip:tool.alternateText||tool.tooltip});this._registeredWidgets.push(_1c00);dojo.place(_1c00.domNode,_1bfa,(_1bf9.length>0)?_1bf9:_1bf8);}}_1bf8++;}},addNew:function(args){if(this.store){this.store.newItem(args);}},addAssociatedItems:function(items,_1c01,_1c02,_1c03){var grid=this;if(_1bcc.getModeId()!=="insert"&&this.store.dirtyDataCache.isDirty){_1bce.raiseQueryDialog("Saleslogix",this.dirtyDataMessage,function(_1c04){if(_1c04){grid.addSelectedItems(items,_1c01,_1c02,_1c03);}},this.okText,this.cancelText);}else{grid.addSelectedItems(items,_1c01,_1c02,_1c03);}},addSelectedItems:function(items,_1c05,_1c06,_1c07){var _1c08=[];var grid=this;for(var i=0;i<items.length;i++){var _1c09=false;for(var k in grid.store.dataCache){var rec=grid.store.dataCache[k];if(rec[_1c06]&&rec[_1c06].$key==items[i].$key){_1c09=true;}}if(_1c09){continue;}var _1c0a={};if(_1bcc.getModeId()!=="insert"){_1c0a[_1c05]={$key:_1bcc.getCurrentEntityId()};}_1c0a[_1c06]={};_1bcc.extend(_1c0a[_1c06],items[i]);delete _1c0a.$key;delete _1c0a.$name;delete _1c0a.$url;_1c08.push(_1c0a);}if(_1c08.length>0){grid.createItems(_1c08,function(){if(_1bcc.getModeId()!=="insert"){__doPostBack("MainContent","");}});}if(_1c07){_1c07.lookupDialog.hide();}},createItems:function(items,_1c0b){if(dojo.isArray(items)){var store=this.store;var _1c0c=items.length;if(typeof console!=="undefined"){}var _1c0d=function(arg1){this.currentCount=this.currentCount+1;if(typeof console!=="undefined"){if(arg1&&typeof arg1!=="undefined"&&arg1.getResponseHeader){}else{if(arg1&&typeof arg1!=="undefined"&&typeof arg1.$httpStatus==="string"){}else{}}}if(this.currentCount===this.totalCount){this.grid.refresh();if(typeof this.onComplete==="function"){this.onComplete.call(this.grid);}}};var scope={grid:this,totalCount:_1c0c,currentCount:0,onResponse:_1c0d,onComplete:_1c0b||null};for(var i=0;i<items.length;i++){store.createItem(items[i],scope);}}else{_1bce.showError(this.createItemsInvalidArrayText);}},deleteSelected:function(_1c0e){var _1c0f=this.selection.getSelected();if(_1c0f.length<1){_1bce.showError(this.noSelectionsText);return;}if(this.mode!=="insert"){if(!this.store._checkPageExitWarningMessage()){return;}}var self=this;var opts={title:"Saleslogix",query:dojo.string.substitute(this.confirmDeleteFmtTxt,[_1c0f.length]),callbackFn:function(_1c10){self.deleteCallback(_1c10,_1c0e,_1c0f);},yesText:this.buttonOk,noText:this.buttonCancel};_1bce.raiseQueryDialogExt(opts);},deleteCallback:function(_1c11,_1c12,_1c13){if(_1c11){var grid=this;var store=this.store;var _1c14=0;for(var i=0;i<_1c13.length;i++){if(this.store.isItem(_1c13[i])){_1c14++;}}grid.selection.clear();this.showLoading();var _1c15=function(arg1,arg2){this.currentCount=this.currentCount+1;if(typeof console!=="undefined"){if(arg1&&typeof arg1!=="undefined"&&arg1.getResponseHeader){}else{}}if(this.currentCount===this.totalCount){grid.refresh();if(typeof this.onComplete==="function"){this.onComplete.call(grid);}}};var scope={grid:grid,totalCount:_1c14,currentCount:0,onResponse:_1c15,onComplete:_1c12||null};for(i=0;i<_1c13.length;i++){if(store.isItem(_1c13[i])){store.deleteItem(_1c13[i],scope);}}if(!this.storeOptions.hasOwnProperty("clearStoreCacheOnDelete")||this.storeOptions.clearStoreCacheOnDelete===true){store.clearCache();}}},cancelChanges:function(){if(this.store&&this.store.revert){this.store.revert();this.markClean();this.refresh();}},saveChanges:function(_1c16){this.onBlur();if(!this.store.save){return;}var _1c17=0;for(var key in this.store.dirtyDataCache){if(key!=="isDirty"){var _1c18=this.store.dirtyDataCache[key];if(this.store.isItem(_1c18)){_1c17++;}}}var _1c19=function(arg1,arg2){this.currentCount=this.currentCount+1;if(typeof console!=="undefined"){if(arg1&&typeof arg1!=="undefined"&&arg1.getResponseHeader){}else{if(arg1&&typeof arg1!=="undefined"&&typeof arg1.$httpStatus==="string"){}else{}}}if(this.currentCount===this.totalCount){this.grid.markClean();this.grid.refresh();if(typeof this.onComplete==="function"){this.onComplete.call(this.grid);}}};var scope={grid:this,totalCount:_1c17,currentCount:0,onResponse:_1c19,onComplete:_1c16||null};this.store.save(scope);},markClean:function(){if(this.dirtyDataMsgID){var _1c1a=dojo.byId(this.dirtyDataMsgID);if(_1c1a){dojo.style(dojo.byId(this.dirtyDataMsgID),"display","none");}var _1c1b=Sage.Services.getService("ClientBindingManagerService");if(_1c1b){_1c1b.clearDirtyAjaxItem(this.id);}}},markDirty:function(){var node=dojo.byId(this.dirtyDataMsgID);if(node){dojo.style(node,"display","inline");}var _1c1c=Sage.Services.getService("ClientBindingManagerService");if(_1c1c){_1c1c.addDirtyAjaxItem(this.id);}},refresh:function(){if(!this.scroller){return;}this._refresh();this.onRefresh();},onRefresh:function(){}});return _1bd5;});},"Sage/TaskPane/ContactTasksTasklet":function(){define("Sage/TaskPane/ContactTasksTasklet",["dojo/i18n!./nls/ContactTasksTasklet","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneContent","Sage/Data/SingleEntrySDataStore","Sage/Data/WritableSDataStore","Sage/MainView/Contact/ContactUserAssociationEditor","dojo/_base/declare","Sage/UI/Dialogs"],function(_1c1d,_1c1e,_1c1f,_1c20,_1c21,_1c22,_1c23,_1c24){var _1c25=_1c23("Sage.TaskPane.ContactTasksTasklet",[_1c1e,_1c1f],{taskItems:[],oAuthProviders:null,endPointId:"",constructor:function(){dojo.mixin(this,_1c1d);this.taskItems=[{taskId:"Associate Contact",type:"Link",displayName:this.associateContactTitle,clientAction:"contactTasksActions.associateContact();",securedAction:"Entities/Contact/AssociateContact"},{taskId:"Disassociate Contact",type:"Link",displayName:this.disAssociateContactTitle,clientAction:"contactTasksActions.disAssociateContact();",securedAction:"Entities/Contact/DisAssociateContact"}];},associateContact:function(){var self=this;this._selectionInfo=this.getSelectionInfo();if(this._selectionInfo.selectionCount===0){_1c24.showError(this.singleSelectionErrorMessage);}else{if(this._selectionInfo.selectionCount>1){_1c24.showError(this.multipleSelectionErrorMessage);}else{var _1c26={"selectionInfo":this._selectionInfo,"action":"associate"};this._setupStore();this._contactUserStore.fetch({predicate:"ContactId eq '"+this._selectionInfo.selectedIds[0]+"'",onComplete:function(_1c27){_1c24.showError(self.associationExistsMessage);},onError:function(){self.prepareSelectedRecords(this.associateContactActionItem(_1c26));},scope:this});}}},disAssociateContact:function(){this._selectionInfo=this.getSelectionInfo();if(this._selectionInfo.selectionCount===0){_1c24.showError(this.noSelectionErrorMessage);}else{this.prepareSelectedRecords(this.confirmDisassociate(this));}},confirmDisassociate:function(self){return function(){var _1c28=self.confirmDisAssociate;if(self._selectionInfo.selectionCount>1){_1c28=self.confirmDisAssociateMultiple;}_1c24.raiseQueryDialog(self.disAssociateDialogTitle,dojo.string.substitute(_1c28,[self._selectionInfo.selectionCount]),function(_1c29){self.disAssociateActionItem(_1c29,self);},self.okButtonText,self.cancelButtonText);};},disAssociateActionItem:function(_1c2a,self){if(_1c2a){self.getSelectionInfo();var _1c2b=this.selectionInfo.selectedIds.join();this._removeContactUsers(_1c2b,self._successfulContactUserDelete,self);}},_removeContactUsers:function(_1c2c,_1c2d,scope){var _1c2e=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");var _1c2f=new Sage.SData.Client.SDataServiceOperationRequest(_1c2e).setResourceKind("ContactUsers").setOperationName("RemoveContactUserAssociations");var entry={"$name":"RemoveContactUserAssociations","request":{"ContactUserId":null,"contactIds":_1c2c,"userIds":null}};_1c2f.execute(entry,{success:function(){},failure:function(){},scope:scope||this});},_successfulContactUserDelete:function(){},_failedContactUserDelete:function(){},_setupStore:function(){if(!this._contactUserStore){this._contactUserStore=new _1c20({include:[],resourceKind:"contactUsers",service:Sage.Data.SDataServiceRegistry.getSDataService("dynamic")});}},associateContactActionItem:function(_1c30,_1c31){return function(){var _1c32=dijit.byId("dlgContactUserAssociation");if(!_1c32){_1c32=new _1c22(_1c30,_1c31);}else{_1c32.setSelectionInfo(_1c30,_1c31);}_1c32.show();};}});return _1c25;});},"Sage/MainView/ActivityManager":function(){define("Sage/MainView/ActivityManager",["Sage/UI/SDataMainViewConfigurationProvider","Sage/UI/ListPanel","Sage/Utility","Sage/Utility/Activity","Sage/MainView/ActivityMgr/ActivityGroupContextService","Sage/Services/ActivityService","Sage/MainView/ActivityMgr/FilterConfigurationProvider","dojo/i18n!./nls/ActivityManager","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","require","Sage/Extensions/Activity/ActivityListCustomTabs/CustomTabsConfig","Sage/Extensions/Activity/ListPanelOverrides/ListPanelOverridesConfig","Sage/Extensions/ActivityRequirements"],function(_1c33,_1c34,_1c35,_1c36,_1c37,_1c38,_1c39,_1c3a,_1c3b,lang,_1c3c,_1c3d,_1c3e,_1c3f){var _1c40=_1c3b("Sage.MainView.ActivityManager",_1c33,{_nlsResources:false,_currentTabId:false,_currentTabDescription:false,_currentUserId:false,_currentKeyField:"$key",_groupContextService:false,_tabNameCache:{},_mainViewName:"ActivityManager",store:false,custTabs:{},custTabConfigs:null,configTypes:null,listPanelOverrides:{},listPanelOverrideConfigs:null,_custTabConfigType:{},constructor:function(_1c41){this._nlsResources=_1c3a;this._currentUserId="x";var _1c42=Sage.Services.getService("ClientGroupContext");if(!_1c42||_1c42.declaredClass!=="Sage.MainView.ActivityMgr.ActivityGroupContextService"){Sage.Services.removeService("ClientGroupContext");_1c42=new _1c37();Sage.Services.addService("ClientGroupContext",_1c42);}var ctx=_1c42.getContext();this._currentTabId=ctx.CurrentGroupID;this._currentTabDescription=ctx.CurrentName;var _1c43=Sage.Services.getService("ClientContextService");if(_1c43){if(_1c43.containsKey("userID")){this._currentUserId=_1c43.getValue("userID");}}this.titlePaneConfiguration={tabs:this._getTabsConfig(),menu:this._getMenuConfig(),titleFmtString:this._nlsResources.titleFmtString||"${0}"};dojo.subscribe("/group/context/changed",this,"_onCurrentGroupChanged");lang.mixin(this.custTabs,_1c3e);lang.mixin(this.listPanelOverrides,_1c3f);this.configTypes=_1c42.groupConfigTypes;if(this.listPanelOverrides&&this.listPanelOverrides.overrideConfigs){this.listPanelOverrideConfigs=this.listPanelOverrides.overrideConfigs;for(var x=0;x<this.listPanelOverrideConfigs.length;x++){this._overrideTab(this.listPanelOverrideConfigs[x].listId,this.listPanelOverrideConfigs[x].newConfig,_1c42.groupConfigTypes);}}if(this.custTabs&&this.custTabs.configTypes){this.custTabConfigs=this.custTabs.configTypes;for(var y=0;y<this.custTabConfigs.length;y++){this._addCustomTab(_1c42.groupConfigTypes,this.custTabConfigs[y]);}}},_setListPanelConfig:function(){var _1c44=Sage.Services.getService("ClientGroupContext");if(_1c44){this.listPanelConfiguration=_1c44.getCurrentListConfig();this.store=this.listPanelConfiguration.list.store;this.service=this.listPanelConfiguration.list.store.service;}return;},_getListPanelConfig:function(){this._setListPanelConfig();return this.listPanelConfiguration;},requestConfiguration:function(_1c45){if(_1c45.success){_1c45.success.call(_1c45.scope||this,this._getListPanelConfig(),this);}},requestTitlePaneConfiguration:function(_1c46){if(_1c46.success){_1c46.success.call(_1c46.scope||this,this.titlePaneConfiguration,this);}},onConfigurationChange:function(obj){},onTitlePaneConfigurationChange:function(){},_setUIForNewTab:function(tabId,_1c47){this._currentTabId=tabId;this._currentTabDescription=_1c47;},_onCurrentGroupChanged:function(args){var _1c48=args["current"];if(!_1c48){var _1c49=Sage.Services.getService("ClientGroupContext");_1c48=_1c49.getContext();}if(dijit.byId("GroupTabs").selectedChildWidget.id!==_1c48.CurrentGroupID){dijit.byId("GroupTabs").selectChild(_1c48.CurrentGroupID);}},_onTabSelected:function(tab){var _1c4a=Sage.Services.getService("ClientGroupContext");var id=tab.id||tab;var _1c4b=_1c4a.getKeyField(id);if(_1c4a){var ctx=_1c4a.getContext();if(ctx.CurrentGroupID===id){return;}this._setUIForNewTab(id,tab.title);_1c4a.setCurrentGroup(id,tab.title,_1c4b);}},_getTabsConfig:function(){var _1c4c={store:false,selectedTabId:this._currentTabId,tabKeyProperty:"key",tabNameProperty:"descriptor",fetchParams:{},staticTabs:this._getStaticTabs(),onTabSelect:dojo.hitch(this,"_onTabSelected"),onTabClose:false,showTabContextMenus:false};return _1c4c;},_getStaticTabs:function(){var _1c4d=Sage.Services.getService("ClientGroupContext");var _1c4e=_1c4d.getStaticTabs();return _1c4e;},_getMenuConfig:function(){return false;},_overrideTab:function(_1c4f,_1c50,_1c51){this._dynamicRequire(_1c50,function(_1c52){for(var i=0;i<_1c51.length;i++){if(_1c51[i].key.toUpperCase()===_1c4f.toUpperCase()){_1c51[i].configProviderType=_1c52;}}});},_addCustomTab:function(_1c53,_1c54){this._dynamicRequire(_1c54.configProviderType,function(_1c55){_1c54.configProviderType=_1c55;_1c53.push(_1c54);});},_dynamicRequire:function(_1c56,_1c57){var _1c58=new _1c3c();_1c3d([_1c56],function(_1c59){_1c58.resolve(_1c59);});_1c58.then(function(_1c5a){_1c57(_1c5a);},function(err){console.error("Error: _dynamicRequire :  Attempted to add an unknown module type .",err);});}});return _1c40;});},"Sage/UI/SLXPreviewGrid/Filter/ActivityDateRange":function(){define("Sage/UI/SLXPreviewGrid/Filter/ActivityDateRange",["dojo/_base/declare","Sage/UI/SLXPreviewGrid/Filter/DateRange"],function(_1c5b,_1c5c){var _1c5d=_1c5b("Sage.UI.SLXPreviewGrid.Filter.ActivityDateRange",[_1c5c],{getQuery:function(){var query=this.inherited(arguments);return query.replace(/Timeless/g,"Activity.Timeless");}});return _1c5d;});},"Sage/MainView/ReportMgr/nls/BaseListPanelConfig":function(){define("Sage/MainView/ReportMgr/nls/BaseListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_1c5e,lang){var nls={root:{titleFmtString:"${0}"}};return lang.mixin(_1c5e,nls);});},"Sage/UI/Alarms/ActivityAlarm":function(){define("Sage/UI/Alarms/ActivityAlarm",["Sage/_Templated","dijit/_Widget","dijit/form/CheckBox","Sage/Utility/Activity","Sage/UI/Alarms/AlarmCountDown","Sage/Link","Sage/UI/Controls/EntityInfoToolTip","dojo/i18n","dojo/i18n!./nls/ActivityAlarm","dojo/_base/declare"],function(_1c5f,_1c60,_1c61,_1c62,_1c63,link,_1c64,i18n,_1c65,_1c66){var _1c67=_1c66("Sage.UI.Alarms.ActivityAlarm",[_1c60,_1c5f],{widgetsInTemplate:true,userActivity:null,selected:false,key:"",_tooltips:[],widgetTemplate:new Simplate(["<div class=\"alarm-item\">","<table style=\"width:100%\" dojoAttachPoint=\"_item\" dojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">","<col width=\"50px\" />","<col width=\"50%\" />","<col width=\"50%\" />","<col width=\"80px\" />","<tr>","{% var imageClass = Sage.Utility.Activity.getActivityImageClass($.userActivity.Activity.Type, \"medium\"); %}","<td class=\"alarm-icon\">","<div class=\"dijitIcon dijitMenuItemIcon Global_Images icon24x24 {%= imageClass %}\" title=\"{%= $.cleanText($.userActivity.Activity.Description) %}\"></div>","<input type=\"checkbox\" data-dojo-type=\"dijit.form.CheckBox\" size=\"30px\" dojoAttachPoint=\"_checkbox\" />","</td>","<td class=\"alarm-content\">","{% var desc = $.userActivity.Activity.Description;if (!desc) { desc = Sage.Utility.Activity.getActivityTypeName($.userActivity.Activity.Type); } %}","<div class=\"alarm-description\">","{% if ($.userActivity.Activity.Recurring) { %}<div class=\"Global_Images icon16x16 icon_recurring\" title=\"{%= $.recurringText %}\" > </div>&nbsp;&nbsp;{% } %}","{% if ($.userActivity.Status === \"asUnconfirmed\") { %}","<a href=\"javascript:Sage.Link.confirmActivityFor('{%= $.userActivity.Activity.$key %}', '{%= $.userActivity.User.$key %}')\">{%= desc %}</a>","{% } else { %}","<a href=\"javascript:Sage.Link.editActivity('{%= $.userActivity.Activity.$key %}', {%= $.userActivity.Activity.Recurring %})\">{%= desc %}</a>","{% } %}","</div>","<div>{%= Sage.Utility.Activity.formatActivityStartDate($.userActivity.Activity.StartDate) %}</div>","{% if (($.userActivity.Activity.LeadId) && ($.userActivity.Activity.LeadId.trim() !== \"\")) { %}","<div id=\"{%= $.userActivity.Activity.$key %}_lead\" dojoAttachPoint=\"_leadnode\">","{%= $.leadText %}: <a href=\"lead.aspx?entityid={%= $.userActivity.Activity.LeadId %}\">{%= $.userActivity.Activity.LeadName %}</a>","</div>","{% if ($.userActivity.Activity.AccountName !== \"\") { %}","<div>{%= $.companyText %}: {%= $.userActivity.Activity.AccountName %}</div>","{% } %}","{% } else { %}","{% if ($.userActivity.Activity.ContactName !== \"\") { %}","<div id=\"{%= $.userActivity.Activity.$key %}_con\" dojoAttachPoint=\"_connode\">","{%= $.contactText %}: <a href=\"Contact.aspx?entityid={%= $.userActivity.Activity.ContactId %}\">{%= $.userActivity.Activity.ContactName %}</a>","</div>","{% } %}","{% if ($.userActivity.Activity.AccountName !== \"\") { %}","<div id=\"{%= $.userActivity.Activity.$key %}_acc\" dojoAttachPoint=\"_accnode\">","{%= $.accountText %}: <a href=\"Account.aspx?entityid={%= $.userActivity.Activity.AccountId %}\">{%= $.userActivity.Activity.AccountName %}</a>","</div>","{% } %}","{% } %}","</td><td class=\"alarm-content\">","{% if ($.userActivity.Activity.Location) { %}","<div id=\"{%= $.userActivity.Activity.$key %}_Location\" dojoAttachPoint=\"_location\">","{%= $.locationText %}: {%= $.userActivity.Activity.Location %}&nbsp;","</div>","{% } %}","{% if ($.userActivity.Activity.OpportunityName) { %}","<div id=\"{%= $.userActivity.Activity.$key %}_opp\" dojoAttachPoint=\"_oppnode\">","{%= $.opportunityText %}: <a href=\"Opportunity.aspx?entityid={%= $.userActivity.Activity.OpportunityId %}\">{%= $.userActivity.Activity.OpportunityName %}</a>","</div>","{% } %}","{% if ($.userActivity.Activity.TicketNumber) { %}","<div id=\"{%= $.userActivity.Activity.$key %}_tick\" dojoAttachPoint=\"_ticknode\">","{%= $.ticketText %}: <a href=\"Ticket.aspx?entityid={%= $.userActivity.Activity.TicketId %}\">{%= $.userActivity.Activity.TicketNumber %}</a>","</div>","{% } %}","</td>","<td class=\"alarm-countdownContainer\">","<div data-dojo-type=\"Sage.UI.Alarms.AlarmCountDown\" startDate=\"{%= $.userActivity.Activity.StartDate %}\"></div>","</td>","</tr>","</table>","</div>"]),constructor:function(){dojo.mixin(this,_1c65);},postCreate:function(){this.inherited(arguments);this._checkbox.set("checked",this.selected);this._setupTooltips();},_setUserActivityAttr:function(ua){this.userActivity=ua;this.key=ua["$key"];},_setupTooltips:function(){if(this.userActivity.Activity.AccountName!==""){this._tooltips.push(new _1c64({connectId:this._accnode,position:["below"],entityName:"accounts",entityId:this.userActivity.Activity.AccountId}));}if(this.userActivity.Activity.ContactName!==""){this._tooltips.push(new _1c64({connectId:this._connode,position:["below"],entityName:"contacts",entityId:this.userActivity.Activity.ContactId}));}if(this.userActivity.Activity.LeadName!==""){this._tooltips.push(new _1c64({connectId:this._leadnode,position:["below"],entityName:"leads",entityId:this.userActivity.Activity.LeadId}));}},closeTooltips:function(){for(var i=0;i<this._tooltips.length;i++){this._tooltips[i].close();}},cleanText:function(str){if(!str){return "";}var _1c68=new RegExp("[/:\"*?<>|\r\n'\"`]+","g");return str.replace(_1c68,"");},_onHover:function(){dojo.addClass(this.domNode,"alarm-item-hover");},_onUnhover:function(){dojo.removeClass(this.domNode,"alarm-item-hover");},_onClick:function(){this.selected=!this.selected;this._checkbox.set("checked",this.selected);this._setSelectedStyle();},_setSelectedAttr:function(_1c69){this.selected=_1c69;this._checkbox.set("checked",this.selected);this._setSelectedStyle();},_getSelectedAttr:function(){return this.selected;},_setSelectedStyle:function(){if(this.selected){dojo.addClass(this.domNode,"alarm-item-selected");}else{dojo.removeClass(this.domNode,"alarm-item-selected");}}});return _1c67;});},"Sage/UI/Controls/Email":function(){define("Sage/UI/Controls/Email",["dijit/_Widget","Sage/_Templated","Sage/UI/Controls/TextBox","dojox/validate/regexp","dojo/_base/declare","Sage/Utility"],function(_1c6a,_1c6b,_1c6c,_1c6d,_1c6e,_1c6f){var _1c70=_1c6e("Sage.UI.Controls.Email",[_1c6a,_1c6b],{widgetTemplate:new Simplate(["<div class=\"email\" slxcompositecontrol=\"true\" id=\"{%= $.id %}\" >","<input data-dojo-type=\"Sage.UI.Controls.TextBox\" name=\"{%= $.name %}\" ","data-dojo-props=\"textWithIcons: {%= $.buttonVisible %}\"","dojoAttachPoint=\"focusNode\" type=\"text\" style=\"\" ","hotKey=\"{%= $.hotKey %}\" ","{% if($.disabled === \"disabled\") { %} ","disabled=\"disabled\" ","{% } %}","{% if($.readonly === \"readonly\") { %} ","readonly=\"readonly\" ","{% } %}","{% if ($.disabled !== \"disabled\") { %} "," dojoAttachEvent=\"onChange:_onChange, onDblClick:sendEmail, regExpGen:regExpGen\" ","{% } %}"," tabindex=\"{%= $.tabIndex %}\" ","value=\"{%= $.email %}\" required=\"{%= $.required %}\" ","id=\"{%= $.id %}_emailText\" maxlength=\"{%= $.maxLength %}\" > ","{% if ($.buttonVisible && $.disabled !== \"disabled\") { %}","<img alt=\"{%= $.buttonToolTip %}\" tabindex=\"{%= $.tabIndex %}\" data-dojo-attach-event=\"ondijitclick: sendEmail\" ","style=\"padding-left:0;cursor: pointer; vertical-align: left;\" ","src=\"{%= $.buttonImageUrl %}\" ","title=\"{%= $.buttonToolTip %}\" id=\"{%= $.id %}_emailButton\"> ","{% } %}","</div>"]),shouldPublishMarkDirty:true,name:"",autoPostBack:false,displayMode:"",_class:"",textboxToolTip:"",textboxStyle:"",readonly:"",disabled:"",hotKey:"",maxLength:128,buttonVisible:true,buttonImageUrl:"",buttonToolTip:"",buttonStyle:"",required:false,tabIndex:0,email:"",emailId:"",constructor:function(_1c71){_1c71.id=_1c71.emailId;},postCreate:function(){this.formatEmail();this.inherited(arguments);},formatEmail:function(){dojo.style(this.focusNode.focusNode,"color","#000099");},widgetsInTemplate:true,_onChange:function(_1c72){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}this.formatEmailChange();},regExpGen:function(){var _1c73="[^< ]+@[^< ]+\\.+.[^< ]*?";return _1c73;},formatEmailChange:function(){if(this.email!==this.focusNode.value){this.email=this.focusNode.value;}},sendEmail:function(){var email=this.email;email="mailto:"+email;document.location.href=email;}});return _1c70;});},"Sage/Library/FolderHandler":function(){define("Sage/Library/FolderHandler",["Sage/Data/SDataServiceRegistry","Sage/Services/RoleSecurityService","Sage/UI/Dialogs","Sage/Utility","dijit/ProgressBar","dojo/i18n","dojo/parser","dojo/string","dojo/_base/lang","dojo/i18n!./nls/FolderHandler"],function(_1c74,_1c75,_1c76,_1c77,_1c78,i18n,_1c79,_1c7a,dLang,nls){Sage.namespace("Library.FolderHandler");dojo.mixin(Sage.Library.FolderHandler,{_getNewRequest:function(){var _1c7b=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Library.FolderHandler._system);_1c7b.setResourceKind("libraryDirectories");_1c7b.setQueryArg("format","json");return _1c7b;},_initSecurity:function(){this.can.add=this._roles.hasAccess("Entities/LibraryDirs/Add");this.can.edit=this._roles.hasAccess("Entities/LibraryDirs/Edit");this.can["delete"]=this._roles.hasAccess("Entities/LibraryDirs/Delete");this.can.manage=(this._roles.hasAccess("Administration/Manage/Library")||this._roles.hasAccess("Administration/View"));},_roles:null,_system:null,can:{add:false,edit:false,"delete":false,manage:false},resources:{},init:function(){Sage.Library.FolderHandler._roles=Sage.Services.getService("RoleSecurityService");Sage.Library.FolderHandler._initSecurity();Sage.Library.FolderHandler._system=_1c74.getSDataService("system");dLang.mixin(Sage.Library.FolderHandler.resources,nls);},addFolder:function(_1c7c,_1c7d,_1c7e,_1c7f){if(!(Sage.Library.FolderHandler.can.add||Sage.Library.FolderHandler.can.manage)){Sage.Library.FolderHandler.showAccessError();return;}var _1c80=Sage.Library.FolderHandler._getNewRequest();_1c80.create({parentId:_1c7c,directoryName:_1c7d},{scope:this,success:function(entry){if(_1c7e&&typeof _1c7e==="function"){_1c7e(entry);}},failure:function(xhr,sdata){if(_1c7f&&typeof _1c7f==="function"){_1c7f(xhr,sdata);}else{_1c77.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FolderHandler.resources.AddFolderError});}}});},deleteFolder:function(_1c81,_1c82,_1c83){if(!(Sage.Library.FolderHandler.can["delete"]||Sage.Library.FolderHandler.can.manage)){Sage.Library.FolderHandler.showAccessError();return;}var _1c84=Sage.Library.FolderHandler._getNewRequest();_1c84.setResourceSelector("'"+_1c81+"'");_1c84["delete"]({},{scope:this,ignoreETag:true,success:function(){if(_1c82&&typeof _1c82==="function"){_1c82();}},failure:function(xhr,sdata){if(_1c83&&typeof _1c83==="function"){_1c83(xhr,sdata);}else{_1c77.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FolderHandler.resources.DeleteFolderError});}}});},getOpenFolderEtag:function(item){if(item){return item.$etag;}var _1c85=dijit.byId("libraryTree");var etag=(!(_1c85.selectedNode)||_1c85.selectedNode.item.root)?_1c85.selectedNode.item.root.$etag[0]:_1c85.selectedNode.item.$etag[0];return etag;},getOpenFolderName:function(){var _1c86=dijit.byId("libraryTree");return _1c86.selectedNode.label;},handleDeleteFolderClicked:function(_1c87,event){if(Sage.Library.Manager.getOpenFolderId()==Sage.Library.Manager.getRootId()){Sage.UI.Dialogs.showWarning(Sage.Library.FolderHandler.resources.DontDeleteRoot);return;}var _1c88=Sage.Library.FolderHandler.getOpenFolderName();if(_1c88!==""){var msg=_1c7a.substitute(Sage.Library.FolderHandler.resources.DeleteFolderCnfmFmt,[_1c88]);Sage.UI.Dialogs.raiseQueryDialog(Sage.Library.FolderHandler.resources.Confirm,msg,Sage.Library.FolderHandler.handleDeletefolderConfirmed,Sage.Library.FolderHandler.resources.Yes,Sage.Library.FolderHandler.resources.No,"questionIcon");}else{Sage.UI.Dialogs.showInfo(Sage.Library.FolderHandler.resources.PleaseSelectFolder);}},handleDeletefolderConfirmed:function(ok){if(ok){Sage.Library.FolderHandler.deleteFolder(Sage.Library.Manager.getOpenFolderId(),function(){dojo.publish("/sage/library/manager/libraryDirs/refresh","");});}},handleAddFolder:function(_1c89,event){Sage.UI.Dialogs.raiseInputDialog(Sage.Library.FolderHandler.resources.NewFolder,Sage.Library.FolderHandler.resources.EnterFolderName,Sage.Library.FolderHandler.handleAddFolderCallback,Sage.Library.FolderHandler.resources.OK,Sage.Library.FolderHandler.resources.Cancel);},handleAddFolderCallback:function(ok,text){if(ok){var dirid=Sage.Library.Manager.getOpenFolderId();Sage.Library.FolderHandler.addFolder(dirid,text,function(entry){if(typeof console!=="undefined"){}dojo.publish("/sage/library/manager/libraryDirs/refresh","");});}},handleEditFolderName:function(_1c8a,event){if(Sage.Library.Manager.getOpenFolderId()==Sage.Library.Manager.getRootId()){Sage.UI.Dialogs.showWarning(Sage.Library.FolderHandler.resources.DontEditRoot);return;}var _1c8b=Sage.Library.FolderHandler.getOpenFolderName();Sage.UI.Dialogs.raiseInputDialog(Sage.Library.FolderHandler.resources.NewFolder,Sage.Library.FolderHandler.resources.EnterNewFolderName,Sage.Library.FolderHandler.handleEditFolderNameCallback,Sage.Library.FolderHandler.resources.OK,Sage.Library.FolderHandler.resources.Cancel,_1c8b,"[^\\\\/:\"*?<>|\r\n]+",Sage.Library.FolderHandler.resources.InvalidFolderName);},handleEditFolderNameCallback:function(ok,text){if(ok){var dirid=Sage.Library.Manager.getOpenFolderId();var etag=Sage.Library.FolderHandler.getOpenFolderEtag();Sage.Library.FolderHandler.renameFolder(dirid,text,etag,function(entry){if(typeof console!=="undefined"){}dojo.publish("/sage/library/manager/libraryDirs/refresh","");});}},handleFolderClicked:function(item,node){var _1c8c=dijit.byId("btnDeleteFolder");var _1c8d=dijit.byId("btnEditFolder");if((typeof _1c8c!=="undefined")&&(_1c8c!==null)&&(_1c8d!==null)){if(item.root){_1c8c.set("disabled",true);_1c8d.set("disabled",true);}else{_1c8c.set("disabled",false);_1c8d.set("disabled",false);}}dojo.publish("/sage/library/manager/libraryDocuments/refresh",item);},renameFolder:function(_1c8e,_1c8f,etag,_1c90,_1c91){if(!(Sage.Library.FolderHandler.can.edit||Sage.Library.FolderHandler.can.manage)){Sage.Library.FolderHandler.showAccessError();return;}var _1c92=Sage.Library.FolderHandler._getNewRequest();_1c92.setResourceSelector("'"+_1c8e+"'");_1c92.update({$etag:etag,directoryId:_1c8e,directoryName:_1c8f},{scope:this,success:function(entry){if(_1c90&&typeof _1c90==="function"){_1c90(entry);}},failure:function(xhr,sdata){if(_1c91&&typeof _1c91==="function"){_1c91(xhr,sdata);}else{if(xhr.readyState==4&&xhr.status==412){Sage.UI.Dialogs.showError(Sage.Library.FolderHandler.resources.FolderUpdateConflictError);}else{_1c77.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FolderHandler.resources.RenameFolderError});}}}});},showAccessError:function(){Sage.UI.Dialogs.showError(Sage.Library.FolderHandler.resources.AccessError);}});Sage.Library.FolderHandler.init();return Sage.Library.FolderHandler;});},"Sage/UI/SummaryFormatterScope":function(){define("Sage/UI/SummaryFormatterScope",["Sage/UI/SummaryContainer","Sage/Data/SummaryViewDataManager","Sage/UI/Controls/SummaryAggregate","dojo/_base/lang","dojo/_base/declare"],function(_1c93,_1c94,_1c95,lang,_1c96){var _1c97=_1c96("Sage.UI.SummaryFormatterScope",null,{templateLocation:false,queryName:"",idField:"",dataManager:null,requestConfiguration:false,widgets:[],constructor:function(args){dojo.mixin(this,args);this.widgets=[];this.preFetchResources();this._setupDataManager();},_setupDataManager:function(){this.dataManager=new _1c94();if(Sage.Services.hasService("SummaryViewDataManager")){Sage.Services.removeService("SummaryViewDataManager");}Sage.Services.addService("SummaryViewDataManager",this.dataManager);},formatSummary:function(value,idx){var _1c98,id=idx+"_sum_"+value;if(value===null){return "";}if(this.dataManager===null){this.dataManager=Sage.Services.getService("SummaryViewDataManager");}if(this.dataManager===null){this._setupDataManager();}_1c98=dijit.byId(id);if(_1c98){_1c98.destroy();}_1c98=new _1c93({id:id,templateLocation:this.templateLocation});this.dataManager.requestData(value,_1c98,this.requestConfiguration);this.widgets[idx]=_1c98;return this.widgets[idx];},preFetchResources:function(){var _1c99=["Sage"];var _1c9a=this.templateLocation.split("/");for(var i=0;i<_1c9a.length-1;i++){_1c99.push(_1c9a[i]);}var path="dojo/i18n!"+_1c99.join("/")+"/nls/"+_1c9a[_1c9a.length-1].replace(".html","");require([path],lang.hitch(this,function(nls){lang.mixin(this,nls);}));dojo["cache"]("Sage",this.templateLocation);}});return _1c97;});},"Sage/UI/_TitlePaneConfigProvider":function(){define("Sage/UI/_TitlePaneConfigProvider",["dojo/_base/declare"],function(_1c9b){var _1c9c=_1c9b("Sage.UI._TitlePaneConfigProvider",null,{titlePaneConfiguration:{menu:{},tabs:{},titleFmtString:"${0}"},requestTitlePaneConfiguration:function(_1c9d){if(_1c9d.success&&this.titlePaneConfiguration){_1c9d.success.call(_1c9d.scope||this,this.titlePaneConfiguration,this);}}});return _1c9c;});},"Sage/QuickForms/Design/nls/CurrencyControlDesigner":function(){define("Sage/QuickForms/Design/nls/CurrencyControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1c9e,lang){var nls={root:{displayNameText:"Currency"}};return lang.mixin(_1c9e,nls);});},"Sage/LanguageList":function(){define("Sage/LanguageList",[],function(){return {root:null,"af":true,"ar":true,"ar-dz":true,"ar-jo":true,"ar-lb":true,"ar-ma":true,"ar-sy":true,"ar-tn":true,"az":true,"be":true,"bg":true,"ca":true,"cs":true,"da":true,"de":true,"de-at":true,"de-ch":true,"de-li":true,"el":true,"en":true,"en-au":true,"en-bz":true,"en-ca":true,"en-gb":true,"en-jm":true,"en-nz":true,"en-tt":true,"en-us":false,"en-za":true,"es":true,"es-ar":true,"es-bo":true,"es-cl":true,"es-co":true,"es-cr":true,"es-ec":true,"es-gt":true,"es-hn":true,"es-pa":true,"es-pe":true,"es-pr":true,"es-py":true,"es-uy":true,"es-ve":true,"et":true,"eu":true,"fa":true,"fi":true,"fo":true,"fr":true,"fr-be":true,"fr-ca":true,"fr-ch":true,"fr-lu":true,"gd":true,"he":true,"hi":true,"hr":true,"hu":true,"id":true,"is":true,"it":true,"it-ch":true,"ja":true,"kk":true,"ko":true,"lt":true,"lv":true,"mk":true,"ms":true,"mt":true,"nb":true,"nl":true,"nl-be":true,"pl":true,"pt":true,"pt-pt":true,"pt-br":true,"rm":true,"ro":true,"ru":true,"sk":true,"sl":true,"sq":true,"sr":true,"sv":true,"sv-fi":true,"th":true,"tn":true,"tr":true,"ts":true,"uk":true,"ur":true,"ve":true,"vi":true,"xh":true,"zh":true,"zh-cn":true,"zh-hk":true,"zh-sg":true,"zh-tw":true,"zu":true};});},"Sage/MainView/ReportMgr/ReportManagerGroupContextService":function(){define("Sage/MainView/ReportMgr/ReportManagerGroupContextService",["Sage/Groups/BaseGroupContextService","dojo/string","Sage/Data/SDataServiceRegistry","dojo/_base/lang","Sage/MainView/ReportMgr/ReportsListPanelConfig","Sage/MainView/ReportMgr/SchedulesListPanelConfig","Sage/MainView/ReportMgr/HistoryListPanelConfig","dojox/storage/LocalStorageProvider","dojo/_base/declare","dojo/i18n!./nls/ReportManagerGroupContextService"],function(_1c9f,_1ca0,_1ca1,lang,_1ca2,_1ca3,_1ca4,_1ca5,_1ca6,_1ca7){var _1ca8=_1ca6("Sage.MainView.ReportMgr.ReportManagerGroupContextService",_1c9f,{_currentContext:null,_currentTabId:false,_currentTabDescription:false,_currentListConfiguration:false,staticTabsConfiguration:[{key:"reports",descriptor:_1ca7.reportsTabDisplayName,keyField:"$key",configProviderType:_1ca2},{key:"schedules",descriptor:_1ca7.schedulesTabDisplayName,keyField:"$key",configProviderType:_1ca3},{key:"history",descriptor:_1ca7.historyTabDisplayName,keyField:"$key",configProviderType:_1ca4}],_configsHash:false,_LOCALSTORE_NAMESPACE:"ReportManagerView",_STORE_KEY_LASTAB:"_LASTTAB",_tabNameCache:{},constructor:function(){this.inherited(arguments);this._currentContext={};dojo.mixin(this._currentContext,this._emptyContext);this._currentContext.CurrentTableKeyField="$key";this._currentContext.AppliedFilterInfo={};this._currentContext.CurrentFamily=null;this._currentContext.notGroupBased=true;var _1ca9=this._getDefaultTabId();this.setContext(_1ca9,"default");this.unsubscribeConnects();this._subscribes=[];this._subscribes.push(dojo.subscribe(_1ca0.substitute("/ui/filters/default/refresh"),this,this._onDefaultFilterRefresh));this._onDefaultFilterLoad();},getStaticTabs:function(){return this.staticTabsConfiguration;},buildCurrentEntityContext:function(){var _1caa=this._currentContext.CurrentGroupID;if(!_1caa){return;}if(this._currentListConfiguration){this._currentContext.CurrentEntity=this._currentListConfiguration.entityName;this._currentContext.CurrentTableKeyField=this.getKeyField(_1caa);if(!this._currentContext.CurrentName){this._currentContext.CurrentName=this.getGroupName(_1caa);}}},_ensureConfigsHash:function(){if(!this._configsHash){var hash={};for(var i=0;i<this.staticTabsConfiguration.length;i++){var cfg=this.staticTabsConfiguration[i];hash[cfg.key]=lang.mixin(cfg,{instance:false});}this.configsHash=hash;}},_setListConfig:function(){this._ensureConfigsHash();var tabId=this._currentContext.CurrentGroupID;var _1cab=(this.configsHash.hasOwnProperty(tabId))?this.configsHash[tabId]:this.configsHash["groups"];if(!_1cab.instance){_1cab.instance=new _1cab.configProviderType();this.onTabConfigCreated(_1cab.instance);}else{_1cab.instance.rebuild();}this._currentListConfiguration=_1cab.instance;},getCurrentListConfig:function(){this._setListConfig();return this._currentListConfiguration;},getKeyField:function(tabid){this._ensureConfigsHash();var _1cac="$key";if(this.configsHash[tabid]){_1cac=this.configsHash[tabid]["keyField"]||"$key";}return _1cac;},getGroupName:function(tabid){this._ensureConfigsHash();var name="default";if(this.configsHash[tabid]){name=this.configsHash[tabid]["descriptor"]||"default";}return name;},onCurrentGroupChanged:function(_1cad){dojo.publish("/group/context/changed",[_1cad,self]);this._clearFilterManager();var self=this;this._onDefaultFilterLoad(function(){var _1cae=self.getContext();self._saveToLocalStorage(self._STORE_KEY_LASTAB,_1cae.CurrentGroupID);});},_clearFilterManager:function(){var _1caf={};var _1cb0={};dojo.publish("/ui/filters/default/apply",[_1caf,_1cb0,this]);},getContext:function(){if(this._currentContext.CurrentGroupID===null){this.requestContext();}this.buildCurrentEntityContext();return this._currentContext;},requestContext:function(){if(this._isRetrievingContext===true){return;}},setContext:function(id,name){this._currentContext.CurrentGroupID=id;this._currentContext.CurrentName=name;this._setListConfig();this.buildCurrentEntityContext();this._isRetrievingContext=false;this.onContextSet(this._currentContext);},isContextRequired:function(){return !(Sage&&Sage.Groups&&Sage.Groups._groupContext);},setCurrentGroup:function(id,name,_1cb1){if(this._currentContext.CurrentGroupID===id){return;}if(!name||!_1cb1){this._currentContext.CurrentGroupID=id;this._currentContext.CurrentName=false;this.buildCurrentEntityContext();name=this._currentContext.CurrentName;}else{this._currentContext.CurrentTableKeyField=_1cb1;}this.setContext(id,name);this.onCurrentGroupChanged({current:this._currentContext});},_onDefaultFilterLoad:function(_1cb2){},_onDefaultFilterRefresh:function(_1cb3,_1cb4,_1cb5){var _1cb6=this.getContext(),_1cb7=_1ca1.getSDataService("system"),entry={"$name":"applyFilterToEntity","request":{"entityName":_1cb6.CurrentEntity,"filter":dojo.toJson(_1cb5.createValueSet()),"key":_1cb6.CurrentGroupID}},_1cb8=new Sage.SData.Client.SDataServiceOperationRequest(_1cb7).setOperationName("applyFilterToEntity");_1cb8.execute(entry,{});},_saveToLocalStorage:function(key,value,_1cb9){this._saveToSessionStorage(key,value,_1cb9);return;},_getFromLocalStorage:function(key,_1cba){return this._getFromSessionStorage(key,_1cba);},_getFromSessionStorage:function(key,_1cbb){if(!_1cbb){_1cbb=this._LOCALSTORE_NAMESPACE;}var _1cbc=_1cbb+"_"+key;return sessionStorage.getItem(_1cbc);},_saveToSessionStorage:function(key,value,_1cbd){if(!_1cbd){_1cbd=this._LOCALSTORE_NAMESPACE;}var _1cbe=_1cbd+"_"+key;sessionStorage.setItem(_1cbe,value);},_getDefaultTabId:function(){var _1cbf="reports";var _1cc0=this._getUrlTabId();if(_1cc0){_1cc0=this._validateTabId(_1cc0);if(_1cc0){return _1cc0;}}var _1cc1=this._getFromLocalStorage(this._STORE_KEY_LASTAB);if(_1cc1){_1cbf=_1cc1;}else{}if(!this._configsHash){for(var i=0;i<this.staticTabsConfiguration;i++){if(_1cbf===this.staticTabsConfiguration[i]["key"]){return _1cbf;}}}return _1cbf;},_getUrlTabId:function(){var tabId=false,_1cc2="[\\?&]tabId=([^%#]*)",regex=new RegExp(_1cc2),_1cc3=regex.exec(window.location.href);if(_1cc3!==null){tabId=_1cc3[1];}return tabId;},_validateTabId:function(tabId){if(tabId){for(var i=0;i<this.staticTabsConfiguration.length;i++){var cfg=this.staticTabsConfiguration[i];if(cfg.key.toUpperCase()===tabId.toUpperCase()){return cfg.key;}}}return null;},onTabConfigCreated:function(_1cc4){}});if(!Sage.Services.hasService("ClientGroupContext")){Sage.Services.addService("ClientGroupContext",new _1ca8());}else{var _1cc5=Sage.Services.getService("ClientGroupContext");if(_1cc5.declaredClass!=="Sage.MainView.ReportMgr.ReportManagerGroupContextService"){_1cc5.unsubscribeConnects();Sage.Services.removeService("ClientGroupContext");Sage.Services.addService("ClientGroupContext",new _1ca8());}}return _1ca8;});},"Sage/Services/JobService":function(){define("Sage/Services/JobService",["Sage/Utility","Sage/UI/Dialogs","dojo/_base/declare","dojo/string","dojo/i18n!./nls/JobService"],function(_1cc6,_1cc7,_1cc8,_1cc9,_1cca){var _1ccb=_1cc8("Sage.Services.JobService",null,{getSchedulingSDataService:function(){var svc=new Sage.SData.Client.SDataService({serverName:window.location.hostname,virtualDirectory:Sage.Utility.getVirtualDirectoryName()+"/slxdata.ashx",applicationName:"$app",contractName:"scheduling",port:window.location.port&&window.location.port!==80?window.location.port:false,protocol:/https/i.test(window.location.protocol)?"https":false,json:true});return svc;},getJobDefinition:function(_1ccc){if(!_1ccc){_1cc7.showError(_1cc9.substitute(_1cca.txtInvalidParameter,["options"]),"Job Service");return;}if(typeof _1ccc.key!=="string"){_1cc7.showError(_1cc9.substitute(_1cca.txtInvalidParameter,["options.key"]),"Job Service");return;}var svc=this.getSchedulingSDataService();var _1ccd=new Sage.SData.Client.SDataSingleResourceRequest(svc);_1ccd.setQueryArg("include","$descriptors");_1ccd.setResourceKind(_1cc9.substitute("${0}('${1}')",[_1ccc.resourceKind,_1ccc.key]));_1ccd.read({success:function(_1cce){if(_1ccc.success){_1ccc.success(_1cce);}},failure:function(xhr,sdata){var _1ccf="getJobDefinition: "+_1cc9.substitute(_1cca.txtUnexpectedError,[xhr.status,xhr.statusText]);if(_1ccc.failure){_1ccc.failure(xhr,sdata);}}});},getExecution:function(_1cd0){if(!_1cd0){_1cc7.showError(_1cc9.substitute(_1cca.txtInvalidParameter,["options"]),"Job Service");return;}if((typeof _1cd0.triggerId!=="string")&&(typeof _1cd0.executionId!=="string")){_1cc7.showError(_1cc9.substitute(_1cca.txtInvalidParameter,["options.triggerId or options.executionId"]),"Job Service");return;}var svc=this.getSchedulingSDataService();var _1cd1=new Sage.SData.Client.SDataSingleResourceRequest(svc);if(typeof _1cd0.triggerId==="string"){_1cd1.setResourceKind("executions");_1cd1.setQueryArg("include","$descriptors");_1cd1.setQueryArg("where",_1cc9.substitute("triggerId eq '${0}'",[_1cd0.triggerId]));}if(typeof _1cd0.executionId==="string"){_1cd1.setResourceKind(_1cc9.substitute("executions('${0}')",[_1cd0.executionId]));}_1cd1.read({success:function(_1cd2){if(_1cd0.success){_1cd0.success(_1cd2);}},failure:function(xhr,sdata){var _1cd3="getExecution: "+_1cc9.substitute(_1cca.txtUnexpectedError,[xhr.status,xhr.statusText]);console.error(_1cd3);if(_1cd0.failure){_1cd0.failure(xhr,sdata);}}});},interruptExecution:function(_1cd4){if(!_1cd4){_1cc7.showError(_1cc9.substitute(_1cca.txtInvalidParameter,["options"]),"Job Service");return;}if(typeof _1cd4.key!=="string"){_1cc7.showError(_1cc9.substitute(_1cca.txtInvalidParameter,["options.key"]),"Job Service");return;}var _1cd5=this.getSchedulingSDataService();var _1cd6=new Sage.SData.Client.SDataServiceOperationRequest(_1cd5);_1cd6.setApplicationName("$app");_1cd6.setOperationName("interrupt");_1cd6.setResourceKind("executions('"+_1cd4.key+"')");var entry={};_1cd6.execute(entry,{success:function(_1cd7){if(_1cd4.success){_1cd4.success(_1cd7);}},failure:function(xhr,sdata){var _1cd8=_1cc9.substitute(_1cca.txtTriggerJobError,[_1cd4.key,xhr.status,xhr.statusText]);console.error(_1cd8);if(_1cd4.failure){_1cd4.failure(xhr,sdata);}}});},scheduleJob:function(_1cd9){if(!_1cd9){_1cc7.showError(_1cc9.substitute(_1cca.txtInvalidParameter,["options"]),"Job Service");return;}if(typeof _1cd9.key!=="string"){_1cc7.showError(_1cc9.substitute(_1cca.txtInvalidParameter,["options.key"]),"Job Service");return;}var _1cda=this.getSchedulingSDataService();var entry={$descriptor:_1cd9.descriptor?_1cd9.descriptor:"",job:{$key:_1cd9.key},startTimeUtc:_1cd9.startTime,endTimeUtc:_1cd9.endTime,parameters:_1cd9.parameters,cronExpression:_1cd9.cronExpression};var _1cdb=new Sage.SData.Client.SDataApplicationRequest(_1cda);_1cdb.setResourceKind("triggers");_1cdb.execute=function(entry,_1cdc){return _1cdb.service.executeServiceOperation(_1cdb,entry,_1cdc);},_1cdb.execute(entry,{success:function(_1cdd){if(_1cd9.success){_1cd9.success(_1cdd);}},failure:function(xhr,sdata){var _1cde=_1cc9.substitute(_1cca.txtScheduleJobError,[_1cd9.key,xhr.status,xhr.statusText]);console.error(_1cde);if(_1cd9.failure){_1cd9.failure(xhr,sdata);}}});},getTrigger:function(_1cdf){if(!_1cdf){_1cc7.showError(_1cc9.substitute(_1cca.txtInvalidParameter,["options"]),"Job Service");return;}if((typeof _1cdf.triggerId!=="string")){_1cc7.showError(_1cc9.substitute(_1cca.txtInvalidParameter,["options.triggerId"]),"Job Service");return;}var _1ce0=this.getSchedulingSDataService();var _1ce1=new Sage.SData.Client.SDataSingleResourceRequest(_1ce0);_1ce1.setResourceKind(_1cc9.substitute("triggers('${0}')",[_1cdf.triggerId]));_1ce1.read({success:function(_1ce2){if(_1cdf.success){_1cdf.success(_1ce2);}},failure:function(xhr,sdata){var _1ce3="getExecution: "+_1cc9.substitute(_1cca.txtUnexpectedError,[xhr.status,xhr.statusText]);console.error(_1ce3);if(_1cdf.failure){_1cdf.failure(xhr,sdata);}}});},updateTrigger:function(_1ce4){if(!_1ce4){_1cc7.showError(_1cc9.substitute(_1cca.txtInvalidParameter,["options"]),"Job Service");return;}if(typeof _1ce4.key!=="string"){_1cc7.showError(_1cc9.substitute(_1cca.txtInvalidParameter,["options.key"]),"Job Service");return;}var _1ce5=this.getSchedulingSDataService();var entry={$descriptor:_1ce4.descriptor,job:{$key:_1ce4.key},startTimeUtc:_1ce4.startTime,endTimeUtc:_1ce4.endTime,parameters:_1ce4.parameters,cronExpression:_1ce4.cronExpression};var _1ce6=new Sage.SData.Client.SDataSingleResourceRequest(_1ce5);_1ce6.setResourceKind("triggers");_1ce6.setResourceSelector(_1cc9.substitute("'${0}'",[_1ce4.key]));_1ce6.update(entry,{success:function(_1ce7){if(_1ce4.success){_1ce4.success(_1ce7);}},failure:function(xhr,sdata){var _1ce8=_1cc9.substitute(_1cca.txtScheduleJobError,[_1ce4.key,xhr.status,xhr.statusText]);if(_1ce4.failure){_1ce4.failure(xhr,sdata);}}});},deleteScheduledJob:function(key,def){if(!key){return false;}var defer=(typeof def==="object"&&def!==null);var _1ce9=this.getSchedulingSDataService();var _1cea=new Sage.SData.Client.SDataApplicationRequest(_1ce9);_1cea.setApplicationName("$app");_1cea.setQueryArg("format","json");_1cea.setQueryArg("hasErrorHandler","true");_1cea.setResourceKind(_1cc9.substitute("triggers('${0}')",[key]));dojo.xhrDelete({handleAs:"json",url:_1cea.uri.toString(),preventCache:true,load:function(data){if(defer){def.callback(data);}},error:function(error,_1ceb){_1cc6.ErrorHandler.handleHttpError(error,_1ceb);if(defer){def.errback(error);}}});return true;},triggerJob:function(_1cec){if(!_1cec){_1cc7.showError(_1cc9.substitute(_1cca.txtInvalidParameter,["options"]),"Job Service");return;}if(typeof _1cec.key!=="string"){_1cc7.showError(_1cc9.substitute(_1cca.txtInvalidParameter,["options.key"]),"Job Service");return;}var _1ced=this.getSchedulingSDataService();var entry={name:_1cec.key,request:{parameters:_1cec.parameters?_1cec.parameters:[]}};var _1cee=new Sage.SData.Client.SDataServiceOperationRequest(_1ced);_1cee.setApplicationName("$app");_1cee.setOperationName("trigger");_1cee.setResourceKind("jobs('"+_1cec.key+"')");_1cee.execute(entry,{success:function(_1cef){if(_1cec.success){_1cec.success(_1cef);}},failure:function(xhr,sdata){var _1cf0=_1cc9.substitute(_1cca.txtTriggerJobError,[_1cec.key,xhr.status,xhr.statusText]);console.error(_1cf0);if(_1cec.failure){_1cec.failure(xhr,sdata);}}});}});if(!Sage.Services.hasService("JobService")){Sage.Services.addService("JobService",new Sage.Services.JobService());}return _1ccb;});},"Sage/QuickForms/Design/NonVisibleControlContainer":function(){define("Sage/QuickForms/Design/NonVisibleControlContainer",["dojo/query","dojo/topic","dojo/string","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/event","dojo/dom-attr","dojo/dom-class","dojo/NodeList-traverse","dojo/NodeList-manipulate","dijit/registry","dijit/focus","dijit/layout/_LayoutWidget","Sage/_EventMapMixin","Sage/_Templated","dojo/i18n!./nls/NonVisibleControlContainer"],function(query,topic,_1cf1,_1cf2,array,lang,event,_1cf3,_1cf4,_1cf5,_1cf6,_1cf7,focus,_1cf8,_1cf9,_1cfa,_1cfb){return _1cf2("Sage.QuickForms.Design.NonVisibleControlContainer",[_1cf8,_1cf9,_1cfa],{events:{"click":"_onClick","keydown":"_onKeyDown"},widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"design-hidden-container\">","<div class=\"design-hidden-container-header dijit dijitToolbar\">{%: $.headerText %}</div>","<div class=\"design-hidden-container-content\" data-dojo-attach-point=\"containerNode\"></div>","<div>"]),_designGroup:null,_designGroupTopics:null,selections:null,singleSelection:false,designGroup:"default",headerText:"Non-Visual Controls",_getDesignGroupAttr:function(){return this._designGroup;},_setDesignGroupAttr:function(value){if(this._designGroupTopics){array.forEach(this._designGroupTopics,function(topic){this.unsubscribe(topic);},this);}this._designGroup=value;this._designGroupTopics=[this.subscribe(_1cf1.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),this._onDesignerSelected)];},constructor:function(){this.selections=[];lang.mixin(this,_1cfb);},buildRendering:function(){this.inherited(arguments);_1cf3.set(this.domNode,"tabIndex",0);},_onKeyDown:function(evt){},_handleSelectionFor:function(_1cfc,_1cfd){if(_1cfc){var _1cfe=(array.indexOf(this.selections,_1cfc)>-1);if(_1cfd&&!this.singleSelection){if(!_1cfe){array.forEach(this.selections,function(_1cff){query(_1cff.domNode).attr("tabIndex","-1");});this.selections.push(_1cfc);_1cf3.set(_1cfc.domNode,"tabIndex",0);focus.focus(_1cfc.domNode);_1cf4.add(_1cfc.domNode,"design-hidden-item-selected");this.onSelectionChanged(this.selections,true);topic.publish(_1cf1.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),_1cfc,true,this);}}else{this._clearSelectionDom();this._clearSelectionState(false);this.selections=[_1cfc];_1cf3.set(_1cfc.domNode,"tabIndex",0);focus.focus(_1cfc.domNode);_1cf4.add(_1cfc.domNode,"design-hidden-item-selected");this.onSelectionChanged(this.selections);topic.publish(_1cf1.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),_1cfc,true,this);}}else{if(this.singleSelection||!_1cfd){this._clearSelectionDom();this._clearSelectionState();}}},_onClick:function(evt){var node=query(evt.target).closest(".dijitLayoutContainer-child")[0],_1d00=node&&_1cf7.byNode(node),_1d01=evt.shiftKey;this._handleSelectionFor(_1d00,_1d01);},onSelectionChanged:function(_1d02,_1d03){},_clearSelectionDom:function(){if(this.selections.length>0){array.forEach(this.selections,function(_1d04){query(_1d04.domNode).attr("tabIndex","-1").removeClass("design-hidden-item-selected");});}},_clearSelectionState:function(_1d05){if(this.selections.length>0){this.selections=[];if(_1d05!==false){this.onSelectionChanged(this.selections);topic.publish(_1cf1.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),false,false,this);}}},_onDesignerSelected:function(_1d06,_1d07,_1d08){if(_1d06&&_1d08!==this){this._clearSelectionDom();this._clearSelectionState(false);}},clearSelections:function(){this._clearSelectionDom();this._clearSelectionState();},clear:function(){this._clearSelectionState();array.forEach(this.getChildren(),function(child){this.removeChild(child);},this);this.layout();}});});},"Sage/Extensions/ActivityRequirements":function(){define("Sage/Extensions/ActivityRequirements",["Sage/Extensions/Activity/ListPanelOverrides/ActivityListPanelConfig","Sage/Extensions/Activity/ListPanelOverrides/AllOpenListPanelConfig"],function(){return true;});},"url:Sage/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n        <div class=\"dijitIcon dijitMenuItemIcon Global_Images icon16x16 ${imageClass}\" data-dojo-attach-point=\"iconNodeSprite\"></div>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n\n","Sage/Array":function(){define("Sage/Array",[],function(){if(typeof Array.prototype.swap==="undefined"){Array.prototype.swap=function(d,s){if(d>this.length||s>this.length){return;}var tmp=this[d];this[d]=this[s];this[s]=tmp;return this;};}if(typeof Array.prototype.getIndexByProp==="undefined"){Array.prototype.getIndexByProp=function(str,prop){for(var i=0,len=this.length;i<len;i++){if(prop&&prop==="key"){if(str in this[i]){return i;}}else{if(prop&&prop==="value"){for(var p in this[i]){if(this[i].hasOwnProperty(p)){if(this[i][p]===str){return i;}}}}}}};}if(typeof Array.prototype.placeByAttr==="undefined"){Array.prototype.placeByAttr=function(obj,attr){var _1d09=false;if(!this.length){this.push(obj);return;}for(var i=0,len=this.length;i<len;i++){if(this[i][attr]>=obj[attr]){_1d09=true;this.splice(i,0,obj);break;}}if(!_1d09){this.push(obj);}};}if(typeof Array.prototype.removeByAttr==="undefined"){Array.prototype.removeByAttr=function(attr,arg){if(!this.length){return;}for(var i=0,len=this.length;i<len;i++){if(this[i][attr]===arg){this.splice(i,1);break;}}};}if(typeof Array.prototype.filter==="undefined"){Array.prototype.filter=function(fun){"use strict";if(this===null){throw new TypeError();}var t=Object(this);var len=t.length>>>0;if(typeof fun!="function"){throw new TypeError();}var res=[];var thisp=arguments[1];for(var i=0;i<len;i++){if(i in t){var val=t[i];if(fun.call(thisp,val,i,t)){res.push(val);}}}return res;};}return Array;});},"Sage/QuickForms/Design/nls/DataGridControlDesigner":function(){define("Sage/QuickForms/Design/nls/DataGridControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1d0a,lang){var nls={root:{displayNameText:"Data Grid",emptyTableRowStringText:"No records match the selection criteria."}};return lang.mixin(_1d0a,nls);});},"Sage/MainView/ReportMgr/Crystal/CrystalReportConditionEditor":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/CrystalReportConditionEditor.html":"[\r\n    '<div>',\r\n        '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $._nlsResources.dlgCrystalReportConditionDetails_Title %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_dialog_OnCancel, onShow:_dialog_OnShow\" style=\"width: 300px\">',\r\n            '<div data-dojo-type=\"dijit.form.Form\">',\r\n                \r\n                '<table cellspacing=\"10\">',\r\n                    \r\n                    '<tr>',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbConditionType_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',                            \r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbConditionType\" sortByLabel=\"false\" dojoAttachEvent=\"onChange:_cmbConditionType_OnChange\" style=\"width:150px\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trCurrentUser\">',\r\n                        '<td>',\r\n                            '&nbsp;',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input data-dojo-type=\"dijit.form.CheckBox\" dojoAttachPoint=\"chkCurrentUser\" dojoAttachEvent=\"onChange:_chkCurrentUser_OnChange\" /> <label>{%= $._nlsResources.chkCurrentUser_Caption %}</label>',\r\n                        '</td>',                        \r\n                    '</tr>',\r\n                    \r\n                    '<tr dojoAttachPoint=\"trUser\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.lkpUser_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $._nlsResources.lkpUser_Caption %}\" dojoAttachPoint=\"contentPaneLkpUser\" class=\"remove-padding lookup-container\" style=\"width:300px; padding: 0px !important;\"></div>',                            \r\n                        '</td>',                        \r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trGroup\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.lkpGroup_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $._nlsResources.lkpGroup_Caption %}\" dojoAttachPoint=\"contentPaneLkpGroup\" class=\"remove-padding lookup-container\" style=\"width:300px; padding: 0px !important;\"></div>',                            \r\n                        '</td>',\r\n                    '</tr>',                                                       \r\n\r\n\r\n                    '<tr dojoAttachPoint=\"trDateRange\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbDateRange_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbDateRange\" dojoAttachEvent=\"onChange:_cmbDateRange_OnChange\" style=\"width:150px\" >',\r\n                                '<option value=\"DateRange\">{%= $._nlsResources.cmbDateRange_SpecificDates_Caption %}</option>',\r\n                                '<option value=\"ThisWeek\">{%= $._nlsResources.cmbDateRange_ThisWeek_Caption %}</option>',\r\n                                '<option value=\"ThisMonth\">{%= $._nlsResources.cmbDateRange_ThisMonth_Caption %}</option>',\r\n                                '<option value=\"ThisQuarter\">{%= $._nlsResources.cmbDateRange_ThisQuarter_Caption %}</option>',\r\n                                '<option value=\"ThisYear\">{%= $._nlsResources.cmbDateRange_ThisYear_Caption %}</option>',\r\n                                '<option value=\"LastWeek\">{%= $._nlsResources.cmbDateRange_LastWeek_Caption %}</option>',\r\n                                '<option value=\"LastMonth\">{%= $._nlsResources.cmbDateRange_LastMonth_Caption %}</option>',\r\n                                '<option value=\"LastQuarter\">{%= $._nlsResources.cmbDateRange_LastQuarter_Caption %}</option>',\r\n                                '<option value=\"LastYear\">{%= $._nlsResources.cmbDateRange_LastYear_Caption %}</option>',\r\n                                '<option value=\"MonthToDate\">{%= $._nlsResources.cmbDateRange_MonthToDate_Caption %}</option>',\r\n                                '<option value=\"QuarterToDate\">{%= $._nlsResources.cmbDateRange_QuarterToDate_Caption %}</option>',\r\n                                '<option value=\"YearToDate\">{%= $._nlsResources.cmbDateRange_YearToDate_Caption %}</option>',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr dojoAttachPoint=\"trFromDate\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtFromDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtFromDate\" displayDate=\"true\" displayTime=\"false\" label=\"{%= $._nlsResources.dtFromDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr dojoAttachPoint=\"trToDate\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtToDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtToDate\" displayDate=\"true\" displayTime=\"false\" label=\"{%= $._nlsResources.dtToDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n\r\n\r\n                    '<tr dojoAttachPoint=\"trTable\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbTable_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbTables\" style=\"width:150px\" data-dojo-props=\"maxHeight:100\" dojoAttachEvent=\"onChange:_cmbTables_OnChange\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n\r\n                    '<tr dojoAttachPoint=\"trField\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbField_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbFields\" style=\"width:150px\" data-dojo-props=\"maxHeight:100\" dojoAttachEvent=\"onChange:_cmbFields_OnChange\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trOperator\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbOperator_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbOperators\" sortByLabel=\"false\" style=\"width:150px\" dojoAttachEvent=\"onChange:_cmbOperators_OnChange\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trStringValue1\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.txtValue_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtStringValue1\" required=\"false\" dojoType=\"dijit.form.TextBox\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trStringValue2\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.txtValue2_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtStringValue2\" required=\"false\" dojoType=\"dijit.form.TextBox\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trNumericValue1\">',\r\n                        '<td>',\r\n                            '<label dojoAttachPoint=\"lblNumericValue1\">{%= $._nlsResources.txtValue_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtNumericValue1\" required=\"false\" dojoType=\"Sage.UI.Controls.Numeric\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trNumericValue2\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.txtNumericValueTo_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtNumericValue2\" required=\"false\" dojoType=\"Sage.UI.Controls.Numeric\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trDateValue1\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtFromDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtDateValue1\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $._nlsResources.dtFromDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr dojoAttachPoint=\"trDateValue2\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtToDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtDateValue2\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $._nlsResources.dtToDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    \r\n                '</table>',\r\n                \r\n                '<div align=\"right\" style=\"margin-top:10px\">',\r\n                    '<div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdOK\" dojoAttachEvent=\"onClick:_cmdOK_OnClick\">{%= $._nlsResources.cmdOK_Caption %}</div>',\r\n                    '<div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= $._nlsResources.cmdCancel_Caption %}</div>',\r\n                '</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>'\r\n]"}});define("Sage/MainView/ReportMgr/Crystal/CrystalReportConditionEditor",["dojo/_base/declare","dojo/string","dojo/_base/array","dojo/topic","dojo/i18n!./nls/CrystalReportConditionEditor","dojo/text!./templates/CrystalReportConditionEditor.html","dijit/_Widget","Sage/_Templated","dojo/_base/lang","Sage/UI/Controls/_DialogHelpIconMixin","Sage/UI/Controls/Lookup","Sage/UI/Dialogs","Sage/Data/SDataServiceRegistry","dojo/data/ItemFileWriteStore","Sage/Reporting/Enumerations","Sage/MainView/ReportMgr/ReportManagerUtility","Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility","dijit/form/Select","dijit/form/CheckBox"],function(_1d0b,_1d0c,_1d0d,topic,_1d0e,_1d0f,_1d10,_1d11,_1d12,_1d13,_1d14,_1d15,_1d16,_1d17,_1d18,_1d19,_1d1a){var _1d1b=_1d0b("Sage.MainView.ReportMgr.CrystalReportConditionEditor",[_1d10,_1d11],{id:"dlgCrystalReportConditionEditor",_dialog:false,_reportMetadata:null,widgetTemplate:new Simplate(eval(_1d0f)),_nlsResources:_1d0e,widgetsInTemplate:true,_entity:null,_mode:"new",constructor:function(_1d1c,_1d1d){this._entity=_1d1c;this._reportMetadata=_1d1d;if(_1d1c){this._mode="edit";}},show:function(){this._dialog.show();if(!this._dialog.helpIcon){_1d12.mixin(this._dialog,new _1d13());this._dialog.createHelpIconByTopic("reportconditions");}},destroy:function(){this.lkpUser.destroy();this.lkpGroup.destroy();this.inherited(arguments);},_dialog_OnShow:function(){this._initializeControls();},_closeDialog:function(){var self=this;self._dialog.hide();self.destroyRecursive();},_cmdOK_OnClick:function(){if(this._isValid()){this._save();}},_cmdCancel_OnClick:function(){this._closeDialog();},_dialog_OnCancel:function(){this._closeDialog();},_cmbConditionType_OnChange:function(){this._setControlsVisibility();},_cmbDateRange_OnChange:function(){this._setDateRangeControlsVisibility();},_cmbTables_OnChange:function(){this._initializeFieldsDropdown();},_cmbFields_OnChange:function(){this._initializeOperatorsDropdown();},_cmbOperators_OnChange:function(){this._setQueryControlsVisibility();},_chkCurrentUser_OnChange:function(){if(this.chkCurrentUser.checked){this.lkpUser.set("selectedObject",null);}_1d19.setDomNodeVisible(this.trUser,!this.chkCurrentUser.checked);},_isValid:function(){switch(this.cmbConditionType.value){case String(_1d18.ReportConditionType.Group):if(!this.lkpGroup.get("selectedObject")){_1d15.showError(_1d0c.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.cmbGroup_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}break;case String(_1d18.ReportConditionType.DateRange):if(this.cmbDateRange.value==="DateRange"){if(this.dtFromDate.focusNode.value===""){_1d15.showError(_1d0c.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.dtFromDate_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}if(this.dtToDate.focusNode.value===""){_1d15.showError(_1d0c.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.dtToDate_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}}break;case String(_1d18.ReportConditionType.User):if(!this.chkCurrentUser.checked&&!this.lkpUser.get("selectedObject")){_1d15.showError(_1d0c.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.lkpUser_Caption]),this._nlsResources.txtInvalidParameterTitle);}break;case String(_1d18.ReportConditionType.Query):if(!this.cmbTables.value||this.cmbTables.value===""){_1d15.showError(_1d0c.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.cmbTable_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}if(!this.cmbFields.value||this.cmbFields.value===""){_1d15.showError(_1d0c.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.cmbField_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}if(!this.cmbOperators.value||this.cmbOperators.value===""){_1d15.showError(_1d0c.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.cmbOperator_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}var _1d1e=this.cmbOperators.value;var _1d1f=this._getFieldDataType();switch(_1d1f){case _1d18.FieldDataTypes.Numeric:if(_1d1e==_1d18.ReportConditionOperator.IsInTheRange){if(!this.txtNumericValue1.focusNode.textbox.value||this.txtNumericValue1.focusNode.textbox.value===""){_1d15.showError(_1d0c.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.txtNumericValueFrom_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}if(!this.txtNumericValue2.focusNode.textbox.value||this.txtNumericValue2.focusNode.textbox.value===""){_1d15.showError(_1d0c.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.txtNumericValueTo_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}}else{if(!this.txtNumericValue1.focusNode.textbox.value||this.txtNumericValue1.focusNode.textbox.value===""){_1d15.showError(_1d0c.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.txtValue_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}}break;case _1d18.FieldDataTypes.DateTime:if(_1d1e==_1d18.ReportConditionOperator.IsInTheRange){if(this.dtDateValue1.focusNode.value===""){_1d15.showError(_1d0c.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.dtFromDate_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}if(this.dtDateValue2.focusNode.value===""){_1d15.showError(_1d0c.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.dtToDate_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}}else{if(this.dtDateValue1.focusNode.value===""){_1d15.showError(_1d0c.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.dtFromDate_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}}break;case _1d18.FieldDataTypes.String:if(!this.txtStringValue1.value||this.txtStringValue1.value===""){_1d15.showError(_1d0c.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.txtValue_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}break;default:console.error("Unsupported field type: "+_1d1f);}break;}return true;},_setControlsVisibility:function(){_1d19.setDomNodeVisible(this.trUser,false);_1d19.setDomNodeVisible(this.trCurrentUser,false);_1d19.setDomNodeVisible(this.trGroup,false);_1d19.setDomNodeVisible(this.trDateRange,false);_1d19.setDomNodeVisible(this.trFromDate,false);_1d19.setDomNodeVisible(this.trToDate,false);_1d19.setDomNodeVisible(this.trTable,false);_1d19.setDomNodeVisible(this.trField,false);_1d19.setDomNodeVisible(this.trOperator,false);_1d19.setDomNodeVisible(this.trValue,false);if(this.cmbConditionType){switch(this.cmbConditionType.value){case _1d18.ReportConditionType.Group:_1d19.setDomNodeVisible(this.trGroup,true);break;case _1d18.ReportConditionType.DateRange:_1d19.setDomNodeVisible(this.trDateRange,true);_1d19.setDomNodeVisible(this.trFromDate,true);_1d19.setDomNodeVisible(this.trToDate,true);break;case _1d18.ReportConditionType.User:_1d19.setDomNodeVisible(this.trUser,true);_1d19.setDomNodeVisible(this.trCurrentUser,true);break;case _1d18.ReportConditionType.Query:_1d19.setDomNodeVisible(this.trTable,true);_1d19.setDomNodeVisible(this.trField,true);_1d19.setDomNodeVisible(this.trOperator,true);_1d19.setDomNodeVisible(this.trValue,true);break;}}this._setQueryControlsVisibility();},_setDateRangeControlsVisibility:function(){if(this.cmbDateRange){switch(this.cmbDateRange.value){case "DateRange":_1d19.setDomNodeVisible(this.trFromDate,true);_1d19.setDomNodeVisible(this.trToDate,true);break;default:_1d19.setDomNodeVisible(this.trFromDate,false);_1d19.setDomNodeVisible(this.trToDate,false);break;}}},_initializeControls:function(){this._initializeConditionTypeDropdown();this._createUserLookup();this._createGroupLookup();this._setControlsVisibility();this._initializeTablesDropdown();this._setValues();},_setValues:function(){if(this._entity){this.cmbConditionType.attr("value",this._entity.conditionType);switch(this.cmbConditionType.value){case _1d18.ReportConditionType.Group:var group=this._entity.value?_1d19.getGroup(this._entity.value):null;this.lkpGroup.set("selectedObject",group);break;case _1d18.ReportConditionType.DateRange:this.cmbDateRange.attr("value",this._entity.value);if(this.cmbDateRange.value==="DateRange"){this.dtFromDate.set("value",this._entity.fromRange);this.dtToDate.set("value",this._entity.toRange);}break;case _1d18.ReportConditionType.User:if(this._entity.tag.toUpperCase()===":USERID"){this.chkCurrentUser.set("checked",true);}else{var user=this._entity.value?_1d19.getUser(this._entity.tag):null;this.lkpUser.set("selectedObject",user);}break;case _1d18.ReportConditionType.Query:this.cmbTables.attr("value",this._entity.table);var _1d20=this._entity.operator;switch(this._entity.dataType){case _1d18.FieldDataTypes.Numeric:if(_1d20==_1d18.ReportConditionOperator.IsInTheRange){this.txtNumericValue1.focusNode.textbox.value=this._entity.fromRange;this.txtNumericValue2.focusNode.textbox.value=this._entity.toRange;}else{this.txtNumericValue1.focusNode.textbox.value=this._entity.value;}break;case _1d18.FieldDataTypes.DateTime:if(_1d20==_1d18.ReportConditionOperator.IsInTheRange){this.dtDateValue1.set("value",this._entity.fromRange);this.dtDateValue2.set("value",this._entity.toRange);}else{this.dtDateValue1.set("value",this._entity.value);}break;case _1d18.FieldDataTypes.String:this.txtStringValue1.set("value",this._entity.value);break;default:console.error("Unsupported field type: "+this._entity.dataType);}break;default:console.error("Unsupported condition type: "+this.cmbConditionType.value);}}},_initializeConditionTypeDropdown:function(){var _1d21=_1d1a.getConditionTypes(this._reportMetadata);var data={identifier:"conditionType",label:"caption",items:_1d21};var store=new _1d17({data:data});this.cmbConditionType.setStore(store);this.cmbConditionType.startup();},_createUserLookup:function(){var _1d22={id:"_lkpConditionUser",structure:[{cells:[{name:_1d0e.txtName,field:"UserInfo.UserName",sortable:true,width:"400px",editable:false,propertyType:"System.String",excludeFromFilters:false,defaultValue:""}]}],gridOptions:{contextualCondition:function(){return "Type ne 5 and Type ne 8 and Type ne 6";},contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"users",include:["UserInfo"],sort:[{attribute:"UserInfo.UserName"}]},isModal:true,preFilters:[],returnPrimaryKey:true,dialogTitle:_1d0e.txtSelectUser,dialogButtonText:_1d0e.txtOK};this.lkpUser=new _1d14({id:"lkpConditionUser",readonly:false,config:_1d22});dojo.place(this.lkpUser.domNode,this.contentPaneLkpUser.domNode,"only");},_createGroupLookup:function(){var _1d23=_1d0c.substitute("upper(family) eq '${0}' or upper(family) eq '${1}'",[this._reportMetadata.family.toUpperCase(),this._reportMetadata.mainTable.toUpperCase()]);var _1d24={id:"_lkpConditionGroup",structure:[{cells:[{name:_1d0e.txtName,field:"displayName",sortable:true,width:"400px",editable:false,propertyType:"System.String",excludeFromFilters:false,defaultValue:""}]}],gridOptions:{contextualCondition:function(){return _1d23;},contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"groups",include:[],select:["displayName","name","family"],sort:[{attribute:"displayName",descending:false}],service:_1d16.getSDataService("system",false,true,false)},isModal:true,preFilters:[],returnPrimaryKey:true,dialogTitle:_1d0e.txtSelectGroup,dialogButtonText:_1d0e.txtOK};this.lkpGroup=new _1d14({id:"lkpConditionGroup",readonly:false,config:_1d24});dojo.place(this.lkpGroup.domNode,this.contentPaneLkpGroup.domNode,"only");},_getTableMetadata:function(_1d25){var _1d26=null;if(this._reportMetadata.tables){_1d0d.some(this._reportMetadata.tables,function(entry,i){if(entry.alias===_1d25){_1d26=entry;return true;}});}return _1d26;},_getFieldMetadata:function(_1d27,_1d28){var _1d29=this._getTableMetadata(_1d27);var _1d2a=null;if(_1d29){if(_1d29.fields){_1d0d.some(_1d29.fields,function(entry,i){if(entry.name==_1d28){_1d2a=entry;return true;}});}}return _1d2a;},_getFieldDataType:function(){var _1d2b=this.cmbTables.value;var _1d2c=this.cmbFields.value;var _1d2d=this._getFieldMetadata(_1d2b,_1d2c);var _1d2e=_1d2d&&_1d2d.dataType?_1d2d.dataType:null;return _1d2e;},_initializeTablesDropdown:function(){var items=[];if(this._reportMetadata.tables){_1d0d.forEach(this._reportMetadata.tables,function(entry,i){items.push({alias:entry.alias,displayName:entry.displayName});});}var data={identifier:"alias",label:"displayName",items:items};var store=new _1d17({data:data});this.cmbTables.setStore(store);this.cmbTables.startup();},_initializeFieldsDropdown:function(){var _1d2f=this.cmbTables.value;var _1d30=this._getTableMetadata(_1d2f);var _1d31=_1d30&&_1d30.fields?_1d30.fields:[];var items=[];_1d0d.forEach(_1d31,function(entry,i){items.push({name:entry.name,displayName:entry.displayName});});var data={identifier:"name",label:"displayName",items:items};var store=new _1d17({data:data});this.cmbFields.setStore(store);this.cmbFields.startup();if(this._entity){this.cmbFields.attr("value",this._entity.field);}},_initializeOperatorsDropdown:function(){var _1d32=this._getFieldDataType();var _1d33=_1d19.getOperators(_1d32);var data={identifier:"operator",label:"caption",items:_1d33};var store=new _1d17({data:data});this.cmbOperators.setStore(store);this.cmbOperators.startup();if(this._entity){this.cmbOperators.attr("value",this._entity.operator);}},_save:function(){if(!this._entity){this._entity={conditionType:this.cmbConditionType.value,tableName:null,fieldName:null,operator:null,value:null,fromValue:null,toValue:null,dataType:null,tag:null};}this._entity.conditionType=this.cmbConditionType.value;this._entity.table=null;this._entity.field=null;this._entity.operator=null;this._entity.value=null;this._entity.fromRange=null;this._entity.toRange=null;this._entity.dataType=null;this._entity.tag=null;switch(this.cmbConditionType.value){case _1d18.ReportConditionType.Group:var group=this.lkpGroup.get("selectedObject");this._entity.value=group.family+":"+group.name;this._entity.tag=group.$key;this._entity.operator=String(_1d18.ReportConditionOperator.Is);this._entity.dataType=_1d18.FieldDataTypes.String;break;case _1d18.ReportConditionType.DateRange:this._entity.dataType=_1d18.FieldDataTypes.DateTime;if(this.cmbDateRange.value==="DateRange"){this._entity.operator=String(_1d18.ReportConditionOperator.IsInTheRange);this._entity.value=null;this._entity.fromRange=this.dtFromDate.get("value");this._entity.toRange=this.dtToDate.get("value");}else{this._entity.operator=String(_1d18.ReportConditionOperator.Is);this._entity.value=this.cmbDateRange.value;}break;case _1d18.ReportConditionType.User:if(this.chkCurrentUser.checked){this._entity.value=_1d0e.chkCurrentUser_Caption;this._entity.tag=":UserID";}else{var user=this.lkpUser.get("selectedObject");this._entity.value=user.$descriptor;this._entity.tag=user.$key;}this._entity.operator=String(_1d18.ReportConditionOperator.Is);this._entity.dataType=_1d18.FieldDataTypes.String;break;case _1d18.ReportConditionType.Query:var _1d34=this.cmbOperators.value;this._entity.table=this.cmbTables.value;this._entity.field=this.cmbFields.value;this._entity.operator=_1d34;var _1d35=this._getFieldDataType();this._entity.dataType=_1d35;switch(_1d35){case _1d18.FieldDataTypes.Numeric:if(_1d34==_1d18.ReportConditionOperator.IsInTheRange){this._entity.fromRange=parseInt(this.txtNumericValue1.focusNode.textbox.value);this._entity.toRange=parseInt(this.txtNumericValue2.focusNode.textbox.value);}else{this._entity.value=parseInt(this.txtNumericValue1.focusNode.textbox.value);}break;case _1d18.FieldDataTypes.DateTime:if(_1d34==_1d18.ReportConditionOperator.IsInTheRange){this._entity.fromRange=this.dtDateValue1.get("value");this._entity.toRange=this.dtDateValue2.get("value");}else{this._entity.value=this.dtDateValue1.get("value");}break;case _1d18.FieldDataTypes.String:this._entity.value=this.txtStringValue1.get("value");break;default:console.error("Unsupported field type: "+_1d35);}break;default:console.error("Unsupported condition type: "+this.cmbConditionType.value);}if(this._mode==="new"){topic.publish("/reportManager/reportWizard/createCondition",this._entity);}else{topic.publish("/reportManager/reportWizard/updateCondition",this._entity);}this._closeDialog();},_setQueryControlsVisibility:function(){_1d19.setDomNodeVisible(this.trStringValue1,false);_1d19.setDomNodeVisible(this.trStringValue2,false);_1d19.setDomNodeVisible(this.trNumericValue1,false);_1d19.setDomNodeVisible(this.trNumericValue2,false);_1d19.setDomNodeVisible(this.trDateValue1,false);_1d19.setDomNodeVisible(this.trDateValue2,false);if(this.cmbConditionType.value!==_1d18.ReportConditionType.Query){return;}var _1d36=this._getFieldDataType();var _1d37=this.cmbOperators.value;switch(_1d36){case _1d18.FieldDataTypes.Numeric:this.lblNumericValue1.innerHTML=this._nlsResources.txtValue_Caption+":";_1d19.setDomNodeVisible(this.trNumericValue1,true);if(_1d37==_1d18.ReportConditionOperator.IsInTheRange){this.lblNumericValue1.innerHTML=this._nlsResources.txtNumericValueFrom_Caption+":";_1d19.setDomNodeVisible(this.trNumericValue2,true);}break;case _1d18.FieldDataTypes.DateTime:_1d19.setDomNodeVisible(this.trDateValue1,true);if(_1d37==_1d18.ReportConditionOperator.IsInTheRange){_1d19.setDomNodeVisible(this.trDateValue2,true);}break;case _1d18.FieldDataTypes.String:_1d19.setDomNodeVisible(this.trStringValue1,true);break;default:console.error("Unsupported field type: "+_1d36);}}});return _1d1b;});},"url:Sage/UI/Controls/templates/Lookup.html":"<div class=\"textcontrol lookup\">\r\n    <span id=\"${id}\" class=\"lookup\">\r\n        <input id=\"${id}_LookupText\" class=\"text-with-icons\" required=\"${required}\" type=\"text\" dojoAttachPoint=\"textbox,focusNode\" />\r\n        <a href=\"#\">\r\n            <img id=\"${id}_LookupBtn\" src=\"images/icons/Find_16x16.png\" dojoAttachPoint=\"lookupButton\" alt=\"${buttonToolTip}\" title=\"${buttonToolTip}\" />\r\n        </a>\r\n        \r\n        <img id=\"${id}_btnClearResult\" src=\"images/icons/Delete_16x16.png\" dojoAttachPoint=\"clearButton\" class=\"display-none\" alt=\"${closeButtonToolTip}\" title=\"${closeButtonToolTip}\"/>\r\n    </span>\r\n</div>","Sage/UI/Columns/Boolean":function(){define("Sage/UI/Columns/Boolean",["dojox/grid/cells/_base","dojo/i18n","Sage/Utility","dojo/i18n!../nls/Boolean","dojo/_base/declare"],function(_1d38,i18n,_1d39,_1d3a,_1d3b){var _1d3c=_1d3b("Sage.UI.Columns.Boolean",_1d38,{constructor:function(){var _1d3d=i18n.getLocalization("Sage.UI","Boolean");dojo.mixin(this,_1d3d);this.inherited(arguments);},formatter:function(val,index){var _1d3e={"T":true,"t":true,"Y":true,"y":true,"1":true,"+":true};if(!this.formatString){return (val in _1d3e)?this.yesText:this.noText;}var _1d3f=this.formatString.split("/");if(_1d3f.length&&_1d3f.length===2){var _1d40=(val in _1d3e)?_1d3f[0]:_1d3f[1];if(!_1d40){return (val in _1d3e)?this.yesText:this.noText;}else{return _1d39.htmlEncode(_1d40);}}return (val in _1d3e)?this.yesText:this.noText;}});return _1d3c;});},"Sage/MainView/SecurityMgr/SecurityProfile":function(){define("Sage/MainView/SecurityMgr/SecurityProfile",["dojo/i18n!./nls/SecurityProfile","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","dojo/_base/declare","dijit/form/Form","dijit/form/Select","dijit/form/Textarea","dijit/layout/ContentPane","dojox/layout/TableContainer","dojo/i18n!./nls/SecurityProfile"],function(_1d41,_1d42,_1d43,_1d44,_1d45,_1d46,_1d47){var _1d48=_1d47("Sage.MainView.SecurityMgr.SecurityProfile",[_1d45,_1d46],{_dialog:false,selectedFieldIndex:1,store:false,_isNew:false,widgetsInTemplate:true,widgetTemplate:new Simplate(["<div>","<div data-dojo-type=\"dijit.Dialog\" id=\"{%= $.id %}_dlgSecurityProfile\" title=\"{%= $.securityProfile_Caption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">","<div data-dojo-type=\"dijit.form.Form\" id=\"{%= $.id %}_frmSecurityProfile\">","<table cellspacing=\"20\">","<tr>","<td>","<label>{%= $.description_Text %}</label>","</td>","<td>","<input type=\"text\" id=\"secDlg_Description\" dojoAttachPoint=\"profileDescription\" name=\"profileDescription\" required=\"true\" dojoType=\"dijit.form.TextBox\" />","</td>","<tr>","<td>","<label>{%= $.profileType_Text %}</label>","</td>","<td>","<select dojoType=\"dijit.form.Select\" name=\"profileType\" id=\"secDlg_Type\">","<option value=\"U\">User</option>","<option value=\"S\">System</option>","</select>","</td>","</tr>","</table>","<div align=\"right\">","<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.ok_Text %}</div>","<div data-dojo-type=\"dijit.form.Button\" style=\"margin-left:5px;\" id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_close\">{%= $.btnCancel_Caption %}</div>","</div>","</div>","</div>","</div>"]),constructor:function(isNew){this._isNew=isNew;dojo.mixin(this,_1d41);},show:function(){if(this._isNew){var store=this.getStore();store.newItem({onComplete:this.receiveNewProfileToEdit,scope:this});}this._dialog.show();if(!this._dialog.helpIcon){_1d43.mixin(this._dialog,new _1d42());this._dialog.createHelpIconByTopic("securityprofile");}},getStore:function(){if(this.store){return this.store;}var _1d49=Sage.Data.SDataServiceRegistry.getSDataService("system");this.store=new Sage.Data.SingleEntrySDataStore({service:_1d49,resourceKind:"securityProfiles",include:[],select:["profileDescription","defaultPermission","profileType"]});return this.store;},receiveNewProfileToEdit:function(_1d4a){this.receiveProfileToEdit(_1d4a,true);},receiveProfileToEdit:function(_1d4b,isNew){this._isNew=(isNew===true);var dlg=dijit.byId("secProfileDlg");if(dlg){dlg.set("value",_1d4b);dlg.show();}},_okClick:function(){},save:function(_1d4c){if(this.store){var dlg=dijit.byId("secProfileDlg");var _1d4d=dlg.get("value");for(var prop in _1d4d){this.store.setValue(false,prop,_1d4d[prop]);}if(this._isNew){this.store.saveNewEntity(false,_1d4c.success,_1d4c.failure,this);}else{this.store.save(_1d4c);}}},saveAndClose:function(){this.save({success:function(_1d4e){var dlg=dijit.byId("secProfileDlg");dlg.hide();var _1d4f=dijit.byId("titlePane");if(_1d4f){_1d4f.resetConfiguration();}},failure:function(err){alert("The profile could not be saved: "+err);}});},_close:function(){this._dialog.destroyRecursive();}});return _1d48;});},"Sage/QuickForms/Design/nls/PickListControlDesigner":function(){define("Sage/QuickForms/Design/nls/PickListControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1d50,lang){var nls={root:{displayNameText:"Pick List"}};return lang.mixin(_1d50,nls);});},"Sage/MainView/ActivityMgr/templates/nls/LitRequestSummary":function(){define("Sage/MainView/ActivityMgr/templates/nls/LitRequestSummary",["Sage/LanguageList","dojo/_base/lang"],function(_1d51,lang){var nls={root:{txtSendDate_Caption:"Send:",txtScheduled_Caption:"Scheduled:",txtStatus_Caption:"Status:",txtRequestedBy_Caption:"Requested By:",lnkContact_Caption:"Contact:",txtPriority_Caption:"Priority:",txtVia_Caption:"Send Via:",txtCost_Caption:"Total Cost:",txtWorkPhone_Caption:"Work Phone:",txtPostalCode_Caption:"Postal Code:",txtHomePhone_Caption:"Home Phone",lnkAccount_Caption:"Account:",txtRequestDate_Caption:"Requested:"}};return lang.mixin(_1d51,nls);});},"Sage/QuickForms/Design/Editors/nls/CheckBoxBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/CheckBoxBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1d52,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_1d52,nls);});},"Sage/UI/TextBox":function(){define("Sage/UI/TextBox",["dijit/form/TextBox","dojo/_base/declare"],function(_1d53,_1d54){var _1d55=_1d54("Sage.UI.TextBox",_1d53,{postCreate:function(){this.inherited(arguments);this._val=this.get("value");if(this.get("value")===""&&this._val){this.set("value",this._val);}this.set("class","txt-ss-watermark");},onFocus:function(){this.set("value","");this.set("class","txt-ss");},forceFocus:function(val){this.set("value",val);this.set("class","txt-ss");},onBlur:function(){if(this.get("value")===""){this.set("class","txt-ss-watermark");this.set("value",this._val);}}});return _1d55;});},"Sage/Library/nls/FolderHandler":function(){define("Sage/Library/nls/FolderHandler",["Sage/LanguageList","dojo/_base/lang"],function(_1d56,lang){var nls={root:{AccessError:"You do not have the role security required to execute this action.",AddFolderError:"There was an unexpected error attempting to add a library folder.",Cancel:"Cancel",Confirm:"Confirm",DeleteFolderCnfmFmt:"Are you sure you want to delete the \"${0}\" folder and all of its contents?",DeleteFolderError:"There was an unexpected error attempting to delete a library folder.",DontDeleteRoot:"Please do not delete the root folder.",DontEditRoot:"Please do not change the name of the root folder.",EnterFolderName:"Please enter the name of the new folder:",EnterNewFolderName:"Please enter the new name for this folder.",FolderUpdateConflictError:"The folder has been updated by another user, please refresh and retry.",InvalidFolderName:"A folder name cannot contain any of the following characters: \\ / : * ? \" < > |",NewFolder:"New Folder",No:"No",OK:"OK",PleaseSelectFolder:"Please select a folder.",RenameFolderError:"There was an unexpected error attempting to rename a library folder.",Yes:"Yes"}};return lang.mixin(_1d56,nls);});},"Sage/QuickForms/Design/Editors/nls/ComboBoxAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/ComboBoxAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1d57,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",itemGroupText:"Items",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",dataSourceText:"Data Source:",dataSourceTooltipText:"Source of the data for this control such as another control or an entity.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",itemsText:"Items:",itemsTooltipText:"Values the user can select.",textFieldText:"Text Field:",textFieldTooltipText:"The name of the data source field used to populate the visible text portion of the list items.",valueFieldText:"Value Field:",valueFieldTooltipText:"The name of the data source field used to populate the value portion of the list items.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"},hasItemsText:"Set",noItemsText:"Not Set"}};return lang.mixin(_1d57,nls);});},"Sage/MainView/Contact/nls/ContactSearchForDuplicates":function(){define("Sage/MainView/Contact/nls/ContactSearchForDuplicates",["Sage/LanguageList","dojo/_base/lang"],function(_1d58,lang){var nls={root:{svAccount_Caption:"Account:",svCompany_Caption:"Company:",svEmail_Caption:"Email:",svName_Caption:"Name:",svTitle_Caption:"Title:",svType_Caption:"Type:",svSubType_Caption:"Sub Type:",svAccMgr_Caption:"Acct. Mgr.:",svHomePhone_Caption:"Home phone:",svWorkPhone_Caption:"Work phone:",svMobilePhone_Caption:"Mobile phone:",svStatus_Caption:"Status:",svWebAddress_Caption:"Web:",svEntityAccount_Caption:"Account",svEntityLead_Caption:"Lead",svEntityContact_Contact:"Contact",svTollFree_Caption:"Toll free:",svIndustry_Caption:"Industry:",svDivision_Caption:"Division:",svMainPhone_Caption:"Main phone:",LeadSummaryView_Title:"Summary View - Lead",ContactSummaryView_Title:"Summary View - Contact",AccountSummaryView_Title:"Summary View - Account",closeText:"Close",errorLoadingSummaryView:"An error occurred loading summary view: ${0}"}};return lang.mixin(_1d58,nls);});},"Sage/QuickForms/Design/Editors/nls/DateTimePickerBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/DateTimePickerBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1d59,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",displayDateText:"Display Date:",displayDateTooltipText:"Display the date portion.",displayTimeText:"Display Time:",displayTimeTooltipText:"Display the time portion.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_1d59,nls);});},"Sage/UI/CalendarUsersListPane":function(){define("Sage/UI/CalendarUsersListPane",["Sage/Data/SDataServiceRegistry","Sage/Data/WritableSDataStore","Sage/UI/EditCalendarUsers","Sage/Utility","dojo/_base/lang","dojo/_base/array","dojo/i18n","dojo/on","dojo/parser","dojo/dom","dojo/query","dojo/_base/lang","dojo/_base/declare","dojo/dom-construct","dojo/i18n!./nls/CalendarUsersListPane","dojo/data/ItemFileWriteStore","dojox/grid/enhanced/plugins/IndirectSelection","dojox/grid/EnhancedGrid","dojox/grid/enhanced/plugins/Pagination"],function(_1d5a,_1d5b,_1d5c,_1d5d,_1d5e,array,i18n,on,_1d5f,dom,_1d60,lang,_1d61,_1d62,_1d63){var _1d64=_1d61("Sage.UI.CalendarUsersListPane",null,{Id:null,_store:null,_grid:null,_colors:{},_selectedUsers:{},_maxUserCount:4,_checkedUsersCount:0,_initialLoad:false,_storeItems:[],_maxUserCountReached:false,_userOptions:{},editCalendarUsers:null,_favoriteUsersList:[],editCalendarUsersHandle:null,_userCalendarFavoriteId:null,_usersListUpdatedFromDialog:false,_selectedUsersListUpdatedFromDialog:false,_LOCALSTORE_NAMESPACE:"SalesLogix-Calendar",_currentUserId:null,constructor:function(_1d65){this.Id=_1d65.Id;this.EditCalUsersNodeId=_1d65.EditUsersNode;this._userOptions=_1d65.options;this._usersListUpdatedFromDialog=false;this._selectedUsersListUpdatedFromDialog=false;this._currentUserId=Sage.Utility.getClientContextByKey("userID");this._colors=[{"usercolor":"user2","set":false},{"usercolor":"user3","set":false},{"usercolor":"user4","set":false},{"usercolor":"user5","set":false}];lang.mixin(this,_1d63);this._initializeList();var self=this;var _1d66=_1d62.toDom("<div align=\"right\"><a id=\"editUserLink\" href=\"#\" class=\"filter-edit-items\">"+this.editUsersLinkText+"</a></div>");_1d62.place(_1d66,dojo.byId("grid"),"before");this.editCalendarUsers=new _1d5c({id:"EditCalendarUsers1",parent:this});on(dom.byId("editUserLink"),"click",function(e){self.editCalendarUsers.showDialog(self._favoriteUsersList,self._userCalendarFavoriteId);e.cancelBubble=true;});},refresh:function(){var _1d67=Sage.Utility.getClientContextByKey("userID");var query={conditions:dojo.string.substitute("AccessId eq '${0}'",[_1d5e.trim(_1d67)])};dijit.byId("grid").setQuery(query);},_where:function(){var _1d68=Sage.Utility.getClientContextByKey("userID");return dojo.string.substitute("AccessId eq '${0}'",[_1d5e.trim(_1d68)]);},_getSort:function(){var sort=[{attribute:"Name"}];return sort;},_getUserColor:function(_1d69){var color="";if(this._selectedUsers[_1d69]){color=this._selectedUsers[_1d69].usercolor;}return color;},_initializeList:function(){var _1d6a=this.header_user||"User";var _1d6b=this.maxUsersErrorMessage||"Sorry, you cannot view more than ${0} calendars (including your own) at one time.  Clear one of the currently-selected calendars and try again.";_1d6b=dojo.string.substitute(_1d6b,[this._maxUserCount]);var self=this;var _1d6c=function(data,_1d6d){self._storeItems=[];self._favoriteUsersList=[];array.forEach(data,function(item,i){_1d5e.mixin(item,{usercolor:"",username:item["Name"],userId:item["ResourceId"],ResourceId:_1d5e.trim(item["ResourceId"])});self._favoriteUsersList.push(item["ResourceId"]);self._storeItems.push(item);if(!self._userCalendarFavoriteId){self._userCalendarFavoriteId=item["$key"];}});if(self._favoriteUsersList.length===0){self._favoriteUsersList.push(Sage.Utility.getClientContextByKey("userID"));}};var store=this._store=new Sage.Data.WritableSDataStore({service:_1d5a.getSDataService("dynamic"),resourceKind:"calendarfavoriteusersviews",select:["$key","Name","UserId","ResourceId","Selected"],include:[],sort:[{attribute:"Selected desc"}],query:{conditions:this._where()},onComplete:_1d6c});var _1d6e=[{field:"ResourceId",width:"20px",name:" ",formatter:function(value){return "<div class='userStyles "+self._getUserColor(value)+"'></div>";}},{field:"Name",width:"100%",name:_1d6a}];var grid=this._grid=new dojox.grid.EnhancedGrid({id:"grid",store:store,structure:_1d6e,layout:"layout",noDataMessage:"<span class='dojoxGridNoData'>"+this.noUsersMessage+"</span>",keepSelection:true,plugins:{indirectSelection:{headerSelector:false,width:"20px",styles:"text-align: center;"}}},dojo.byId(this.Id));dojo.connect(grid.selection,"onSelected",function(_1d6f){if(!self._initialLoad){if(self._checkedUsersCount<self._maxUserCount){var item=grid.getItem(_1d6f);self._checkedUsersCount++;var _1d70=item["ResourceId"].substr(0,12);var _1d71="";if(self._selectedUsers[_1d70]){}else{if(_1d70===_1d5e.trim(_1d5d.getClientContextByKey("userID"))){_1d71="user1";}else{if(!_1d71||_1d71===""){for(var j=0;j<self._colors.length;j++){if(!self._colors[j]["set"]){_1d71=self._colors[j]["usercolor"];self._colors[j]["set"]=true;break;}}}}var _1d72={};_1d72["userId"]=_1d70;_1d72["usercolor"]=_1d71;self._selectedUsers[_1d70]=_1d72;var _1d73=_1d5e.clone(_1d72);self._saveUserOption();grid.update();dojo.publish("/sage/ui/calendarUser/selectionChanged/add",[_1d73,null]);}}else{self._maxUserCountReached=true;grid.rowSelectCell.toggleRow(_1d6f,false);Sage.UI.Dialogs.showError(_1d6b);}}else{if(self._checkedUsersCount<self._maxUserCount){}}});dojo.connect(grid.selection,"onDeselected",function(_1d74){if(!self._initialLoad){if(self._maxUserCountReached){self._maxUserCountReached=false;return;}var item=grid.getItem(_1d74);var _1d75=false;var _1d76=item["ResourceId"].substr(0,12);var _1d77=self._selectedUsers[_1d76].usercolor;if(self._selectedUsers[_1d76]){_1d75=true;}if(_1d75){for(var j=0;j<self._colors.length;j++){if(self._colors[j]["usercolor"]===_1d77){self._colors[j]["set"]=false;break;}}delete self._selectedUsers[_1d76];self._checkedUsersCount--;self._saveUserOption();grid.update();var _1d78={};_1d78["userId"]=_1d76;dojo.publish("/sage/ui/calendarUser/selectionChanged/remove",[_1d78,this]);}}});dojo.connect(grid,"_onFetchComplete",function(){self._initialLoad=true;var _1d79=false;var _1d7a=[];var _1d7b=_1d5e.clone(self._selectedUsers);var _1d7c=self._grid.rowCount>self._grid.rowsPerPage?self._grid.rowsPerPage:self._grid.rowCount;for(var i=0;i<_1d7c;i++){var item=self._storeItems[i];var _1d7d=item["ResourceId"].substr(0,12);if(self._selectedUsers[_1d7d]){_1d7a.push(_1d7d);if(!self._grid.selection.selected[i]){if(self._checkedUsersCount<self._maxUserCount){self._grid.rowSelectCell.toggleRow(i,true);self._checkedUsersCount++;}}}else{self._grid.rowSelectCell.toggleRow(i,false);}}for(var j in _1d7b){var uId=_1d5e.trim(_1d7b[j]["userId"].toString());var _1d7e=_1d5e.trim(_1d7b[j]["usercolor"].toString());if(array.indexOf(_1d7a,uId)<0){delete self._selectedUsers[uId];for(var k=0;k<self._colors.length;k++){if(self._colors[k]["usercolor"]===_1d7e){self._colors[k]["set"]=false;break;}}_1d79=true;}}if(_1d79){self._saveUserOption();}self._initialLoad=false;if(self._selectedUsers&&!self._isEmpty(self._selectedUsers)){var _1d7f=_1d5e.clone(self._selectedUsers);if(!self._usersListUpdatedFromDialog){dojo.publish("/sage/ui/calendarUserList/loaded",[_1d7f,null]);}else{if(self._usersListUpdatedFromDialog&&self._selectedUsersListUpdatedFromDialog){dojo.publish("/sage/ui/calendarUserList/updated",[_1d7f,null]);}}self._grid.update();}else{if(!self._usersListUpdatedFromDialog){dojo.publish("/sage/ui/calendarUserList/loadedNavigationCalendar",[self._userOptions["weekstart"],this]);}}});self._grid.canSort=function(col){return false;};if(this._userOptions["rememberusers"]){this._loadCalendarUserListOptions();}else{var data={};var key="calendarUsers-"+this._currentUserId;data["value"]=this._getFromSessionStorage(key,this._LOCALSTORE_NAMESPACE);this._receivedCalendarUserListOptions(data);}},_isEmpty:function(obj){for(var prop in obj){if(obj.hasOwnProperty(prop)){return false;}}return true;},_loadCalendarUserListOptions:function(){var _1d80=Sage.Services.getService("UserOptions");if(_1d80){_1d80.get("CalendarUsers","Calendar",this._receivedCalendarUserListOptions,null,this);}},_receivedCalendarUserListOptions:function(data){if(data!==null){if(data){var _1d81=data["value"];var _1d82=_1d5d.getClientContextByKey("userID");_1d82=_1d5e.trim(_1d82);if(_1d81===null||_1d81===""){_1d81=_1d82+"|"+"user1";}else{if(_1d81.indexOf(_1d82)<0){_1d81+=","+_1d82+"|"+"user1";}}dojo.cookie("selectedCalendarUsers",_1d81);this._setSelectedUsers(_1d81);}}if(this._selectedUsers){this._grid.startup();}},refreshCalendarUsers:function(_1d83){var _1d84="";var _1d85=false;var self=this;for(var i in this._selectedUsers){_1d84=this._selectedUsers[i]["userId"].toString();if(!_1d5d.isItemInArray(_1d83,_1d84)){var _1d86=this._selectedUsers[_1d84].usercolor;for(var j=0;j<this._colors.length;j++){if(this._colors[j]["usercolor"]===_1d86){this._colors[j]["set"]=false;break;}}this._checkedUsersCount--;var _1d87={};_1d87["userId"]=_1d84;dojo.publish("/sage/ui/calendarUser/selectionChanged/remove",[_1d87,this]);delete this._selectedUsers[i];_1d85=true;}}this._usersListUpdatedFromDialog=true;if(_1d85){this._selectedUsersListUpdatedFromDialog=true;this._saveUserOption(this.refresh);}else{this._selectedUsersListUpdatedFromDialog=false;setTimeout(function(){self.refresh();},"10");}},_saveUserOption:function(_1d88){var _1d89="";if(this._selectedUsers){for(var i in this._selectedUsers){if(_1d89!==""){_1d89+=",";}_1d89+=_1d5e.trim(this._selectedUsers[i]["userId"].toString());_1d89+="|";if(this._selectedUsers[i]["usercolor"]){_1d89+=this._selectedUsers[i]["usercolor"].toString();}}if(this._userOptions["rememberusers"]){var _1d8a=Sage.Services.getService("UserOptions");if(_1d8a){_1d8a.set("CalendarUsers","Calendar",_1d89,_1d88,null,this);}}else{var key="calendarUsers-"+this._currentUserId;this._saveToSessionStorage(key,_1d89,this._LOCALSTORE_NAMESPACE);}}},_setSelectedUsers:function(_1d8b){if(_1d8b!==null){var _1d8c=_1d8b.split(",");var _1d8d;var _1d8e,_1d8f;for(var i=0;i<_1d8c.length;i++){_1d8d=_1d8c[i];if(_1d8d){_1d8e=_1d8d.split("|")[0];_1d8f=_1d8d.split("|")[1];if(!_1d8f){for(var j=0;j<this._colors.length;j++){if(!this._colors[j]["set"]){_1d8f=this._colors[j]["usercolor"];this._colors[j]["set"]=true;break;}}}else{for(var k=0;k<this._colors.length;k++){if(this._colors[k]["usercolor"]===_1d8f){this._colors[k]["set"]=true;break;}}}var _1d90={};_1d90["userId"]=_1d8e;_1d90["usercolor"]=_1d8f;this._selectedUsers[_1d8e]=_1d90;}}}},_getFromSessionStorage:function(key,_1d91){if(!_1d91){_1d91=this._LOCALSTORE_NAMESPACE;}var _1d92=_1d91+"_"+key;return sessionStorage.getItem(_1d92);},_saveToSessionStorage:function(key,value,_1d93){if(!_1d93){_1d93=this._LOCALSTORE_NAMESPACE;}var _1d94=_1d93+"_"+key;sessionStorage.setItem(_1d94,value);}});return _1d64;});},"Sage/QuickForms/Design/NumericControlDesigner":function(){define("Sage/QuickForms/Design/NumericControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/NumericBasicPropertyEditor","./Editors/NumericAdvancedPropertyEditor","dojo/i18n!./nls/NumericControlDesigner"],function(_1d95,array,lang,_1d96,_1d97,_1d98,_1d99,_1d9a,_1d9b,_1d9c,_1d9d){return _1d95("Sage.QuickForms.Design.NumericControlDesigner",[_1d97,_1d98,_1d96,_1d99],{designSupport:{visible:true},editors:[_1d9b,_1d9c,_1d9a],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %}\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-numeric",helpTopicName:"Numeric_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXNumeric, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Numeric",constructor:function(){lang.mixin(this,_1d9d);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_1d9e){return (_1d9e["ControlItemName"]=="Text");});},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getDecimalDigitsAttr:function(){return lang.getObject("DecimalDigits.DecimalDigits",false,this.entry);},_setDecimalDigitsAttr:function(value){lang.setObject("DecimalDigits.DecimalDigits",value,this.entry);},_getFormatTypeAttr:function(){return lang.getObject("FormatType",false,this.entry);},_setFormatTypeAttr:function(value){lang.setObject("FormatType",value,this.entry);},_getMaxLengthAttr:function(){return lang.getObject("MaxLength",false,this.entry);},_setMaxLengthAttr:function(value){lang.setObject("MaxLength",value,this.entry);},_getRequiredAttr:function(){return lang.getObject("Required",false,this.entry);},_setRequiredAttr:function(value){lang.setObject("Required",value,this.entry);},_getStrictAttr:function(){return lang.getObject("DecimalDigits.Strict",false,this.entry);},_setStrictAttr:function(value){lang.setObject("DecimalDigits.Strict",value,this.entry);},setupFor:function(_1d9f){this.inherited(arguments);this.set("decimalDigits",-1);this.set("formatType","Number");this.set("maxLength",_1d9f["data"].length||-1);this.set("strict",false);this.set("required",false);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"Text",DataItemName:_1d9f.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:""}]);this.set("designBinding",_1d9f.propertyPath||"");},startup:function(){this.inherited(arguments);var _1da0=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_1da0&&_1da0["DataItemName"])||this.get("text")||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"xstyle/has-class":function(){define("xstyle/has-class",["dojo/has"],function(has){var _1da1={};return function(){var test,args=arguments;for(var i=0;i<args.length;i++){var test=args[i];if(!_1da1[test]){_1da1[test]=true;var parts=test.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),_1da2=has(parts[2]),lower=-parts[4];if((lower>0?lower<=_1da2&&(-parts[5]||lower)>=_1da2:!!_1da2)==!parts[1]){document.documentElement.className+=" has-"+test;}}}};});},"Sage/TaskPane/nls/AccountingTasksTasklet":function(){define("Sage/TaskPane/nls/AccountingTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_1da3,lang){var nls={root:{updatePricingRecords:"You may only select one record when performing this option."}};return lang.mixin(_1da3,nls);});},"Sage/QuickForms/Design/Editors/nls/DataGridBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/DataGridBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1da4,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",dataText:"Data",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",pageSizeText:"Page Size:",pageSizeTooltipText:"The number of grid records to display on a single page.",resizableColumnsText:"Resizable Columns:",resizableColumnsTooltipText:"Allows user to resize columns.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_1da4,nls);});},"Sage/UI/SpeedSearch":function(){require({cache:{"url:Sage/templates/SpeedSearch.html":"<span>\r    <!-- the textbox -->\r    <input type=\"text\" id=\"txt_ss\" />\r    <!--the image button-->\r    <button id='ss-btn-image' type=\"button\" style=\"font-size:10px\"></button>\r    <button id='ss-btn-toggle' type=\"button\" style=\"font-size:10px\"></button>\r</span>\r"}});define("Sage/UI/SpeedSearch",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojo/i18n","dojo/text","dijit/_Widget","Sage/UI/TextBox","Sage/UI/ImageButton","Sage/UI/ToggleButton","dojo/i18n!./nls/SpeedSearch","dojo/text!../templates/SpeedSearch.html","dojo/_base/declare"],function(_1da5,_1da6,i18n,text,_1da7,_1da8,_1da9,_1daa,nls,_1dab,_1dac){var _1dad=_1dac("Sage.UI.SpeedSearch",[_1da7,_1da5,_1da6],{templateString:_1dab,standardText:"standard",advancedText:"advanced",speedSearchText:"SpeedSearch",postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.UI","SpeedSearch"));this.inherited(arguments);},postCreate:function(){var that=this;var re=/SpeedSearch\.aspx|speedsearch\.aspx/;this.isSS=re.test(window.location.pathname);this.QS=window.location.search;if(this.QS){this.queryObject=dojo.queryToObject(this.QS.substring(1,this.QS.length));}var _1dae=new _1daa({showLabel:true,checked:false,"class":"quick-speedsearch-toggle",onClick:function(){if(this.getValue()===that.standardText){this.setValue(that.advancedText);if(that.isSS){that.toggleAdv();}}else{this.setValue(that.standardText);if(that.isSS){that.toggleAdv();}}},label:this.queryObject?this.queryObject.type:this.standardText},"ss-btn-toggle");_1dae.set("class","displaynone");if(_1dae.getValue()===this.advancedText&&this.isSS){this.toggleAdv();}var _1daf=new _1da8({watermark:true,value:this.speedSearchText,"class":"quick-speedsearch-text",onKeyDown:function(event){if(event.keyCode===13){that._goSearch(_1daf.getValue(),_1dae.getValue());}}},"txt_ss");if(this.queryObject){_1daf.forceFocus(this.queryObject.terms);}var _1db0=new _1da9({imageClass:"icon_SpeedSearch_16x16","class":"quick-speedsearch-button",onClick:function(){that._goSearch(_1daf.getValue(),_1dae.getValue());}},"ss-btn-image");this.inherited(arguments);},_goSearch:function(terms,type){if(terms!==this.speedSearchText){window.location="SpeedSearch.aspx?terms="+terms+"&type="+type;}},toggleAdv:function(){window.ToggleAdvanced();}});return _1dad;});},"Sage/QuickForms/Design/Editors/nls/CurrencyBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/CurrencyBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1db1,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_1db1,nls);});},"Sage/UI/nls/EditableGrid":function(){define("Sage/UI/nls/EditableGrid",["Sage/LanguageList","dojo/_base/lang"],function(_1db2,lang){var nls={root:{unsavedDataText:"*unsaved data",addText:"Add",deleteText:"Delete",saveText:"Save",cancelText:"Cancel",noSelectionsText:"There are no records selected.",confirmDeleteFmtTxt:"Are you sure you want to delete these ${0} items?",yesText:"Yes",noText:"No",createItemsInvalidArrayText:"The items parameter in Sage.UI.EditableGrid.createItems() should be an array.",recordCountFormatString:"Records ${0} - ${1} of ${2}",noDataMessage:"No records match the selection criteria.",dirtyDataMessage:"You have unsaved data.  If you continue you will lose the changes you have made.",okText:"OK"}};return lang.mixin(_1db2,nls);});},"Sage/MainView/IntegrationContract/nls/SalesQuoteRTDV":function(){define("Sage/MainView/IntegrationContract/nls/SalesQuoteRTDV",["Sage/LanguageList","dojo/_base/lang"],function(_1db3,lang){var nls={root:{dialogCaption:"Sales Quote Details",loadingText:"loading...",lblSalesQuoteCaption:"Sales Quote:",lblStatusCaption:"Status:",lblGrossTotalCaption:"Quote Amount:",lblQuoteDateCaption:"Quote Date:",lblTaxTotalCaption:"Tax Total:",lblHoldStatusCaption:"Hold Status:",lblCurrencyCaption:"Currency:",lblTypeCaption:"Type:",lblCostTotalCaption:"Total Cost:",lblPONumberCaption:"PO Number:",lblProfitTotalCaption:"Total Profit:",lblQuotationCaption:"Quotation:",lblInvoiceStatusCaption:"Invoice Status:",lblContactCaption:"Contact:",lblDeliveryDateCaption:"Delivery Date:",lblDueDateCaption:"Due Date:",lblPriceListCaption:"Price List:",lblCarrierCaption:"Carrier:",lblNetTotalCaption:"Net Total:",lblAllocationStatusCaption:"Allocation Status:",lblDiscountTotalCaption:"Discount Total:",lblDeliveryStatusCaption:"Delivery Status:",lblChargesTotalCaption:"Charges Total:",detailsTabTitle:"Details",salesPersonsTabTitle:"Sales Persons",addressTabTitle:"Addresses",salesQuoteLinesTabTitle:"Sales Quote Lines",paymentsTabTitle:"Payments",deliveriesTabTitle:"Deliveries",grdSalesQuote_Edit:"Edit",grdSalesQuote_QuoteNumber:"Quote Number",grdSalesQuote_QuoteDate:"Quote Date",grdSalesQuote_Status:"Status",grdSalesQuote_HoldStatus:"Hold Status",grdSalesQuote_Type:"Type",grdSalesQuote_PO:"PO Number",grdSalesQuote_NetTotal:"Net Total",grdSalesQuote_DiscountTotal:"Discount Total",grdSalesQuote_ChargesTotal:"Charges Total",grdSalesQuote_TaxTotal:"Tax Total",grdSalesQuote_GrossTotal:"Gross Total",grdSalesQuote_Currency:"Currency",grdSalesPersons_Name:"Name",grdSalesPersons_Type:"Type",grdSalesPersons_Extension:"Extension",grdSalesPersons_Relationship:"Relationship",grdAddress_Name:"Name",grdAddress_Address1:"Address 1",grdAddress_Address2:"Address 2",grdAddress_City:"City",grdAddress_State:"State",grdAddress_Zip:"Zip",grdItems_Line:"Line Number",grdItems_Type:"Type",grdItems_Commodity:"Commodity",grdItems_CommodityVariant:"Variant",grdItems_CommodityDimension:"Dimension",grdItems_UnitOfMeasure:"Unit",grdItems_Location:"Location",grdItems_PriceList:"Price List",grdItems_Quantity:"Quantity",grdItems_InitialPrice:"Initial Price",grdItems_ActualPrice:"Actual Price",grdItems_NetTotal:"Net Total",grdItems_ChargesTotal:"Charges Total",grdItems_DiscountTotal:"Discount Total",grdItems_TaxTotal:"Tax Total",grdItems_GrossTotal:"Gross Total",grdPayments_Date:"Payment Date",grdPayments_Name:"Name",grdPayments_Type:"Type",grdPayments_Status:"Status",grdPayments_NetTotal:"Net Total",grdPayments_Discounts:"Discounts",grdPayments_Charges:"Charges",grdPayments_Tax:"Tax",grdPayments_GrossTotal:"Gross Total",grdPayments_Currency:"Currency",grdPayments_TenderType:"Tender Type",grdPayments_TenderReference:"Tender Reference",grdPayments_ProcessDate:"Process Date",grdDeliveries_Number:"Number",grdDeliveries_Type:"Type",grdDeliveries_Status:"Status",grdDeliveries_RequestedDate:"Requested Date",grdDeliveries_ActualDate:"Actual Date",grdDeliveries_ActualTime:"Actual Time",grdDeliveries_RequestedQuantity:"Requested Quantity",grdDeliveries_DeliveredQuantity:"Delivered Quantity",grdDeliveries_Method:"Method",grdDeliveries_Carrier:"Carrier",grdDeliveries_CarrierReference:"Carrier Reference",grdDeliveries_ExceptionReason:"Exception Reason",errorERPRequest:"An error occurred opening accounting systems sales quote detail view. ",errorERPRequestDetails:"${0}, ${1} Request: ${2}",btnCloseCaption:"Close"}};return lang.mixin(_1db3,nls);});},"Sage/MainView/SecurityMgr/nls/SecurityProfile":function(){define("Sage/MainView/SecurityMgr/nls/SecurityProfile",["Sage/LanguageList","dojo/_base/lang"],function(_1db4,lang){var nls={root:{securityProfile_Caption:"Security Profile",btnCancel_Caption:"Cancel",ok_Text:"OK",description_Text:"Description",profileType_Text:"Profile Type"}};return lang.mixin(_1db4,nls);});},"Sage/Data/ProxySDataStore":function(){define("Sage/Data/ProxySDataStore",["Sage/Data/BaseSDataStore","Sage/Data/SDataServiceRegistry","dojo/_base/declare"],function(_1db5,_1db6,_1db7){var _1db8=_1db7("Sage.Data.ProxySDataStore",_1db5,{constructor:function(o){this.singleResource=null;this._request=null;this._hasValidService=(typeof this.service!=="undefined");},getCollectionRequestObj:function(_1db9){if(!this._hasValidService){return false;}var _1dba=this.inherited(arguments);if(typeof this.getResourcePredicate==="function"){var idx=(_1dba.uri.getPathSegment(Sage.SData.Client.SDataUri.ResourcePropertyIndex))?Sage.SData.Client.SDataUri.ResourcePropertyIndex:_1dba.uri.pathSegments.length-1;var _1dbb=_1dba.uri.getPathSegment(idx);var pred=this.getResourcePredicate.call(this);if(typeof pred!=="undefined"&&pred!==""){if((pred.indexOf(" ")<0)&&((pred.replace(/[\"\']/,"")===pred))){pred="'"+pred+"'";}_1dbb["predicate"]=pred;_1dba.uri.setPathSegment(idx,_1dbb);}else{if(typeof console!=="undefined"){return false;}}}if(this.pathSegments&&this.pathSegments.length>0){var _1dbc=_1dba.uri.pathSegments.length;for(var i=0;i<this.pathSegments.length;i++){_1dba.uri.setPathSegment(_1dbc,this.evaluatePathSegment(this.pathSegments[i]));_1dbc++;}}return _1dba;},fetch:function(_1dbd){if(_1dbd.queryOptions&&_1dbd.queryOptions.singleResourceRequest){return this.returnCollectionProperty(_1dbd,_1dbd.queryOptions.property);}return this.inherited(arguments);},verifyService:function(){if(!this.service){this.service=_1db6.getSDataService("proxy",true);}this._hasValidService=true;if(typeof this.getAppId==="function"){var appid=this.getAppId();if(typeof appid!=="undefined"&&appid!==""){this.service.setDataSet(appid);}else{if(typeof console!=="undefined"){this._hasValidService=false;}}}},returnCollectionProperty:function(_1dbe,_1dbf){if(this._entity.hasOwnProperty(_1dbf)&&this._entity[_1dbf]!==null){var list=this._entity[_1dbf].$resources;if(typeof list!=="unknown"){if(_1dbe.onBegin){_1dbe.onBegin.call(_1dbe.scope||this,list.length,_1dbe);}if(_1dbe.onComplete){_1dbe.onComplete.call(_1dbe.scope||this,list,_1dbe);}}}if(_1dbe.onError){_1dbe.onError.call(_1dbe.scope||this,"Invalid data url",_1dbe);}},evaluatePathSegment:function(_1dc0){if(typeof _1dc0==="string"){return {"text":_1dc0};}if(typeof _1dc0.getPredicate==="function"){return {"text":_1dc0.text,"predicate":_1dc0.getPredicate()};}if(typeof _1dc0.getPredicate==="string"){return {"text":_1dc0.text,"predicate":_1dc0.getPredicate};}return _1dc0;},receiveSingleResource:function(data){this.onGetSingleResource(data);},_getRequest:function(){this.verifyService();if(this._request===null){var _1dc1=new Sage.SData.Client.SDataSingleResourceRequest(this.service);_1dc1.setResourceKind(this.resourceKind);if(typeof this.getResourcePredicate==="function"){var idx=_1dc1.uri.getPathSegment(Sage.SData.Client.SDataUri.ResourcePropertyIndex)||_1dc1.uri.pathSegments.length-1;var _1dc2=_1dc1.uri.getPathSegment(idx);var pred=this.getResourcePredicate.call(this);if(typeof pred!=="undefined"&&pred!==""){if((pred.indexOf(" ")<0)&&((pred.replace(/[\"\']/,"")===pred))){pred="'"+pred+"'";}_1dc2["predicate"]=pred;_1dc1.uri.setPathSegment(idx,_1dc2);}else{if(typeof console!=="undefined"){return false;}}}if(this.pathSegments&&this.pathSegments.length>0){var _1dc3=_1dc1.uri.pathSegments.length;for(var i=0;i<this.pathSegments.length;i++){_1dc1.uri.setPathSegment(_1dc3,this.evaluatePathSegment(this.pathSegments[i]));_1dc3++;}}_1dc1.setQueryArgs({"select":this.select.join(","),"include":this.include.join(",")});if(this.includeContent&&this.includeContent===true){_1dc1.setQueryArg({"_includeContent":true});}this._request=_1dc1;}return this._request;},getSingleResource:function(){var _1dc4=this._getRequest();_1dc4.read({success:dojo.hitch(this,this.onSuccessLoad),failure:dojo.hitch(this,this.onFailure)});},onSuccessLoad:function(data){if(data){if(typeof console!=="undefined"){}this._entity=data;this.onGetSingleResource(data);}else{if(typeof console!=="undefined"){}var empty={$resources:[]};this._entity=empty;this.onGetSingleResource(empty);}},onGetSingleResource:function(data){}});return _1db8;});},"url:Sage/TaskPane/User/templates/ContactUserAssociationEditor.html":"[\r\n'<div>',\r\n    '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.dialogTitleText %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n        '<div data-dojo-type=\"dijit.form.Form\" id=\"{%= $.id %}_frmContactUserAssociation\">',\r\n            '<table cellspacing=\"20\">',\r\n                '<tr>',\r\n                    '<td colspan=\"2\">',\r\n                        '<label>{%= $.associateContactText %}</label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<div>',\r\n                            '<label>{%= $.user_Caption %}</label>',\r\n                        '</div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                         '<div dojoAttachPoint=\"divContactLookupContainer\">',\r\n                            '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_luAccountMgr\" dojoAttachPoint=\"contactLookup_Container\" allowClearingResult=\"false\" class=\"removePadding\"></div>',\r\n                        '</div>',\r\n                    '</td>',\r\n                '</tr>',            \r\n            \r\n            '</table>',\r\n            '<div class=\"button-bar\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.btnOK_Caption %}</div>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_close\">{%= $.btnCancel_Caption %}</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n","Sage/Utility":function(){define("Sage/Utility",["dojo/parser","Sage/Data/SDataServiceRegistry","Sage/UI/Dialogs","Sage/Utility/ErrorHandler","dojox/validate/regexp","dojo/i18n!./Utility/nls/Utility","dojo/ready","dojo/string","dojo/_base/array","dojo/_base/lang","dojo/_base/xhr"],function(_1dc5,_1dc6,_1dc7,_1dc8,_1dc9,_1dca,ready,_1dcb,array,lang,xhr){Sage.namespace("Utility");dojo.mixin(Sage.Utility,{_timeZones:null,_userCache:null,nameToPathCache:{},nlsStrings:_1dca,regexp:{invalidInput:"^((?!(<([!\\/?A-Za-z])|(&#))).)*$",invalidInputFmt:"^((?!(<([!\\/?A-Za-z])|(&#)|(${0}))).)*$",invalidInputMatch:"<[!\\/?A-Za-z]|&#"},makeTemplateFromString:function(_1dcc,split){var _1dcd,_1dce;if(typeof split==="undefined"||split===null){split="\r";}_1dcd=array.filter(_1dcc.split(split),function(item){return typeof item!=="undefined"&&item!==null&&_1dcb.trim(item)!=="";});_1dce=new Simplate(_1dcd);return _1dce;},joinInvalidInputRegExpWith:function(_1dcf){if(_1dcf&&dojo.isString(_1dcf)&&_1dcf.length>0){return _1dcb.substitute(this.regexp.invalidInputFmt,[_1dcf]);}return _1dcf;},getInvalidInputMatches:function(s){if(s&&dojo.isString(s)&&s.length>0){var _1dd0=s.match(this.regexp.invalidInputMatch,"g");if(_1dd0&&dojo.isArray(_1dd0)){return _1dd0;}}return [];},isSafeForPosting:function(s){if(s&&dojo.isString(s)){if(s.length===0){return true;}var match=s.match(this.regexp.invalidInputMatch);if(match===null){return true;}if(dojo.isArray(match)&&match.length===0){return true;}}if(!s&&s===null){return true;}return false;},makeSafeForPosting:function(s){var _1dd1=this.getInvalidInputMatches(s);if(_1dd1&&dojo.isArray(_1dd1)&&_1dd1.length>0){array.forEach(_1dd1,function(match){var _1dd2=match;if(match.length>=2){_1dd2=match.substr(0,1)+" "+match.substr(1);}if(_1dd2!==match){s=s.replace(match,_1dd2);}});}return s;},nameToPath:function(name){var parts,path,i,match;if(typeof name!=="string"){return [];}if(Sage.Utility.nameToPathCache[name]){return Sage.Utility.nameToPathCache[name];}parts=name.split(".");path=[];for(i=0;i<parts.length;i++){match=parts[i].match(/([a-zA-Z0-9_$]+)\[([^\]]+)\]/);if(match){path.push(match[1]);if(/^\d+$/.test(match[2])){path.push(parseInt(match[2],10));}else{path.push(match[2]);}}else{path.push(parts[i]);}}Sage.Utility.nameToPathCache[name]=path.reverse();return Sage.Utility.nameToPathCache[name];},expand:function(scope,_1dd3){if(typeof _1dd3==="function"){return _1dd3.apply(scope,Array.prototype.slice.call(arguments,2));}else{return _1dd3;}},getValue:function(o,name,_1dd4){_1dd4=(typeof _1dd4!=="undefined"&&_1dd4!==null)?_1dd4:"";var path=Sage.Utility.nameToPath(name).slice(0);var _1dd5=o;while(_1dd5&&path.length>0){var key=path.pop();if(typeof _1dd5[key]!=="undefined"&&_1dd5[key]!==null){_1dd5=_1dd5[key];}else{return _1dd4;}}return _1dd5;},setValue:function(o,name,val){var _1dd6=o;var path=Sage.Utility.nameToPath(name).slice(0);while((typeof _1dd6!=="undefined")&&path.length>1){var key=path.pop();if(path.length>0){var next=path[path.length-1];_1dd6=_1dd6[key]=(typeof _1dd6[key]!=="undefined")?_1dd6[key]:(typeof next==="number")?[]:{};}}if(_1dd6!==null&&typeof path[0]!=="undefined"){_1dd6[path[0]]=val;}return o;},getPlainText:function(node){var _1dd7=function(a){if(!a){return "";}return a.replace(/ +/g," ").replace(/[\t]+/gm,"").replace(/[ ]+$/gm,"").replace(/^[ ]+/gm,"").replace(/\n+/g,"\n").replace(/\n+$/,"").replace(/^\n+/,"").replace(/\nNEWLINE\n/g,"\n\n").replace(/NEWLINE\n/g,"\n\n");};var _1dd8=function(node){var _1dd9=function(node){return !(/[^\t\n\r ]/.test(node.nodeValue));};var ws=[];var _1dda=function(node){for(var i=0;i<node.childNodes.length;i++){var n=node.childNodes[i];if(n.nodeType==3&&_1dd9(n)){ws.push(n);}else{if(n.hasChildNodes()){_1dda(n);}}}};_1dda(node);for(var i=0;i<ws.length;i++){ws[i].parentNode.removeChild(ws[i]);}};var sty=function(n,prop){if(n.style[prop]){return n.style[prop];}var s=n.currentStyle||n.ownerDocument.defaultView.getComputedStyle(n,null);if(n.tagName=="SCRIPT"){return "none";}if(!s[prop]){return "LI,P,TR".indexOf(n.tagName)>-1?"block":n.style[prop];}if(s[prop]=="block"&&n.tagName=="TD"){return "feaux-inline";}return s[prop];};var _1ddb="table-row,block,list-item";var _1ddc=function(n){var s=sty(n,"display")||"feaux-inline";if(_1ddb.indexOf(s)>-1){return true;}return false;};var _1ddd=function(n){if(/pre/.test(sty(n,"whiteSpace"))){t+=n.innerHTML.replace(/\t/g," ").replace(/\n/g," ");return "";}var s=sty(n,"display");if(s=="none"){return "";}var gap=_1ddc(n)?"\n":" ";t+=gap;for(var i=0;i<n.childNodes.length;i++){var c=n.childNodes[i];if(c.nodeType==3){t+=c.nodeValue;}if(c.childNodes.length){_1ddd(c);}}t+=gap;return t;};node=node.cloneNode(true);node.innerHTML=node.innerHTML.replace(/<br>/g,"\n");var paras=node.getElementsByTagName("p");for(var i=0;i<paras.length;i++){paras[i].innerHTML+="NEWLINE";}var t="";_1dd8(node);return _1dd7(_1ddd(node));},debounce:function(func,wait,_1dde){var _1ddf;return function(){var _1de0=this,args=arguments;var later=function(){_1ddf=null;if(!_1dde){func.apply(_1de0,args);}};if(_1dde&&!_1ddf){func.apply(_1de0,args);}clearTimeout(_1ddf);_1ddf=setTimeout(later,wait);};},extend:function(){var _1de1=arguments[0]||{},i=1,_1de2=arguments.length,deep=false,_1de3;if(_1de1.constructor==Boolean){deep=_1de1;_1de1=arguments[1]||{};i=2;}if(typeof _1de1!="object"&&typeof _1de1!="function"){_1de1={};}if(_1de2==i){_1de1=this;--i;}for(;i<_1de2;i++){if((_1de3=arguments[i])!=null){for(var name in _1de3){var src=_1de1[name],copy=_1de3[name];if(_1de1===copy){continue;}if(deep&&copy&&typeof copy=="object"&&!copy.nodeType){_1de1[name]=Sage.Utility.extend(deep,src||(copy.length!=null?[]:{}),copy);}else{if(copy!==undefined){_1de1[name]=copy;}}}}}return _1de1;},getCurrentEntityId:function(){var _1de4=Sage.Services.getService("ClientEntityContext");var _1de5=_1de4.getContext();return _1de5.EntityId;},getClientContextByKey:function(key){var res="";if(Sage.Services){var _1de6=Sage.Services.getService("ClientContextService");if((_1de6)&&(_1de6.containsKey(key))){res=_1de6.getValue(key);}}return res;},getVirtualDirectoryName:function(){var reg=new RegExp(window.location.host+"/([A-Za-z0-9\\-_]+)/");var arr=reg.exec(window.location.href);if(arr){return arr[1];}return "";},getSDataService:function(_1de7,_1de8,_1de9,_1dea){return Sage.Data.SDataServiceRegistry.getSDataService(_1de7,_1de8,_1de9,_1dea);},appLoadHandler:function(_1deb,args){Sys.WebForms.PageRequestManager.getInstance().add_pageLoaded(Sage.Utility.pageLoaded);Sys.WebForms.PageRequestManager.getInstance().add_pageLoading(Sage.Utility.pageLoading);Sys.WebForms.PageRequestManager.getInstance().add_initializeRequest(Sage.Utility.showRequestIndicator);Sys.WebForms.PageRequestManager.getInstance().add_endRequest(Sage.Utility.hideRequestIndicator);Sys.WebForms.PageRequestManager.getInstance().add_initializeRequest(window.AutoLogout.resetTimer);},pageLoaded:function(_1dec,args){var _1ded=args.get_panelsUpdated();if(typeof (_1ded)==="undefined"){return;}for(var i=0;i<_1ded.length;i++){dojo.parser.parse(_1ded[i]);}},pageLoading:function(_1dee,args){var _1def=args.get_panelsUpdating();if(typeof (_1def)==="undefined"){return;}for(var i=0;i<_1def.length;i++){var panel=_1def[i],_1df0=dijit.findWidgets(panel);dojo.forEach(_1df0,function(_1df1){_1df1.destroyRecursive(true);});}},destroyWidget:function(_1df2){var _1df3=dojo.attr(_1df2,"widgetId");if(dijit.byId(_1df3)){dijit.byId(_1df3).destroyRecursive();}},showRequestIndicator:function(){var elem=document.getElementById("asyncpostbackindicator");if(elem){elem.style.visibility="visible";}},hideRequestIndicator:function(_1df4,args){var elem=dojo.byId("asyncpostbackindicator");if(elem){elem.style.visibility="hidden";}_1dc8.handleEndRequestError(args);},isAllowedNavigationKey:function(_1df5){return (_1df5==8||_1df5==9||_1df5==46||_1df5==37||_1df5==39);},restrictDecimalDigit:function(value,_1df6,_1df7){var _1df8=value;if(typeof _1df6==="undefined"){_1df6=Sys.CultureInfo.CurrentCulture.numberFormat.NumberDecimalDigits;}if(_1df6.length>1){var range=_1df6.split(",");_1df6=parseInt(range[1]);}if(typeof _1df7==="undefined"){_1df7=Sys.CultureInfo.CurrentCulture.numberFormat.NumberDecimalSeparator;}var _1df9=value.indexOf(_1df7)+1+_1df6;if(_1df6===0){_1df9=_1df9-1;}if(value.indexOf(")")>0){_1df9+=1;}if(value.lastIndexOf(_1df7)>-1){_1df8=value.substr(0,_1df9);}return _1df8;},maximizeDecimalDigit:function(value,_1dfa,_1dfb){var diff;var _1dfc=value;if(typeof _1dfa==="undefined"){_1dfa=Sys.CultureInfo.CurrentCulture.numberFormat.NumberDecimalDigits;}if(typeof _1dfb==="undefined"){_1dfb=Sys.CultureInfo.CurrentCulture.numberFormat.NumberDecimalSeparator;}if(_1dfa>0&&value.lastIndexOf(_1dfb)==-1&&value.length>0){_1dfc=[value,_1dfb].join("");}var _1dfd=_1dfc.lastIndexOf(_1dfb)+1+_1dfa;if(_1dfc.lastIndexOf(_1dfb)>-1){diff=_1dfd-_1dfc.length;if(diff>0){for(var i=0;i<diff;i++){_1dfc+=0;}}}return _1dfc;},restrictToNumber:function(e,type){var _1dfe=Sys.CultureInfo.CurrentCulture.numberFormat;var code=e.charCode||e.keyCode;var _1dff=e.keyChar;if(e.keyCode&&Sage.Utility.isAllowedNavigationKey(e.keyCode)){return true;}if((code>=48&&code<=57&&!e.shiftKey)||(code>=96&&code<=105&&!e.shiftKey)){return true;}if(_1dff===_1dfe.NegativeSign||code==109||code==110){return true;}switch(type){case "currency":if(_1dff==_1dfe.CurrencyGroupSeparator||_1dff==_1dfe.CurrencyDecimalSeparator){return true;}break;case "percent":if(_1dff==_1dfe.PercentGroupSeparator||_1dff==_1dfe.PercentDecimalSeparator){return true;}break;default:if(_1dff==_1dfe.NumberGroupSeparator||_1dff==_1dfe.NumberDecimalSeparator){return true;}break;}return false;},restrictToNumberOnKeyPress:function(e,type){if(e.keyCode&&Sage.Utility.isAllowedNavigationKey(e.keyCode)){return true;}var _1e00=Sys.CultureInfo.CurrentCulture.numberFormat;var code=e.charCode||e.keyCode;var _1e01=String.fromCharCode(code);var _1e02="0123456789"+_1e00.NegativeSign;switch(type){case "currency":_1e02+=_1e00.CurrencyGroupSeparator+_1e00.CurrencyDecimalSeparator;break;case "percent":_1e02+=_1e00.PercentGroupSeparator+_1e00.PercentDecimalSeparator;break;default:_1e02+=_1e00.NumberGroupSeparator+_1e00.NumberDecimalSeparator;break;}return (_1e02.indexOf(_1e01)>=0);},Convert:function(){var _1e03=/^(true|T)$/i,_1e04=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(Z|(-|\+)(\d{2}):(\d{2}))/,_1e05=/^(\d{4})-(\d{2})-(\d{2})$/,_1e06=/\/Date\((-?\d+)(?:(-|\+)(\d{2})(\d{2}))?\)\//,pad=function(n){return n<10?"0"+n:n;},unpad=function(str){return (str[0]==="0")?str.substring(1):str;};return {toBoolean:function(value){return _1e03.test(value);},isDateString:function(value){if(typeof value!=="string"){return false;}return _1e04.test(value)||_1e05.test(value)||_1e06.test(value);},dateToTimeless:function(d){var _1e07=new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),0,0,5);return _1e07;},toIsoStringFromDate:function(value){if((value.getHours()===0)&&(value.getMinutes()===0)&&(value.getSeconds()===5)){return value.getFullYear()+"-"+pad(value.getMonth()+1)+"-"+pad(value.getDate())+"T00:00:05Z";}return value.getUTCFullYear()+"-"+pad(value.getUTCMonth()+1)+"-"+pad(value.getUTCDate())+"T"+pad(value.getUTCHours())+":"+pad(value.getUTCMinutes())+":"+pad(value.getUTCSeconds())+"Z";},toIsoStringFromDateNonUTC:function(value){return value.getFullYear()+"-"+pad(value.getMonth()+1)+"-"+pad(value.getDate())+"T"+pad(value.getHours())+":"+pad(value.getMinutes())+":"+pad(value.getSeconds())+"Z";},toJsonStringFromDate:function(value){return "/Date("+value.getTime()+")/";},toDateFromString:function(value,_1e08){if(typeof value!=="string"){return value;}var match,utc,h,m,_1e09;if((match=_1e06.exec(value))){utc=new Date(parseInt(match[1]));if(_1e08===true){if(match[2]){h=parseInt(match[3]);m=parseInt(match[4]);_1e09=(h*60)+m;if(match[2]==="-"){_1e09=-1*_1e09;}utc.setMinutes(utc.getMinutes()+_1e09);}}value=utc;}else{if((match=_1e04.exec(value))){utc=new Date(Date.UTC(parseInt(match[1]),parseInt(unpad(match[2]))-1,parseInt(unpad(match[3])),parseInt(unpad(match[4])),parseInt(unpad(match[5])),parseInt(unpad(match[6]))));if(match[8]!=="Z"){h=parseInt(match[10],10);m=parseInt(match[11],10);_1e09=(h*60)+m;if(match[9]==="-"){_1e09=-1*_1e09;}utc.setMinutes(utc.getMinutes()+_1e09);}value=utc;}else{if((match=_1e05.exec(value))){value=new Date();value.setYear(parseInt(match[1]));value.setMonth(parseInt(match[2],10)-1);value.setDate(parseInt(match[3],10));value.setHours(0,0,0,0);}}}return value;},toArrayFromObject:function(_1e0a){if(_1e0a&&typeof _1e0a.length=="undefined"){var array=[];array.push(_1e0a);return array;}return _1e0a;}};}(),getModeId:function(){var _1e0b=Sage.Services.getService("ClientContextService");if((_1e0b)&&(_1e0b.containsKey("modeid"))){var mode=_1e0b.getValue("modeid");return mode.toLowerCase();}var u=document.location.href;var idx=u.indexOf("?");if(idx>0){var qry=u.substring(idx+1);var parts=qry.split("&");for(var i=0;i<parts.length;i++){var pair=parts[i].split("=");if(pair.length>1){if(pair[0].toLowerCase()==="modeid"){return pair[1];}}}}return "None";},getPageName:function(){var url=document.location.href;var _1e0c=url.substring(url.lastIndexOf("/")+1);return _1e0c;},openHelp:function(topic,_1e0d){var url=Sage.Link.getHelpUrl(topic,_1e0d);var _1e0e=Sage.Link.getHelpUrlTarget();window.open(url,_1e0e);},fragger:function(frag,doc){if(typeof frag!=="string"){return;}doc=doc||dojo.doc;var outer=doc.createElement("div");var inner=dojo._toDom(frag,doc);outer.appendChild(inner);return outer;},fragToDijits:function(frag,ns){var _1e0f=dojo.parser.parse(frag,{noStart:ns||true});return _1e0f;},strToDijits:function(tpl,ns){if(typeof tpl!=="string"){return;}var frag=this.toMasterFrag(tpl);return this.fragToDijits(frag,ns);},fragWalker:function walk(node,fn){fn(node);node=node.firstChild;while(node){walk(node,fn);node=node.nextSibling;}},extract:function(obj,what){var count=(what===2),out=(count)?0:[],i;for(i in obj){if(count){out++;}else{if(window.has(obj,i)){out.push((what)?obj[i]:i);}}}return out;},keys:function(obj){return Sage.Utility.extract(obj);},size:function(obj){return Sage.Utility.extract(obj,2);},loadDetailsDialog:function(obj){Sage.ClientLinkHandler.request({request:"ShowDialog",type:obj.entityType,smartPart:obj.smartPart,entityId:obj.entityId,dialogTitle:obj.dialogTitle,isCentered:obj.isCentered,dialogTop:obj.dialogTop,dialogLeft:obj.dialogLeft,dialogHeight:obj.dialogHeight,dialogWidth:obj.dialogWidth});},values:function(obj){return Sage.Utility.extract(obj,1);},mixOwn:function(_1e10,_1e11){for(var p in _1e11){if(_1e11.hasOwnProperty(p)){_1e10[p]=_1e11[p];}}return _1e10;},getPrecision:function(str){var match=str.match(/\.(\d+)/),_1e12;if(match){_1e12=parseInt(match[1],10);}return _1e12?_1e12:0;},htmlEncode:function(str){if(typeof str!="string"){return str;}if(!str){return "";}return str.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");},htmlDecode:function(str){if(typeof str!="string"){return str;}return str.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,"\"").replace(/&#39;/g,"'");},getSelectionInfo:function(){var panel=dijit.byId("list");if(panel){return panel.getSelectionInfo();}return false;},Timezone_populatelist:function(_1e13,_1e14){var sel,_1e15;if(_1e13==="TimezoneList"){sel=dijit.byId(_1e13);_1e15=dojo.byId(_1e13+"_Selected");}else{sel=$("#"+_1e13+" #TimezoneList")[0];sel=dijit.getEnclosingWidget(sel);_1e15=$("#"+_1e13).find("input").filter("[@type=hidden]")[0];}if(sel&&typeof sel!=="undefined"&&sel.options.length==1){sel.options.length=0;var self=this;var _1e16=function _1e16(){var _1e17=[];var _1e18=null;dojo.forEach(self._timeZones,function(tz){var _1e19={label:tz.Displayname,value:tz.Keyname,selected:false};_1e17.push(_1e19);if(tz.Keyname==_1e15.value){_1e18=tz.Keyname;_1e19.selected=true;}});sel.addOption(_1e17);if(_1e18!==null){sel.set("value",_1e18);}dojo.connect(sel,"onBlur",function(){_1e15.value=sel.get("value");});dojo.connect(sel,"onChange",function(){if(_1e14){_1e15.value=sel.get("value");__doPostBack(sel.id,"");}});};if(this._timeZones!==null){_1e16();}else{dojo.xhrGet({url:"slxdata.ashx/slx/crm/-/timezones/p",handleAs:"json",load:function(list){self._timeZones=list;_1e16();},error:function(error,_1e1a){_1dc8.handleHttpError(error,_1e1a);return error;}});}}return true;},getTimeZones:function(_1e1b){var _1e1c=JSON.parse(sessionStorage.getItem("_timeZones"));if(_1e1c&&_1e1c.length>0){_1e1b(_1e1c);}else{dojo.xhrGet({url:"slxdata.ashx/slx/crm/-/timezones/p",handleAs:"json",load:function(list){sessionStorage.setItem("_timeZones",JSON.stringify(list));_1e1b(list);},error:function(error,_1e1d){_1dc8.handleHttpError(error,_1e1d);_1e1b(false);}});}},truncate:function(val,num){var i=0,len=val.length,res=[];if(typeof num==="string"){num=parseInt(num,10);}if(typeof val==="string"){return val.length>num?val.slice(0,num)+"...":val;}if(val.map&&typeof val.map==="function"){return val.map(function(v,i,c){return v.length>num?v.slice(0,num)+"...":v;});}else{for(i;i<len;i++){res.push(val[i].slice(0,num)+"...");}return res;}},Dashboard:{counter:1,generateString:function(str){return str+Sage.Utility.Dashboard.counter++;},getColors:function(num){if(!num){return;}var _1e1e=["blue 6","green 3","pink 5","orange 2","blue 4","green 6","pink 2","orange 7","blue 3","green 8","pink 4","orange 3","blue 7","green 5","pink 8","orange 6","blue 2","green 7","pink 3","orange 8","blue 5","green 2","pink 6","orange 5","blue 8","green 4","pink 7","orange 4"],_1e1f=["green 5","blue 3","green 7","blue 6","green 3","blue 7"],ret=[],i,j;if(num<=6){for(i=0;i<num;i++){ret[i]=Sage.Utility.Dashboard.colorPalette[_1e1f[i]];}}else{for(j=0;j<num;j++){ret[j]=Sage.Utility.Dashboard.colorPalette[_1e1e[j]];}}return ret;},getColor:function(idx){var _1e20=["blue 6","green 3","pink 5","orange 2","blue 4","green 6","pink 2","orange 7","blue 3","green 8","pink 4","orange 3","blue 7","green 5","pink 8","orange 6","blue 2","green 7","pink 3","orange 8","blue 5","green 2","pink 6","orange 5","blue 8","green 4","pink 7","orange 4"];return Sage.Utility.Dashboard.colorPalette[_1e20[idx]];},colorPalette:{"blue 0":"dfe8f6","blue 6":"00a1de","green 3":"c1d59f","pink 5":"a44e81","orange 2":"f8d6aa","blue 4":"55c0e9","green 6":"69923a","pink 2":"e2afcd","orange 7":"af6200","blue 3":"80d0ef","green 8":"35491d","pink 4":"c55e9b","orange 3":"f4c180","blue 7":"0079a7","green 5":"86a85c","pink 8":"421f34","orange 6":"e98300","blue 2":"aae0f4","green 7":"4f6e2c","pink 3":"d486b4","orange 8":"754200","blue 5":"2bb1e4","green 2":"d6e3bf","pink 6":"833f67","orange 5":"ed982b","blue 8":"00516f","green 4":"a4bf7d","pink 7":"632f4e","orange 4":"f0ac55"}},isBoolean:function(value){return typeof value==="boolean";},isDefined:function(value){return typeof value!=="undefined";},isEmptyString:function(value){return (dojo.isString(value)&&value==="");},isStringWithLength:function(value){return (dojo.isString(value)&&value!=="");},isTrue:function(value){return (this.isBoolean(value))?(value===true):false;},getUserName:function(_1e21){if(!_1e21){return "";}if(!this._userCache){this.buildUserCache();}var _1e22=_1e21.replace(/^\s+|\s+$/g,"");var u=this._userCache[_1e22];return u?u.name:_1e21;},buildUserCache:function(){var self=this;return xhr("GET",{url:"slxdata.ashx/slx/dynamic/-/users?select=Enabled&format=json",handleAs:"json",sync:true}).then(function(data){self._userCache={};for(var i=0;i<data.$resources.length;i++){var u=data.$resources[i];self._userCache[u.$key]={enabled:u.Enabled,name:u.$descriptor};}});},isItemInArray:function include(arr,_1e23){for(var i=0;i<arr.length;i++){if(lang.trim(arr[i])==lang.trim(_1e23)){return true;}}}});ready(function(){Sage.Utility.appLoadHandler();});return Sage.Utility;});},"Sage/UI/SLXPreviewGrid/Filter/_previewGridFilterMixin":function(){define("Sage/UI/SLXPreviewGrid/Filter/_previewGridFilterMixin",["dojo/_base/declare"],function(_1e24){return _1e24("Sage.UI.SLXPreviewGrid.Filter._previewGridFilterMixin",null,{getQuery:function(){var v=this.get("value");if(v){return "upper("+this.field+") like '%"+v.replace("'","''").toUpperCase()+"%'";}return "";},reset:function(){this.set("value","");},getState:function(){return {"value":this.get("value")};},applyState:function(state){if(state){this.set("value",state["value"]||"");}}});});},"Sage/MainView/ReportMgr/nls/ReportWizardController":function(){define("Sage/MainView/ReportMgr/nls/ReportWizardController",["Sage/LanguageList","dojo/_base/lang"],function(_1e25,lang){var nls={root:{txtLoadingScheduleDetails:"Loading Schedule Details",txtError:"Error",txtCannotDetermineReportId:"Cannot determine report id.",txtCannotDetermineReportNameOrFamily:"Cannot determine report name or family.",txtLoading:"Loading ",txtLoadingReport:"Loading Report",txtSorryAnErrorOccuredLoadingReport:"Sorry, an error occurred loading report: ${0} ${1}."}};return lang.mixin(_1e25,nls);});},"Sage/QuickForms/Design/CheckBoxControlDesigner":function(){define("Sage/QuickForms/Design/CheckBoxControlDesigner",["dojo/dom-class","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/CheckBoxBasicPropertyEditor","./Editors/CheckBoxAdvancedPropertyEditor","dojo/i18n!./nls/CheckBoxControlDesigner"],function(_1e26,_1e27,array,lang,_1e28,_1e29,_1e2a,_1e2b,_1e2c,_1e2d,_1e2e,_1e2f){return _1e27("Sage.QuickForms.Design.CheckBoxControlDesigner",[_1e29,_1e2a,_1e28,_1e2b],{designSupport:{visible:true},editors:[_1e2d,_1e2e,_1e2c],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"design-checkbox\" data-dojo-attach-point=\"containerNode\">","<span class=\"{%= $.fieldClass %}-icon\" data-dojo-attach-point=\"designCheckedNode\"></span>","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\" data-dojo-attach-point=\"designBindingNode\"></div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-checkbox",helpTopicName:"Checkbox_control",quickFormControlType:"Sage.Platform.QuickForms.QFControls.QFCheckBox, Sage.Platform.QuickForms.QFControls",displayNameText:"CheckBox",constructor:function(){lang.mixin(this,_1e2f);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_1e30){return (_1e30["ControlItemName"]=="Checked");});},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getCheckedAttr:function(){return lang.getObject("Checked",false,this.entry);},_setCheckedAttr:function(value){lang.setObject("Checked",value,this.entry);if(value){_1e26.add(this.designCheckedNode,"design-checkbox-icon-checked");}else{_1e26.remove(this.designCheckedNode,"design-checkbox-icon-checked");}},setupFor:function(_1e31){this.inherited(arguments);this.set("checked",false);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"Checked",DataItemName:_1e31.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:""}]);this.set("designBinding",_1e31.propertyPath||"");},startup:function(){this.inherited(arguments);var _1e32=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_1e32&&_1e32["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/Data/SDataServiceRegistry":function(){define("Sage/Data/SDataServiceRegistry",["Sage/Utility","dojo/json"],function(_1e33,json){var _1e34={},_1e35=false;Sage.namespace("Data.SDataServiceRegistry");Sage.Data.SDataServiceRegistry={registerService:function(name,s,o){o=o||{};var _1e36=s instanceof Sage.SData.Client.SDataService?s:new Sage.SData.Client.SDataService(s);_1e34[name]=_1e36;if(o.isDefault||!_1e35){_1e35=_1e36;}return _1e36;},hasService:function(name){return (typeof _1e34[name]!=="undefined");},getService:function(name){if(typeof name==="string"&&_1e34[name]){return _1e34[name];}return _1e35;},_createCacheKey:function(_1e37){var key=_1e37.build();key=key.replace(/[^a-zA-Z0-9_]/g,"");var ns=_1e37.getResourceKind().text;key=ns+"_"+key;return key;},_loadSDataRequest:function(_1e38,o){var key=this._createCacheKey(_1e38);var feed=this._getFromLocalStorage(key);if(feed){o.result=feed;}},_cacheSDataRequest:function(_1e39,o,feed){if(/get/i.test(o.method)&&typeof feed==="object"){var key=this._createCacheKey(_1e39);this._saveToLocalStorage(key,feed);}},_saveToLocalStorage:function(key,value){sessionStorage.setItem(key,json.stringify(value));},_getFromLocalStorage:function(key){return json.parse(sessionStorage.getItem(key));},_removeFromLocalStorage:function(_1e3a){var _1e3b=sessionStorage.length;var keys=[];for(var i=0;i<_1e3b;i++){var key=sessionStorage.key(i);if(key.indexOf(_1e3a)>-1){keys.push(key);}}for(var j=0;j<keys.length;j++){sessionStorage.removeItem(keys[j]);}},getSDataService:function(_1e3c,_1e3d,_1e3e,_1e3f){_1e3d=_1e3c==="proxy"?true:_1e3d;_1e3c=_1e3c||"dynamic";var _1e40="SDataService_"+_1e3c;_1e40=_1e3f?[_1e40,"_cacheResult"].join(""):_1e40;if(this.hasService(_1e40)&&!_1e3d){return this.getService(_1e40);}var bJson=true;if(typeof _1e3e==="boolean"){bJson=_1e3e;}var svc=new Sage.SData.Client.SDataService({serverName:window.location.hostname,virtualDirectory:Sage.Utility.getVirtualDirectoryName()+"/slxdata.ashx",applicationName:"slx",contractName:_1e3c,port:window.location.port&&window.location.port!==80?window.location.port:false,protocol:/https/i.test(window.location.protocol)?"https":false,json:bJson});if(_1e3f){svc.on("beforerequest",this._loadSDataRequest,this);svc.on("requestcomplete",this._cacheSDataRequest,this);}if(!_1e3d){this.registerService(_1e40,svc);}return svc;}};return Sage.Data.SDataServiceRegistry;});},"url:Sage/MainView/ActivityMgr/templates/ActivityEditor.html":"[\r\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"activityDialog\" title=\"\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:_onDlgHide\">',\r\n        '<div class=\"activity-dialog\">',  //body\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"regardingContainer\">',\r\n                '<select id=\"pk_Regarding\" label=\"{%= $.regardingText %}\" id=\"{%= $.id %}_pk_Regarding\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Regarding\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\" ></select>',\r\n                '<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.locationText %}\" id=\"{%= $.id %}_tb_Location\" dojoAttachPoint=\"tb_Location\" maxLength=\"255\" ></div>',\r\n            '</div>', //first tablecontainer 1 col\r\n        //Dates section for add/edit mode..................\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"dateSection_AddEdit\">',\r\n                '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" id=\"{%= $.id %}_dtp_startDate\" dojoAttachPoint=\"dtp_startDate\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $.startTimeText %}\"></div>',\r\n                '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DurationSelect\" label=\"{%= $.durationText %}\" id=\"{%= $.id %}_sel_Duration\" dojoAttachPoint=\"sel_Duration\" includeDisablingCheckbox=\"false\" valuesAreAfterStart=\"true\"></div>',\r\n                '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                    '<div dojoType=\"dijit.form.CheckBox\" label=\"{%= $.timeLessText %}\" id=\"{%= $.id %}_cb_Timeless\" dojoAttachPoint=\"cb_Timeless\" ></div>',\r\n                    '<label class=\"checkbox-label\" for=\"{%= $.id %}_cb_Timeless\">{%= $.timeLessText %}</label>',\r\n                '</div>',\r\n                '<div dojoType=\"dojox.layout.TableContainer\" label=\"{%= $.alarmText %}\" cols=\"2\" showLabels=\"false\" class=\"removeExtraSpace\">',\r\n                    '<div dojoType=\"dijit.form.CheckBox\" id=\"{%= $.id %}_cb_Alarm\" dojoAttachPoint=\"cb_Alarm\" ></div>',\r\n                    '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DurationSelect\" id=\"{%= $.id %}_sel_AlarmDur\" dojoAttachPoint=\"sel_AlarmDur\" valuesAreAfterStart=\"false\" ></div>',\r\n                '</div>',\r\n                '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                    '<div dojoType=\"dijit.form.CheckBox\" label=\"\" id=\"{%= $.id %}_cb_AutoRollover\" dojoAttachPoint=\"cb_AutoRollover\"></div>',\r\n                    '<label class=\"checkbox-label\" for=\"{%= $.id %}_cb_AutoRollover\">{%= $.rolloverText %}</label>',\r\n                '</div>',\r\n            '</div>',\r\n        //Dates section for complete mode...................\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"dateSection_Complete\">',\r\n                '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" id=\"{%= $.id %}_dtp_completedDate\" dojoAttachPoint=\"dtp_completedDate\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $.completedText %}\"></div>',\r\n                '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" id=\"{%= $.id %}_dtp_scheduledDate\" dojoAttachPoint=\"dtp_scheduledDate\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $.scheduledText %}\"></div>',\r\n                '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                    '<div dojoType=\"dijit.form.CheckBox\" label=\"{%= $.timeLessText %}\" id=\"{%= $.id %}_cb_TimelessComplete\" dojoAttachPoint=\"cb_TimelessComplete\" ></div>',\r\n                    '<label class=\"checkbox-label\" for=\"{%= $.id %}_cb_TimelessComplete\">{%= $.timeLessText %}</label>',\r\n                '</div>',\r\n                '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DurationSelect\" label=\"{%= $.durationText %}\" id=\"{%= $.id %}_sel_DurationComplete\" dojoAttachPoint=\"sel_DurationComplete\" includeDisablingCheckbox=\"false\" valuesAreAfterStart=\"true\"></div>',\r\n            '</div>',\r\n\r\n            '<div dojoType=\"dijit.layout.TabContainer\" id=\"{%= $.id %}_tc_EditActivity\"  dojoAttachPoint=\"tc_EditActivity\" class=\"tab-container\">',\r\n/*  General Tab   */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_General\" title=\"{%= $.tabNameGeneralText %}\" class=\"tabContent remove-padding\" dojoAttachPoint=\"cp_General\">',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"resultContainer\" class=\"bottom-border-section\">', \r\n                        '<select shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" label=\"{%= $.resultText %}\" id=\"{%= $.id %}_pl_Result\"  name=\"pl_Result\" dojoAttachPoint=\"pl_Result\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\"></select>',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"4\" labelWidth=\"4\" baseClass=\"contact-lead-radios\" >',\r\n                        '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"contactOrLead\" label=\"{%= $.contactText %}\" value=\"contact\" id=\"{%= $.id %}_rdo_Contact\" dojoAttachPoint=\"rdo_Contact\" dojoAttachEvent=\"onChange:_setContactLeadVisibility\" checked=\"true\" />',\r\n                        '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"contactOrLead\" label=\"{%= $.leadText %}\" value=\"lead\" id=\"{%= $.id %}_rdo_Lead\" dojoAttachPoint=\"rdo_Lead\" />',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"contactContainer\" baseClass=\"bottom-border-section\">',\r\n\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.nameText %}\" dojoAttachPoint=\"container_ContactLup\" class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.opportunityText %}\" dojoAttachPoint=\"container_OppLup\" class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.accountText %}\" dojoAttachPoint=\"container_AccountLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.ticketText %}\" dojoAttachPoint=\"container_TicketLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"leadContainer\"  baseClass=\"bottom-border-section\" class=\"display-none\">',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.nameText %}\" dojoAttachPoint=\"container_LeadLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                        '<input dojoType=\"dijit.form.TextBox\" id=\"{%= $.id %}_tb_LeadCompanyName\" label=\"{%= $.companyText %}\" dojoAttachPoint=\"tb_LeadCompanyName\" readonly=\"true\" />',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" class=\"bottom-border-section\" >',\r\n                        '<select label=\"{%= $.priorityText %}\" id=\"{%= $.id %}_pk_Priority\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Priority\" canEditText=\"true\" itemMustExist=\"false\" pickListName=\"Priorities\" sort=\"false\" maxLength=\"64\" style=\"width: {%= 472 - $.labelWidth %}px;\"></select>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.leaderText %}\" dojoAttachPoint=\"container_LeaderLup\" class=\"remove-padding lookup-container\" style=\"width: {%= 472 - $.labelWidth %}px;\"></div>',\r\n                        '<select label=\"{%= $.categoryText %}\" id=\"{%= $.id %}_pk_Category\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Category\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\" style=\"width: {%= 472 - $.labelWidth %}px;\"></select>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"&nbsp;\" class=\"dijitTextBox\" style=\"border-width:0px\">&nbsp;</div>',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\" class=\"valigntop\" dojoAttachPoint=\"notesContainer\">',\r\n                        '<textarea dojoType=\"dijit.form.SimpleTextarea\" id=\"{%= $.id %}_ta_Notes\" label=\"{%= $.notesText %}\" dojoAttachPoint=\"ta_Notes\" class=\"notes-text\"></textarea>',\r\n                    '</div>',\r\n                '</div>',  // end general tab\r\n/* Availability Tab   */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_Availability\" title=\"{%= $.tabNameAvailabilityText %}\" class=\"tabContent remove-padding\" dojoAttachPoint=\"cp_Availability\" dojoAttachEvent=\"onShow:_onShowAvailabilityTab\">',\r\n                    '<div dojoType=\"dijit.Toolbar\" region=\"top\" splitter=\"false\" class=\"right-tools\" >',  // list-panel-tbar                                  \r\n                        '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"container_ResourcesLup\" class=\"remove-padding\"></div>',\r\n                    '</div>',\r\n/* Scheduler ........... */\r\n                    '<div id=\"scheduler_here\" class=\"dhx_cal_container\" style=\"width:100%;height:230px;\">',\r\n                        '<div class=\"dhx_cal_navline\">',\r\n                            '<div class=\"dhx_cal_prev_timeline_button\" style=\"right:50px;\">&nbsp;</div>',\r\n\t\t\t                '<div class=\"dhx_cal_next_timeline_button\" style=\"right:19px;\">&nbsp;</div>',\r\n//'<div class=\"dhx_cal_today_button\"></div>',\r\n\t\t\t                '<div class=\"dhx_cal_date\"></div>',\r\n//'<div class=\"dhx_cal_tab\" name=\"day_tab\" style=\"right:204px;\"></div>',\r\n//'<div class=\"dhx_cal_tab\" name=\"week_tab\" style=\"right:140px;\"></div>',\r\n                            '<div class=\"dhx_cal_tab\" name=\"timeline_tab\" style=\"right:280px;\"></div>',\r\n//'<div class=\"dhx_cal_tab\" name=\"month_tab\" style=\"right:76px;\"></div>',\r\n\t\t                '</div>',\r\n\t\t                '<div class=\"dhx_cal_header\"></div>',\r\n\t\t                '<div class=\"dhx_cal_data\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n/* Recurring Tab  */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_Recurring\" title=\"{%= $.recurringText %}\" class=\"tabContent\" dojoAttachPoint=\"cp_Recurring\" dojoAttachEvent=\"onShow:_showRecurringTab\">',\r\n                    '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.MainView.ActivityMgr.RecurringEditor\" id=\"{%= $.id %}_recEd\" labelWidth=\"{%= $.labelWidth - 20 %}\" dojoAttachPoint=\"_recurringEditor\"></div>',\r\n                '</div>',\r\n/* Attachments Tab  */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_Attachments\" title=\"{%= $.tabNameAttachmentsText %}\" class=\"tabContent remove-padding\" dojoAttachPoint=\"cp_Attachments\" dojoAttachEvent=\"onShow:_showAttachmentsTab\">',\r\n                    '<div id=\"{%= $.id %}_attachmentsGridPlaceholder\" dojoAttachPoint=\"_attachmentGridPlaceholder\" style=\"width:100%;height:100%\"></div>',\r\n                '</div>',\r\n            '</div>',  //tab container\r\n/* Buttons       */\r\n        // Add/edit activity buttons\r\n            '<table class=\"button-bar\" id=\"add_edit_buttons\" dojoAttachPoint=\"add_edit_buttons\">',\r\n                '<tr>',\r\n                    '<td class=\"alignleft\">',\r\n                        '<div class=\"scheduled-by-label\" dojoAttachPoint=\"lbl_ScheduledBy\"></div>',\r\n                    '</td><td class=\"alignright\">',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Complete\" name=\"btn_Complete\" dojoAttachPoint=\"btn_Complete\" dojoAttachEvent=\"onClick:_completeClick\">{%= $.completeBtnText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Delete\" name=\"btn_Delete\" dojoAttachPoint=\"btn_Delete\" dojoAttachEvent=\"onClick:_deleteClick\">{%= $.deleteText %}</div>',\r\n                        '<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.okText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n\r\n\r\n        //complete activity buttons\r\n            '<table class=\"button-bar display-none\" id=\"complete_buttons\" dojoAttachPoint=\"complete_buttons\">',\r\n                '<tr>',\r\n                    '<col width=\"50%\" /><col width=\"50%\" />',\r\n                    '<td class=\"alignleft\">',\r\n                        '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\" >',\r\n                            '<select label=\"{%= $.followupText %}\" id=\"sel_Followup\" dojoType=\"dijit.form.ComboBox\" dojoAttachPoint=\"sel_Followup\">',\r\n                                '<option value=\"none\" selected=\"selected\">{%= $.noneText %}</option>',\r\n                                '<option value=\"phone\">{%= Sage.Utility.Activity.getActivityTypeName(\"atPhoneCall\") %}</option>',\r\n                                '<option value=\"meeting\">{%= Sage.Utility.Activity.getActivityTypeName(\"atAppointment\") %}</option>',\r\n                                '<option value=\"todo\">{%= Sage.Utility.Activity.getActivityTypeName(\"atToDo\") %}</option>',\r\n                            '</select>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                                '<div dojoType=\"dijit.form.CheckBox\" label=\"\" id=\"ck_coAttachments\" dojoAttachPoint=\"ck_coAttachments\" ></div>',\r\n                                '<label class=\"checkbox-label\" for=\"{%= $.id %}_ck_coAttachments\">{%= $.carryOverAttachmentsText %}</label>',\r\n                            '</div>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                                '<div dojoType=\"dijit.form.CheckBox\" label=\"\" id=\"ck_coNotes\" dojoAttachPoint=\"ck_coNotes\" ></div>',\r\n                                '<label class=\"checkbox-label\" for=\"{%= $.id %}_ck_coNotes\">{%= $.carryOverNotesText %}</label>',\r\n                            '</div>',\r\n                        '</div>',\r\n                    '</td><td class=\"alignright valignbottom\" rowspan=\"2\">',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_asScheduled\" name=\"btn_asScheduled\" dojoAttachPoint=\"btn_asScheduled\" dojoAttachEvent=\"onClick:_asScheduledClick\">{%= $.asScheduledText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Now\" name=\"btn_Now\" dojoAttachPoint=\"btn_Now\" dojoAttachEvent=\"onClick:_nowClick\">{%= $.nowText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_CancelComplete\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_CancelComplete\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>',\r\n                    '</td>',\r\n                '</tr><tr>',\r\n                    '<td class=\"alignleft\" >',\r\n                        '<div class=\"scheduled-by-label\" dojoAttachPoint=\"lbl_ScheduledByComp\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n\r\n\r\n\r\n        //Confirmations button bar...\r\n            '<table class=\"button-bar display-none\" id=\"confirmation_edit_buttons\" dojoAttachPoint=\"confirmation_edit_buttons\">',\r\n                '<tr>',\r\n                    '<td class=\"alignleft\" style=\"width:{%= $.labelWidth %}px;\">',\r\n                        '<label for=\"{%= $.id %}_ta_confirmationResponse\" id=\"responseLabel\" dojoAttachPoint=\"responseLabel\">{%= $.responseText %}</label>',\r\n                    '</td>',\r\n                    '<td class=\"alignleft\">',\r\n                        '<textarea dojoType=\"dijit.form.SimpleTextarea\" id=\"{%= $.id %}_ta_confirmationResponse\" dojoAttachPoint=\"ta_confirmationResponse\" class=\"notes-text dijitTextBox\" maxLength=\"128\" ></textarea>',\r\n                    '</td><td class=\"alignright valignbottom\">',\r\n                        '<span id=\"newConfButtons\" dojoAttachPoint=\"newConfButtons\">',\r\n                            '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_accept\" name=\"btn_accept\" dojoAttachPoint=\"btn_accept\" dojoAttachEvent=\"onClick:_acceptConfClick\">{%= $.acceptText %}</div>',\r\n                            '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_decline\" name=\"btn_decline\" dojoAttachPoint=\"btn_decline\" dojoAttachEvent=\"onClick:_declineClick\">{%= $.declineText %}</div>',\r\n                            '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_cancelConf\" name=\"btn_cancelConf\" dojoAttachPoint=\"btn_cancelConf\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>',\r\n                        '</span>',\r\n                        '<span id=\"otherConfButtons\" dojoAttachPoint=\"otherConfButtons\" class=\"display-none\">',\r\n                            '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_deleteConf\" name=\"btn_deleteConf\" dojoAttachPoint=\"btn_deleteConf\" dojoAttachEvent=\"onClick:_deleteConfClick\">{%= $.deleteConfText %}</div>',\r\n                            '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_closeConf\" name=\"btn_closeConf\" dojoAttachPoint=\"btn_closeConf\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.closeText %}</div>',\r\n                        '</span>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n        '</div>', //body\r\n    '</div>',  //dialog\r\n'</div>' //root node\r\n]\r\n","Sage/QuickForms/Design/Editors/nls/UserAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/UserAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1e41,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",lookupBindingModeText:"Lookup Binding Mode:",lookupBindingModeTooltipText:"Indicates whether you want to bind to an entity object or to a string value.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"},bindingModeText:{Object:"Object",String:"String"}}};return lang.mixin(_1e41,nls);});},"url:Sage/UI/Controls/templates/Name.html":"<div class=\"person\" slxcompositecontrol=\"true\" id=\"{%= $.id %}\" ><input id=\"{%= $.id %}-TextBox\" value=\"{%= $.nameDesc %}\"\r\n    data-dojo-type=\"Sage.UI.Controls.TextBox\" name=\"{%= $.name %}\" required=\"{%= $.required %}\" dojoAttachPoint=\"focusNode\"  data-dojo-attach-event=\"onChange:textBoxOnChange, onDblClick: showDialog\" data-dojo-props=\"textWithIcons: {%= $.buttonVisible %}\" />\r\n    {% if ($.buttonVisible) { %}\r\n    <img alt=\"{%= $.buttonToolTip %}\"  data-dojo-attach-event=\"ondijitclick: showDialog\"  tabindex=\"{%= $.tabIndex %}\"     \r\n    style=\"padding-left:0;cursor: pointer; vertical-align: left;\" \r\n    src=\"{%= $.buttonImageUrl %}\" title=\"{%= $.buttonToolTip %}\" id=\"{%= $.id %}-Button\" />\r\n    {% } %}\r\n<!--\r\nSimplate template\r\nhttps://github.com/mmorton/simplate\r\nhttps://github.com/mmorton/simplate/blob/master/demo/index.html\r\nBasic formatting example: {%= $.id %}\r\n-->\r\n</div>","Sage/MainView/ReportMgr/nls/ReportManagerUtility":function(){define("Sage/MainView/ReportMgr/nls/ReportManagerUtility",["Sage/LanguageList","dojo/_base/lang"],function(_1e42,lang){var nls={root:{}};return lang.mixin(_1e42,nls);});},"Sage/UI/nls/SpeedSearch":function(){define("Sage/UI/nls/SpeedSearch",["Sage/LanguageList","dojo/_base/lang"],function(_1e43,lang){var nls={root:{standardText:"standard",advancedText:"advanced",speedSearchText:"SpeedSearch"}};return lang.mixin(_1e43,nls);});},"xstyle/css":function(){define("xstyle/css",["require"],function(_1e44){"use strict";function _1e45(tag,id,_1e46){var _1e47=document.documentElement;var _1e48=_1e47.insertBefore(document.createElement(tag),_1e47.firstChild);_1e48.id=id;var _1e49=(_1e48.currentStyle||getComputedStyle(_1e48,null))[_1e46];_1e47.removeChild(_1e48);return _1e49;};return {load:function(_1e4a,_1e4b,_1e4c,_1e4d){var url=_1e4b.toUrl(_1e4a);var _1e4e=_1e4b.cache&&_1e4b.cache["url:"+url];if(_1e4e){if(_1e4e.xCss){var _1e4f=_1e4e.parser;var xCss=_1e4e.xCss;_1e4e=_1e4e.cssText;}_1e44(["./util/createStyleSheet"],function(_1e50){_1e50(_1e4e);});if(xCss){}return _1e51();}function _1e51(){var _1e52=_1e45("x-parse",null,"content");if(_1e52&&_1e52!="none"){_1e4b([eval(_1e52)],_1e4c);}else{_1e4c();}};var _1e53=_1e45("div",_1e4a.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display");if(_1e53=="none"){return _1e51();}_1e44(["./core/load-css"],function(load){load(url,_1e51);});}};});},"url:Sage/UI/Filters/templates/EditFilters.html":"<div>\r\n    <div class=\"filter-dialog\" data-dojo-type=\"dijit.Dialog\" data-dojo-props=\"title:'${dialogTitle}'\" data-dojo-attach-point=\"dialogNode\">\r\n        <div class=\"filter-clear-all\">\r\n            <input data-dojo-attach-point=\"checkAll\" data-dojo-type=\"dijit.form.CheckBox\" />\r\n            <label>${selectAllText}</label>\r\n        </div>\r\n        <div class=\"filter-dialog-content\" data-dojo-attach-point=\"contentNode\">\r\n            \r\n        </div>\r\n        \r\n        <div class=\"button-bar alignright\">\r\n            <button data-dojo-attach-point=\"buttonOK\" data-dojo-attach-event=\"onClick:_onOKClick\" data-dojo-type=\"dijit.form.Button\">${okText}</button>\r\n            <button data-dojo-attach-point=\"buttonCancel\" data-dojo-attach-event=\"onClick:_onCancelClick\" data-dojo-type=\"dijit.form.Button\">${cancelText}</button>\r\n        </div>\r\n    </div>\r\n</div>","Sage/Services/ActivityAction":function(){define("Sage/Services/ActivityAction",["dojo/i18n","Sage/UI/Dialogs","dijit/_Widget","dojo/_base/declare"],function(i18n,_1e54,_1e55,_1e56){var _1e57=_1e56("Sage.Services.ActivityAction",[_1e55],{_service:false,_contract:"activities",_resourceKind:"service",_operationName:false,_payLoad:false,_selectionContext:false,_publishMap:false,_publishMapWithId:false,_activityId:false,_configuration:false,_args:{},message:"Are you sure you want to continue?",description:"",constructor:function(){},execute:function(_1e58){var map=this._publishMap;var _1e59=this._publishMapWithId;var _1e5a=this._activityId;var _1e5b=String.format("slxdata.ashx/slx/crm/-/{0}/{1}/{2}",this._contract,this._resourceKind,this._operationName);$.ajax({type:"POST",url:_1e5b,contentType:"application/json",data:dojo.toJson(this._args),processData:false,success:function(_1e5c){if(map){dojo.publish(map,[_1e5c,this]);}if(_1e59){if(_1e5a){dojo.publish(_1e59,[_1e5a,this]);}}if(_1e58){_1e58.success(_1e5c,_1e58.scope);}},failure:function(_1e5d){if(_1e58){_1e58.failure(_1e5d,_1e58.scope);}}});},_setConfigurationAttr:function(_1e5e){this._configuration=_1e5e;},_getConfigurationAttr:function(){return this._configuration;},_setServiceAttr:function(_1e5f){this._service=_1e5f;},_getServiceAttr:function(){return this._service;},_setSelectionInfoAttr:function(_1e60){this._selectionInfo=_1e60;},_getSelectionInfoAttr:function(){return this._selectionInfo;},_setOperationNameAttr:function(_1e61){this._operationName=_1e61;},_getOperationNameAttr:function(){return this._operationName;},_setResourceKindAttr:function(_1e62){this._resourceKind=_1e62;},_getResourceKindAttr:function(){return this._resourceKind;},_setArgsAttr:function(args){this._args=args;},_getArgsAttr:function(){return this._args;},_setActionDescriptionAttr:function(_1e63){this.description=_1e63;},_getActionDescriptionAttr:function(){return this.description;},_setActionMessageAttr:function(_1e64){this.message=_1e64;},_getActionMessageAttr:function(){return this.message;},_setPublishMapAttr:function(_1e65){this._publishMap=_1e65;},_setPublishMapWithIdAttr:function(_1e66){this._publishMapWithId=_1e66;},_setActivityIdAttr:function(_1e67){this._activityId=_1e67;}});return _1e57;});},"Sage/UI/GroupListConfigurationProvider":function(){define("Sage/UI/GroupListConfigurationProvider",["Sage/_ConfigurationProvider","Sage/Data/GroupLayoutSingleton","Sage/Services/_ServiceMixin","Sage/Utility/_LocalStorageMixin","Sage/UI/Columns/SlxLink","Sage/UI/Columns/Boolean","Sage/UI/Columns/DateTime","Sage/UI/Columns/Numeric","Sage/UI/Columns/OwnerType","Sage/UI/Columns/Phone","Sage/UI/Columns/UserType","Sage/UI/Columns/Currency","Sage/Data/SDataStore","Sage/UI/SummaryFormatterScope","dijit/MenuSeparator","dijit/Menu","Sage/UI/MenuItem","dojo/_base/lang","dojo/_base/declare","dojo/i18n","Sage/Utility/Groups"],function(_1e68,_1e69,_1e6a,_1e6b,_1e6c,_1e6d,_1e6e,_1e6f,_1e70,_1e71,_1e72,_1e73,_1e74,_1e75,_1e76,_1e77,_1e78,lang,_1e79,i18n,_1e7a){var _1e7b=_1e79("Sage.UI.GroupListConfigurationProvider",[_1e68,_1e6a,_1e6b],{serviceMap:{"groupContextService":"ClientGroupContext"},service:null,_hasAdHocList:false,ROWS_PER_PAGE:100,_currentConfiguration:false,constructor:function(_1e7c){this._adHocOnlyMenuItems=[];this._menuItems=[];this._subscribes.push(dojo.subscribe("/group/context/changed",this,this._onGroupContextChanged));},_onGroupContextChanged:function(){this.onConfigurationChange();},requestConfiguration:function(_1e7d){var _1e7e=new _1e69(),_1e7f=lang.hitch(this,this._onRequestConfigurationSuccess,_1e7d||{}),_1e80=lang.hitch(this,this._onRequestConfigurationFailure,_1e7d||{}),group=this.getCurrentGroup();_1e7e.getGroupLayout(this.formatPredicate(group),_1e7f,_1e80,group.$key);},_onRequestConfigurationSuccess:function(_1e81,entry){if(_1e81.success){_1e81.success.call(_1e81.scope||this,this._createConfiguration(entry),_1e81,this);}},_onRequestConfigurationFailure:function(_1e82,_1e83){if(_1e82.failure){_1e82.failure.call(_1e82.scope||this,_1e83,_1e82,this);}},_createConfigurationForList:function(entry){var _1e84=entry.layout,_1e85=[],_1e86=[],_1e87=Sage.Services.getService("ClientGroupContext"),_1e88,i;if(_1e87){_1e88=_1e87.getContext();}if(entry["keyField"]){_1e85.push(entry["keyField"]);}var _1e89=_1e7a.getGridStructure(_1e84);_1e86=_1e89.structure;_1e85=_1e89.select;var store=new _1e74({service:this.service,resourceKind:"groups",resourcePredicate:this.formatPredicate(entry),queryName:"execute",select:_1e85,include:[],count:this.ROWS_PER_PAGE});var _1e8a={};for(i=0;i<entry["tableAliases"].length;i++){_1e8a[entry["tableAliases"][i]["tableName"].toUpperCase()]=entry["tableAliases"][i]["alias"];}return {structure:[{defaultCell:{defaultValue:""},cells:[_1e86]}],store:store,rowsPerPage:this.ROWS_PER_PAGE,layout:entry["layout"],tableAliases:_1e8a,selectedRegionContextMenuItems:this._getListContextMenuItems(),onSelectedRegionContextMenu:this._onListContext,onNavigateToDefaultItem:lang.hitch(entry,function(item){if(item){var _1e8b=this["keyField"],_1e8c=this["entityName"],id=item[_1e8b];if(id){Sage.Link.entityDetail(_1e8c,id);}}}),id:entry["$key"]};},_getCurrentGroupID:function(){var _1e8d=Sage.Services.getService("ClientGroupContext"),_1e8e,_1e8f;if(_1e8d){_1e8e=_1e8d.getContext();_1e8f=_1e8e.CurrentGroupID;}return _1e8f;},_onListContext:function(e){var _1e90=Sage.Services.getService("ClientGroupContext");var _1e91=_1e90.getContext();for(var i=0;i<this._adHocOnlyMenuItems.length;i++){this._adHocOnlyMenuItems[i].set("disabled",!_1e91.isAdhoc);}this._ensureAdHocListMenu();},_getListContextMenuItems:function(){var _1e92,_1e93=this._getCurrentGroupID();if(this._menuItems.length>0){return this._menuItems;}if(!Sage.UI.DataStore.ContextMenus||!Sage.UI.DataStore.ContextMenus.listContextMenu){return [];}this._menuItems=[];this._adHocOnlyMenuItems=[];var _1e94=Sage.UI.DataStore.ContextMenus.listContextMenu.items;var len=_1e94.length;for(var i=0;i<len;i++){var mDef=_1e94[i];if(mDef.displayName===""){this._menuItems.push(new _1e76());}else{var href=mDef.href;if(href.indexOf("javascript:")<0){href=dojo.string.substitute("javascript:${0}()",[href]);}if(href.indexOf("addSelectionsToGroup")>0){_1e92=this._createAddToAdHocMenuItem(mDef);if(_1e92.arrowWrapper){dojo.style(_1e92.arrowWrapper,"visibility","");}}else{_1e92=new _1e78({id:_1e93+"_"+i,label:mDef.text||"...",icon:mDef.img,title:mDef.tooltip||"",ref:href,onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}});}this._menuItems.push(_1e92);if(href.indexOf("removeSelectionsFromGroup")>0){this._adHocOnlyMenuItems.push(_1e92);}}}return this._menuItems;},_createAddToAdHocMenuItem:function(_1e95){this._adHocMenu=new _1e77();this._adHocMenu.addChild(new _1e78({label:"loading..."}));this._adHocMenuHref=_1e95.href;var _1e96=new _1e78({label:_1e95.text||"...",icon:_1e95.img,title:_1e95.tooltip||"",popup:this._adHocMenu});return _1e96;},_ensureAdHocListMenu:function(){if(this._hasAdHocList){return;}this._hasAdHocList=true;var svc=Sage.Services.getService("ClientGroupContext");svc.getAdHocGroupList(function(list){this._adHocMenu.destroyDescendants();for(var i=0;i<list.length;i++){var grp=list[i];this._adHocMenu.addChild(new _1e78({label:grp["$descriptor"]||grp["name"],icon:"",title:grp["$descriptor"]||grp["name"],ref:dojo.string.substitute(this._adHocMenuHref,{"groupId":grp["$key"]}),onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}}));}},this);},_createConfigurationForSummary:function(entry){if(!this.summaryOptions){return false;}if(!entry){entry=this._currentConfiguration;}var store=new _1e74({service:this.service,resourceKind:"groups",resourcePredicate:this.formatPredicate(entry),queryName:"execute",select:[entry["keyField"]],include:[]}),_1e97=[{field:entry["keyField"],formatter:"formatSummary",width:"100%",name:"Summary View",canResize:function(){return false;}}],_1e98=["Sage"],_1e99=this.summaryOptions["templateLocation"],_1e9a=_1e99&&_1e99.split("/"),i,path;for(i=0;i<_1e9a.length-1;i++){_1e98.push(_1e9a[i]);}path="dojo/i18n!"+_1e98.join("/")+"/nls/"+_1e9a[_1e9a.length-1].replace(".html","");require([path],lang.hitch(this,function(nls){lang.mixin(this,nls);}));return {structure:_1e97,layout:entry["layout"],store:store,rowHeight:200,rowsPerPage:50,formatterScope:new _1e75({requestConfiguration:{mashupName:this.summaryOptions["mashupName"]||"SummaryViewQueries",queryName:this.summaryOptions["queryName"]||""},templateLocation:this.summaryOptions["templateLocation"]||""})};},_createConfigurationForDetail:function(entry){if(this.detailConfiguration){return {requestConfiguration:{mashupName:this.detailConfiguration["mashupName"]||"SummaryViewQueries",queryName:this.detailConfiguration["queryName"]||""},templateLocation:this.detailConfiguration["templateLocation"]};}return false;},_createConfiguration:function(entry){this._currentConfiguration=entry;var state=this.getFromLocalStorage("LISTPANEL_VIEWSTATE",this._getViewNS());return {list:this._createConfigurationForList(entry),summary:(state=="summary")?this._createConfigurationForSummary(entry):false,detail:this._createConfigurationForDetail(entry)};},formatPredicate:function(group){if(group.$key==="LOOKUPRESULTS"){group.family=group.family&&group.family.toUpperCase();group.name="Lookup Results";return dojo.string.substitute("name eq '${name}' and upper(family) eq '${family}'",group);}return "'"+group.$key+"'";},getCurrentGroup:function(){var _1e9b=Sage.Services.getService("ClientGroupContext"),_1e9c=_1e9b&&_1e9b.getContext(),_1e9d={name:"My Accounts",family:"Account",$key:""};if(_1e9c){_1e9d={name:_1e9c.CurrentName,family:_1e9c.CurrentFamily,$key:_1e9c.CurrentGroupID};}return _1e9d;},_getViewNS:function(){var ns=Sage.Groups.GroupManager.LOCALSTORE_NAMESPACE+"-"+this._getMainViewName();return ns;},_getMainViewName:function(){if(this._mainViewName){return this._mainViewName;}var _1e9e=Sage.Services.getService("ClientGroupContext"),_1e9f=-1,_1ea0=null;if(_1e9e){_1ea0=_1e9e.getContext();if(_1ea0){_1e9f=_1ea0.CurrentEntity;}}return _1e9f;}});return _1e7b;});},"Sage/UI/Controls/CheckBox":function(){define("Sage/UI/Controls/CheckBox",["dijit/form/CheckBox","dojo/_base/declare"],function(_1ea1,_1ea2){var _1ea3=_1ea2("Sage.UI.Controls.CheckBox",_1ea1,{hotKey:"",autoPostBack:false,labelText:"",labelPlacement:"",shouldPublishMarkDirty:true,constructor:function(){this.inherited(arguments);},postCreate:function(){if(this.hotKey!==""){this.focusNode.accessKey=this.hotKey;}this.connect(this,"onChange",this.onChanged);this._insertLabel();this.inherited(arguments);},_insertLabel:function(){var _1ea4="before",_1ea5=null;if(this.labelPlacement==="right"){_1ea4="after";}if(this.labelPlacement!=="none"){_1ea5=dojo.create("label",{"for":this.id,innerHTML:this.labelText},this.domNode,_1ea4);if(this.labelPlacement==="top"){dojo.create("br",null,_1ea5,"after");}}},onChanged:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}if(this.autoPostBack){if(Sys){Sys.WebForms.PageRequestManager.getInstance()._doPostBack(this.id,"");}}}});return _1ea3;});},"Sage/UI/TimeZoneItem":function(){define("Sage/UI/TimeZoneItem",["dijit/MenuBar","Sage/UI/MenuItem","Sage/UI/PopupMenuBarItem","Sage/UI/OrientableMenuBar","Sage/UI/MenuBarItem","Sage/UI/Controls/_DialogHelpIconMixin","dojo/i18n","dojo/data/ItemFileReadStore","dojo/i18n!./nls/TimeZoneItem","dojo/_base/declare"],function(_1ea6,_1ea7,_1ea8,_1ea9,_1eaa,_1eab,i18n,_1eac,_1ead,_1eae){var _1eaf=_1eae("Sage.UI.TimeZoneItem",_1ea6,{_TimeZoneDialog:new Simplate(["<div><div style=\"height:auto;\">","{%= $.setTimeZone %}<br />","<select id=\"timeZoneItemsList\" data-dojo-type=\"dijit.form.Select\" shouldPublishMarkDirty=\"false\" style=\"width:345px; margin-top:10px; margin-bottom:10px;\"></select></div>","<div class=\"button-bar alignright\"><button data-dojo-type=\"dijit.form.Button\""," type=\"button\" id=\"btnTimeZoneDialogOk\" title=\"{%= $.buttonOK %}\" align=\"right\">{%= $.buttonOK %}</button>","<button data-dojo-type=\"dijit.form.Button\""," type=\"button\" id=\"btnTimeZoneDialogCancel\" title=\"{%= $.buttonCancel %}\" align=\"right\">{%= $.buttonCancel %}</button>","</div></div>"]),postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.UI","TimeZoneItem"));this.inherited(arguments);},postCreate:function(){this.inherited(arguments);var _1eb0;_1eb0=Sage.Utility.getClientContextByKey("userTimeZone");this.addChild(new _1eaa({label:_1eb0,title:this.timeZoneText,id:"btnTimeZoneMenu",onClick:function(){var _1eb1=Sage.Utility.getClientContextByKey("userTimeZoneKey");dojo.xhrGet({url:"slxdata.ashx/slx/crm/-/timezones/p",handleAs:"json",load:function(data){var _1eb2=dijit.byId("TimeZoneMenu"),_1eb3=dijit.byId("btnTimeZoneMenu");_1eb2._initializeDialog();_1eb2._initializeTimeZoneDataStore(data,_1eb1);},error:function(err){}});}}));},_initializeDialog:function(){var _1eb4=dijit.byId("TimeZoneMenu");var d=new dijit.Dialog({title:_1eb4.timeZoneSettingsText,style:"width:auto;"});dojo.mixin(d,new _1eab());d.createHelpIconByTopic("Select_TimeZone");var mkup=this._TimeZoneDialog.apply({buttonOK:_1eb4.buttonOKText,buttonCancel:_1eb4.buttonCancelText,setTimeZone:_1eb4.setTimeZoneText,setAsDefault:_1eb4.setAsDefaultText});d.set("content",mkup);d.show();var _1eb5=function(){dojo.disconnect(_1eb6);dojo.disconnect(_1eb7);dojo.disconnect(_1eb8);setTimeout((function(d){return function(){d.destroyDescendants();d.destroy(false);};})(d),1);};var _1eb9=function(){d.hide();};var _1eba=function(){var _1ebb=dijit.byId("timeZoneItemsList"),_1eb4=dijit.byId("TimeZoneMenu"),_1ebc="";for(var i=0;i<_1ebb.options.length;i++){if(_1ebb.options[i].value===_1ebb.value){_1ebc=_1ebb.options[i];break;}}if(_1ebc){_1eb4._updateTimeZone(_1ebc,_1eb4.location?true:false);}d.hide();};var _1eb6=dojo.connect(d,"hide",this,_1eb5);var _1eb7=dojo.connect(dijit.byId("btnTimeZoneDialogCancel"),"onClick",this,_1eb9);var _1eb8=dojo.connect(dijit.byId("btnTimeZoneDialogOk"),"onClick",this,_1eba);},_initializeTimeZoneDataStore:function(data,_1ebd){var items=[];var _1ebe="";var _1ebf="";var i;for(i=0;i<data.length;i++){if(!data[i].Displayname||!data[i].Keyname){continue;}if(data[i].Keyname==_1ebd){_1ebe=data[i].OffsetHours;break;}}dojo.forEach(data,function(item){if(!item.Displayname||!item.Keyname){return;}if(item.OffsetHours==_1ebe){items.push({id:item.Keyname,text:item.Displayname+_1ebf,isDefault:item.IsDefault});}});var _1ec0={label:"text",value:"id",identifier:"id",items:items};var _1ec1=new _1eac({data:_1ec0});var _1ec2=dijit.byId("timeZoneItemsList");_1ec2.setStore(_1ec1);_1ec2.set("searchAttr","text");for(i=0;i<_1ec2.options.length;i++){if(_1ec2.options[i].value===_1ebd){_1ec2.setValue(_1ec2.options[i].value);break;}}},_updateTimeZone:function(_1ec3,_1ec4){var self=this;var _1ec5={"$name":"setusertimezone","request":{"UserId":Sage.Utility.getClientContextByKey("userID"),"userTimeZone":_1ec3.value,"isCustomerPortal":_1ec4?"t":""}};var _1ec6=new Sage.SData.Client.SDataServiceOperationRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic")).setResourceKind("users").setOperationName("setusertimezone");_1ec6.execute(_1ec5,{success:function(){var _1ec7=dijit.byId("btnTimeZoneMenu");_1ec7.setLabel(_1ec3.label);this._updateLocalClientContext(_1ec3.label,_1ec3.value);},failure:function(){},scope:this});},_updateLocalClientContext:function(_1ec8,_1ec9){Sage.Utility.setClientContextByKey("userTimeZone",_1ec8);Sage.Utility.setClientContextByKey("userTimeZoneKey",_1ec9);}});return _1eaf;});},"Sage/MainView/ActivityMgr/HistoryEditor":function(){require({cache:{"url:Sage/MainView/ActivityMgr/templates/HistoryEditor.html":"\r\n[\r\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"historyDialog\" title=\"\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:_onDlgHide\">',\r\n        '<div class=\"activity-dialog\">',  //body\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\">',\r\n                '<select label=\"{%= $.regardingText %}\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}_pk_Regarding\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Regarding\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\"></select>',\r\n                '<div dojoType=\"Sage.UI.Controls.TextBox\" shouldPublishMarkDirty=\"false\" label=\"{%= $.locationText %}\" id=\"{%= $.id %}_tb_Location\" dojoAttachPoint=\"tb_Location\" maxLength=\"255\" ></div>',\r\n            '</div>', //first tablecontainer 1 col\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\">',\r\n                '<div dojoType=\"Sage.UI.Controls.DateTimePicker\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}_dtp_CompletetdDate\" dojoAttachPoint=\"dtp_completedDate\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $.completedDateText %}\"></div>',\r\n                '<div dojoType=\"Sage.UI.Controls.DateTimePicker\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}_dtp_StartDate\" dojoAttachPoint=\"dtp_startDate\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $.startTimeText %}\"></div>',\r\n                '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                    '<div dojoType=\"dijit.form.CheckBox\" label=\"{%= $.timeLessText %}\" id=\"{%= $.id %}_cb_Timeless\" dojoAttachPoint=\"cb_Timeless\" ></div>',\r\n                    '<label class=\"checkbox-label\" for=\"cb_Timeless\">{%= $.timeLessText %}</label>',\r\n                '</div>',\r\n                 '<div dojoType=\"Sage.UI.Controls.DurationSelect\" shouldPublishMarkDirty=\"false\" label=\"{%= $.durationText %}\" id=\"{%= $.id %}_sel_Duration\" dojoAttachPoint=\"sel_Duration\" includeDisablingCheckbox=\"false\" valuesAreAfterStart=\"true\"></div>',\r\n                '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                    \r\n                '</div>',\r\n            '</div>', //second tablecontainer 2 col\r\n\r\n            '<div dojoType=\"dijit.layout.TabContainer\" id=\"{%= $.id %}_tc_EditHistory\"  dojoAttachPoint=\"tc_EditHistory\" class=\"tab-container\">',\r\n/*  General Tab   */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_General\" title=\"{%= $.tabNameGeneralText %}\" class=\"tabContent remove-padding\" dojoAttachPoint=\"cp_General\">',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"result_Section\" class=\"bottom-border-section\">',\r\n                        '<select label=\"{%= $.resultText %}\" id=\"{%= $.id %}_tb_Result\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Result\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\"></select>',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"4\" labelWidth=\"4\" baseClass=\"contact-lead-radios\" >',\r\n                        '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"contactOrLead\" label=\"{%= $.contactText %}\" value=\"contact\" id=\"{%= $.id %}_rdo_Contact\" dojoAttachPoint=\"rdo_Contact\" dojoAttachEvent=\"onChange:_setContactLeadVisibility\" checked=\"true\" />',\r\n                        '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"contactOrLead\" label=\"{%= $.leadText %}\" value=\"lead\" id=\"{%= $.id %}_rdo_Lead\" dojoAttachPoint=\"rdo_Lead\" />',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"contactContainer\" baseClass=\"bottom-border-section\">',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.nameText %}\" dojoAttachPoint=\"container_ContactLup\" class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.opportunityText %}\" dojoAttachPoint=\"container_OppLup\" class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.accountText %}\" dojoAttachPoint=\"container_AccountLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.ticketText %}\" dojoAttachPoint=\"container_TicketLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"leadContainer\"  baseClass=\"bottom-border-section\" class=\"display-none\">',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.nameText %}\" dojoAttachPoint=\"container_LeadLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                        '<input dojoType=\"dijit.form.TextBox\" id=\"{%= $.id %}_tb_LeadCompanyName\" label=\"{%= $.companyText %}\" dojoAttachPoint=\"tb_LeadCompanyName\" readonly=\"true\" />',\r\n                    '</div>',                       \r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\"  class=\"bottom-border-section\">',\r\n                        '<select label=\"{%= $.categoryText %}\" id=\"{%= $.id %}_pk_Category\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Category\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\"  style=\"width: {%= 472 - $.labelWidth %}px;\" ></select>', \r\n                         '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.leaderText %}\" dojoAttachPoint=\"container_LeaderLup\" class=\"remove-padding lookup-container\" style=\"width: {%= 472 - $.labelWidth %}px;\"></div>',\r\n                         '<select label=\"{%= $.priorityText %}\" id=\"{%= $.id %}_pk_Priority\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Priority\" canEditText=\"true\" itemMustExist=\"false\" pickListName=\"Priorities\" sort=\"false\" maxLength=\"64\" style=\"width: {%= 472 - $.labelWidth %}px;\"></select>',                          \r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\"  class=\"valigntop\">',\r\n                        '<textarea dojoType=\"dijit.form.SimpleTextarea\" id=\"{%= $.id %}_ta_Notes\" label=\"{%= $.notesText %}\" dojoAttachPoint=\"ta_Notes\" class=\"notes-text\" ></textarea>',\r\n                    '</div>',\r\n                '</div>',  // end general tab\r\n\r\n              /* Attachments Tab  */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_Attachments\" title=\"{%= $.tabNameAttachmentsText %}\" class=\"tabContent\" dojoAttachPoint=\"cp_Attachments\" dojoAttachEvent=\"onShow:_showAttachmentsTab\">',\r\n                    '<div id=\"{%= $.id %}_attachmentsGridPlaceholder\" dojoAttachPoint=\"_attachmentGridPlaceholder\" style=\"width:100%;height:100%;\" ></div>',\r\n                '</div>',  //end attachments tab\r\n            '</div>', //end tab container\r\n            '<table class=\"button-bar\">',\r\n                '<col width=\"50%\" /><col width=\"50%\" />',\r\n                 '<tr>',\r\n                    '<td class=\"alignleft\">',\r\n                        //followUp section\r\n                        '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"followUp_Section\" >',\r\n                            '<select label=\"{%= $.followupText %}\" id=\"{%= $.id %}_followUpSelect\" dojoType=\"dijit.form.ComboBox\" dojoAttachPoint=\"sel_Followup\">',\r\n                                '<option value=\"none\" selected=\"selected\">{%= $.noneText %}</option>',\r\n                                '<option value=\"atPhoneCall\">{%= Sage.Utility.Activity.getActivityTypeName(\"atPhoneCall\") %}</option>',\r\n                                '<option value=\"atAppointment\">{%= Sage.Utility.Activity.getActivityTypeName(\"atAppointment\") %}</option>',\r\n                                '<option value=\"atToDo\">{%= Sage.Utility.Activity.getActivityTypeName(\"atToDo\") %}</option>',\r\n                            '</select>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                                '<div dojoType=\"dijit.form.CheckBox\" label=\"\" id=\"{%= $.id %}_ck_coAttachments\" dojoAttachPoint=\"ck_coAttachments\" ></div>',\r\n                                '<label class=\"checkbox-label\" for=\"{%= $.id %}_ck_coAttachments\">{%= $.carryOverAttachmentsText %}</label>',\r\n                            '</div>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                                '<div dojoType=\"dijit.form.CheckBox\" label=\"\" id=\"{%= $.id %}_ck_coNotes\" dojoAttachPoint=\"ck_coNotes\" ></div>',\r\n                                '<label class=\"checkbox-label\" for=\"{%= $.id %}_ck_coNotes\">{%= $.carryOverNotesText %}</label>',\r\n                            '</div>',\r\n                        '</div>',//end followUp section                         \r\n                    '</td>',\r\n                    '<td class=\"alignright valignbottom\" rowspan=\"2\">',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btnDelete\" name=\"btn_Delete\" dojoAttachPoint=\"btn_Delete\" dojoAttachEvent=\"onClick:_deleteClick\">{%= $.deleteText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.okText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $. cancelText %}</div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                   '<td class=\"alignleft\">',\r\n                      '<div class=\"scheduled-by-label\" dojoAttachPoint=\"lbl_ScheduledBy\"></div>',\r\n                   '</td>',                 \r\n                '</tr>',\r\n            '</table>',\r\n        '</div>', //body\r\n    '</div>',  //dialog\r\n'</div>' //root node\r\n]\r\n"}});define("Sage/MainView/ActivityMgr/HistoryEditor",["dijit/_Widget","Sage/_Templated","Sage/Data/SingleEntrySDataStore","Sage/MainView/BindingsManager","Sage/Utility","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","Sage/UI/_DialogLoadingMixin","Sage/UI/AttachmentList","Sage/Data/SDataServiceRegistry","Sage/UI/Dialogs","dojo/string","dojo/date/locale","Sage/Utility/Activity","Sage/Utility/File","dojo/_base/declare","dojo/i18n!./nls/HistoryEditor","dojo/text!./templates/HistoryEditor.html","dojo/dom-class","Sage/MainView/ActivityMgr/HistoryEditorAttendeesTab","dijit/layout/ContentPane","dojo/on","dijit/Toolbar","dijit/layout/TabContainer","dijit/form/Textarea","dojox/layout/TableContainer","Sage/Services/UserOptions","Sage/UI/Controls/SingleSelectPickList","Sage/UI/Controls/DateTimePicker","Sage/UI/Controls/Lookup","dijit/Dialog","Sage/UI/Controls/DurationSelect","Sage/Services/CalendarSecurityService"],function(_1eca,_1ecb,_1ecc,_1ecd,_1ece,_1ecf,_1ed0,_1ed1,_1ed2,_1ed3,_1ed4,_1ed5,_1ed6,_1ed7,_1ed8,_1ed9,_1eda,_1edb,_1edc,_1edd,_1ede,on){dojo.requireLocalization("Sage.MainView.ActivityMgr","HistoryEditor");var _1edf=_1ed9("Sage.MainView.ActivityMgr.HistoryEditor",[_1eca,_1ecb],{historyId:"",mode:"",id:"",activityType:"",_dialog:false,_currentUserId:null,_activityService:false,_historyData:false,_historyStore:false,_bindingMgr:false,lup_Account:false,lup_Contact:false,lup_Opportunity:false,lup_Ticket:false,lup_Lead:false,lup_Leader:false,accountLookupConfig:{},contactLookupConfig:{},opportunityLookupConfig:{},ticketLookupConfig:{},leadLookupConfig:{},_isBinding:false,_historySaved:false,notnullfields:["ContactId","AccountId","OpportunityId","TicketId","LeadId"],historyDefaultValues:{},_doingFollowup:false,_attachmentsSaved:false,_attachmentList:false,_tempIdForAttachments:false,_hasAccess:true,eventConnections:[],widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_1edb)),constructor:function(){dojo.mixin(this,_1eda);this._historyService=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");this._setupStore();this._currentUserId=Sage.Utility.getClientContextByKey("userID")||"";dojo.subscribe("/entity/attachment/create",this,this._updateHistoryETag);dojo.subscribe("/entity/attachment/update",this,this._updateHistoryETag);dojo.subscribe("/entity/attachment/delete",this,this._updateHistoryETag);},destroy:function(){if(this._historyChangeConnection){dojo.disconnect(this._historyChangeConnection);this._historyChangeConnection=false;}if(this._bindingMgr){this._bindingMgr.destroy();}for(var i=0;i<this.eventConnections.length;i++){dojo.disconnect(this.eventConnections[i]);}this.lup_Account.destroy();this.lup_Contact.destroy();this.lup_Opportunity.destroy();this.lup_Ticket.destroy();this.lup_Lead.destroy();this.lup_Leader.destroy();this.eventConnections=[];this.inherited(arguments);},isFirstOpen:true,show:function(_1ee0){this._dialog.set("refocus",false);if(this.isFirstOpen){this.isFirstOpen=false;this.connect(this._dialog,"onHide",this._cleanOnClose);}if(!this.lup_Account){this.createAccountLookup();this.createContactLookup();this.createOpportunityLookup();this.createTicketLookup();this.createLeadLookup();this.createLeaderLookup();}this.historyDefaultValues={};if(this.mode==="New"){this.historyDefaultValues=_1ee0||{};this._loadData();}if(this.mode==="Complete"){}if(this.mode==="Complete"){_1edc.add(this.btn_Delete.domNode,"display-none");}else{_1edc.remove(this.btn_Delete.domNode,"display-none");}if((this.activityType==="atNote")&&(this.mode==="New")){dojo.addClass(this.result_Section.domNode,"display-none");}else{dojo.removeClass(this.result_Section.domNode,"display-none");}this._dialog.show();if(!this._dialog._standby){_1ed0.mixin(this._dialog,new _1ed1());if(!this._historyData){this._dialog.showLoading();}}if(!this._dialog.helpIcon){_1ed0.mixin(this._dialog,new _1ecf());this._dialog.createHelpIconByTopic("View_Edit_Details_of_a_History_Item");}if(this.activityType==="atNote"){this._dialog.set("helpTopic","addnote");}else{this._dialog.set("helpTopic","View_Edit_Details_of_a_History_Item");}this.tc_EditHistory.selectChild(this.cp_General);this._doingFollowup=false;},hide:function(e){this._dialog.hide(e);this.set("historyId","");},onHide:function(){},_onDlgHide:function(){this.onHide();},_cleanOnClose:function(){var svc=Sage.Services.getService("ClientEntityContext");svc.clearTemporaryContext();this.set("historyId","");this._hideLookupTooltip(this.lup_Account);this._hideLookupTooltip(this.lup_Contact);this._hideLookupTooltip(this.lup_Opportunity);this._hideLookupTooltip(this.lup_Ticket);this._hideLookupTooltip(this.lup_Lead);this._hideLookupTooltip(this.lup_Leader);},_hideLookupTooltip:function(_1ee1){if(_1ee1){_1ee1.hideTooltip();}},_showAttachmentsTab:function(){var self=this;window.setTimeout(function(){self._ensureAttachmentList();},100);},_ensureAttachmentList:function(){if(!this._attachmentList){this._attachmentList=new _1ed2({workspace:"",tabId:"",placeHolder:this.id+"_attachmentsGridPlaceholder",parentRelationshipName:"historyId"});var self=this;this._attachmentList.startup(function(){if(self.cp_Attachments){self.cp_Attachments.resize();}});}else{this._attachmentList.resetEntityContext();}},_updateHistoryETag:function(_1ee2){if(this._dialog.open&&this.historyId){var req=new Sage.SData.Client.SDataSingleResourceRequest(_1ed3.getSDataService("dynamic"));req.setResourceKind("history");req.setResourceSelector("\""+this.historyId+"\"");req.setQueryArg("precedence","0");req.read({success:function(_1ee3){this._historyData["$etag"]=_1ee3["$etag"];},scope:this});}},_setModeAttr:function(mode){this.mode=mode;var idx=this.tc_EditHistory.getIndexOfChild(dijit.byId("histAttendeesTabPane"));if(mode.indexOf("New")===0){this._historyData=false;if(idx>0){this.tc_EditHistory.removeChild(dijit.byId("histAttendeesTabPane"));dijit.byId("histAttendeesTabPane").destroy();var self=this;window.setTimeout(function(){self._dialog.resize();},100);}}else{if(idx<0){this._addAttendeesTab();var self=this;window.setTimeout(function(){self._dialog.resize();},100);}}},_setActivityTypeAttr:function(type){switch(type){case "PhoneCall":case "atPhoneCall":this.activityType="atPhoneCall";break;case "Meeting":case "atAppointment":this.activityType="atAppointment";break;case "ToDo":case "atToDo":this.activityType="atToDo";break;case "PersonalActivity":case "atPersonal":case "Personal":this.activityType="atPersonal";break;case "atNote":case "Note":this.activityType="atNote";break;default:this.activityType="atNote";break;}},_setHistoryIdAttr:function(_1ee4){if(this.historyId!==_1ee4){this.historyId=_1ee4;this._historyData=false;if(_1ee4!==""){this._loadData();}}},_getHistoryIdAttr:function(){return this.historyId;},_setupStore:function(){if(!this._historyStore){this._historyStore=new _1ecc({include:[],resourceKind:"history",service:this._historyService});}},_loadData:function(){if(this._dialog._standby){this._dialog.showLoading();}this._historyData=false;this._historySaved=false;if(this._historyStore){if(this.mode!=="New"){this._historyStore.fetch({predicate:"\""+this.historyId+"\"",onComplete:this._receivedHistory,onError:this._requestFailure,scope:this});}else{this._historyStore.newItem({onComplete:function(data){Sage.Utility.setValue(data,"Type",this.activityType);this._receivedHistory(dojo.mixin(data,this.historyDefaultValues));},scope:this});}}},_receivedHistory:function(data){this._historyData=data;this._tempIdForAttachments=false;var _1ee5=Sage.Services.getService("ClientEntityContext");var _1ee6={"EntityId":this._historyData.$key||"","EntityType":"Sage.Entity.Interfaces.IHistory","Description":this._historyData.$descriptor,"EntityTableName":"HISTORY"};_1ee5.setTemporaryContext(_1ee6);this._ensureIdsNotNull();if(this.mode!=="New"){this.activityType=data.Type;}else{this._applyUserOptionsForNewHistory();}this._setUIForActivityType(data.Type);this._bind();if(((this.activityType==="atNote")&&(this.mode==="New"))||(data["UserId"]!==this._currentUserId&&this._currentUserId.trim()!=="ADMIN")){dojo.addClass(this.btn_Delete.domNode,"display-none");}else{dojo.removeClass(this.btn_Delete.domNode,"display-none");}if(this._dialog._standby){this._dialog.hideLoading();}},_ensureIdsNotNull:function(){for(var i=0;i<this.notnullfields.length;i++){if(this._historyData[this.notnullfields[i]]===null){this._historyData[this.notnullfields[i]]="";}}},_applyUserOptionsForNewHistory:function(){var _1ee7=new Date();_1ee7.setSeconds(5);_1ee7.setMinutes(0);_1ee7.setHours(0);Sage.Utility.setValue(this._historyData,"Timeless",true);Sage.Utility.setValue(this._historyData,"StartDate",Sage.Utility.Convert.toIsoStringFromDate(_1ee7));Sage.Utility.setValue(this._historyData,"Duration","60");},_requestFailure:function(msg,_1ee8,opts){},_createBindings:function(){if(this._bindingMgr){this._bindingMgr.destroy();this._bindingMgr=false;}this._bindingMgr=new _1ecd({defaultBinding:{boundEntity:this._historyData},items:[{boundWidget:this.tb_Location,entityProperty:"Location"},{boundWidget:this.pk_Regarding,entityProperty:"Description",onChange:dojo.hitch(this,"_descriptionChanged")},{boundWidget:this.pk_Result,entityProperty:"Result"},{boundWidget:this.pk_Category,entityProperty:"Category"},{boundWidget:this.pk_Priority,entityProperty:"Priority"},{boundWidget:this.dtp_startDate,dataType:"date",entityProperty:"StartDate",onChange:dojo.hitch(this,"_startDateChanged")},{boundWidget:this.dtp_completedDate,dataType:"date",entityProperty:"CompletedDate"},{boundWidget:this.sel_Duration,entityProperty:"Duration"},{boundWidget:this.sel_Duration,entityProperty:"StartDate",widgetProperty:"startTime",dataType:"date",twoWay:false},{boundWidget:this.cb_Timeless,entityProperty:"Timeless",widgetProperty:"checked",onChange:dojo.hitch(this,"_timelessChange")},{boundWidget:this.ta_Notes,entityProperty:"LongNotes"}]});},_bind:function(){if(this._historyData){if(!this._bindingMgr){this._createBindings();}else{if(!this._bindingMgr.boundEntity||(this._historyData.HistoryId!==this._bindingMgr.boundEntity.HistoryId)){this._bindingMgr.setBoundEntity(this._historyData);}else{this._bindingMgr.bind();}}this._manualBind();this._setUI();}},_manualBind:function(){if(this._historyData){this._isBinding=true;var his=this._historyData;var _1ee9=(his.AccountId.trim()==="")?null:{"$key":his.AccountId,"$descriptor":his.AccountName};this.lup_Account.set("selectedObject",_1ee9);var _1eea=(his.ContactId.trim()==="")?null:{"$key":his.ContactId,"$descriptor":his.ContactName};this.lup_Contact.set("selectedObject",_1eea);var _1eeb=(his.OpportunityId.trim()==="")?null:{"$key":his.OpportutunityId,"$descriptor":his.OpportunityName};this.lup_Opportunity.set("selectedObject",_1eeb);var _1eec=(his.TicketId.trim()==="")?null:{"$key":his.TicketId,"$descriptor":his.TicketNumber};this.lup_Ticket.set("selectedObject",_1eec);var _1eed=(his.LeadId.trim()==="")?null:{"$key":his.LeadId,"$descriptor":his.LeadName};var _1eee=(his.UserId.trim()==="")?null:{"$key":his.UserId,"$descriptor":his.UserName};this.lup_Leader.set("selectedObject",_1eee);this.lup_Lead.set("selectedObject",_1eed);this.tb_LeadCompanyName.set("value",(his.LeadId.trim()==="")?"":his.AccountName);this._updateLookupSeedValues(his.AccountId);this._isBinding=false;}},_accountChanged:function(_1eef){if(this._isBinding){return;}var newId=(_1eef)?_1eef["$key"]:"";var _1ef0=(_1eef)?_1eef["$descriptor"]:"";var his=this._historyData;var _1ef1=(his.ContactId==="");his.AccountId=newId;his.AccountName=_1ef0;his.ContactId="";his.ContactName="";his.PhoneNumber="";his.OpportunityId="";his.OpportunityName="";his.TicketId="";his.TicketNumber="";his.LeadId="";his.LeadName="";this._isBinding=true;this.lup_Contact.set("selectedObject",null);this.lup_Opportunity.set("selectedObject",null);this.lup_Ticket.set("selectedObject",null);this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._updateLookupSeedValues(newId);this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");if(_1ef1){this._setContactToCurrentAccountPrimary();}this._isBinding=false;},_contactChanged:function(_1ef2){if(this._isBinding){return;}var his=this._historyData;if(!_1ef2){his.ContactId="";his.ContactName="";his.PhoneNumber="";return;}his.ContactId=_1ef2["$key"];his.ContactName=_1ef2["$descriptor"];his.PhoneNumber=Sage.Utility.getValue(_1ef2,"WorkPhone");his.LeadId="";his.LeadName="";his.AccountId=_1ef2.Account["$key"];his.AccountName=_1ef2.Account.AccountName;this._updateLookupSeedValues(_1ef2.Account["$key"]);this._isBinding=true;this.lup_Account.set("selectedObject",{"$key":_1ef2.Account["$key"],"$descriptor":_1ef2.Account.AccountName});this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._isBinding=false;},_opportunityChanged:function(_1ef3){if(this._isBinding){return;}var his=this._historyData;if(!_1ef3){his.OpportunityId="";his.OpportunityName="";return;}his.OpportunityId=_1ef3["$key"];his.OpportunityName=_1ef3["$descriptor"];if(his.AccountId.trim()===""||his.AccountId!==_1ef3.Account["$key"]){his.AccountId=_1ef3.Account["$key"];his.AccountName=_1ef3.Account.AccountName;his.LeadId="";his.LeadName="";this._updateLookupSeedValues(_1ef3.Account["$key"]);this._isBinding=true;this.lup_Account.set("selectedObject",{"$key":_1ef3.Account["$key"],"$descriptor":_1ef3.Account.AccountName});this.lup_Contact.set("selectedObject",null);this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._isBinding=false;this._setContactBasedOnOpportunity();}},_ticketChanged:function(_1ef4){if(this._isBinding){return;}var his=this._historyData;if(!_1ef4){his.TicketId="";his.TicketNumber="";return;}his.TicketId=_1ef4["$key"];his.TicketNumber=_1ef4["$descriptor"];if(his.AccountId.trim()===""||his.AccountId!==_1ef4.Account["$key"]){his.AccountId=_1ef4.Account["$key"];his.AccountName=_1ef4.Account["AccountName"];his.LeadId="";his.LeadName="";this._updateLookupSeedValues();his.ContactId=Sage.Utility.getValue(_1ef4,"Contact.$key");his.ContactName=Sage.Utility.getValue(_1ef4,"Contact.NameLF");his.PhoneNumber=Sage.Utility.getValue(_1ef4,"Contact.WorkPhone");this._isBinding=true;this.lup_Account.set("selectedObject",{"$key":_1ef4.Account["$key"],"$descriptor":_1ef4.Account["AccountName"]});this.lup_Contact.set("selectedObject",{"$key":_1ef4.Contact["$key"],"$descriptor":_1ef4.Contact["NameLF"]});this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._isBinding=false;}},_leadChanged:function(_1ef5){if(this._isBinding){return;}var his=this._historyData;if(!_1ef5){his.LeadId="";his.LeadName="";his.PhoneNumber="";this.tb_LeadCompanyName.set("value","");return;}his.LeadId=_1ef5["$key"];his.LeadName=_1ef5["$descriptor"];his.AccountName=_1ef5["Company"];his.PhoneNumber=_1ef5["WorkPhone"];this.tb_LeadCompanyName.set("value",_1ef5["Company"]);his.ContactId="";his.ContactName="";his.AccountId="";his.AccountName="";his.TicketId="";his.TicketNumber="";his.OpportunityId="";his.OpportunityName="";this._updateLookupSeedValues();this._isBinding=true;this.lup_Contact.set("selectedObject",null);this.lup_Account.set("selectedObject",null);this.lup_Opportunity.set("selectedObject",null);this.lup_Ticket.set("selectedObject",null);this._isBinding=false;},_leaderChanged:function(_1ef6){if(this._isBinding){return;}this._historyData.UserId=_1ef6["$key"].substr(0,12);this._historyData.UserName=_1ef6["$descriptor"];},_setContactBasedOnOpportunity:function(){var req=new Sage.SData.Client.SDataResourceCollectionRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));req.setResourceKind("opportunities");var _1ef7=req.uri.pathSegments.length-1;var _1ef8=req.uri.getPathSegment(_1ef7);_1ef8["predicate"]="\""+this._historyData.OpportunityId+"\"";req.uri.setPathSegment(_1ef7+1,"Contacts");req.setQueryArg("select","IsPrimary,Contact/NameLF,Contact/IsPrimary,Contact/WorkPhone");req.setQueryArg("orderby","IsPrimary desc");req.read({success:function(data){var _1ef9=data["$resources"];if(_1ef9.length<1){this._setContactToCurrentAccountPrimary();return;}var _1efa=false,_1efb=false,_1efc=_1ef9[0],_1efd;for(var i=0;i<_1ef9.length;i++){if(_1ef9[i].IsPrimary){if(!_1efa||_1ef9[i].Contact.IsPrimary){_1efa=_1ef9[i];}}if(!_1efb&&_1ef9[i].Contact.IsPrimary){_1efb=_1ef9[i];}}_1efd=_1efa||_1efb||_1efc;if(_1efd){this._historyData.ContactId=Sage.Utility.getValue(_1efd,"Contact.$key");this._historyData.ContactName=Sage.Utility.getValue(_1efd,"Contact.NameLF");this._historyData.PhoneNumber=Sage.Utility.getValue(_1efd,"Contact.WorkPhone");this._rebindToCurrentContact();}},failure:function(){this._rebindToCurrentContact();},scope:this});},_setContactToCurrentAccountPrimary:function(){var req=new Sage.SData.Client.SDataResourceCollectionRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));req.setResourceKind("accounts");var _1efe=req.uri.pathSegments.length-1;var _1eff=req.uri.getPathSegment(_1efe);_1eff["predicate"]="\""+this._historyData.AccountId+"\"";req.uri.setPathSegment(_1efe+1,"Contacts");req.setQueryArg("select","NameLF,IsPrimary,WorkPhone");req.setQueryArg("orderby","IsPrimary desc");req.setQueryArg("count","1");req.read({success:function(data){var _1f00=data["$resources"];if(_1f00.length<1){this._rebindToCurrentContact();return;}var _1f01=_1f00[0];this._historyData.ContactId=Sage.Utility.getValue(_1f01,"$key");this._historyData.ContactName=Sage.Utility.getValue(_1f01,"NameLF");this._historyData.PhoneNumber=Sage.Utility.getValue(_1f01,"WorkPhone");this._isBinding=true;this.lup_Contact.set("selectedObject",_1f01);this._isBinding=false;},failure:function(){this._rebindToCurrentContact();},scope:this});},_rebindToCurrentContact:function(){this._isBinding=true;this.lup_Contact.set("selectedObject",{"$key":this._historyData.ContactId,"$descriptor":this._historyData.ContactName});this._isBinding=false;},_updateLookupSeedValues:function(_1f02){var accId=_1f02||this._historyData.AccountId;this.contactLookupConfig.seedValue=accId;this.opportunityLookupConfig.seedValue=accId;this.ticketLookupConfig.seedValue=accId;},_setUI:function(){this._formatHeader();this._setDisabledByTimlessValue();if(this._historyData.LeadId.trim()===""){this.rdo_Contact.set("checked",true);}else{this.rdo_Lead.set("checked",true);}this._setContactLeadVisibility();this._setScheduledByLabel();this._applySecurity();},_applySecurity:function(){if(this.mode==="New"){this._setAccessToUI(true);}else{if(this.mode==="Complete"){this._setAccessToUI(true);}else{var svc=Sage.Services.getService("CalendarSecurityService");if(svc){var _1f03=_1ece.getClientContextByKey("userID").trim();var _1f04=this._historyData.UserId||_1f03;if(_1f03!==_1f04){svc.hasAccess(_1f04,"allowEdit",function(_1f05){this._setAccessToUI(_1f05);},this);}else{this._setAccessToUI(true);}}}}},_setAccessToUI:function(_1f06){this._hasAccess=_1f06;if((this.mode==="New")||((this.mode==="Complete"))){this.rdo_Lead.set("disabled",!_1f06);this.tb_Location.set("disabled",!_1f06);this.pk_Regarding.set("disabled",!_1f06);this.pk_Category.set("disabled",!_1f06);this.pk_Priority.set("disabled",!_1f06);this.dtp_startDate.set("disabled",!_1f06);this.dtp_completedDate.set("disabled",!_1f06);if(!_1f06){this.sel_Duration.set("disabled",true);}this.cb_Timeless.set("disabled",!_1f06);this.ta_Notes.set("disabled",!_1f06);this.lup_Leader.set("disabled",!_1f06);this.lup_Account.set("disabled",!_1f06);this.lup_Contact.set("disabled",!_1f06);this.lup_Lead.set("disabled",!_1f06);this.lup_Ticket.set("disabled",!_1f06);this.lup_Opportunity.set("disabled",!_1f06);this.tb_LeadCompanyName.set("disabled",!_1f06);this.btn_OK.set("disabled",!_1f06);}else{this.rdo_Lead.set("disabled",true);this.tb_Location.set("disabled",!_1f06);this.pk_Regarding.set("disabled",!_1f06);this.pk_Category.set("disabled",!_1f06);this.pk_Priority.set("disabled",true);this.dtp_startDate.set("disabled",true);this.dtp_completedDate.set("disabled",true);this.sel_Duration.set("disabled",true);this.cb_Timeless.set("disabled",true);this.ta_Notes.set("disabled",!_1f06);this.lup_Leader.set("disabled",true);this.lup_Account.set("disabled",true);this.lup_Contact.set("disabled",true);this.lup_Lead.set("disabled",true);this.lup_Ticket.set("disabled",true);this.lup_Opportunity.set("disabled",true);this.tb_LeadCompanyName.set("disabled",true);this.btn_OK.set("disabled",!_1f06);}},_setUIForActivityType:function(_1f07){this.pk_Regarding.set("pickListName",Sage.Utility.Activity.getActivityPicklistName("Regarding",_1f07));this.pk_Category.set("pickListName",Sage.Utility.Activity.getActivityPicklistName("Category",_1f07));this.pk_Result.set("pickListName",Sage.Utility.Activity.getActivityPicklistName("Result",_1f07));var svc=Sage.Services.getService("CalendarSecurityService");this.btn_OK.set("disabled",false);if(svc&&this.mode!=="New"){var _1f08=_1ece.getClientContextByKey("userID").trim();var _1f09=this._historyData.UserId||_1f08;if(_1f08!==_1f09){svc.hasAccess(_1f09,"allowEdit",function(_1f0a){this.btn_OK.set("disabled",!_1f0a);},this);}}},_setDisabledByTimlessValue:function(){if(!this._historyData){return;}var tless=this._historyData["Timeless"];this.dtp_startDate.set("displayTime",!tless);this.sel_Duration.set("disabled",tless||!this._hasAccess);},_timelessChange:function(){this._setDisabledByTimlessValue();},_descriptionChanged:function(){this._formatHeader();},_startDateChanged:function(){var _1f0b=this.dtp_startDate.get("value");this.sel_Duration.set("startTime",_1f0b);},_setContactLeadVisibility:function(){var _1f0c=this.rdo_Contact.get("checked");dojo.removeClass((_1f0c)?this.contactContainer.domNode:this.leadContainer.domNode,"display-none");dojo.addClass((_1f0c)?this.leadContainer.domNode:this.contactContainer.domNode,"display-none");},_formatHeader:function(){var _1f0d;var _1f0e;var _1f0f;var _1f10;_1f0e=Sage.Utility.Activity.getActivityImageClass(this._historyData["Type"]||"atAppointment","small");_1f0d=Sage.Utility.Activity.getActivityTypeName(this._historyData["Type"]||"atAppointment");_1f0f=(this.mode==="New")?this.insertText:"";_1f10=this._historyData["Description"]||"";if(_1f10!==""){_1f10=" - "+_1f10;}this._dialog.set("title",dojo.string.substitute("<div class=\"Global_Images icon16x16 ${0}\" > </div>&nbsp;<span class=\"activity-dialog-title\">${1} ${2} ${3}</span>",[_1f0e,_1f0f,_1f0d,_1f10]));},_setScheduledByLabel:function(){var _1f11=Sage.Utility.Convert.toDateFromString(Sage.Utility.getValue(this._historyData,"CreateDate"));if(_1f11.getFullYear()<1000){_1f11=new Date();}var _1f12=Sage.Utility.getValue(this._historyData,"CreateUser").trim();if(!_1f12||_1ece.getClientContextByKey("userID")===_1f12){_1f12=_1ece.getClientContextByKey("userPrettyName");}else{if(_1f12==="PROCESS"||_1f12==="ADMIN"){_1f12="Administrator";}else{this._getUserInfoFor(_1f12,function(user){dojo.html.set(this.lbl_ScheduledBy,_1ed5.substitute(this.scheduledByFormatText,{user:user["$descriptor"],date:_1ed6.format(_1f11,{selector:"date",fullYear:true})}));});return;}}var lbl=_1ed5.substitute(this.scheduledByFormatText,{user:_1f12,date:_1ed6.format(_1f11,{selector:"date",fullYear:true})});dojo.html.set(this.lbl_ScheduledBy,lbl);},_getUserInfoFor:function(_1f13,_1f14){var _1f15=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic",false,true,true));_1f15.setResourceKind("userInfo");_1f15.setResourceSelector("'"+_1f13+"'");_1f15.setQueryArg("precedence","0");_1f15.read({success:_1f14,scope:this,failure:function(){}});},_okClick:function(){delete this._historyData["Notes"];delete this._historyData["UserName"];if(this.rdo_Lead.checked){delete this._historyData["ContactId"];delete this._historyData["ContactName"];delete this._historyData["AccountId"];delete this._historyData["AccountName"];delete this._historyData["LeadName"];}else{delete this._historyData["LeadId"];}if(this.mode==="New"){this._currentUserActivitySaved=true;this._historyStore.saveNewEntity(this._historyData,this._successfulHistorySave,this._failedHistorySave,this);}else{this._historyStore.save({scope:this,success:this._successfulHistorySave,failure:this._failedAHistorySave});}},_successfulHistorySave:function(_1f16){this._historyData=_1f16;this.historyId=_1f16["$key"];var svc=Sage.Services.getService("ClientEntityContext");svc.clearTemporaryContext();this._attachmentsSaved=true;if(this._attachmentList){var _1f17=this._attachmentList.getNewAttachments();if(_1f17.length>0&&this.mode==="New"){this._saveAttachments(_1f17);this._attachmentsSaved=false;}}if(this.mode==="New"){this.attendeesTab._addHistoryAttendee(_1f16);}dojo.publish("/entity/history/change",[_1f16,this]);this._historySaved=true;this._hideIfComplete();},_failedHistorySave:function(_1f18){Sage.UI.Dialogs.showError(this.couldNotSaveErrorText);},_cancelClick:function(){if(this.mode==="Complete"){this._deleteClick();}else{this.hide();}},_hideIfComplete:function(){if(this._historySaved){if(this._mode!=="New"){this._doFollowup();}else{this.hide();}}},_deleteClick:function(){if(this._historyData&&this._historyStore){Sage.UI.Dialogs.raiseQueryDialogExt({title:this.deleteTitle,query:this.deleteMessage,callbackFn:function(_1f19){if(_1f19){this._historyStore.deleteEntity(this._historyData,this._successfulHistoryDelete,this._failedHistoryDelete,this);}},yesText:this.okText,noText:this.cancelText,icon:"questionIcon",scope:this});}},_successfulHistoryDelete:function(){var svc=Sage.Services.getService("ClientEntityContext");svc.clearTemporaryContext();dojo.publish("/entity/history/delete",[this._historyData["$key"],this]);this.hide();},_failedHistoryDelete:function(_1f1a){var msg=_1ed7.findFailedRequestMessage(_1f1a,this.couldNotDeleteErrorText);_1ed4.showError(msg);},_saveAttachments:function(_1f1b){this._attachmentRequests=_1f1b.length;for(var i=0;i<_1f1b.length;i++){var att=_1f1b[i];var req=new Sage.SData.Client.SDataSingleResourceRequest(_1ed3.getSDataService("system"));req.setResourceKind("attachments");req.setResourceSelector("'"+att.$key+"'");att.historyId=this.historyId;for(var p in this._historyData){if(p.substring(p.length-2)==="Id"&&p!=="UserId"){var _1f1c=p.substring(0,1).toLowerCase()+p.substring(1);att[_1f1c]=this._historyData[p];}}req.update(att,{success:this._successfulAttachmentSave,failure:this._failedAttachmentSave,scope:this});}},_removeAttachments:function(){if(!this._attachmentList){return;}var _1f1d=this._attachmentList.getNewAttachments();for(var i=0;i<_1f1d.length;i++){var att=_1f1d[i];var req=new Sage.SData.Client.SDataSingleResourceRequest(_1ed3.getSDataService("system"));req.setResourceKind("attachments");req.setResourceSelector("'"+att.$key+"'");req["delete"](att,{success:function(){},failure:function(){},scope:this});}},getRelationshipsForAttachments:function(){var obj={};for(var p in this._activityData){if(p.substring(p.length-2)==="Id"&&p!=="UserId"){var _1f1e=p.substring(0,1).toLowerCase()+p.substring(1);obj[_1f1e]=this._activityData[p];}}if(this.mode==="New"&&!_1ed8.supportsHTML5File&&!Sage.gears){this._tempIdForAttachments=this._makeTempID();obj["historyId"]=this._tempIdForAttachments;}return obj;},_makeTempID:function(){if(!this._tempIdForAttachments){var uid=this._currentUserId;var dstr=_1ece.Convert.toIsoStringFromDate(this.dtp_completedDate.get("value"));dstr=dstr.replace(/[T:-]/g,"").substr(6,6);this._tempIdForAttachments="NE"+uid.substr(uid.length-4,4)+dstr;}return this._tempIdForAttachments;},_attachmentRequests:0,_successfulAttachmentSave:function(_1f1f){this._attachmentRequests--;if(this._attachmentRequests<1){this._attachmentsSaved=true;}},_failedAttachmentSave:function(){this._attachmentRequests--;if(this._attachmentRequests<1){this._attachmentsSaved=true;}},_doFollowup:function(){var _1f20=this.sel_Followup.get("value");switch(_1f20){case this.noneText:this.hide();return;case _1ed7.getActivityTypeName("atPhoneCall"):_1f20="atPhoneCall";break;case _1ed7.getActivityTypeName("atAppointment"):_1f20="atAppointment";break;case _1ed7.getActivityTypeName("atToDo"):_1f20="atToDo";break;}var _1f21=this._getFollowUpActivityData();this._doingFollowup=true;this.hide("followup");window.setTimeout(function(){var svc=Sage.Services.getService("ActivityService");if(svc){svc.scheduleActivity({"type":_1f20,"preConfigured":_1f21});}},250);},_getFollowUpActivityData:function(){var his=this._historyData;var ret={AccountId:his.AccountId,AccountName:his.AccountName,ContactId:his.ContactId,ContactName:his.ContactName,Description:his.Description,LeadId:his.LeadId,LeadName:his.LeadName,OpportunityId:his.OpportunityId,OpportunityName:his.OpportunityName,TicketId:his.TicketId,TicketNumber:his.TicketNumber};if(this.ck_coNotes.get("checked")){ret["LongNotes"]=his.LongNotes;ret["Notes"]=his.Notes;}if(this.ck_coAttachments.get("checked")){}return ret;},createAccountLookup:function(){this.accountLookupConfig={id:"_historyAcc",structure:[{"cells":[{"name":this.accountText,"field":"AccountName"},{"name":this.cityText,"field":"Address.City"},{"name":this.stateText,"field":"Address.State"},{"name":this.mainPhoneText,"field":"MainPhone"},{"name":this.typeText,"field":"Type"},{"name":this.subTypeText,"field":"SubType"},{"name":this.statusText,"field":"Status"},{"name":this.acctMgrText,"field":"AccountManager.UserInfo.UserName"},{"name":this.ownerText,"field":"Owner.OwnerDescription"}],"defaultCell":{"sortable":true,"width":"150px","editable":false,"styles":"text-align: left;","propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""}}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"accounts",sort:[{attribute:"AccountName"}]},isModal:true,seedProperty:"",seedValue:"",overrideSeedValueOnSearch:false,initializeLookup:false,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupActText,dialogButtonText:this.okText},this.lup_Account=new Sage.UI.Controls.Lookup({id:"history_lu_account",allowClearingResult:true,config:this.accountLookupConfig,readonly:true,});this.eventConnections.push(dojo.connect(this.lup_Account,"onChange",this,"_accountChanged"));dojo.place(this.lup_Account.domNode,this.container_AccountLup.domNode,"only");},createContactLookup:function(){this.contactLookupConfig={id:"_histoyContact",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"styles":"text-align: left;","propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.nameText,field:"NameLF"},{name:this.accountText,field:"Account.AccountName"},{name:this.cityText,field:"Address.City"},{name:this.stateText,field:"Address.State"},{name:this.workphoneText,field:"WorkPhone"},{name:this.emailText,field:"Email"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"contacts",sort:[{attribute:"NameLF"}]},isModal:true,seedProperty:"Account.Id",seedValue:"",overrideSeedValueOnSearch:true,initialLookup:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupContactText,dialogButtonText:this.okText};this.lup_Contact=new Sage.UI.Controls.Lookup({id:"history_lu_contact",allowClearingResult:true,readonly:true,config:this.contactLookupConfig,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Contact,"onChange",this,"_contactChanged"));dojo.place(this.lup_Contact.domNode,this.container_ContactLup.domNode,"only");},createOpportunityLookup:function(){this.opportunityLookupConfig={id:"_historyOpp",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"styles":"text-align: left;","propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.descriptionText,field:"Description"},{name:this.acctMgrText,field:"AccountManager.UserInfo.UserName"},{name:this.accountText,field:"Account.AccountName"},{name:this.stageText,field:"Stage"},{name:this.statusText,field:"Status"},{name:this.ownerText,field:"Owner.OwnerDescription"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"opportunities",sort:[{attribute:"Description"}]},isModal:true,seedProperty:"Account.Id",seedValue:"",overrideSeedValueOnSearch:true,initialLookup:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupOpportunityText,dialogButtonText:this.okText};this.lup_Opportunity=new Sage.UI.Controls.Lookup({id:"history_lu_opportunity",allowClearingResult:true,readonly:true,config:this.opportunityLookupConfig,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Opportunity,"onChange",this,"_opportunityChanged"));dojo.place(this.lup_Opportunity.domNode,this.container_OppLup.domNode,"only");},createTicketLookup:function(){this.ticketLookupConfig={id:"_historyTicket",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"styles":"text-align: left;","propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.ticketNumberText,field:"TicketNumber"},{name:this.accountText,field:"Account.AccountName"},{name:this.nameText,field:"Contact.NameLF"},{name:this.phoneText,field:"Contact.WorkPhone"},{name:this.statusText,field:"StatusCode",pickListName:"",propertyType:"SalesLogix.PickList"},{name:this.urgencyText,field:"Urgency.Description"},{name:this.areaText,field:"Area"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"tickets",sort:[{attribute:"TicketNumber"}]},isModal:true,seedProperty:"Account.Id",seedValue:"",overrideSeedValueOnSearch:true,initialLookup:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupTicketText,dialogButtonText:this.okText};this.lup_Ticket=new Sage.UI.Controls.Lookup({id:"history_lu_ticket",allowClearingResult:true,readonly:true,config:this.ticketLookupConfig,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Ticket,"onChange",this,"_ticketChanged"));dojo.place(this.lup_Ticket.domNode,this.container_TicketLup.domNode,"only");},createLeadLookup:function(){this.leadLookupConfig={id:"_historyLead",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.nameText,field:"LeadFullName"},{name:this.companyText,field:"Company"},{name:this.cityText,field:"Address.City"},{name:this.stateText,field:"Address.State"},{name:this.postalText,field:"Address.PostalCode"},{name:this.statusText,field:"Status"},{name:this.workphoneText,field:"WorkPhone"},{name:this.ownerText,field:"Owner.OwnerDescription"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"leads",sort:[{attribute:"LeadFullName"}]},isModal:true,initialLookup:false,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupLeadText,dialogButtonText:this.okText};this.lup_Lead=new Sage.UI.Controls.Lookup({id:"history_lu_lead",allowClearingResult:true,readonly:true,config:this.leadLookupConfig,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Lead,"onChange",this,"_leadChanged"));dojo.place(this.lup_Lead.domNode,this.container_LeadLup.domNode,"only");},createLeaderLookup:function(){var _1f22={id:"_historyLeader",structure:[{cells:[{name:this.nameText,field:"Name",sortable:true,width:"400px",editable:false,propertyType:"System.String",excludeFromFilters:false,defaultValue:""}]}],gridOptions:{contextualCondition:function(){return "AllowAdd AND (AccessId eq '"+_1ece.getClientContextByKey("userID")+"' OR AccessId eq 'EVERYONE') AND Type eq 'User'";},contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"activityresourceviews",sort:[{attribute:"Name"}]},isModal:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupLeaderText,dialogButtonText:this.okText};this.lup_Leader=new Sage.UI.Controls.Lookup({id:"history_lu_leader",readonly:true,config:_1f22});this.eventConnections.push(dojo.connect(this.lup_Leader,"onChange",this,"_leaderChanged"));dojo.place(this.lup_Leader.domNode,this.container_LeaderLup.domNode,"only");},_updateLocation:function(_1f23,isAdd){var _1f24=this._historyData.Location;if(!_1f24||_1f24===""){if(isAdd){_1f24=_1f23;}}else{var parts=_1f24.split("; ");var _1f25=[];var _1f26=false;for(var i=0;i<parts.length;i++){if(parts[i]===_1f23){if(isAdd){_1f26=true;}else{continue;}}_1f25.push(parts[i]);}if(!_1f26&&isAdd){_1f25.push(_1f23);}_1f24=_1f25.join("; ");}Sage.Utility.setValue(this._historyData,"Location",_1f24);this.tb_Location.set("value",_1f24);},_formatDateForQuery:function(d){return ["'",d.getUTCFullYear(),"-",d.getUTCMonth()+1,"-",d.getUTCDate(),"'"].join("");},postCreate:function(){this.inherited(arguments);this._addAttendeesTab();},_addAttendeesTab:function(){var _1f27=this.attendeesTab=new _1edd();var cp=new _1ede({id:"histAttendeesTabPane",title:this.tabNameParticipants,"class":"tabContent remove-padding"},_1f27.domNode);this.tc_EditHistory.addChild(cp);_1f27.histEditor=this;_1f27.startup();on(cp,"show",function(){_1f27._tabShow();});},_successfulComplete:function(_1f28){var self=this;var _1f29=arguments;var _1f2a=this.attendeesTab._historySaved(_1f28);_1f2a.then(function(value){self.inherited(_1f29);});},});return _1edf;});},"Sage/TaskPane/User/ContactUserAssociationEditor":function(){require({cache:{"url:Sage/TaskPane/User/templates/ContactUserAssociationEditor.html":"[\r\n'<div>',\r\n    '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.dialogTitleText %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n        '<div data-dojo-type=\"dijit.form.Form\" id=\"{%= $.id %}_frmContactUserAssociation\">',\r\n            '<table cellspacing=\"20\">',\r\n                '<tr>',\r\n                    '<td colspan=\"2\">',\r\n                        '<label>{%= $.associateContactText %}</label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<div>',\r\n                            '<label>{%= $.user_Caption %}</label>',\r\n                        '</div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                         '<div dojoAttachPoint=\"divContactLookupContainer\">',\r\n                            '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_luAccountMgr\" dojoAttachPoint=\"contactLookup_Container\" allowClearingResult=\"false\" class=\"removePadding\"></div>',\r\n                        '</div>',\r\n                    '</td>',\r\n                '</tr>',            \r\n            \r\n            '</table>',\r\n            '<div class=\"button-bar\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.btnOK_Caption %}</div>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_close\">{%= $.btnCancel_Caption %}</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n"}});define("Sage/TaskPane/User/ContactUserAssociationEditor",["dojo/_base/declare","dojo/i18n!./nls/ContactUserAssociationEditor","Sage/Data/SingleEntrySDataStore","Sage/Data/WritableSDataStore","Sage/Data/SDataServiceRegistry","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dojo/string","dijit/Dialog","dijit/_Widget","Sage/_Templated","Sage/UI/Dialogs","Sage/UI/Controls/Lookup","dojo/text!./templates/ContactUserAssociationEditor.html","Sage/UI/Controls/SingleSelectPickList","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/Form"],function(_1f2b,_1f2c,_1f2d,_1f2e,_1f2f,_1f30,_1f31,_1f32,_1f33,_1f34,_1f35,_1f36,_1f37,_1f38){var _1f39=_1f2b("Sage.TaskPane.User.ContactUserAssociationEditor",[_1f34,_1f35],{id:"dlgContactUserAssociation",actionType:false,_dialog:false,_updateableProperties:false,selectedFieldIndex:1,lup_User:false,_selectionInfo:false,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_1f38)),constructor:function(info){this._selectionInfo=info.selectionInfo.selectedIds;this.actionType=info.action;dojo.mixin(this,_1f2c);if(this.actionType=="disassociate"){}},associationExists:function(_1f3a,_1f3b,_1f3c,scope){this._setupStore();var _1f3d=_1f32.substitute("UserId eq '${0}' ",[_1f3c.UserId]);this._contactUserStore.fetch({query:_1f3d,onComplete:function(_1f3e){if(_1f3e&&_1f3e.length>0){_1f3b.call(scope,_1f3e,_1f3c);}else{_1f3a.call(scope,_1f3c);}},onError:function(){_1f3a.call(scope,_1f3c);},scope:this});},loadContactData:function(_1f3f,_1f40,scope){if(!_1f3f){return;}this._setupStore();var _1f41=_1f32.substitute("ContactId in ['${0}'] ",[this._selectionInfo.join("','")]);this._contactUserStore.fetch({query:_1f41,onComplete:function(_1f42){_1f40.call(scope,_1f42);},onError:function(){_1f40.call(scope,null);},scope:this});this._contactUserStore.fetch({predicate:"'"+_1f3f+"'",onComplete:function(_1f43){_1f40.call(scope,_1f43);},onError:function(){_1f40.call(scope,null);},scope:this});},setSelectionInfo:function(info){this._selectionInfo=info.selectionInfo.selectedIds;this.actionType=info.action;},show:function(){this._dialog.show();if(!this.lup_User){this.createContactLookup();}},createContactLookup:function(){this.contactLookupConfig={id:"_contactLookup",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{"name":this.lookupFirstNameColText,"field":"FirstName","sortable":true},{"name":this.lookupLastNameColText,"field":"LastName","sortable":true},{"name":this.lookupTitleColText,"field":"Title","sortable":true},{"name":this.lookupAccountColText,"field":"AccountName","sortable":true},{"name":this.lookupWorkPhoneColText,"field":"WorkPhone","sortable":true},{"name":this.lookupEmailText,"field":"Email","sortable":true}]}],gridOptions:{contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"contacts",sort:[{attribute:"LastName"}]},isModal:true,initialLookup:true,returnPrimaryKey:true,dialogTitle:this.lookupContactText,dialogButtonText:this.btnOK_Caption};this.lup_Contact=new _1f37({id:"lu_Contact",config:this.contactLookupConfig,style:"width:100%"});dojo.place(this.lup_Contact.domNode,this.contactLookup_Container.domNode,"only");},_setupStore:function(){if(!this._contactUserStore){this._contactUserStore=new _1f2e({include:[],resourceKind:"contactUsers",service:Sage.Data.SDataServiceRegistry.getSDataService("dynamic")});}},_okClick:function(){var _1f44=this.lup_Contact.selectedObject.$key;if(this._selectionInfo&&_1f44){this._setupStore();if(this.actionType==="associate"){var _1f45={"UserId":this._selectionInfo[0],"ContactId":_1f44};this.associationExists(this._insertAssociation,function(){Sage.UI.Dialogs.showError(this.associationExistsMessage);},_1f45,this);}else{if(this.actionType==="disassociate"){for(var i=0;i<this._selectionInfo.count;i++){}}}}},_insertAssociation:function(_1f46,self){this._contactUserStore.saveNewEntity(_1f46,this._successfulContactUserSave,this._failedContactUserSave,this);},_successfulContactUserSave:function(data){this._dialog.hide();},_failedContactUserSave:function(er){this._dialog.hide();},_close:function(){this._dialog.hide();}});return _1f39;});},"Sage/Data/SDataStore":function(){define("Sage/Data/SDataStore",["dojo/_base/declare","dojo/_base/lang"],function(_1f47,lang){var _1f48=_1f47("Sage.Data.SDataStore",null,{executeReadWith:"read",sort:null,where:null,select:null,include:null,request:null,queryName:null,resourceKind:null,resourcePredicate:null,collection:"$resources",expandRecurrences:null,constructor:function(o){lang.mixin(this,o);this.features={"dojo.data.api.Read":true};},_expandExpression:function(_1f49){if(typeof _1f49==="function"){return _1f49.apply(this,Array.prototype.slice.call(arguments,1));}else{return _1f49;}},_createRequest:function(_1f4a){var query="",sort=(_1f4a.sort?this._expandExpression(_1f4a.sort):this.sort),_1f4b=this._expandExpression(_1f4a.select||this.select),_1f4c=this._expandExpression(_1f4a.include||this.include),_1f4d=this._expandExpression(_1f4a.request||this.request);if(_1f4a.query){if(this.where){query=this._expandExpression(this.where+" and ("+_1f4a.query+" )");}else{query=this._expandExpression(_1f4a.query);}}else{query=this._expandExpression(this.where);}if(_1f4d){_1f4d=_1f4d.clone();}else{var _1f4e=this._expandExpression(_1f4a.queryName||this.queryName),_1f4f=this._expandExpression(_1f4a.resourceKind||this.resourceKind),_1f50=this._expandExpression(_1f4a.resourcePredicate||this.resourcePredicate);_1f4d=_1f4e?new Sage.SData.Client.SDataNamedQueryRequest(this.service).setQueryName(_1f4e):new Sage.SData.Client.SDataResourceCollectionRequest(this.service);if(_1f4f){_1f4d.setResourceKind(_1f4f);}if(_1f50){_1f4d.getUri().setCollectionPredicate(_1f50);}}if(_1f4b&&_1f4b.length>0){_1f4d.setQueryArg("select",_1f4b.join(","));}if(_1f4c&&_1f4c.length>0){_1f4d.setQueryArg("include",_1f4c.join(","));}if(query){_1f4d.setQueryArg("where",query);}if(sort&&sort.length>0){var order=[];dojo.forEach(sort,function(v){if(v.descending){this.push(v.attribute+" desc");}else{this.push(v.attribute);}},order);_1f4d.setQueryArg("orderby",order.join(","));}if(typeof _1f4a.start!=="undefined"){_1f4d.setQueryArg(Sage.SData.Client.SDataUri.QueryArgNames.StartIndex,_1f4a.start+1);}if(typeof _1f4a.count!=="undefined"){_1f4d.setQueryArg(Sage.SData.Client.SDataUri.QueryArgNames.Count,_1f4a.count);}if(this.expandRecurrences!==null){_1f4d.uri.queryArgs["_expandRecurrences"]=this.expandRecurrences;}return _1f4d;},fetch:function(_1f51){var _1f52=this._createRequest(_1f51),_1f53=lang.mixin({},_1f51);var _1f54=_1f52[this.executeReadWith]({success:lang.hitch(this,this._onFetchSuccess,_1f51,_1f53),failure:lang.hitch(this,this._onFetchFailure,_1f51,_1f53),httpMethodOverride:_1f51.queryOptions&&_1f51.queryOptions["httpMethodOverride"]});_1f53["abort"]=lang.hitch(this,this._abortRequest,_1f54);return _1f53;},_abortRequest:function(_1f55){this.service.abortRequest(_1f55);},_onFetchSuccess:function(_1f56,_1f57,_1f58){if(_1f58){if(_1f58["$resources"]){_1f57["feed"]=_1f58["$resources"];}else{_1f57["entry"]=_1f58;}var items=lang.getObject(this.collection,false,_1f58)||[_1f58],size=_1f58["$resources"]?_1f58["$totalResults"]||-1:1;if(_1f56.onBegin){_1f56.onBegin.call(_1f56.scope||this,size,_1f57);}if(_1f56.onItem){for(var i=0;i<items.length;i++){_1f56.onItem.call(_1f56.scope||this,items[i],_1f57);}}if(_1f56.onComplete){_1f56.onComplete.call(_1f56.scope||this,_1f56.onItem?null:items,_1f57);}}else{if(_1f56.onError){_1f56.onError.call(_1f56.scope||this,"invalid feed",_1f56);}}},_onFetchFailure:function(_1f59,_1f5a,_1f5b,_1f5c){if(_1f59.onError){_1f59.onError.call(_1f59.scope||this,_1f5b.responseText,_1f59);}},getValue:function(item,_1f5d,_1f5e){var value=lang.getObject(_1f5d,false,item);return typeof value==="undefined"?_1f5e:value;},getFeatures:function(){return this.features;}});return _1f48;});},"Sage/MainView/ReportMgr/SchedulesSDataDetailViewDataManager":function(){define("Sage/MainView/ReportMgr/SchedulesSDataDetailViewDataManager",["Sage/Data/SDataServiceRegistry","Sage/Data/SDataStore","dojo/_base/declare","dojo/_base/lang"],function(_1f5f,_1f60,_1f61,lang){var _1f62=_1f61("Sage.MainView.ReportMgr.SchedulesSDataDetailRequestQueue",null,{select:[],resourceKind:"",fetching:false,include:[],service:null,constructor:function(_1f63){lang.mixin(this,_1f63);this.requestHash={};this.fetching=false;var _1f64=Sage.Services.getService("JobService");this.service=_1f64.getSchedulingSDataService();},add:function(_1f65,_1f66){var _1f67=this.requestHash[_1f65];if((_1f67)&&(_1f67.id!==_1f66.id)){if(!_1f67.duplicates){_1f67.duplicates=[];}var found=false;for(var i=0;i<_1f67.duplicates.length;i++){if(_1f67.duplicates[i].context.id===_1f66.id){found=true;}}if(!found){_1f67.duplicates.push({id:_1f66.id,context:_1f66});}}else{this.requestHash[_1f65]=_1f66;}},send:function(_1f68,_1f69){this.fetching=true;var _1f6a=this;var _1f6b=new Sage.SData.Client.SDataSingleResourceRequest(this.service);_1f6b.setResourceKind(this.resourceKind);for(var id in this.requestHash){_1f6b.setResourceSelector("'"+id+"'");}_1f6b.setQueryArg("include",this.include.join(","));_1f6b.read({success:lang.hitch(_1f69,_1f68,_1f6a),failure:lang.hitch(this,this.requestFailed,_1f6a)});},requestFailed:function(a,b,c){}});var _1f6c=_1f61("Sage.MainView.ReportMgr.SchedulesSDataDetailViewDataManager",null,{keyField:"$key",constructor:function(){this.queue=new _1f62();this.requestTimeout=false;},requestDataNoWait:function(_1f6d,_1f6e,_1f6f){var _1f70=new _1f62();if(_1f6f.keyField){this.keyField=_1f6f.keyField;}_1f70.select=_1f6f.select;_1f70.resourceKind=_1f6f.resourceKind;_1f70.serviceName=_1f6f.serviceName;_1f70.include=_1f6f.include;_1f70.useBatchRequest=_1f6f.useBatchRequest;if(_1f6f.expandRecurrences!==null){_1f70.expandRecurrences=_1f6f.expandRecurrences;}_1f70.add(_1f6d,_1f6e);_1f70.send(this.receiveData,this);},receiveData:function(_1f71,data){var _1f72=data;var id=_1f72.id;if(!id){id=_1f72[this.keyField];_1f72.id=id;}var _1f73=_1f71.requestHash[_1f72.id];if(_1f73){try{if(!_1f73.applied){_1f73.applied=true;_1f73.set("entity",_1f72);}}catch(err){console.error(err);}}}});return _1f6c;});},"Sage/Data/main":function(){define("Sage/Data/main",["Sage/Data/BaseSDataStore","Sage/Data/GroupLayoutSingleton","Sage/Data/WritableStore","Sage/Data/ProxySDataStore","Sage/Data/QBTreeStoreModel","Sage/Data/SDataServiceRegistry","Sage/Data/SDataStore","Sage/Data/SingleEntryPropertySDataStore","Sage/Data/SingleEntrySDataStore","Sage/Data/SummaryViewDataManager","Sage/Data/WritableSDataStore"],function(){});},"Sage/QuickForms/Design/Editors/nls/CurrencyAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/CurrencyAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1f74,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",decimalDigitsText:"Decimal Digits:",decimalDigitsTooltipText:"The number of digits after the decimal to display and allow for data entry.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",displayCurrencyCodeText:"Display Exchange Rate Code:",displayCurrencyCodeTooltipText:"Show the three character currency code when multi-currency is enabled.",displayModeText:"Display Mode:",displayModeTooltipText:"Mode of display of control: text box, hyperlink, or plain text.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",exchangeRateTypeText:"Exchange Rate Type:",exchangeRateTypeTooltipText:"Type of exchange rate to show in currency fields.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",displayTypeText:{AsHyperlink:"As Hyperlink",AsControl:"As Control",AsText:"As Text"},exchangeTypeText:{BaseRate:"Base Rate",OpportunityRate:"Opportunity Rate (Deprecated)",MyRate:"My Rate",SalesOrderRate:"Sales Order Rate (Deprecated)",EntityRate:"Entity Rate"},labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"}}};return lang.mixin(_1f74,nls);});},"Sage/TaskPane/nls/ReportManagerTasksTasklet":function(){define("Sage/TaskPane/nls/ReportManagerTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_1f75,lang){var nls={root:{taskRunReport_Caption:"Run Report",taskScheduleReport_Caption:"Schedule Report",taskDeleteReport_Caption:"Delete Report",taskDeleteSchedule_Caption:"Delete Schedule",taskEditSchedule_Caption:"Edit Schedule",taskDeleteHistory_Caption:"Delete History",txtRecordsSelected:"record(s) selected",txtClear:"Clear"}};return lang.mixin(_1f75,nls);});},"Sage/UI/nls/SLXPreviewGrid":function(){define("Sage/UI/nls/SLXPreviewGrid",["Sage/LanguageList","dojo/_base/lang"],function(_1f76,lang){var nls={root:{applyText:"Apply",resetText:"Reset",filterText:"Filter"}};return lang.mixin(_1f76,nls);});},"Sage/TaskPane/ReportManagerTasksTasklet":function(){define("Sage/TaskPane/ReportManagerTasksTasklet",["dojo/_base/declare","dojo/i18n!./nls/ReportManagerTasksTasklet","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneItem","dojo/_base/array","dojo/string","dijit/_Widget","Sage/_Templated"],function(_1f77,_1f78,_1f79,_1f7a,_1f7b,_1f7c,_1f7d,_1f7e){var _1f7f=_1f77("Sage.TaskPane.ReportManagerTasksTasklet",[_1f79,_1f7d,_1f7e],{nlsResources:_1f78,taskItems:[],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div dojoAttachPoint=\"taskletContainerNode\" class=\"task-pane-item-common-tasklist\">","<span id=\"selectionCount\" class=\"task-pane-item-common-selectionText\">0</span>&nbsp;<span id=\"selectionText\">"+_1f78.txtRecordsSelected+"</span><br>","<a id=\"clearSelection\" href=\"#\" class=\"task-pane-item-common-clearselection\" dojoAttachEvent=\"click:_clearSelection\">"+_1f78.txtClear+"</a><br>","<hr>","<div dojoAttachPoint=\"divTaskItems\">","{% for (var i = 0; i < $.taskItems.length; i++) { ","var task = $.taskItems[i]; %}","<div data-dojo-type=\"Sage.TaskPane.TaskPaneItem\" linkText=\"{%= task.displayName %}\" securedAction=\"{%= task.securedAction %}\" action=\"javascript: {%= task.clientAction %}\"></div>","<br />","{% } %}","</div>","</div>"]),constructor:function(){this.taskItems=this._getTaskItems();dojo.subscribe("/group/context/changed",this,this._onGroupContextChanged);dojo.subscribe("/sage/ui/list/selectionChanged",function(_1f80){var _1f81=dojo.byId("selectionCount");if(_1f81){_1f81.innerHTML=_1f80.getTotalSelectionCount();}});},_getTaskItems:function(){var _1f82=[];var _1f83=this._getCurrentGroupId();switch(_1f83){case "reports":_1f82=this._getReportsTasks();break;case "schedules":_1f82=this._getSchedulesTasks();break;case "history":_1f82=this._getHistoryTasks();break;}return _1f82;},_onGroupContextChanged:function(){var self=this;dojo.empty(self.divTaskItems);var _1f84=this._getTaskItems();if(_1f84){_1f7b.forEach(_1f84,function(_1f85,i){dojo.place(_1f7c.substitute("<div dojotype=\"Sage.TaskPane.TaskPaneItem\" class=\"task-pane-item-common-tasklist\" linkText=\"${0}\" securedAction=\"${1}\" action=\"javascript: ${2}\"></div><br />",[_1f85.displayName,_1f85.securedAction,_1f85.clientAction]),self.divTaskItems);});}dojo.parser.parse(self.taskletContainerNode);},_clearSelection:function(){var _1f86=dijit.byId("list");if(_1f86){_1f86._listGrid.selection.clear();}},_getCurrentGroupId:function(){var svc=Sage.Services.getService("ClientGroupContext");var _1f87=svc.getContext();return _1f87.CurrentGroupID;},_getReportsTasks:function(){var _1f88=[{taskId:"taskRunReport",type:"Link",displayName:this.nlsResources.taskRunReport_Caption,clientAction:"Sage.MainView.ReportMgr.ReportManagerActions.runReport();",securedAction:"Entities/ReportManager/RunReport"},{taskId:"taskScheduleReport",type:"Link",displayName:this.nlsResources.taskScheduleReport_Caption,clientAction:"Sage.MainView.ReportMgr.ReportManagerActions.scheduleReport();",securedAction:"Entities/ReportManager/ScheduleReport"}];return _1f88;},_getSchedulesTasks:function(){var _1f89=[{taskId:"taskEditSchedule",type:"Link",displayName:this.nlsResources.taskEditSchedule_Caption,clientAction:"Sage.MainView.ReportMgr.ReportManagerActions.editSchedule();",securedAction:"Entities/ReportManager/EditSchedule"},{taskId:"taskDeleteSchedule",type:"Link",displayName:this.nlsResources.taskDeleteSchedule_Caption,clientAction:"Sage.MainView.ReportMgr.ReportManagerActions.deleteSchedule();",securedAction:"Entities/ReportManager/DeleteSchedule"}];return _1f89;},_getHistoryTasks:function(){var _1f8a=[{taskId:"taskDeleteHistory",type:"Link",displayName:this.nlsResources.taskDeleteHistory_Caption,clientAction:"Sage.MainView.ReportMgr.ReportManagerActions.deleteHistory();",securedAction:"Entities/ReportManager/DeleteHistory"}];return _1f8a;}});return _1f7f;});},"Sage/Groups/GroupContextService":function(){define("Sage/Groups/GroupContextService",["Sage/Utility","dojo/string","Sage/Data/SDataServiceRegistry","dojo/ready","dojo/_base/lang","dojo/_base/declare","dojo/_base/array"],function(_1f8b,_1f8c,_1f8d,ready,lang,_1f8e,array){var _1f8f=_1f8e("Sage.Groups.GroupContextService",null,{_adHocGroupList:null,_connects:null,_subscribes:null,_emptyContext:null,_currentRequestHandle:null,_isAdHocGroupListRetrieved:false,constructor:function(){this._connects=[];this._subscribes=[];this._adHocGroupList=[];this._emptyContext={DefaultGroupID:null,CurrentGroupID:null,CurrentTable:null,CurrentName:null,CurrentEntity:null,CurrentFamily:null};this._isAdHocGroupListRetrieved=false;this._subscribes.push(dojo.subscribe(_1f8c.substitute("/ui/filters/default/refresh"),this,this._onDefaultFilterRefresh));ready(lang.hitch(this,function(){if(!this.isContextRequired()){var _1f90=_1f8b.getValue(window,"Sage.Groups._groupContext"),_1f91=_1f8b.getValue(window,"Sage.UI.DataStore.Filters");if(_1f91){if(_1f90["AppliedFilterInfo"]){_1f91["default"]=this.createFilterExtendedSet(_1f90["AppliedFilterInfo"]);}}}if(this.isContextRequired()){this.requestContext();}}));},createFilterExtendedSet:function(_1f92){var _1f93=_1f92["definitionSet"]||[],_1f94=_1f92["applied"]||[],_1f95={},_1f96={},_1f97,_1f98,i,j,value;for(i=0;i<_1f93.length;i++){_1f97=_1f93[i];_1f98={"$key":_1f97["id"],"$partial":true,"filterName":_1f97["filterName"],"displayName":_1f97["displayName"],"propertyName":_1f97["propertyName"],"propertyDataTypeId":_1f97["propertyDataTypeId"],"details":{}};if(_1f97["filterType"]=="rangeFilter"){_1f98["details"]["rangeFilter"]={"characters":_1f97["characters"]};}if(_1f97["filterType"]=="lookupFilter"){_1f98["details"]["lookupFilter"]={};}else{_1f98["details"]["distinctFilter"]={};}_1f95[_1f97["id"]]=_1f98;}for(i=0;i<_1f94.length;i++){_1f97=_1f94[i];_1f98={};for(j=0;j<_1f97["rangeValues"].length;j++){value=_1f97["rangeValues"][j];_1f98[value["rangeName"]]=lang.mixin({},value);}for(j=0;j<_1f97["distinctValues"].length;j++){value=_1f97["distinctValues"][j];if(typeof value==="string"){_1f98[value]=value;}}for(j=0;j<_1f97["lookupValues"].length;j++){var _1f99=_1f97["lookupValues"][j];_1f98["value"]=_1f99;}_1f96[_1f97["id"]]=_1f98;}return {"definitionSet":_1f95,"applied":_1f96};},destroy:function(){array.forEach(this._connects,function(_1f9a){dojo.disconnect(_1f9a);});this.unsubscribeConnects();this.uninitialize();},unsubscribeConnects:function(){array.forEach(this._subscribes,function(_1f9b){dojo.unsubscribe(_1f9b);});},uninitialize:function(){},isContextRequired:function(){var _1f9c=!(Sage&&Sage.Groups&&Sage.Groups._groupContext);return _1f9c;},createCompatibleContext:function(_1f9d){if(_1f9d["currentGroupId"]=="LOOKUPRESULTS"){_1f9d["currentName"]="Lookup Results";}var _1f9e={"AppliedFilterInfo":_1f9d["appliedFilterInfo"],"ContainsPositionState":_1f9d["containsPositionState"],"CurrentDisplayName":_1f9d["currentDisplayName"],"CurrentEntity":_1f9d["currentEntity"],"CurrentEntityID":_1f9d["currentEntityId"],"CurrentEntityPosition":_1f9d["currentEntityPosition"],"CurrentFamily":_1f9d["currentFamily"],"CurrentGroupCount":_1f9d["currentGroupCount"],"CurrentGroupID":_1f9d["currentGroupId"],"CurrentName":_1f9d["currentName"],"CurrentTable":_1f9d["currentTable"],"CurrentTableKeyField":_1f9d["currentTableKeyField"],"DefaultGroupID":_1f9d["defaultGroupId"],"FirstEntityID":_1f9d["firstEntityId"],"LastEntityID":_1f9d["lastEntityId"],"LookupLayoutGroupName":_1f9d["lookupLayoutGroupName"],"NextEntityID":_1f9d["nextEntityId"],"PreviousEntityID":_1f9d["previousEntityId"],"RetrievedOn":_1f9d["retrievedOn"],"isAdhoc":_1f9d["isAdHoc"]};if(!_1f9d["appliedFilterInfo"]){delete _1f9e.AppliedFilterInfo;}return _1f9e;},_onDefaultFilterRefresh:function(_1f9f,_1fa0,_1fa1){var _1fa2=this.getContext(),_1fa3=_1f8d.getSDataService("system"),entry={"$name":"applyFilterToGroup","request":{"groupId":_1fa2["CurrentGroupID"],"filter":dojo.toJson(_1fa1.createValueSet())}};if((_1fa2["CurrentGroupID"]===null)||(_1fa2["CurrentGroupID"]==="")){return;}var _1fa4=new Sage.SData.Client.SDataServiceOperationRequest(_1fa3).setOperationName("applyFilterToGroup");_1fa4.execute(entry,{});},getContext:function(){var _1fa5=Sage&&Sage.Groups&&Sage.Groups._groupContext;if(_1fa5){return _1fa5;}if(this.isContextRequired()){this.requestContext();}return this._emptyContext;},requestContext:function(_1fa6){if(this._currentRequestHandle){return;}var _1fa7=_1f8d.getSDataService("system"),_1fa8=new Sage.SData.Client.SDataServiceOperationRequest(_1fa7).setOperationName("getGroupContext");this._currentRequestHandle=_1fa8.execute({},{success:this._onRequestContextSuccess,failure:this._onRequestContextFailure,scope:this});},_onRequestContextSuccess:function(entry){var _1fa9=entry&&entry["response"];if(_1fa9){this.setContext(this.createCompatibleContext(_1fa9));}this._currentRequestHandle=null;},_onRequestContextFailure:function(_1faa,o){this._currentRequestHandle=null;},setContext:function(_1fab){var _1fac=Sage&&Sage.Groups;if(_1fac&&_1fab){lang.mixin(_1fac._groupContext,_1fab);this.onContextSet(_1fac._groupContext);}},setCurrentGroup:function(_1fad,_1fae){var _1faf=this.getContext();if(_1faf&&(_1faf["CurrentGroupID"]===_1fad)){if(_1fad==="LOOKUPRESULTS"){_1faf["currentName"]="Lookup Results";}if(_1fad!=="LOOKUPRESULTS"){this.doNotFireGroupChangedEvent=true;}}if(_1fad.length===12||_1fad==="LOOKUPRESULTS"){var _1fb0=_1f8d.getSDataService("system"),_1fb1=new Sage.SData.Client.SDataServiceOperationRequest(_1fb0).setOperationName("setGroupContext"),entry={request:{"currentGroupId":_1fad,"currentName":"","currentFamily":""}};_1fb1.execute(entry,{success:this._onSetContextRequestSuccess,failure:this._onSetContextRequestFailure,scope:this});}},_onSetContextRequestSuccess:function(entry){var _1fb2=entry&&entry["response"],_1fb3=_1fb2&&this.createCompatibleContext(_1fb2);if(_1fb3){this.setContext(_1fb3);}if(!this.doNotFireGroupChangedEvent){this.onCurrentGroupChanged({current:_1fb3});}this.doNotFireGroupChangedEvent=false;},_onSetContextRequestFailure:function(_1fb4,o){},onSuccessfulGroupChanged:function(data){var _1fb5=this.getContext();this.setContext(data);this.onCurrentGroupChanged({current:data,previous:_1fb5});},onCurrentGroupChanged:function(_1fb6){dojo.publish("/group/context/changed",[_1fb6,this]);if(_1fb6["current"]["AppliedFilterInfo"]){this.publishFiltersApplied(_1fb6["current"]["AppliedFilterInfo"]);}},publishFiltersApplied:function(_1fb7){if(_1fb7){ready(lang.hitch(this,function(){var _1fb8=this.createFilterExtendedSet(_1fb7),_1fb9=_1f8b.getValue(window,"Sage.UI.DataStore.Filters");_1fb9["default"]=_1fb8;dojo.publish("/ui/filters/default/apply",[_1fb8["applied"],_1fb8["definitionSet"],this]);}));}},onContextSet:function(_1fba){if(_1fba&&_1fba["AppliedFilterInfo"]){this.publishFiltersApplied(_1fba["AppliedFilterInfo"]);}},getAdHocGroupList:function(_1fbb,_1fbc){if(this._isAdHocGroupListRetrieved){_1fbb.call(_1fbc||this,this._adHocGroupList);return;}var store=new Sage.Data.BaseSDataStore({service:_1f8d.getSDataService("system"),resourceKind:"groups",include:[],select:["name","family","isHidden","isAdHoc","mainTable","keyField","entityName"]});Sage.Groups._groupContext.CurrentFamily=Sage.Groups._groupContext.CurrentFamily.toUpperCase();store.fetch({query:dojo.string.substitute("upper(family) eq '${CurrentFamily}' and isAdHoc",Sage.Groups._groupContext),count:1000,sort:[{attribute:"name"}],start:0,onComplete:function(data){this._adHocGroupList=data;_1fbb.call(_1fbc||this,this._adHocGroupList);this._isAdHocGroupListRetrieved=true;},scope:this});}});Sage.Services.addService("ClientGroupContext",new _1f8f());return _1f8f;});},"url:Sage/UI/templates/TransferBoxWidget.html":"<div>\r\n    <table style=\"width:100%\">\r\n        <colgroup>\r\n            <col style=\"width:45%\" />\r\n            <col style=\"width:10%\" />\r\n            <col style=\"width:45%\" />\r\n        </colgroup>\r\n        <tr>\r\n            <td colspan=\"3\">\r\n                <div data-dojo-attach-point=\"searchFilterDiv\">\r\n                    <label>${searchFilterText}</label>\r\n                    <div dojoType=\"dijit.form.TextBox\" dojoAttachPoint=\"searchFilter\"></div>\r\n                    <button data-dojo-type=\"Sage.UI.ImageButton\" imageClass=\"icon_Find_16x16\" data-dojo-attach-point=\"filterButton\" data-dojo-attach-event=\"onClick:_onFilterClick\" ></button>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td>\r\n                <label data-dojo-attach-point=\"availableValues\">${availableValuesText}</label>\r\n            </td>\r\n            <td></td>\r\n            <td>\r\n                <label data-dojo-attach-point=\"selectedValues\">${selectedValuesText}</label>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td data-dojo-attach-point=\"colFromNode\">\r\n                <div data-dojo-attach-point=\"fromNode\"></div>\r\n            </td>\r\n            <td style=\"text-align:center\">\r\n                <div data-dojo-attach-point=\"transferButtons\">\r\n                    <button data-dojo-type=\"dijit.form.Button\" data-dojo-attach-event=\"onClick:_onAddClick\" data-dojo-attach-point=\"addButton\" title=\"${btnAddTooltip}\">&gt;</button>\r\n                    <button data-dojo-type=\"dijit.form.Button\" data-dojo-attach-event=\"onClick:_onAddAllClick\" data-dojo-attach-point=\"addAllButton\" title=\"${btnAddAllTooltip}\">&gt;&gt;</button>\r\n                    <button data-dojo-type=\"dijit.form.Button\" data-dojo-attach-event=\"onClick:_onRemoveClick\" data-dojo-attach-point=\"removeButton\" title=\"${btnRemoveTooltip}\">&lt;</button>\r\n                    <button data-dojo-type=\"dijit.form.Button\" data-dojo-attach-event=\"onClick:_onRemoveAllClick\" data-dojo-attach-point=\"removeAllButton\" title=\"${btnRemoveAllTooltip}\">&lt;&lt;</button>\r\n                </div>\r\n            </td>\r\n            <td>\r\n                <div data-dojo-attach-point=\"toNode\"></div>\r\n            </td>\r\n            <td style=\"vertical-align:top\">\r\n                <span data-dojo-attach-point=\"errorValidation\" class=\"display-none\" style=\"color:red\">*</span>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>","Sage/UI/Alarms/nls/UnconfirmedPane":function(){define("Sage/UI/Alarms/nls/UnconfirmedPane",["Sage/LanguageList","dojo/_base/lang"],function(_1fbd,lang){var nls={root:{showConfirmationsText:"Show Confirmations",showCalendarText:"Show Calendar",acceptText:"Accept",declineText:"Decline"}};return lang.mixin(_1fbd,nls);});},"Sage/_ActionMixin":function(){define("Sage/_ActionMixin",["dojo/NodeList-traverse","dojo/_base/declare"],function(_1fbe,_1fbf){var _1fc0=_1fbf("Sage._ActionMixin",null,{actionsFrom:"click",postCreate:function(){dojo.forEach(this.actionsFrom.split(","),function(event){this.connect(this.domNode,event,this._initiateActionFromEvent);},this);},_isValidElementForAction:function(el){var _1fc1=this.domNode.contains?this.domNode!=el&&this.domNode.contains(el):!!(this.domNode.compareDocumentPosition(el)&&16);return (this.domNode===el)||_1fc1;},_initiateActionFromEvent:function(evt){var el=dojo.query(evt.target).closest("[data-action]")[0],_1fc2=el&&dojo.attr(el,"data-action");if(_1fc2&&this._isValidElementForAction(el)&&this._hasAction(_1fc2,evt,el)){var _1fc3=this._getParametersForAction(_1fc2,evt,el);this._invokeAction(_1fc2,_1fc3,evt,el);dojo.stopEvent(evt);}},_getParametersForAction:function(name,evt,el){var _1fc4={$event:evt,$source:el};for(var i=0,_1fc5=el.attributes.length;i<_1fc5;i++){var _1fc6=el.attributes[i].name;if(/^((?=data-action)|(?!data))/.test(_1fc6)){continue;}var _1fc7=_1fc6.substr("data-".length).replace(/-(\w)(\w+)/g,function($0,$1,$2){return $1.toUpperCase()+$2;});_1fc4[_1fc7]=dojo.attr(el,_1fc6);}return _1fc4;},_hasAction:function(name,evt,el){return (typeof this[name]==="function");},_invokeAction:function(name,_1fc8,evt,el){return this[name].apply(this,[_1fc8,evt,el]);}});return _1fc0;});},"Sage/Services/ClientContextService":function(){define("Sage/Services/ClientContextService",["dojo/_base/declare"],function(_1fc9){var _1fca=_1fc9("Sage.Services.ClientContextService",null,{contextDataFieldId:false,_items:[],_watches:[],constructor:function(opts){dojo.mixin(this,opts);this.load();},_toItemLiteral:function(key,value){var _1fcb={};_1fcb.itemKey=key;_1fcb.itemVal=value;return _1fcb;},_indexOf:function(key){for(var i=0;i<this._items.length;i++){if(this._items[i].itemKey==key){return i;}}return -1;},_indexOfNoCase:function(key){for(var i=0;i<this._items.length;i++){if(this._items[i].itemKey.toUpperCase()==key.toUpperCase()){return i;}}return -1;},_throwKeyNotFound:function(key){throw "Entry Not Found: "+key;},_throwDuplicateKey:function(key){throw "Entry Already Exists: "+key;},add:function(key,value){if(this._indexOf(key)===-1){var lit=this._toItemLiteral(key,value);this._items.push(lit);this.save();}else{this._throwDuplicateKey(key);}},remove:function(key){var index=this._indexOf(key);if(index!==-1){this._items.splice(index,1);this.save();}},setValue:function(key,value){var index=this._indexOf(key);if(index!==-1){this._items[index].itemVal=value;this.save();}else{this._throwKeyNotFound(key);}},getValue:function(key){var index=this._indexOf(key);if(index!==-1){return decodeURIComponent(this._items[index].itemVal);}else{this._throwKeyNotFound(key);}},getValueEx:function(key,_1fcc){var index;if(_1fcc){index=this._indexOfNoCase(key);}else{index=this._indexOf(key);}if(index!==-1){return decodeURIComponent(this._items[index].itemVal);}else{this._throwKeyNotFound(key);}},clear:function(){this._items=[];this.save();},containsKey:function(key){return (this._indexOf(key)!==-1);},containsKeyEx:function(key,_1fcd){if(_1fcd){return (this._indexOfNoCase(key)!==-1);}else{return (this._indexOf(key)!==-1);}},getCount:function(){return this._items.length;},hasKeys:function(){return this._items.length===0;},getKeys:function(){var _1fce=[],i;for(i=0;i<this._items.length;i++){_1fce.push(this._items[i].itemKey);}return _1fce;},valueAt:function(index){if(this._items[index]){return decodeURIComponent(this._items[index].itemVal);}else{return null;}},keyAt:function(index){this.load();if(this._items[index]){return this._items[index].itemKey;}else{return null;}},getValues:function(){var _1fcf=[],i;for(i=0;i<this._items.length;i++){_1fcf.push(decodeURIComponent(this._items[i].itemVal));}return _1fcf;},save:function(hours){var data=document.getElementById(this.contextDataFieldId);if(data){data.value=this.toString();}else{alert("can't find context data field");}},load:function(){var data=document.getElementById(this.contextDataFieldId);if(data){if(data.value){this.fromString(data.value);}}},toString:function(){var str="",i;for(i=0;i<this._items.length;i++){str+=this._items[i].itemKey+"="+encodeURIComponent(this._items[i].itemVal);if(i!==this._items.length-1){str+="&";}}return str;},fromString:function(_1fd0){this._items=[];if(_1fd0!==""){var items=_1fd0.split("&"),i;for(i=0;i<items.length;i++){var pair=items[i].split("=");this._items.push(this._toItemLiteral(pair[0],decodeURIComponent(pair[1])));}}this.save();}});return _1fca;});},"Sage/QuickForms/Design/TextBoxControlDesigner":function(){define("Sage/QuickForms/Design/TextBoxControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/TextBoxBasicPropertyEditor","./Editors/TextBoxAdvancedPropertyEditor","dojo/i18n!./nls/TextBoxControlDesigner"],function(_1fd1,array,lang,_1fd2,_1fd3,_1fd4,_1fd5,_1fd6,_1fd7,_1fd8,_1fd9){return _1fd1("Sage.QuickForms.Design.TextBoxControlDesigner",[_1fd3,_1fd4,_1fd2,_1fd5],{designSupport:{visible:true},editors:[_1fd7,_1fd8,_1fd6],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %}\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-textbox",helpTopicName:"Textbox_control",quickFormControlType:"Sage.Platform.QuickForms.Controls.QFTextBox, Sage.Platform.QuickForms",displayNameText:"TextBox",constructor:function(){lang.mixin(this,_1fd9);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_1fda){return (_1fda["ControlItemName"]=="Text");});},_getLinesAttr:function(){return lang.getObject("Lines",false,this.entry);},_setLinesAttr:function(value){lang.setObject("Lines",value,this.entry);},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getMaxLengthAttr:function(){return lang.getObject("MaxLength",false,this.entry);},_setMaxLengthAttr:function(value){lang.setObject("MaxLength",value,this.entry);},_getRequiredAttr:function(){return lang.getObject("Required",false,this.entry);},_setRequiredAttr:function(value){lang.setObject("Required",value,this.entry);},setupFor:function(_1fdb){this.inherited(arguments);this.set("lines",1);this.set("maxLength",parseInt(_1fdb["data"].length,10)||-1);this.set("required",false);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"Text",DataItemName:_1fdb.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:""}]);this.set("designBinding",_1fdb.propertyPath||"");},startup:function(){this.inherited(arguments);var _1fdc=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_1fdc&&_1fdc["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/Utility/File/DragDropWatcher":function(){define("Sage/Utility/File/DragDropWatcher",["Sage/UI/Dialogs","Sage/Utility/File","dojo/string","dojo/i18n!./nls/DragDropWatcher","dojo/has","dojo/_base/sniff"],function(_1fdd,_1fde,_1fdf,_1fe0,has,_1fe1){Sage.namespace("Utility.File.DragDropWatcher");Sage.Utility.File.DragDropWatcher={gearsDesktop:false,allowdDetailDrop:false,allowdListDrop:false,init:function(_1fe2){Sage.Utility.File.DragDropWatcher.allowdDetailDrop=_1fe2.allowDetailDragDrop;Sage.Utility.File.DragDropWatcher.allowdListDrop=_1fe2.allowListDragDrop;if(Sage.gears){this.desktop=Sage.gears.factory.create("beta.desktop");if(has("ie")<11){dojo.connect(dojo.body(),"ondragenter",this.handleGearsDragEnter);dojo.connect(dojo.body(),"ondragover",this.handleGearsDragOver);dojo.connect(dojo.body(),"ondragleave",this.handleGearsDragLeave);if(has("ie")<9){dojo.connect(dojo.body(),"ondrop",this.handleGearsFileDrop);}else{dojo.body().attachEvent("ondrop",this.handleGearsFileDrop);}}else{dojo.connect(dojo.body(),"dragenter",this.handleGearsDragEnter);dojo.connect(dojo.body(),"dragover",this.handleGearsDragOver);dojo.connect(dojo.body(),"dragleave",this.handleGearsDragLeave);dojo.connect(dojo.body(),"drop",this.handleGearsFileDrop);}}else{if(_1fde.supportsHTML5File){dojo.connect(dojo.body(),"dragenter",this.handleDragEnter);dojo.connect(dojo.body(),"dragover",this.handleDragOver);dojo.connect(dojo.body(),"dragleave",this.handleDragLeave);dojo.connect(dojo.body(),"drop",this.handleFileDrop);}else{if(has("ie")<11){dojo.connect(dojo.body(),"ondragenter",this.handleGearsDragEnter);dojo.connect(dojo.body(),"ondragover",this.handleGearsDragOver);dojo.connect(dojo.body(),"ondragleave",this.handleGearsDragLeave);if(has("ie")<9){dojo.connect(dojo.body(),"ondrop",this.handleFileDropNotSupported);}else{dojo.body().attachEvent("ondrop",this.handleFileDropNotSupported);}}else{dojo.connect(dojo.body(),"dragenter",this.handleDragEnter);dojo.connect(dojo.body(),"dragover",this.handleDragOver);dojo.connect(dojo.body(),"dragleave",this.handleDragLeave);dojo.connect(dojo.body(),"drop",this.handleFileDropNotSupported);}}}},handleDragEnter:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,false);},handleDragLeave:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,false);},handleDragOver:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,false);},handleFileDrop:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,true);var allow=Sage.Utility.File.DragDropWatcher._AllowDragDrop();if(!allow){return;}var files=e.dataTransfer.files;if(files&&files.length>0){if(_1fde.isFileSizeAllowed(files)){Sage.Utility.File.DragDropWatcher.onFilesDropped(files,e.target);Sage.Utility.File.DragDropWatcher.finishDrag(e,false);}}else{if(Sage.gears){var _1fe3=Sage.gears.factory.create("beta.desktop");var data=_1fe3.getDragData(e,"application/x-gears-files");files=data&&data.files;if(files&&files.length>0){if(_1fde.isFileSizeAllowed(files)){Sage.Utility.File.DragDropWatcher.onFilesDropped(files,e.target);Sage.Utility.File.DragDropWatcher.finishDrag(e,false);}}}}},finishDrag:function(e,_1fe4){var evt=e||window.event;if(!evt||typeof evt==="undefined"){return;}if(typeof (this.desktop)!=="undefined"){this.desktop.setDropEffect(evt,"copy");}if(dojo.isFF){if(_1fe4||_1fde.supportsHTML5File){evt.stopPropagation();evt.preventDefault();}}else{if(has("ie")||dojo.isSafari||dojo.isChrome){if(!_1fe4){if(typeof evt.stopPropagation==="function"){evt.stopPropagation();}if(typeof evt.preventDefault==="function"){evt.preventDefault();}else{evt.returnValue=false;}}}}},handleGearsDragEnter:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,false);},handleGearsDragLeave:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,false);},handleGearsDragOver:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,false);},handleGearsFileDrop:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,true);var allow=Sage.Utility.File.DragDropWatcher._AllowDragDrop();if(!allow){return;}var data=Sage.Utility.File.DragDropWatcher.desktop.getDragData(e,"application/x-gears-files");var _1fe5=e.target;if(!_1fe5){_1fe5=e.srcElement;}var files=data&&data.files;if(files&&files.length>0){if(Sage.Utility.File.isFileSizeAllowed(files)){Sage.Utility.File.DragDropWatcher.onFilesDropped(files,_1fe5);}}},onFilesDropped:function(files,_1fe6){},_AllowDragDrop:function(){var _1fe7=Sage.Utility.getPageName();var _1fe8=Sage.Utility.getModeId();if(_1fe8!=="detail"){var _1fe9=Sage.Services.getService("ClientEntityContext");if(_1fe9){var _1fea=_1fe9.getContext();if(_1fea){if(_1fea.EntityType==="Sage.Entity.Interfaces.IActivity"){return true;}if(_1fea.EntityType==="Sage.Entity.Interfaces.IHistory"){return true;}}}_1fe7=_1fe7.substring(0,_1fe7.indexOf("."));if(_1fe7==="Library"){return true;}if(Sage.Utility.File.DragDropWatcher.allowdListDrop){return true;}return false;}else{if(Sage.Utility.File.DragDropWatcher.allowdDetailDrop){return true;}return false;}},handleFileDropNotSupported:function(e){var _1feb=_1fe0.query0||"The feature you are requesting requires the Saleslogix Desktop <br> Integration Module.";var _1fec=_1fe0.query1||"Find out more...";var _1fed=_1fe0.query2||"Would you like to install this feature now?";var _1fee=_1fe0.query3||"Note: This module can be installed at any time from the logon or options pages.";var url=Sage.Link.getHelpUrl("desktopintegration");var html=_1fdf.substitute("<table><tr><td><span> ${0} <a href=\"${1}\">${2}</a><br><br>${3}<br><br><font style=\"font-style:italic\">${4}<font></span></td></tr></table>",[_1feb,url,_1fec,_1fed,_1fee]);var _1fef={title:"Saleslogix",query:html,callbackFn:function(_1ff0){if(_1ff0){Sage.installDesktopFeatures();}},yesText:null,noText:null,icon:"infoIcon",showNoButton:true};_1fdd.raiseQueryDialogExt(_1fef);}};return Sage.Utility.File.DragDropWatcher;});},"url:Sage/UI/Controls/templates/PersonName.html":"<!--\r\nSimplate template\r\nhttps://github.com/mmorton/simplate\r\nhttps://github.com/mmorton/simplate/blob/master/demo/index.html\r\nBasic formatting example: {%= $.id %}\r\n-->\r\n<div>\r\n        <table width=\"100%\">\r\n            <tr>\r\n                <td><label>{%= $.prefixText %}</label></td>\r\n                <td>\r\n                    <select id=\"{%= $.id %}-Prefix\" data-dojo-type=\"Sage.UI.Controls.DropDownSelectPickList\" \r\n                    dojoAttachPoint=\"_valueBox\"\r\n                    pickListName=\"Name Prefix\"\r\n                    storeMode=\"text\"\r\n                    name=\"{%= $.NamePrefix %}\" \r\n                    style=\"width: 150px;display: inline-block\"\r\n                    shouldPublishMarkDirty=\"false\" />\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.nameFirstText %}</label></td>\r\n                <td>\r\n                    <input id=\"{%= $.id %}-First\" data-dojo-type=\"Sage.UI.Controls.TextBox\"\r\n                    style=\"width:inherit;\"\r\n                    textAlign=\"{%= $.textAlign %}\"\r\n                    name=\"{%= $.NameFirst %}\" type=\"text\" data-dojo-attach-point=\"focusNode\"\r\n                    shouldPublishMarkDirty=\"false\">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.nameMiddleText %}</label></td>\r\n                <td>\r\n                    <input id=\"{%= $.id %}-Middle\" data-dojo-type=\"Sage.UI.Controls.TextBox\"\r\n                    style=\"width:inherit;\"\r\n                    textAlign=\"{%= $.textAlign %}\"\r\n                    name=\"{%= $.NameMiddle %}\" type=\"text\" data-dojo-attach-point=\"focusNode\"\r\n                    shouldPublishMarkDirty=\"false\">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.nameLastText %}</label></td>\r\n                <td>\r\n                    <input id=\"{%= $.id %}-Last\" data-dojo-type=\"Sage.UI.Controls.TextBox\"\r\n                    style=\"width:inherit;\"\r\n                    textAlign=\"{%= $.textAlign %}\"\r\n                    name=\"{%= $.NameLast %}\" type=\"text\" data-dojo-attach-point=\"focusNode\"\r\n                    shouldPublishMarkDirty=\"false\">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.suffixText %}</label></td>\r\n                <td>\r\n                    <select id=\"{%= $.id %}-Suffix\" data-dojo-type=\"Sage.UI.Controls.DropDownSelectPickList\"\r\n                    dojoAttachPoint=\"_valueBox\"\r\n                    pickListName=\"Name Suffix\"\r\n                    storeMode=\"text\"\r\n                    name=\"{%= $.NameSuffix %}\"\r\n                    style=\"width: 150px;display: inline-block\"\r\n                    shouldPublishMarkDirty=\"false\" />\r\n                </td>\r\n            </tr>\r\n        </table>                    \r\n        <div class=\"button-bar alignright\" style=\"clear: both\">\r\n            <button id=\"{%= $.id %}-OKButton\" data-dojo-type=\"dijit.form.Button\" type=\"submit\" onClick=\"dijit.byId('{%= $.id %}')._okClicked();\">\r\n                {%= $.okText %}\r\n            </button>\r\n            <button id=\"{%= $.id %}-CancelButton\" data-dojo-type=\"dijit.form.Button\" type=\"button\" onClick=\"dijit.byId('{%= $.id %}')._cancelClicked();\">\r\n                {%= $.cancelText %}\r\n            </button>\r\n        </div>\r\n</div>\r\n","Sage/MainView/ReportMgr/Crystal/CrystalReportConditionsDialog":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/CrystalReportConditionsDialog.html":"<div>\r\n    <div data-dojo-type=\"dijit.Dialog\" title=\"{%= $._getDialogTitle() %}\" dojoattachpoint=\"_dialog\" dojoattachevent=\"onCancel:_dialog_OnCancel\" style=\"width: 600px;\">\r\n        <div data-dojo-type=\"dijit.form.Form\">\r\n            <div style=\"height: 300px\">\r\n                \r\n                <div>\r\n                    <table cellspacing=\"5\">\r\n                        <tr>\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtShowRecordsThatMatch %}</label>\r\n                            </td>\r\n                            <td>\r\n                                <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbConditionPresets\" sortByLabel=\"false\" dojoAttachEvent=\"onChange:_cmbConditionPresets_OnChange\" style=\"width:150px\" >\r\n                                </select>\r\n                            </td>\r\n                        </tr>                   \r\n                        <tr dojoAttachPoint=\"trConnector\" class=\"display-none\">\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtMatch %}</label>\r\n                            </td>\r\n                            <td>\r\n                                <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbConnector\" style=\"width:150px\" >\r\n                                    <option value=\"Or\">{%= $._nlsResources.txtAny %}</option>\r\n                                    <option value=\"And\">{%= $._nlsResources.txtAll %}</option>\r\n                                </select>\r\n                                <label>&nbsp;{%= $._nlsResources.txtOfTheFollowingConditions %}</label>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n\r\n                <div dojoType=\"dijit.Toolbar\" dojoAttachPoint=\"tbConditions\" region=\"top\" splitter=\"false\" class=\"right-tools\" >\r\n                    <span dojoType=\"Sage.UI.ImageButton\" icon=\"{%= $._btnPlusIconPath %}\" title=\"{%= $._nlsResources.btnAddCondition_Caption %}\" dojoAttachEvent=\"onClick:_btnAddCondition_Click\" dojoAttachPoint=\"btnAddCondition\"></span>\r\n                </div>                                  \r\n                \r\n                <div id=\"divGrdCrystalConditions\" style=\"width:100%; height:200px; overflow:auto\" >            \r\n                    <table data-dojo-type=\"dojox.grid.DataGrid\" dojoAttachPoint=\"grdCrystalConditions\" id=\"grdCrystalConditions\" formatterScope=\"Sage.MainView.ReportMgr.Crystal.CrystalReportsFormatter\">\r\n                        <thead>\r\n                            <th field=\"conditionType\" width=\"60px\" formatter=\"formatConditionType\" >{%= $._nlsResources.grdCrystalConditions_ConditionType_Caption %}</th>\r\n                            <th field=\"table\" width=\"80px\">{%= $._nlsResources.grdCrystalConditions_TableName_Caption %}</th>\r\n                            <th field=\"field\" width=\"80px\">{%= $._nlsResources.grdCrystalConditions_FieldName_Caption %}</th>\r\n                            <th field=\"operator\" formatter=\"formatOperator\" width=\"50px\">{%= $._nlsResources.grdCrystalConditions_Operator_Caption %}</th>\r\n                            <th field=\"_item\" formatter=\"formatConditionValue\" width=\"125px\">{%= $._nlsResources.grdCrystalConditions_Value_Caption %}</th>\r\n                            <th field=\"value\" formatter=\"formatEditCondition\" width=\"40px\">&nbsp;</th>\r\n                            <th field=\"_item\" formatter=\"formatDeleteCondition\" width=\"40px\">&nbsp;</th>\r\n                        </thead>\r\n                    </table>\r\n                </div>               \r\n\r\n            </div>\r\n\r\n            <div align=\"right\" style=\"margin-top:10px\">\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdBack\" dojoAttachEvent=\"onClick:_cmdBack_OnClick\" style=\"display:none\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdBack_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdNext\" dojoAttachEvent=\"onClick:_cmdNext_OnClick\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdNext_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdCancel_Caption) %}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"}});define("Sage/MainView/ReportMgr/Crystal/CrystalReportConditionsDialog",["dojo/_base/declare","dojo/_base/array","dojo/topic","dojo/store/Memory","dojo/data/ObjectStore","dojo/data/ItemFileWriteStore","dojo/text!./templates/CrystalReportConditionsDialog.html","dojo/i18n!./nls/CrystalReportConditionsDialog","Sage/Reporting/Enumerations","Sage/MainView/ReportMgr/ReportManagerUtility","Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility","Sage/MainView/ReportMgr/Crystal/CrystalReportConditionEditor","Sage/MainView/ReportMgr/Common/_WizardDialogBase","Sage/MainView/ReportMgr/Crystal/CrystalReportsFormatter","dijit/Dialog","dijit/form/Form","Sage/Utility"],function(_1ff1,_1ff2,topic,_1ff3,_1ff4,_1ff5,_1ff6,_1ff7,_1ff8,_1ff9,_1ffa,_1ffb,_1ffc,_1ffd,_1ffe,Form,_1fff){var _2000=_1fff.makeTemplateFromString(_1ff6);var _2001=_1ff1("Sage.MainView.ReportMgr.Crystal.CrystalReportConditionsDialog",[_1ffc],{id:"dlgCrystalReportConditions",widgetTemplate:_2000,_nlsResources:_1ff7,_helpIconTopic:"RptscheduleWiz",_subscriptions:null,_reportFilters:null,_conditionOptions:null,_conditionsCollection:null,_currentStep:_1ff8.CrystalReportWizardStep.Conditions,constructor:function(_2002){this._subscriptions=[];this._conditionsCollection=[];this._initializeWizardOptions(_2002);this._conditionOptions=_2002.conditionOptions;if(!this._conditionOptions.conditionsConnector){this._conditionOptions.conditionsConnector=_1ff8.ReportConditionConnector.And;}var self=this;if(this._conditionOptions.conditions){_1ff2.forEach(this._conditionOptions.conditions,function(_2003,i){self._addNewCondition(_2003);});}this._reportFilters=dojo.clone(this._reportMetadata.reportFilters);this._subscriptions.push(topic.subscribe("/reportManager/reportWizard/createCondition",function(_2004){self._addNewCondition(_2004);}));this._subscriptions.push(topic.subscribe("/reportManager/reportWizard/updateCondition",function(_2005){self._updateCondition(_2005);}));},destroy:function(){this.grdCrystalConditions.destroy();_1ff2.forEach(this._subscriptions,function(_2006,i){_2006.remove();});this._dialog.destroyRecursive();this.inherited(arguments);},startup:function(){this.inherited(arguments);this._initializeConditionsGrid();this._initializeConditionPresets();if(this._conditionOptions.conditions.length>0){this.cmbConditionPresets.attr("value",_1ff8.ConditionPreset.Custom);}if(this._conditionOptions.conditionsConnector){this.cmbConnector.attr("value",this._conditionOptions.conditionsConnector);}},_btnAddCondition_Click:function(){var _2007=new _1ffb(null,this._reportMetadata);_2007.show();},_cmbConditionPresets_OnChange:function(value){var _2008=this._getSelectedPreset();this._setConditionsVisibility(_2008);this._showPreset(_2008);},_addNewCondition:function(_2009){_2009._id=this._getConditionId();this._conditionsCollection.push(_2009);this._refreshConditionsGrid();},_updateCondition:function(_200a){var self=this;_1ff2.some(this._conditionsCollection,function(entry,i){if(entry._id===_200a._id){self._conditionsCollection[i]=_200a;return true;}});this._refreshConditionsGrid();},_initializeConditionPresets:function(){var items=[{value:_1ff8.ConditionPreset.AllRecords,caption:_1ff7.txtAllRecords,tag:_1ff8.ConditionPreset.AllRecords},{value:_1ff8.ConditionPreset.Custom,caption:_1ff7.txtSpecificConditions,tag:_1ff8.ConditionPreset.Custom}];var _200b=null;var _200c=_1ffa.getCurrentUserCondition();if(_200c&&this._reportMetadata.useUserFilter){_200b={name:_1ff7.txtCurrentUser,id:_1ff8.ConditionPreset.CurrentUser,filterConditions:[_200c]};this._reportFilters.unshift(_200b);}_200c=_1ffa.getCurrentEntityCondition();if(_200c){var _200d=_1ff9.getCurrentEntityContext();_200b={name:"["+_200d.Description+"]",id:_1ff8.ConditionPreset.CurrentEntity,filterConditions:[_200c]};this._reportFilters.unshift(_200b);}_1ff2.forEach(this._reportFilters,function(_200e,i){items.push({value:_200e.id,caption:_200e.name,tag:_1ff8.ConditionPreset.Preset});});var data={identifier:"value",label:"caption",items:items};var store=new _1ff5({data:data});this.cmbConditionPresets.setStore(store);this.cmbConditionPresets.startup();},_initializeConditionsGrid:function(){var data={identifier:"_id",items:this._conditionsCollection};var store=new _1ff4({objectStore:new _1ff3({data:data})});this.grdCrystalConditions.setStore(store);},_getDialogTitle:function(){return this._nlsResources.txtDialogTitle+" ["+this._reportMetadata.displayName+"]";},_getWizardStepResult:function(){this._conditionOptions.conditions=this._getConditions();this._conditionOptions.conditionsConnector=this.cmbConnector.value;return this._conditionOptions;},_setConditionsVisibility:function(_200f){_1ff9.setDomNodeVisible(this.trConnector,false);_1ff9.setDomNodeVisible(this.tbConditions.domNode,false);_1ff9.setDomNodeVisible(this.grdCrystalConditions.domNode,false);switch(_200f.tag){case _1ff8.ConditionPreset.Preset:case _1ff8.ConditionPreset.Custom:_1ff9.setDomNodeVisible(this.trConnector,true);_1ff9.setDomNodeVisible(this.tbConditions.domNode,true);_1ff9.setDomNodeVisible(this.grdCrystalConditions.domNode,true);this.grdCrystalConditions.resize();break;}},_getSelectedPreset:function(){var item=this.cmbConditionPresets.store._getItemByIdentity(this.cmbConditionPresets.value);var _2010={value:item?this.cmbConditionPresets.store.getValue(item,"value"):null,tag:item?this.cmbConditionPresets.store.getValue(item,"tag"):null};return _2010;},_showPreset:function(_2011){switch(_2011.tag){case _1ff8.ConditionPreset.Preset:var self=this;_1ff2.some(this._reportFilters,function(_2012,i){if(_2012.id===_2011.value){self._conditionsCollection=[];_1ff2.forEach(_2012.filterConditions,function(_2013,i){self._addNewCondition(_2013);});if(_2012.conditionsConnector){self._conditionOptions.conditionsConnector=_2012.conditionsConnector;self.cmbConnector.attr("value",self._conditionOptions.conditionsConnector);}return true;}});break;case _1ff8.ConditionPreset.CurrentRecord:break;case _1ff8.ConditionPreset.CurrentGroup:break;case _1ff8.ConditionPreset.Custom:break;default:break;}},_getConditions:function(){var _2014=this._getSelectedPreset();var _2015=[];switch(_2014.tag){case _1ff8.ConditionPreset.Custom:case _1ff8.ConditionPreset.Preset:for(var i=0;i<this._conditionsCollection.length;i++){var _2016=dojo.clone(this._conditionsCollection[i]);delete _2016._id;_2015.push(_2016);}break;}return _2015;},_getConditionId:function(){var maxId=0;for(var i=0;i<this._conditionsCollection.length;i++){if(maxId<this._conditionsCollection[i]._id){maxId=this._conditionsCollection[i]._id;}}return maxId+1;},_refreshConditionsGrid:function(){if(this.grdCrystalConditions){this.grdCrystalConditions.store.close();this._initializeConditionsGrid();}},_editCondition:function(_2017){var _2018=this.grdCrystalConditions.getItem(_2017);var _2019=new _1ffb(_2018,this._reportMetadata);_2019.show();},_deleteCondition:function(id){var index=-1;_1ff2.some(this._conditionsCollection,function(_201a,i){if(_201a._id===id){index=i;return true;}});if(index!==-1){this._conditionsCollection.splice(index,1);}this._refreshConditionsGrid();}});return _2001;});},"dgrid/Selection":function(){define("dgrid/Selection",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/Deferred","dojo/on","dojo/has","dojo/aspect","./List","dojo/has!touch?./util/touch","put-selector/put","dojo/query","dojo/_base/sniff"],function(_201b,_201c,_201d,on,has,_201e,List,_201f,put){has.add("dom-comparedocumentposition",function(_2020,doc,_2021){return !!_2021.compareDocumentPosition;});has.add("pointer",function(_2022,doc,_2023){return "onpointerdown" in _2023?"pointer":"onmspointerdown" in _2023?"MSPointer":false;});has.add("css-user-select",function(_2024,doc,_2025){var style=_2025.style,_2026=["Khtml","O","ms","Moz","Webkit"],i=_2026.length,name="userSelect";do{if(typeof style[name]!=="undefined"){return name;}}while(i--&&(name=_2026[i]+"UserSelect"));return false;});has.add("dom-selectstart",typeof document.onselectstart!=="undefined");var _2027=has("mac")?"metaKey":"ctrlKey",_2028=has("css-user-select"),_2029=has("pointer"),_202a=_2029&&_2029.slice(0,2)==="MS",_202b=_2029?_2029+(_202a?"Down":"down"):"mousedown",_202c=_2029?_2029+(_202a?"Up":"up"):"mouseup";function _202d(node,_202e){var value=node.unselectable=_202e?"on":"",_202f=node.getElementsByTagName("*"),i=_202f.length;while(--i){if(_202f[i].tagName==="INPUT"||_202f[i].tagName==="TEXTAREA"){continue;}_202f[i].unselectable=value;}};function _2030(grid,_2031){var node=grid.bodyNode,value=_2031?"text":has("ff")<21?"-moz-none":"none";if(_2028&&_2028!=="msUserSelect"){node.style[_2028]=value;}else{if(has("dom-selectstart")){if(!_2031&&!grid._selectstartHandle){grid._selectstartHandle=on(node,"selectstart",function(evt){var tag=evt.target&&evt.target.tagName;if(tag!=="INPUT"&&tag!=="TEXTAREA"){evt.preventDefault();}});}else{if(_2031&&grid._selectstartHandle){grid._selectstartHandle.remove();delete grid._selectstartHandle;}}}else{_202d(node,!_2031);if(!_2031&&!grid._unselectableHandle){grid._unselectableHandle=_201e.after(grid,"renderRow",function(row){_202d(row,true);return row;});}else{if(_2031&&grid._unselectableHandle){grid._unselectableHandle.remove();delete grid._unselectableHandle;}}}}};return _201c(null,{selectionDelegate:".dgrid-row",selectionEvents:_202b+","+_202c+",dgrid-cellfocusin",selectionTouchEvents:has("touch")?_201f.tap:null,deselectOnRefresh:true,allowSelectAll:false,selection:{},selectionMode:"extended",allowTextSelection:undefined,_selectionTargetType:"rows",create:function(){this.selection={};return this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this._initSelectionEvents();var _2032=this.selectionMode;this.selectionMode="";this._setSelectionMode(_2032);},destroy:function(){this.inherited(arguments);if(this._selectstartHandle){this._selectstartHandle.remove();}if(this._unselectableHandle){this._unselectableHandle.remove();}if(this._removeDeselectSignals){this._removeDeselectSignals();}},_setSelectionMode:function(mode){if(mode==this.selectionMode){return;}this.clearSelection();this.selectionMode=mode;this._selectionHandlerName="_"+mode+"SelectionHandler";this._setAllowTextSelection(this.allowTextSelection);},setSelectionMode:function(mode){_201b.deprecated("setSelectionMode(...)","use set(\"selectionMode\", ...) instead","dgrid 0.4");this.set("selectionMode",mode);},_setAllowTextSelection:function(allow){if(typeof allow!=="undefined"){_2030(this,allow);}else{_2030(this,this.selectionMode==="none");}this.allowTextSelection=allow;},_handleSelect:function(event,_2033){if(!this[this._selectionHandlerName]||!this.allowSelect(this.row(_2033))||(event.type==="dgrid-cellfocusin"&&event.parentType==="mousedown")||(event.type===_202c&&_2033!=this._waitForMouseUp)){return;}this._waitForMouseUp=null;this._selectionTriggerEvent=event;if(!event.keyCode||!event.ctrlKey||event.keyCode==32){if(!event.shiftKey&&event.type===_202b&&this.isSelected(_2033)){this._waitForMouseUp=_2033;}else{this[this._selectionHandlerName](event,_2033);}}this._selectionTriggerEvent=null;},_singleSelectionHandler:function(event,_2034){var _2035=event.keyCode?event.ctrlKey:event[_2027];if(this._lastSelected===_2034){this.select(_2034,null,!_2035||!this.isSelected(_2034));}else{this.clearSelection();this.select(_2034);this._lastSelected=_2034;}},_multipleSelectionHandler:function(event,_2036){var _2037=this._lastSelected,_2038=event.keyCode?event.ctrlKey:event[_2027],value;if(!event.shiftKey){value=_2038?null:true;_2037=null;}this.select(_2036,_2037,value);if(!_2037){this._lastSelected=_2036;}},_extendedSelectionHandler:function(event,_2039){if(event.button===2?!this.isSelected(_2039):!(event.keyCode?event.ctrlKey:event[_2027])){this.clearSelection(null,true);}this._multipleSelectionHandler(event,_2039);},_toggleSelectionHandler:function(event,_203a){this.select(_203a,null,null);},_initSelectionEvents:function(){var grid=this,_203b=this.contentNode,_203c=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};if(has("touch")&&!has("pointer")&&this.selectionTouchEvents){on(_203b,_201f.selector(_203c,this.selectionTouchEvents),function(evt){grid._handleSelect(evt,this);grid._ignoreMouseSelect=this;});on(_203b,on.selector(_203c,this.selectionEvents),function(event){if(grid._ignoreMouseSelect!==this){grid._handleSelect(event,this);}else{if(event.type===_202c){grid._ignoreMouseSelect=null;}}});}else{on(_203b,on.selector(_203c,this.selectionEvents),function(event){grid._handleSelect(event,this);});}if(this.addKeyHandler){this.addKeyHandler(32,function(event){grid._handleSelect(event,event.target);});}if(this.allowSelectAll){this.on("keydown",function(event){if(event[_2027]&&event.keyCode==65&&!/\bdgrid-input\b/.test(event.target.className)){event.preventDefault();grid[grid.allSelected?"clearSelection":"selectAll"]();}});}if(this._setStore){_201e.after(this,"_setStore",function(){grid._updateDeselectionAspect();});}this._updateDeselectionAspect();},_updateDeselectionAspect:function(){var self=this,store=this.store,_203d,_203e;function _203f(_2040,_2041,_2042){var id=_2041||(_2040&&_2040[self.idProperty||"id"]);if(id!=null){var row=self.row(id),_2043=row&&self.selection[row.id];if(_2043){self[_2042](row,null,_2043);}}};if(this._removeDeselectSignals){this._removeDeselectSignals();}if(store&&store.notify){_203d=_201e.before(store,"notify",function(_2044,_2045){if(!_2044){_203f(_2044,_2045,"deselect");}});_203e=_201e.after(store,"notify",function(_2046,_2047){_203f(_2046,_2047,"select");},true);this._removeDeselectSignals=function(){_203d.remove();_203e.remove();};}else{_203d=_201e.before(this,"removeRow",function(_2048,_2049){var row;if(!_2049){row=this.row(_2048);if(row&&(row.id in this.selection)){this.deselect(row);}}});this._removeDeselectSignals=function(){_203d.remove();};}},allowSelect:function(row){return true;},_fireSelectionEvent:function(type){var queue=this._selectionEventQueues[type],_204a=this._selectionTriggerEvent,_204b;_204b={bubbles:true,grid:this};if(_204a){_204b.parentType=_204a.type;}_204b[this._selectionTargetType]=queue;on.emit(this.contentNode,"dgrid-"+type,_204b);this._selectionEventQueues[type]=[];},_fireSelectionEvents:function(){var _204c=this._selectionEventQueues,type;for(type in _204c){if(_204c[type].length){this._fireSelectionEvent(type);}}},_select:function(row,toRow,value){var _204d,_204e,_204f,_2050,_2051;if(typeof value==="undefined"){value=true;}if(!row.element){row=this.row(row);}if(value===false||this.allowSelect(row)){_204d=this.selection;_204e=!!_204d[row.id];if(value===null){value=!_204e;}_204f=row.element;if(!value&&!this.allSelected){delete this.selection[row.id];}else{_204d[row.id]=value;}if(_204f){if(value){put(_204f,".dgrid-selected"+(this.addUiClasses?".ui-state-active":""));}else{put(_204f,"!dgrid-selected!ui-state-active");}}if(value!==_204e&&_204f){this._selectionEventQueues[(value?"":"de")+"select"].push(row);}if(toRow){if(!toRow.element){toRow=this.row(toRow);}if(!toRow){this._lastSelected=_204f;return;}_2050=toRow.element;if(_2050){_2051=this._determineSelectionDirection(_204f,_2050);if(!_2051){_2050=document.getElementById(_2050.id);_2051=this._determineSelectionDirection(_204f,_2050);}while(row.element!=_2050&&(row=this[_2051](row))){this._select(row,null,value);}}}}},_determineSelectionDirection:has("dom-comparedocumentposition")?function(from,to){var _2052=to.compareDocumentPosition(from);if(_2052&1){return false;}return _2052===2?"down":"up";}:function(from,to){if(to.sourceIndex<1){return false;}return to.sourceIndex>from.sourceIndex?"down":"up";},select:function(row,toRow,value){this._select(row,toRow,value);this._fireSelectionEvents();},deselect:function(row,toRow){this.select(row,toRow,false);},clearSelection:function(_2053,_2054){this.allSelected=false;for(var id in this.selection){if(_2053!==id){this._select(id,null,false);}}if(!_2054){this._lastSelected=null;}this._fireSelectionEvents();},selectAll:function(){this.allSelected=true;this.selection={};for(var i in this._rowIdToObject){var row=this.row(this._rowIdToObject[i]);this._select(row.id,null,true);}this._fireSelectionEvents();},isSelected:function(_2055){if(typeof _2055==="undefined"||_2055===null){return false;}if(!_2055.element){_2055=this.row(_2055);}return (_2055.id in this.selection)?!!this.selection[_2055.id]:this.allSelected&&(!_2055.data||this.allowSelect(_2055));},refresh:function(){if(this.deselectOnRefresh){this.clearSelection();}this._lastSelected=null;return this.inherited(arguments);},renderArray:function(){var grid=this,rows=this.inherited(arguments);_201d.when(rows,function(rows){var _2056=grid.selection,i,row,_2057;for(i=0;i<rows.length;i++){row=grid.row(rows[i]);_2057=row.id in _2056?_2056[row.id]:grid.allSelected;if(_2057){grid._select(row,null,_2057);}}grid._fireSelectionEvents();});return rows;}});});},"Sage/UI/Columns/Currency":function(){define("Sage/UI/Columns/Currency",["dojo/_base/declare","dojo/json","Sage/Data/SDataServiceRegistry","Sage/Utility/_LocalStorageMixin","Sage/Utility","dojo/_base/lang","dojox/grid/cells/dijit","Sage/UI/Controls/Currency"],function(_2058,json,_2059,_205a,_205b,lang,_205c,_205d){var _205e=_2058("Sage.UI.Columns.Currency",dojox.grid.cells._Widget,{widgetClass:_205d,exchangeRateLoaded:false,constructor:function(o){if(this.multiCurrency&&!this.exchangeRateLoaded){var _205f=Sage.Services.getService("SystemOptions");if(_205f){_205f.get("BaseCurrency",function(val){this.exchangeRateLoaded=true;this.currentCode=val;var _2060=Sage.Services.getService("ExchangeRateLoader");if(_2060){_2060.requestExchangeRate(this.getExchangeRate,this);}},function(){if(typeof console!=="undefined"){console.error("Unable to determine SystemOptions.BaseCurrency.");}},this);}else{if(typeof console!=="undefined"){console.error("Unable to load the SystemOptions service.");}}}},getExchangeRate:function(data){this.exchangeRate=data.Rate;},getWidgetProps:function(_2061){var _2062=this.getControlId();return dojo.mixin({},this.widgetProps||{},{id:_2062,value:_2061,width:this.width,maxLength:this.maxLength,style:this.style,hotKey:this.hotKey,tabIndex:this.tabIndex,field:this.field,constraints:this.constraints,name:this.name,sortable:this.sortable,editable:this.editable,required:this.required,displayMode:this.displayMode,displayCurrencyCode:this.displayCurrencyCode,multiCurrency:this.multiCurrency,currentCode:this.currentCode,exchangeRate:this.exchangeRate,currentUICulture:this.currentUICulture,textAlign:this.getAlignment()});},getAlignment:function(){var _2063="right";_2063=(this.cellClasses.indexOf("aligncenter")>-1)?"center":_2063;_2063=(this.cellClasses.indexOf("alignleft")>-1)?"left":_2063;return _2063;},formatNode:function(_2064,_2065,_2066){if(!this.widgetClass){return _2065;}if(this.multiCurrency){_2065=_2065*this.exchangeRate;}var _2067=dijit.byId(this.getControlId());if(!_2067){this.widget=this.createWidget.apply(this,arguments);}else{this.widget=_2067;if(_2067.value!==_2065||this.widget.focusNode.value!==_2065){this.widget.focusNode.attr("value",_2065);}this.attachWidget.apply(this,arguments);}this.sizeWidget.apply(this,arguments);this.grid.views.renormalizeRow(_2066);this.grid.scroller.rowHeightChanged(_2066,true);this.widget.focusNode.focus();return undefined;},formatter:function(_2068,_2069){var _206a=this.grid.getItem(_2069);var _206b="";var i;this.decimalDigit=(this.constraints&&this.constraints.places)?this.constraints.places:Sys.CultureInfo.CurrentCulture.numberFormat.CurrencyDecimalDigits;if(!this.multiCurrency){_206b=dojo.currency.format(_2068,{currency:[Sys.CultureInfo.CurrentCulture.numberFormat.CurrencySymbol],locale:Sys.CultureInfo.CurrentCulture.name,places:this.decimalDigit});_206b=_206b.replace(Sys.CultureInfo.CurrentCulture.numberFormat.CurrencySymbol,"");}else{if(this.exchangeRateType=="EntityRate"&&_205b.getModeId()!=="insert"){var _206c=this.exchangeRateField.split(".");var _206d=_206a;for(i=0;i<_206c.length;i++){if(_206d){_206d=_206d[_206c[i]];}else{_206d=_205b.getClientContextByKey(this.exchangeRateType);}}var _206e=this.exchangeRateCodeField.split(".");var _206f=_206a;for(i=0;i<_206e.length;i++){if(_206f){_206f=_206f[_206e[i]];}else{_206f=_205b.getClientContextByKey([this.exchangeRateType,"Code"].join(""));}}this.exchangeRate=_206d;this.currentCode=_206f;}else{if(this.exchangeRateType==="MyRate"){this.exchangeRate=_205b.getClientContextByKey(this.exchangeRateType);this.currentCode=_205b.getClientContextByKey([this.exchangeRateType,"Code"].join(""));}}_2068=_2068*this.exchangeRate;_206b=dojo.currency.format(_2068,{currency:[],locale:Sys.CultureInfo.CurrentCulture.name,places:this.decimalDigit});_206b=[_206b,"   ",this.currentCode].join("");}if(this.abbreviationLength){var _2070=Sage.Format.abbreviationFormatter(this.abbreviationLength);_206b=_2070(_206b);}return _206b;},styles:"text-align: right;",setCurrentItems:function(){this.editInfo=this.grid.edit.info;this.item=this.grid.getItem(this.editInfo.rowIndex);},getControlId:function(){this.setCurrentItems();return [this.item.$key,this.editInfo.cell.field,this.index].join("_");},getValue:function(index){var _2071=this.widget.focusNode.valueNode.value;if(this.multiCurrency){_2071=_2071/this.exchangeRate;}if(this.widget.focusNode.state==="Error"){var item=this.grid.getItem(index);_2071=this.grid.store.getValue(item,this.grid.edit.info.cell.field);this.widget.focusNode.focusNode.value=_2071;}else{if(this.widget.focusNode.state==="Incomplete"){_2071=_205b.maximizeDecimalDigit(this.widget.focusNode.get("displayedValue"),this.constraints.places);this.widget.focusNode.focusNode.value=_2071;}}return _2071;}});var _2072=_2058("Sage.UI.Columns.Currency.BaseExchangeRateLoader",_205a,{_requests:[],_requestingData:false,_exchangeRate:false,_storageNamespace:"BaseCurrencyExchangeRate",constructor:function(){this._requests=[];this._requestingData=false;this._exchangeRate=false;},requestExchangeRate:function(_2073,scope){if(!this._exchangeRate){var data=sessionStorage.getItem(this._storageNamespace);if(data){this._exchangeRate=json.parse(data);}else{this._requests.push({fn:_2073,scope:scope||this});if(!this._requestingData){this._requestingData=true;var _2074=new Sage.SData.Client.SDataSingleResourceRequest(_2059.getSDataService("dynamic",false,true,true));_2074.setResourceSelector(dojo.string.substitute("'${0}'",[scope.currentCode]));_2074.setResourceKind("exchangeRates");_2074.read({success:lang.hitch(this,this._receiveData),failure:function(_2075){},async:false});}return;}}_2073.call(scope||this,this._exchangeRate);},_receiveData:function(data){sessionStorage.setItem(this._storageNamespace,json.stringify(data));this._exchangeRate=data;var len=this._requests.length;for(var i=0;i<len;i++){var clbk=this._requests.pop();clbk.fn.call(clbk.scope,data);}}});Sage.Services.addService("ExchangeRateLoader",new _2072());return _205e;});},"Sage/Groups/GroupManager":function(){define("Sage/Groups/GroupManager",["Sage/UI/Dialogs","Sage/Utility/Email","dojo/string","Sage/Groups/GroupContextService","dojox/storage/LocalStorageProvider","dojo/_base/array","dojo/_base/lang","dojo/i18n","dojo/i18n!./nls/GroupManager","Sage/Data/SDataServiceRegistry","dojo/_base/xhr","dojo/topic","dojo/aspect"],function(_2076,email,_2077,_2078,_2079,array,lang,i18n,nls,_207a,xhr,topic,_207b){Sage.namespace("Sage.Groups.GroupManager");Sage.Groups.GroupManager={CurrentUserID:"",SortCol:-1,SortDir:"ASC",GMUrl:"SLXGroupBuilder.aspx?method=",GroupXML:"",resources:nls,LOCALSTORE_NAMESPACE:"SageGroups",QB_WIDTH:840,QB_HEIGHT:650,GetFromServer:function(url,_207c,_207d,_207e,sync){var args={url:url,sync:sync||false,handleAs:_207c||"text",headers:{"Content-Type":"application/xml"},preventCache:true,load:_207d,error:_207e};return dojo.xhrGet(args);},ClearLocalStorage:function(){var _207f=new _2079();_207f.initialize();_207f.clear(Sage.Groups.GroupManager.resources.LOCALSTORE_NAMESPACE);window.location.reload(true);},ClearLocalStorageForGroup:function(_2080){var _2081=new _2079();_2081.initialize();array.forEach(_2081.getNamespaces(),function(item){if(item.indexOf(_2080)>-1){_2081.clear(item);}});sessionStorage.removeItem("GROUPLAYOUT_"+_2080);sessionStorage.removeItem("hidden_filters_"+_2080);sessionStorage.removeItem("METADATA_FILTERS_"+_2080);window.location.reload(true);},PostToServer:function(url,data,_2082,_2083){var args={url:url,postData:data,handleAs:"text",headers:{"Content-Type":"application/xml"},load:function(data){if(typeof _2082==="function"){_2082(data);}},error:function(err){if(typeof _2083==="function"){_2083(err);}}};return dojo.xhrPost(args);},GetCurrentGroupInfo:function(){var _2084=Sage.Services.getService("ClientGroupContext");if(_2084){var _2085=_2084.getContext();return {"Name":_2085.CurrentName,"Family":_2085.CurrentFamily,"Id":_2085.CurrentGroupID,"isAdhoc":_2085.isAdhoc,"Entity":_2085.CurrentEntity};}return "";},CreateGroup:function(mode){if(typeof mode==="undefined"||mode===""){mode=Sage.Groups.GroupManager.GetCurrentGroupInfo().Family;}var vURL="QueryBuilderMain.aspx?mode="+mode,width=Sage.Groups.GroupManager.QB_WIDTH,_2086=Sage.Groups.GroupManager.QB_HEIGHT;window.open(vURL,"GroupViewer",_2077.substitute("resizable=yes,centerscreen=yes,width=${width},height=${height},status=no,toolbar=no,scrollbars=yes",{width:width,height:_2086}));},DeleteGroup:function(_2087,_2088){if(typeof _2087==="undefined"||_2087===""){_2087=Sage.Groups.GroupManager.GetCurrentGroupInfo().Id;}var msg=(_2088)?_2077.substitute(Sage.Groups.GroupManager.resources.ConfirmDeleteFmtMessage,[_2088]):Sage.Groups.GroupManager.resources.ConfirmDeleteMessage;_2076.raiseQueryDialog("",msg,function(_2089){if(_2089===true){Sage.Groups.GroupManager.GetFromServer(Sage.Groups.GroupManager.GMUrl+"DeleteGroup&gid="+_2087,"text",function(){var url=document.location.href.replace("#","");if(url.indexOf("?")>-1){var _208a=url.split("?");url=_208a[0];}document.location=url;},function(req){});}},Sage.Groups.GroupManager.resources.yesCaption,Sage.Groups.GroupManager.resources.noCaption);},EditGroup:function(_208b){var _208c=Sage.Groups.GroupManager.GetCurrentGroupInfo();if(typeof _208b==="undefined"||_208b===""){_208b=_208c.Id;}var url=_2077.substitute("QueryBuilderMain.aspx?gid=${groupid}&mode=${md}",{groupid:_208b,md:_208c.Family}),width=Sage.Groups.GroupManager.QB_WIDTH,_208d=Sage.Groups.GroupManager.QB_HEIGHT;window.open(url,"EditGroup",_2077.substitute("resizable=yes,centerscreen=yes,width=${width},height=${height},status=no,toolbar=no,scrollbars=yes",{width:width,height:_208d}));},CopyGroup:function(_208e){var _208f=Sage.Groups.GroupManager.GetCurrentGroupInfo();if(typeof _208e==="undefined"||_208e===""){_208e=_208f.Id;}var vURL=["QueryBuilderMain.aspx?gid=",_208e,"&action=copy","&mode=",_208f.Family].join(""),width=Sage.Groups.GroupManager.QB_WIDTH,_2090=Sage.Groups.GroupManager.QB_HEIGHT;window.open(vURL,"EditGroup",_2077.substitute("resizable=yes,centerscreen=yes,width=${width},height=${height},status=no,toolbar=no,scrollbars=yes",{width:width,height:_2090}));},ListGroupsAsSelect:function(_2091){var _2092=_2091;if(!dojo.isString(_2092)||_2092.length===0){_2092=Sage.Groups.GroupManager.GetCurrentGroupInfo().Family;if(!dojo.isString(_2092)||_2092.length===0){return "";}}var sUrl=Sage.Groups.GroupManager.GMUrl+"GetGroupList&entity="+_2092;var _2093="";Sage.Groups.GroupManager.GetFromServer(sUrl,"text",function(data){_2093=data;},function(err){if(typeof console!=="undefined"){console.error(err);}},true);var _2094=getXMLDoc(_2093);if(_2094){var _2095=_2094.getElementsByTagName("GroupInfo");if(!_2095){return "";}var _2096="";for(var i=0;i<_2095.length;i++){_2096+="<option value = '"+_2095[i].getElementsByTagName("GroupID")[0].firstChild.nodeValue+"'>"+_2095[i].getElementsByTagName("DisplayName")[0].firstChild.nodeValue+"</option>";}return _2096;}return "";},GetGroupId:function(name){var _2097="";Sage.Groups.GroupManager.GetFromServer(Sage.Groups.GroupManager.GMUrl+"GetGroupId&name="+encodeURIComponent(name),"text",function(data){_2097=data;},function(err){console.error(err);},true);return _2097;},HideGroup:function(_2098,_2099){if(typeof _2098==="undefined"||_2098===""){_2098=Sage.Groups.GroupManager.GetCurrentGroupInfo().Id;}Sage.Groups.GroupManager.PostToServer(Sage.Groups.GroupManager.GMUrl+"HideGroup&gid="+_2098,"",lang.hitch(this,Sage.Groups.GroupManager._HideOrShowComplete,_2099,_2098));},_HideOrShowComplete:function(_209a,_209b){var _209c,_209d,_209e,_209f;if(_209a){return;}_209e=function(){if(_209f&&_209f.remove){_209f.remove();}var _20a0=dijit.byId("titlePane");if(_20a0){_20a0.resetConfiguration();}};_209c=Sage.Services.getService("ClientGroupContext");_209d=_209c&&_209c.getContext();_209f=_207b.after(_209c,"onCurrentGroupChanged",_209e);if(!Sage.Groups.GroupManager._isDefaultGroup(_209b)&&_209d.CurrentGroupID===_209b){_209c.setCurrentGroup(_209d.DefaultGroupID);}else{if(Sage.Groups.GroupManager._isDefaultGroup(_209b)&&_209d.CurrentGroupID===_209b){_209c.setCurrentGroup("LOOKUPRESULTS");}else{_209e.call();}}},_isDefaultGroup:function(_20a1){var _20a2,_20a3,_20a4;_20a4=false;_20a2=Sage.Services.getService("ClientGroupContext");if(_20a2){_20a3=_20a2.getContext();if(_20a3){_20a4=_20a3.DefaultGroupID===_20a1;}}return _20a4;},UnHideGroup:function groupmanager_(_20a5,_20a6){if(typeof _20a5==="undefined"||_20a5===""){_20a5=Sage.Groups.GroupManager.GetCurrentGroupInfo().Id;}Sage.Groups.GroupManager.GetFromServer(Sage.Groups.GroupManager.GMUrl+"UnHideGroup&gid="+_20a5,"",lang.hitch(this,Sage.Groups.GroupManager._HideOrShowComplete,_20a6,_20a5));},ShowGroups:function(_20a7){if(typeof _20a7==="undefined"||_20a7===""){_20a7=Sage.Groups.GroupManager.GetCurrentGroupInfo().Family;}var vURL="ShowGroups.aspx?tablename="+_20a7;window.open(vURL,"ShowGroups","resizable=yes,centerscreen=yes,width=800,height=646,status=no,toolbar=no,scrollbars=yes");},CreateAdHocGroup:function(_20a8,_20a9,_20aa,_20ab){var vURL=[Sage.Groups.GroupManager.GMUrl,"CreateAdHocGroup","&name=",encodeURIComponent(_20a9),"&family=",_20aa,"&layoutid=",encodeURIComponent(_20ab)].join();return Sage.Groups.GroupManager.PostToServer(vURL,_20a8);},EditAdHocGroupAddMember:function(_20ac,_20ad){if(typeof _20ac==="undefined"||_20ac===""){_20ac=Sage.Groups.GroupManager.GetCurrentGroupInfo().Id;}var x=Sage.Groups.GroupManager.GetFromServer(Sage.Groups.GroupManager.GMUrl+"EditAdHocGroupAddMember&groupid="+_20ac+"&entityid="+_20ad);},EditAdHocGroupDeleteMember:function(_20ae,_20af){if(typeof _20ae==="undefined"||_20ae===""){_20ae=Sage.Groups.GroupManager.GetCurrentGroupInfo().Id;}var x=Sage.Groups.GroupManager.GetFromServer(Sage.Groups.GroupManager.GMUrl+"EditAdHocGroupDeleteMember&groupid="+_20ae+"&entityid="+_20af);},SetDefault:function(_20b0,name,_20b1){Sage.Groups.GroupManager._saveGroupUserOptions(name,_20b1,"DEFAULTGROUP");},SetLookupLayout:function(_20b2,name,_20b3){Sage.Groups.GroupManager._saveGroupUserOptions(name,_20b3,"LOOKUPLAYOUTGROUP");},_saveGroupUserOptions:function(name,_20b4,_20b5){var _20b6=Sage.Groups.GroupManager.GetCurrentGroupInfo(),_20b7=_20b6.Name,_20b8=_20b6.Family,_20b9=name||_20b7,_20ba=_20b4;var svc=Sage.Services.getService("UserOptions");if(svc){svc.set(_20b4,_20b5,_2077.substitute("${0}:${1}",[_20ba,_20b9]));}},IsAdHoc:function(_20bb){alert("not implemented in this object yet...");},ExportGroup:function(_20bc,_20bd){_2076.showInfo(Sage.Groups.GroupManager.resources.exportToExcel);},ShareGroup:function(_20be){if(typeof _20be==="undefined"||_20be===""){_20be=Sage.Groups.GroupManager.GetCurrentGroupInfo().Id;}var vURL="ShareGroup.aspx?gid="+_20be;window.open(vURL,"ShareGroup","resizable=yes,centerscreen=yes,width=500,height=450,status=no,toolbar=no,scrollbars=yes");},GetGroupSQL:function(_20bf,_20c0,parts,_20c1){var _20c2=_20bf;if(!dojo.isString(_20c2)||_20c2.length===0){_20c2=Sage.Groups.GroupManager.GetCurrentGroupInfo().Id;if(!dojo.isString(_20c2)||_20c2.length===0){return "";}}var sUrl=Sage.Groups.GroupManager.GMUrl+"GetGroupSQL&gid="+_20c2;if(typeof _20c0!=="undefined"){if(dojo.isString(_20c0)){if((_20c0==="true")||(_20c0==="false")){sUrl+="&UseAliases="+_20c0;}}else{if(typeof _20c0==="boolean"){sUrl+="&UseAliases="+_20c0.toString();}}}if(dojo.isString(parts)&&parts.length>0){sUrl+="&parts="+parts;}if(typeof _20c1!=="undefined"){if(dojo.isString(_20c1)){if((_20c1==="true")||(_20c1==="false")){sUrl+="&ApplyFilters="+_20c1;}}else{if(typeof _20c1==="boolean"){sUrl+="&ApplyFilters="+_20c1.toString();}}}var _20c3="";Sage.Groups.GroupManager.GetFromServer(sUrl,"text",function(data){_20c3=data;},function(err){if(typeof console!=="undefined"){console.error(err);}},true);return _20c3;},GetGroupSQLFromXML:function(_20c4,_20c5,_20c6){Sage.Groups.GroupManager.PostToServer(Sage.Groups.GroupManager.GMUrl+"GetGroupSQL",_20c4,_20c5,_20c6);},GetGroupSQLById:function(_20c7,_20c8,_20c9){var url=Sage.Groups.GroupManager.GMUrl+"GetGroupSQL&gid="+_20c7;Sage.Groups.GroupManager.GetFromServer(url,"json",_20c8,_20c9);},saveSelectionsAsNewGroup:function(){var _20ca=Sage.Utility.getSelectionInfo();if(!_20ca||_20ca.selectionCount===0){if(_20ca.recordCount<1){_2076.showInfo(Sage.Groups.GroupManager.resources.noRecordsInGroup,Sage.Groups.GroupManager.resources.noneSelectedTitle);}else{var _20cb=_2077.substitute(Sage.Groups.GroupManager.resources.noneSelectedPromptFmt,[_20ca.recordCount]);_2076.raiseQueryDialog(Sage.Groups.GroupManager.resources.noneSelectedTitle,_20cb,function(_20cc){if(_20cc===true){Sage.Groups.GroupManager.promptForName("");}},Sage.Groups.GroupManager.resources.yesCaption,Sage.Groups.GroupManager.resources.noCaption);}}else{Sage.Groups.GroupManager.promptForName("");}},promptForName:function(_20cd,_20ce){var _20cf=Sage.Utility.getSelectionInfo();var _20d0=(_20cf.selectionCount===0)?_20cf.recordCount:_20cf.selectionCount;var _20d1=_2077.substitute(Sage.Groups.GroupManager.resources.newGroupNamePrompt,[_20d0,_20cd||""]);_2076.raiseInputDialogExt({title:Sage.Groups.GroupManager.resources.newGroupTitle,query:_20d1,callbackFn:function(_20d2,name){if(_20d2===true){if(name===""){window.setTimeout(function(){Sage.Groups.GroupManager.promptForName(Sage.Groups.GroupManager.resources.newGroupRePrompt,name);},100);}else{if(name.match(/[\/\\:\*\?"<\>|\.'\r\n]/)!==null){window.setTimeout(function(){Sage.Groups.GroupManager.promptForName(Sage.Groups.GroupManager.resources.invalidCharMsg,name);},100);}else{Sage.Groups.GroupManager.saveNewGroupPost(name);}}}},yesText:Sage.Groups.GroupManager.resources.okCaption,noText:Sage.Groups.GroupManager.resources.cancelCaption,defaultValue:_20ce||"",closable:true});},saveNewGroupPost:function(name,_20d3){var _20d4=Sage.Utility.getSelectionInfo(),_20d5=_207a.getSDataService("system"),_20d6=new Sage.SData.Client.SDataSingleResourceRequest(_20d5),_20d7=Sage.Services.getService("ClientGroupContext").getContext(),_20d8=_20d7.CurrentFamily,_20d9=_20d7.CurrentGroupID,entry={},copy=false;_20d6.setResourceKind("groups");if(_20d4.selectionCount===0){copy=true;}entry={family:_20d8,name:name,adHocIds:_20d4.selectedIds};_20d6.create(entry,{success:function(entry){if(copy){Sage.Groups.GroupManager.copyFromGroup(_20d9,entry.$key);}else{Sage.Groups.GroupManager.newGroupCreated();}},failure:function(){},scope:this});},removeSelectionsFromGroup:function(){var _20da=Sage.Utility.getSelectionInfo();if(_20da.selectionCount===0){if(_20da.recordCount<1){_2076.showInfo(Sage.Groups.GroupManager.resources.noRecordsInGroup,Sage.Groups.GroupManager.resources.noneSelectedTitle);}else{var _20db=_2077.substitute(Sage.Groups.GroupManager.resources.noneSelectedRemovePromptFmt,[_20da.recordCount]);_2076.raiseQueryDialog(Sage.Groups.GroupManager.resources.noneSelectedTitle,_20db,function(_20dc){if(_20dc===true){Sage.Groups.GroupManager.removeConfirmed();}},Sage.Groups.GroupManager.resources.yesCaption,Sage.Groups.GroupManager.resources.noCaption);}}else{Sage.Groups.GroupManager.removeConfirmed();}},removeConfirmed:function(){var _20dd=Sage.Utility.getSelectionInfo(),_20de=Sage.Services.getService("ClientGroupContext").getContext(),_20df=_20de.CurrentFamily,name=_20de.CurrentName,_20e0=_20de.CurrentGroupID;Sage.Groups.GroupManager.removeIds(_20e0,name,_20df,_20dd.selectedIds,function(){Sage.Groups.GroupManager.refreshListView();},function(err){console.error(err);},this);},removeIds:function(_20e1,_20e2,_20e3,ids,_20e4,_20e5,scope){var _20e6=_207a.getSDataService("system"),_20e7=new Sage.SData.Client.SDataServiceOperationRequest(_20e6),entry,_20e8,_20e9=[];_20e7.setResourceKind("groups");if(ids&&ids.length>0){_20e7.setOperationName("removeAdHocIds");_20e9=ids;}else{_20e7.setOperationName("removeAllAdHocIds");_20e9.push(ids);}entry={"$name":"removeAdHocIds",request:{groupId:_20e1,groupName:_20e2,family:_20e3,adHocIds:ids}};_20e8=lang.hitch(this,function(){topic.publish("/group/adhoc/removed",{"groupId":_20e1,"groupName":_20e2,"family":_20e3,"ids":_20e9});if(_20e4){_20e4.call(arguments);}});_20e7.execute(entry,{success:_20e8,failure:_20e5,scope:scope||this});},addSelectionsToGroup:function(_20ea){var _20eb=Sage.Utility.getCurrentEntityId();if(_20eb!==""){Sage.Groups.GroupManager.postAddToGroup(_20ea,{selectedIds:[_20eb],selectionCount:1});}else{var _20ec=Sage.Utility.getSelectionInfo();if(_20ec.selectionCount===0){if(_20ec.recordCount<1){_2076.showInfo(Sage.Groups.GroupManager.resources.noRecordsInGroup,Sage.Groups.GroupManager.resources.noneSelectedTitle);}else{var _20ed=_2077.substitute(Sage.Groups.GroupManager.resources.noneSelectedPromptFmt,[_20ec.recordCount]);_2076.raiseQueryDialog(Sage.Groups.GroupManager.resources.noneSelectedTitle,_20ed,function(_20ee){if(_20ee===true){Sage.Groups.GroupManager.addConfirmed(_20ea);}},Sage.Groups.GroupManager.resources.yesCaption,Sage.Groups.GroupManager.resources.noCaption);}}else{Sage.Groups.GroupManager.addConfirmed(_20ea);}}},copyFromGroup:function(_20ef,_20f0){var _20f1=Sage.Utility.getSelectionInfo(),_20f2=_207a.getSDataService("system"),_20f3=new Sage.SData.Client.SDataServiceOperationRequest(_20f2),_20f4=Sage.Services.getService("ClientGroupContext").getContext(),_20f5=_20f4.CurrentFamily,name=_20f4.CurrentName,entry;_20f3.setResourceKind("groups");_20f3.setOperationName("addAdHocIdsFrom");entry={"$name":"addAdHocIdsFrom",request:{groupId:_20f0,groupName:name,family:_20f5,fromGroupId:_20ef}};_20f3.execute(entry,{success:function(){var _20f6=Sage.Services.getService("ClientGroupContext");if(_20f6){var _20f7=dijit.byId("titlePane");if(_20f7){_20f7.resetConfiguration();}_20f6.setCurrentGroup(_20f0);}},failure:function(){},scope:this});},addConfirmed:function(_20f8){var _20f9=Sage.Utility.getSelectionInfo();Sage.Groups.GroupManager.postAddToGroup(_20f8,_20f9);},postAddToGroup:function(_20fa,_20fb){var _20fc=_207a.getSDataService("system"),_20fd=new Sage.SData.Client.SDataServiceOperationRequest(_20fc),_20fe=Sage.Services.getService("ClientGroupContext").getContext(),_20ff=_20fe.CurrentFamily,_2100=_20fe.CurrentGroupID,entry,_2101="addAdHocIds";if(_20fb.selectionCount===0){Sage.Groups.GroupManager.copyFromGroup(_2100,_20fa);return;}_20fd.setResourceKind("groups");_20fd.setOperationName(_2101);entry={"$name":_2101,request:{groupId:_20fa,family:_20ff,adHocIds:_20fb.selectedIds}};_20fd.execute(entry,{success:function(){},failure:function(){},scope:this});},saveLookupAsGroup:function(obj,e,msg){if(typeof (msg)==="undefined"){msg=Sage.Groups.GroupManager.resources.groupNameText;}_2076.raiseInputDialogExt({title:Sage.Groups.GroupManager.resources.saveLookupDlgTitle,query:msg,callbackFn:function(_2102,name){if(_2102===true){if(name===""){window.setTimeout(function(){Sage.Groups.GroupManager.saveLookupAsGroup(Sage.Groups.GroupManager.resources.newGroupRePrompt);},100);}else{if(name.match(/\'|\"|\/|\\|\*|\:|\?|<|\>/)!==null){window.setTimeout(function(){Sage.Groups.GroupManager.promptForName(Sage.Groups.GroupManager.resources.invalidCharMsg);},100);}else{var _2103="slxdata.ashx/slx/crm/-/groups/adhoc?action=SaveLookupAsGroup&name="+encodeURIComponent(name);xhr.post({url:_2103,handleAs:"text",content:{},load:Sage.Groups.GroupManager.newGroupCreated,error:Sage.Groups.GroupManager.handleAjaxError});}}}},yesText:Sage.Groups.GroupManager.resources.okCaption,noText:Sage.Groups.GroupManager.resources.cancelCaption,defaultValue:"",closable:true});},handleAjaxError:function(_2104){if(typeof _2104!="undefined"){if(_2104.responseXML){var nodes=_2104.responseXML.getElementsByTagName("sdata:message");if(nodes.length>0){_2076.showError(nodes[0].text||nodes[0].textContent,"");}}else{_2076.alert("an unidentified exception has occured");}}},newGroupCreated:function(){Sage.Link.toListView();},refreshListView:function(){var _2105=dijit.byId("list");if(_2105){_2105.refreshList();}},emailSelectionsFromGroup:function(){var _2106,body,_2107,_2108;_2106="";body="";_2107=0;_2108="Email";email.writeEmailToGroupSelection(_2106,body,_2107,_2108);}};window.groupManager=Sage.Groups.GroupManager;return window.groupManager;});},"Sage/Utility/nls/Utility":function(){define("Sage/Utility/nls/Utility",["Sage/LanguageList","dojo/_base/lang"],function(_2109,lang){var nls={root:{dangerousValueWarn:"A potentially dangerous form value was detected.  Please avoid invalid character combinations."+"Example: \"&lt;script&gt;&lt;/script&gt;\" Also avoid invalid characters in filenames: \\ / : * ? \" &lt; &gt; | "}};return lang.mixin(_2109,nls);});},"Sage/MainView/IntegrationContract/SyncResultsHistory":function(){define("Sage/MainView/IntegrationContract/SyncResultsHistory",["dojo/_base/declare","dojo/i18n!./nls/SyncResultsHistory","dijit/_Widget","Sage/UI/SLXPreviewGrid","Sage/UI/Columns/DateTime","Sage/UI/DateTextBox","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang"],function(_210a,_210b,_210c,_210d,_210e){var _210f=_210a("Sage.MainView.IntegrationContract.SyncResultsHistory",[_210c],{workspace:"",tabId:"",grid:"",globalSyncId:"",constructor:function(){dojo.mixin(this,_210b);},loadSyncResults:function(){var self=this;var _2110={readOnly:true,rowsPerPage:20,slxContext:{workspace:this.workspace,tabId:this.tabId},columns:[{width:10,field:"Stamp",type:_210e,formatType:"date/time",name:this.grdSyncHistory_StampDate,sortable:true,style:"text-align:left;width:auto;",editable:false},{width:10,field:"HttpStatus",name:this.grdSyncHistory_Status,sortable:true,style:"text-align:left;width:auto;",editable:false},{width:10,field:"ErrorMessage",name:this.grdSyncHistory_SyncNote,sortable:true,style:"text-align:left;width:auto;",editable:false,hidden:function(){return true;}}],storeOptions:{resourceKind:"syncResults",include:[],select:[],},contextualCondition:function(){return dojo.string.substitute("$uuid eq '${0}'",[self.globalSyncId]);},tools:[]};var _2111=new _210d.Grid(_2110,this.placeHolder);_2111.startup();var _2112=dijit.byId("tabContent");_2112.resize();_2112.resize();this.grid=_2111;}});return _210f;});},"Sage/Utility/File/AttachmentPropertiesEditForm":function(){define("Sage/Utility/File/AttachmentPropertiesEditForm",["dijit/_Widget","Sage/_Templated","dojo/string","dijit/Dialog","Sage/UI/_DialogLoadingMixin","dojo/_base/lang","Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/MainView/BindingsManager","Sage/Utility/File","Sage/Utility","Sage/UI/Dialogs","dojox/layout/TableContainer","Sage/UI/Controls/DateTimePicker","dijit/form/TextBox","dijit/form/Button","dojox/form/Uploader","dojo/i18n","dojo/i18n!./nls/AttachmentPropertiesEditForm","dojo/_base/declare"],function(_2113,_2114,_2115,_2116,_2117,_2118,_2119,_211a,_211b,_211c,_211d,_211e,_211f,_2120,_2121,_2122,_2123,i18n,_2124,_2125){var _2126=_2125("Sage.Utility.File.AttachmentPropertiesEditForm",[_2113,_2114],{attachmentId:"",widgetsInTemplate:true,attachment:false,_bindingMgr:false,_store:false,_tempFile:false,_iframe:null,_showing:false,_iframeId:"attachmentRePostIFrame",_uploadUrlFmt:"slxdata.ashx/slx/system/-/attachments('${0}')/file",widgetTemplate:new Simplate(["<div>","<div dojoType=\"dijit.Dialog\" title=\"{%= $.editText %}\" dojoAttachPoint=\"_dialog\">","<iframe src=\"about:blank\" style=\"width:0px;height:0px;border-width:0px;\" name=\"{%= $._iframeId %}\" id=\"{%= $._iframeId %}\" dojoAttachPoint=\"_iframe\" dojoAttachEvent=\"onload:_iframeLoad\"></iframe>","<form method=\"post\" enctype=\"multipart/form-data\" action=\"{%= $._buildPostUrl() %}\" target=\"{%= $._iframeId %}\" dojoAttachPoint=\"_postForm\", class=\"attachment-properties-form\">","<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"160\" dojoAttachPoint=\"_urlContainer\">","<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.urlText %}\" id=\"{%= $.id %}_tb_Url\" dojoAttachPoint=\"tb_Url\" ></div>","</div>","<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"160\" dojoAttachPoint=\"_fileNameContainer\" >","<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.fileText %}\" id=\"{%= $.id %}_tb_File\" dojoAttachPoint=\"tb_File\" ></div>","</div>","<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"160\" >","<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.descriptionText %}\" name=\"description\" id=\"{%= $.id %}_tb_Description\" dojoAttachPoint=\"tb_Description\" maxlength=\"128\" ></div>","<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.sizeText %}\" id=\"{%= $.id %}_tb_size\" dojoAttachPoint=\"tb_size\" disabled=\"true\" shouldPublishMarkDirty=\"false\"></div>","<div dojoType=\"Sage.UI.Controls.DateTimePicker\" label=\"{%= $.attachDateText %}\" id=\"{%= $.id %}_dtp_AttachDate\" dojoAttachPoint=\"dtp_attachDate\" displayDate=\"true\" displayTime=\"true\" disabled=\"true\" shouldPublishMarkDirty=\"false\"></div>","<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.attachedByText %}\" id=\"{%= $.id %}_tb_attachedBy\" dojoAttachPoint=\"tb_attachedBy\" disabled=\"true\" shouldPublishMarkDirty=\"false\"></div>","</div>","<div class=\"general-dialog-actions\">","<input dojoType=\"dojox.form.Uploader\" multiple=\"false\" label=\"{%= $.uploadFileText %}\" type=\"file\" name=\"file\" dojoAttachEvent=\"onChange:_onNewFile\" dojoAttachPoint=\"btn_FileSelect\" class=\"uploadButton\" ></input>","</div>","<div class=\"general-dialog-actions\">","<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btnOK\" name=\"_btnOK\" dojoAttachPoint=\"_btnOK\" dojoAttachEvent=\"onClick:_okClick\" >{%= $.okText %}</div>","<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btnCancel\" name=\"_btnCancel\" dojoAttachPoint=\"_btnCancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>","</div>","<input type=\"hidden\" name=\"X-HTTP-Method-Override\" value=\"PUT\" />","</form>","</div>","</div>"]),postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.Utility.File","AttachmentPropertiesEditForm"));this.inherited(arguments);},show:function(){this._dialog.show();if(!this._dialog._standby){_2118.mixin(this._dialog,new _2117());}this._showing=true;if(!this.attachment){this._dialog.showLoading();}},hide:function(){this.attachmentId="";this.attachment=false;this._tempFile=false;if(this._dialog._standby){this._dialog.hideLoading();}this._dialog.hide();this._showing=false;},_buildPostUrl:function(){var _2127=[];_2127.push(/https/i.test(window.location.protocol)?"https":"http");_2127.push("://");_2127.push(window.location.hostname);if(window.location.port&&window.location.port!==80){_2127.push(":",window.location.port);}_2127.push("/");_2127.push(_211d.getVirtualDirectoryName());_2127.push("/slxdata.ashx/slx/system/-/attachments");if(this.attachment){_2127.push("(\""+this.attachment.$key+"\")");}_2127.push("/file");var url=_2127.join("");return url;},_iframeLoad:function(e){if(this._iframe.contentDocument&&this._iframe.contentDocument.URL.indexOf("attachments")>0){dojo.publish("/entity/attachment/update","");this.hide();}},_setAttachmentIdAttr:function(_2128){this.attachmentId=_2128;if(this.attachmentId&&this.attachmentId!==""){this._loadData();}},_getAttachmentIdAttr:function(){return this.attachmentId;},_loadData:function(){if(this._dialog._standby){this._dialog.showLoading();}if(!this._store){this._store=new _2119({include:["$descriptors"],resourceKind:"attachments",service:_211a.getSDataService("system")});}if(this.attachmentId!==""){this._store.clearCache();this._store.fetch({predicate:"\""+this.attachmentId+"\"",onComplete:this._receiveAttachment,beforeRequest:function(_2129){_2129.setQueryArg("_includeFile","false");},onError:this._requestFail,scope:this});}else{_211e.showError("No attachment to edit");}},_receiveAttachment:function(_212a){if(this._dialog._standby){this._dialog.hideLoading();}this.attachment=_212a;this._ensureBindings();this._bind();if(this.attachment.url){dojo.removeClass(this._urlContainer.domNode,"display-none");dojo.addClass(this.btn_FileSelect.domNode,"display-none");dojo.addClass(this._fileNameContainer.domNode,"display-none");}else{dojo.addClass(this._urlContainer.domNode,"display-none");dojo.removeClass(this.btn_FileSelect.domNode,"display-none");dojo.removeClass(this._fileNameContainer.domNode,"display-none");}},_ensureBindings:function(){if(!this._bindingMgr){this._bindingMgr=new _211b({defaultBinding:{boundEntity:this.attachment},items:[{boundWidget:this.tb_File,entityProperty:"fileName"},{boundWidget:this.tb_Description,entityProperty:"description"},{boundWidget:this.tb_size,entityProperty:"fileSize",_formatValueFromEntity:function(v){return Sage.Utility.File.formatFileSize(v);},twoWay:false},{boundWidget:this.dtp_attachDate,entityProperty:"attachDate",dataType:"date",twoWay:false},{boundWidget:this.tb_Url,entityProperty:"url"},{boundWidget:this.tb_attachedBy,entityProperty:"user.$descriptor",twoWay:false}]});}},_bind:function(){if(!this._bindingMgr.boundEntity||(this.attachment.$key!==this._bindingMgr.boundEntity.$key)){this._bindingMgr.setBoundEntity(this.attachment);}else{this._bindingMgr.bind();}},_onNewFile:function(){var files=this.btn_FileSelect._files;if(files&&files.length>0){this.tb_File.set("value",files[0].name);this._tempFile=files[0];}else{}this.tb_Description.focus();},_uploadNewFile:function(file){if(file){var url=_2115.substitute(this._uploadUrlFmt,[this.attachment.$key]);_211c.uploadFileHTML5(file,url,false,this._newFileUploaded,this._requestFail,this,true);}},_newFileUploaded:function(){this._tempFile=false;dojo.publish("/entity/attachment/update",this.attachment);this.hide();},_okClick:function(){if(this._dialog._standby){this._dialog.showLoading();}this._saveAndHide();},_saveAndHide:function(){if(this._dialog._standby){this._dialog.showLoading();}var self=this;if((!_211c.supportsHTML5File&&!Sage.gears)&&(this._tempFile)){this._store._okToCache=false;this._postForm.action=this._buildPostUrl();this._postForm.submit();window.setTimeout(function(){if(self._showing){dojo.publish("/entity/attachment/update","");self.hide();}},5000);return;}window.setTimeout(function(){self._saveAttachment();},10);},_saveAttachment:function(){this._store.save({scope:this,success:function(_212b){if(!this._tempFile){dojo.publish("/entity/attachment/update",_212b);this._dialog.hide();}},failure:this._requestFail});if(this._tempFile){this._uploadNewFile(this._tempFile);}},_cancelClick:function(){this.hide();},_requestFail:function(req){_211e.showError(this.requestFailedMsg);this.hide();}});return _2126;});},"Sage/QuickForms/Design/nls/ControlDesigner":function(){define("Sage/QuickForms/Design/nls/ControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_212c,lang){var nls={root:{displayNameText:""}};return lang.mixin(_212c,nls);});},"Sage/UI/Controls/nls/Address":function(){define("Sage/UI/Controls/nls/Address",["Sage/LanguageList","dojo/_base/lang"],function(_212d,lang){var nls={root:{address1Text:"Address 1:",address2Text:"Address 2:",address3Text:"Address 3:",cancelText:"Cancel",cityText:"City:",countryText:"Country:",countyText:"County:",descriptionText:"Description:",dialogTitle:"Address",isMailingText:"Shipping:",isPrimaryText:"Primary:",okText:"OK",postalCodeText:"Postal Code:",salutationText:"Attention:",stateText:"State:",imageEditToolTip:"Edit",imageMapQuestToolTip:"MapQuest"}};return lang.mixin(_212d,nls);});},"Sage/QuickForms/Design/Editors/FormUsagesPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/FormUsagesPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dojo/string","dojox/grid/EnhancedGrid","./_PropertyEditor","Sage/Services/_ServiceMixin","dojo/i18n!./nls/FormUsagesPropertyEditor"],function(_212e,lang,_212f,_2130,_2131,_2132,_2133){return _212e("Sage.QuickForms.Design.Editors.FormUsagesPropertyEditor",[_2130,_2131,_2132],{serviceMap:{"dataService":{type:"sdata",name:"metadata"}},titleText:"Usage",portalText:"Portal",viewText:"View",modesText:"Modes",descriptionText:"Description",selectionMode:"none",canSort:function(){return false;},constructor:function(){lang.mixin(this,_2133);},setup:function(){this.inherited(arguments);var name=this._designer.get("name")||"";var store=new Sage.Data.SDataStore({service:this.dataService,resourceKind:"formUsages",select:["showInMode","portalPage/portalAlias","portalPage/pagetitle","portalPage/description"],where:_212f.substitute("smartPartId eq \"${0}\"",[name])});this.setStore(store);this.set("structure",[{field:"portalPage.portalAlias",name:this.portalText,width:"auto"},{field:"portalPage.pagetitle",name:this.viewText,width:"auto"},{field:"showInMode",name:this.modesText,formatter:this.formatModes,width:"auto"},{field:"portalPage.description",name:this.descriptionText,width:"auto"}]);},formatModes:function(modes){if(!modes){return "";}return (lang.isArray(modes))?modes.join(", "):modes;}});});},"url:Sage/MainView/Options/templates/OptionsDialog.html":"<div>\r\n    <div data-dojo-type=\"dijit.Dialog\" title=\"{%= $._nlsResources.txtOptions %}\" dojoattachpoint=\"_dialog\" dojoattachevent=\"onCancel:_dialog_OnCancel\" style=\"width: 450px\">\r\n        <div data-dojo-type=\"dijit.form.Form\" dojoAttachPoint=\"frmOptions\" id=\"frmOptions\" >\r\n            <div style=\"overflow:auto\">\r\n                <div>\r\n                    <table cellspacing=\"10\">\r\n\r\n                        <tr>\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtColumns %}:</label>\r\n                            </td>\r\n                            <td>                                \r\n                                <div style=\"display:inline-block;\"><input type=\"text\" dojoType=\"Sage.UI.Controls.Numeric\" dojoAttachPoint=\"txtFieldCount\" id=\"txtFieldCount\" style=\"width:25px\" /></div>\r\n                                <label>{%= $._nlsResources.txtZero %}</label>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td colspan=\"2\">\r\n                                <div dojoType=\"dijit.form.CheckBox\" label=\"{%= $._nlsResources.txtHideOnSelection %}\" id=\"chkHideOnSelection\" name=\"chkHideOnSelection\" dojoAttachPoint=\"chkHideOnSelection\" ></div>\r\n                                <label class=\"checkbox-label\" for=\"chkHideOnSelection\">{%= $._nlsResources.txtHideOnSelection %}</label>\r\n                            </td>\r\n                        </tr>                        \r\n                        <tr>\r\n                            <td colspan=\"2\">\r\n                                <div dojoType=\"dijit.form.CheckBox\" label=\"{%= $._nlsResources.txtStayInDetailViewOnLookup %}\" id=\"chkStayInDetailView\" name=\"chkStayInDetailView\" dojoAttachPoint=\"chkStayInDetailView\" ></div>\r\n                                <label class=\"checkbox-label\" for=\"chkStayInDetailView\">{%= $._nlsResources.txtStayInDetailViewOnLookup %}</label>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td colspan=\"2\">\r\n                                <div dojoType=\"dijit.form.CheckBox\" label=\"{%= $._nlsResources.txtDisplayExtendedGroupListOnLookup %}\" id=\"chkShowOnLookup\" name=\"chkShowOnLookup\" dojoAttachPoint=\"chkShowOnLookup\" ></div>\r\n                                <label class=\"checkbox-label\" for=\"chkShowOnLookup\">{%= $._nlsResources.txtDisplayExtendedGroupListOnLookup %}</label>\r\n                            </td>\r\n                        </tr>\r\n                        \r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div align=\"right\" style=\"margin-top:10px\">                \r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdOk\" dojoAttachEvent=\"onClick:_cmdOk_OnClick\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdOk_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdCancel_Caption) %}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","Sage/QuickForms/Design/Editors/GenericAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/GenericAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/GenericAdvancedPropertyEditor"],function(_2134,lang,_2135,_2136,_2137,_2138,_2139,_213a,_213b,_213c,_213d){return _2134("Sage.QuickForms.Design.Editors.GenericAdvancedPropertyEditor",[_2135,_213b,_213a],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_controlType:null,_controlId:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",controlInfoText:"Control Info",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",constructor:function(){lang.mixin(this,_213d);},setup:function(){this.inherited(arguments);this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._visible.set("value",this._designer.get("visible"));},_onControlTypeChange:function(value){},_onControlIdChange:function(value){},_onVisibleChange:function(value){if(this.isSuspended()){return;}this._designer.set("visible",value);}});});},"Sage/MainView/JobMgr/nls/JobManagerGroupContextService":function(){define("Sage/MainView/JobMgr/nls/JobManagerGroupContextService",["Sage/LanguageList","dojo/_base/lang"],function(_213e,lang){var nls={root:{executionsTabDisplayName:"Executions",jobDefinitionsTabDisplayName:"Definitions",schedulesTabDisplayName:"Schedules"}};return lang.mixin(_213e,nls);});},"Sage/UI/ActivityList":function(){define("Sage/UI/ActivityList",["dojo/_base/declare","dojo/_base/lang","dijit/_Widget","Sage/Utility","Sage/Utility/Activity","Sage/UI/Columns/DateTime","Sage/UI/Columns/SlxLink","Sage/UI/SLXPreviewGrid","Sage/UI/SLXPreviewGrid/Grid","dijit/form/FilteringSelect","Sage/UI/SLXPreviewGrid/Filter/DateRange","Sage/UI/SLXPreviewGrid/Filter/ActivityDateRange","Sage/UI/SLXPreviewGrid/Filter/Text","dojo/data/ItemFileReadStore","dojo/string","Sage/UI/SLXPreviewGrid/Filter/_previewGridFilterMixin","Sage/UI/SLXPreviewGrid/Filter/Lookup","Sage/Data/SDataServiceRegistry","dojo/i18n!./nls/ActivityList"],function(_213f,lang,_2140,_2141,_2142,_2143,_2144,_2145,_2146,_2147,_2148,_2149,_214a,_214b,_214c,_214d,_214e,_214f,_2150){var _2151=_213f("Sage.UI.ActivityTypeFilterWidget",[_2140,_214d],{postCreate:function(){this.inherited(arguments);var div=document.createElement("div");this.domNode.appendChild(div);var _2152=[];dojo.forEach(["atAppointment","atPhoneCall","atToDo","atPersonal"],function(item){_2152.push({name:_2142.getActivityTypeName(item),id:item});});var store=new _214b({data:{items:_2152,label:"name",identifier:"id"}});this._select=new _2147({store:store,required:false},div);},getQuery:function(){var v=this._select.get("value");if(v){return "Type eq '"+v+"'";}return "";},reset:function(){this._select.set("value",null);},getState:function(){return {"value":this._select.get("value")};},applyState:function(state){if(state){this._select.set("value",state["value"]||"");}}});var _2153=_213f("Sage.UI.ActivityList",[_2140],{placeHolder:"",conditionFmt:"",parentRelationshipName:"",workspace:"",tabId:"",connections:[],constructor:function(_2154){this.connections=[];},startup:function(){var _2155=[{id:"SchedulePhoneCall",imageClass:"icon_Schedule_Meeting_16x16",handler:function(){Sage.Link.scheduleMeeting();},alternateText:_2150.addMeetingText},{id:"ScheduleMeeting",imageClass:"icon_Schedule_Call_16x16",handler:function(){Sage.Link.schedulePhoneCall();},alternateText:_2150.addPhoneCallText},{id:"ScheduleToDo",imageClass:"icon_Schdedule_To_Do_16x16",handler:function(){Sage.Link.scheduleToDo();},alternateText:_2150.addToDoText},{id:this.id+"_Help",imageClass:"icon_Help_16x16",handler:function(){_2141.openHelp("activitiestab");},alternateText:_2150.helpText}];var _2156=[{field:"$key",editable:false,hidden:true,id:"id",formatter:function(value,_2157,cel){var _2158=[cel.grid.id,"-row",_2157].join("");var id=(Sage.Utility.getModeId()==="insert")?_2158:value;var _2159=["<div id=",id," >",id,"</ div>"].join("");return _2159;}},{field:"$key",name:_2150.completeText,sortable:false,width:"90px",type:_2142.activityCompleteCell},{field:"Type",name:_2150.typeText,type:_2142.activityTypeCell,width:"90px",filterConfig:{widgetType:_2151}},{field:"StartDate",name:_2150.startDateText,type:_2143,useFiveSecondRuleToDetermineTimeless:true,getTimeless:true,width:"100px",filterConfig:{widgetType:_2148,label:_2150.dateRangeText}},{field:"Duration",name:_2150.durationText,type:_2142.activityDurationCell,width:"40px"},{field:"Leader",name:_2150.leaderText,type:_2142.activityLeaderCell,width:"90px",filterConfig:{widgetType:_214e,lookupStructure:[{cells:[{name:_2150.firstNameText||"First Name",field:"UserInfo.FirstName",sortable:true,width:"200px",editable:false,propertyType:"System.string",excludeFromFilters:false,defaultValue:""},{name:_2150.lastNameText||"Last Name",field:"UserInfo.LastName",sortable:true,width:"200px",editable:false,propertyType:"System.string",excludeFromFilters:false,defaultValue:""},{name:_2150.typeText||"Type",field:"Type",sortable:true,width:"100px",editable:false,propertyType:"System.string",excludeFromFilters:false,defaultValue:""}]}],lookupGridOptions:{contextualCondition:function(){var where="";where="((Type ne 'Template') and (Type ne 'Retired'))";return where;},contextualShow:"",selectionMode:"single"},lookupStoreOptions:{resourceKind:"users",sort:[{attribute:"UserInfo.FirstName"}]},getQuery:function(){var obj=this._lup.get("selectedObject");if(obj&&obj["$key"]){return "Leader eq '"+obj["$key"].substr(0,12)+"'";}return "";}}}];this._addEntitySpecificColumns(_2156);_2156.push({field:"Description",name:_2150.descriptionText,width:"200px",filterConfig:{widgetType:_214a}});_2156.push({field:"Category",name:_2150.categoryText,width:"75px"});var _215a=function(id,obj){var _215b=id;var _215c=false;if(obj&&obj["$descriptor"]=="Sage.SalesLogix.Activity.Entities.ActivityAttendee"&&obj["Activity"]){_215b=obj["Activity"]["$key"];_215c=obj["Activity"]["Recurring"];}else{if(obj){_215c=obj["Recurring"];}}Sage.Link.editActivity(_215b,_215c);};var _215d=this.parentRelationshipName;var _215e={tools:_2155,columns:_2156,previewField:"LongNotes",readOnly:true,rowsPerPage:20,storeOptions:{select:["ContactId","OpportunityId","AccountId","LeadId","Description","Duration","Recurring","Type","Category","Timeless"],include:["Leader","$descriptors"],resourceKind:"activities",sort:[{attribute:"StartDate"}],service:_214f.getSDataService("system")},slxContext:{workspace:this.workspace,tabId:this.tabId},contextualCondition:function(){var _215f=_215d;var fmt="(Type eq 'atAppointment' or Type eq 'atPhoneCall' or Type eq 'atToDo' or Type eq 'atPersonal') and ${0} eq '${1}'";if(_215d==="ContactId"||_215d==="LeadId"){_215f="ActivityAttendees.EntityId";}else{if(_215d==="AccountId"){_215f=_215d;}}return _214c.substitute(fmt,[_215f,_2141.getCurrentEntityId(),_215d]);},dblClickAction:_215a};this.onBeforeCreateGrid(_215e);var grid=new _2145.Grid(_215e,this.placeHolder);grid._grid.store.beforeRequest=function(req){req.setQueryArg("_expandRecurrences","false");};grid.startup();var _2160=dijit.byId("tabContent");_2160.resize();_2160.resize();this.connections.push(dojo.subscribe("/entity/activity/create",this,this.onActivityChanges));this.connections.push(dojo.subscribe("/entity/activity/change",this,this.onActivityChanges));this.connections.push(dojo.subscribe("/entity/activity/delete",this,this.onActivityChanges));dojo.connect(grid,"destroy",this,this.destroy);this._grid=grid;},onActivityChanges:function(_2161){this._grid.refresh();},destroy:function(){for(var i=0;i<this.connections.length;i++){dojo.unsubscribe(this.connections.pop());}this.inherited(arguments);},_addEntitySpecificColumns:function(_2162){var _2163=Sage.Services.getService("ClientEntityContext").getContext().EntityType;switch(_2163){case "Sage.Entity.Interfaces.IAccount":case "Sage.Entity.Interfaces.IOpportunity":_2162.push({field:"ContactName",name:_2150.contactText,width:"100px",type:_2144,idField:"ContactId",pageName:"Contact"});break;case "Sage.Entity.Interfaces.IContact":_2162.push({field:"OpportunityName",name:_2150.opportunityText,width:"100px",type:_2144,idField:"OpportunityId",pageName:"Opportunity"});break;}},onBeforeCreateGrid:function(_2164){}});return _2153;});},"Sage/MainView/ActivityMgr/nls/BaseListPanelConfig":function(){define("Sage/MainView/ActivityMgr/nls/BaseListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_2165,lang){var nls={root:{titleFmtString:"${0}"}};return lang.mixin(_2165,nls);});},"Sage/QuickForms/Design/nls/OwnerControlDesigner":function(){define("Sage/QuickForms/Design/nls/OwnerControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_2166,lang){var nls={root:{displayNameText:"Owner"}};return lang.mixin(_2166,nls);});},"Sage/Utility/SDataLookup":function(){define("Sage/Utility/SDataLookup",[],function(){Sage.namespace("Utility.SDataLookup");dojo.mixin(Sage.Utility.SDataLookup,{setFormatType:function(opts){switch(opts.propertyFormat){case "Phone":return Sage.UI.Columns.Phone;default:return "";}},childObjectFormatter:function(opts){var _2167=opts.grid.grid._by_idx[opts.rowIdx].item,res,i;if(!_2167||!_2167[opts.childentity]||_2167[opts.childentity].$resources.length===0){return dojo.string.substitute("<div style=\"text-indent:16px\">${0}</div>",[opts.value||"&nbsp;"]);}opts.value=opts.value||"&nbsp;";res=[];if(opts.includeButton){res.push(dojo.string.substitute(["<input type=button id=\"SOPshow${1}\" style=\"height:16px;width:14px;border:0;background:transparent;vertical-align:top\" onclick=\"dojo.query('.SOProw${1}').style({display:''});dojo.query('#SOPshow${1}').style({display:'none'});dojo.query('#SOPhide${1}').style({display:''})\" value=\"+\">","<input type=button id=\"SOPhide${1}\" style=\"display:none;height:16px;width:14px;border:0;background:transparent;vertical-align:top\" onclick=\"dojo.query('.SOProw${1}').style({display:'none'});dojo.query('#SOPshow${1}').style({display:''});dojo.query('#SOPhide${1}').style({display:'none'})\" value=\"-\"> "].join(""),[opts.value,opts.rowIdx]));}res.push(dojo.string.substitute("${0}<div class=SOProw${1} style=\"display:none\">",[opts.value,opts.rowIdx]));for(i=0;i<_2167[opts.childentity].$resources.length;i++){res.push(dojo.string.substitute("<div style=\"text-indent:2em\">${0}</div>",[_2167[opts.childentity].$resources[i][opts.fieldName]||"&nbsp;"]));}res.push("</div>");return res.join("");}});});},"Sage/UI/Columns/Phone":function(){define("Sage/UI/Columns/Phone",["Sage/Format","Sage/UI/Controls/Phone","Sage/UI/Columns/Cell","dojo/_base/declare"],function(_2168,Phone,Cell,_2169){var _216a=_2169("Sage.UI.Columns.Phone",Cell,{defaultValue:"",widgetClass:Phone,getWidgetProps:function(_216b){var _216c=this._getControlId();return dojo.mixin({},this.widgetProps||{},{id:_216c,value:_216b,width:this.width,maxLength:this.maxLength,style:this.style,hotKey:this.hotKey,tabIndex:this.tabIndex,field:this.field});},formatter:_2168.phone,styles:"text-align: left;",getValue:function(index){var _216d=this.widget.get("value");_216d=this.widget.unformatNumber(_216d);if((typeof _216d==="undefined")||(_216d==="")){_216d=this.defaultValue;}if(this.widget&&this.widget.focusNode.state==="Error"){return this.widget.focusNode._resetValue;}return _216d;}});return _216a;});},"Sage/TaskPane/nls/JobManagerTasksTasklet":function(){define("Sage/TaskPane/nls/JobManagerTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_216e,lang){var nls={root:{taskRunJob_Caption:"Create Schedule",taskEditTrigger_Caption:"Edit Schedule",taskCancelJob_Caption:"Cancel Executing Job",taskDeleteScheduledJob_Caption:"Delete Schedule"}};return lang.mixin(_216e,nls);});},"Sage/MailMerge/Helper":function(){define("Sage/MailMerge/Helper",["Sage/UI/Dialogs","dijit/_Widget","dojo/i18n","dojo/string","dojo/_base/lang","dojo/i18n!./nls/Helper","dojo/i18n!./nls/Service","dojo/i18n!./nls/Lookup"],function(_216f,_2170,i18n,_2171,dLang,nls){Sage.namespace("MailMerge.Helper");dojo.mixin(Sage.MailMerge.Helper,{desktopErrorsStore:null,infoStore:null,DesktopErrors:function(){if(this.desktopErrorsStore!=null){return this.desktopErrorsStore;}else{var sPath=Sage.MailMerge.Loader.prototype.GetClientPath();if(sPath!=null){var sUrl=_2171.substitute("${0}/SLXMailMergeClient.ashx?method=GetDesktopErrors",[sPath]);var _2172=this.GetMailMergeLoader().DecodeMailMergeJsonFromUrl(sUrl);if(_2172!=null){this.desktopErrorsStore=_2172;return this.desktopErrorsStore;}}}return null;},ExecuteWriteAction:function(_2173,param){try{require(["Sage/MailMerge/Service"],function(){var _2174=Sage.MailMerge.Helper.GetMailMergeService();if(_2174){switch(_2173){case WriteAction.waWriteAddressLabels:_2174.WriteAddressLabels();break;case WriteAction.waWriteEmail:_2174.WriteEmail();break;case WriteAction.waWriteEmailUsing:_2174.WriteEmailUsing(param);break;case WriteAction.waWriteEmailUsingMore:_2174.WriteEmailUsingMoreTemplates();break;case WriteAction.waWriteFaxUsing:_2174.WriteFaxUsing(param);break;case WriteAction.waWriteFaxUsingMore:_2174.WriteFaxUsingMoreTemplates();break;case WriteAction.waWriteLetterUsing:_2174.WriteLetterUsing(param);break;case WriteAction.waWriteLetterUsingMore:_2174.WriteLetterUsingMoreTemplates();break;case WriteAction.waWriteMailMerge:_2174.WriteMailMerge();break;case WriteAction.waWriteTemplates:_2174.WriteTemplates(true);break;}}});}catch(err){var _2175="";if(this.IsSageGearsObjectError(err)){_2175=this.DesktopErrors().SageGearsObjectError;}var _2176=(dojo.isFunction(err.toMessage))?err.toMessage(_2175,this.MailMergeInfoStore().ShowJavaScriptStack):err.message;_216f.showError(_2171.substitute(this.DesktopErrors().WriteActionError,[_2176]));}},GetDesktopService:function(_2177){return this.GetMailMergeService(_2177);},GetMailMergeLoader:function(){if(Sage.Services.hasService("MailMergeServiceLoader")){return Sage.Services.getService("MailMergeServiceLoader");}return null;},GetMailMergeService:function(_2178){var _2179=true;if(typeof _2178==="boolean"){_2179=_2178;}if(Sage&&Sage.Services&&Sage.gears&&Sage.gears.factory&&Sage.Services.hasService("MailMergeService")){return Sage.Services.getService("MailMergeService");}else{if(_2179){_216f.showError(_2171.substitute("${0} ${1}",[this.DesktopErrors().MailMergeServiceLoad,this.DesktopErrors().SageGearsObjectError]));}}return null;},IsSageGearsObjectError:function(err){if(err){var _217a="The specified class name cannot be mapped to a COM object";var _217b=this.DesktopErrors().SageGearsClassError;if((dojo.isIE&&(err.number==-2146827287))||(err.message.indexOf(_217a)!=-1)||(err.message.indexOf(_217b)!=-1)){return true;}}return false;},MailMergeInfoStore:function(){if(this.infoStore!=null){return this.infoStore;}else{var sPath=Sage.MailMerge.Loader.prototype.GetClientPath();if(sPath!=null){var sUrl=_2171.substitute("${0}/SLXMailMergeClient.ashx?method=GetInfoStore",[sPath]);var _217c=this.GetMailMergeLoader().DecodeMailMergeJsonFromUrl(sUrl);if(_217c!=null){this.infoStore=_217c;return this.infoStore;}}}return null;}});dLang.mixin(Sage.MailMerge.Helper,nls);window.WriteAction={waWriteAddressLabels:0,waWriteEmail:1,waWriteEmailUsing:2,waWriteEmailUsingMore:3,waWriteFaxUsing:4,waWriteFaxUsingMore:5,waWriteLetterUsing:6,waWriteLetterUsingMore:7,waWriteMailMerge:8,waWriteTemplates:9};return Sage.MailMerge.Helper;});},"Sage/TaskPane/UserTasklet":function(){define("Sage/TaskPane/UserTasklet",["dojo/i18n!./nls/UserTasklet","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneContent","Sage/Utility","dojo/_base/declare","Sage/TaskPane/User/ContactUserAssociationEditor","Sage/Data/SingleEntrySDataStore","Sage/UI/Dialogs"],function(_217d,_217e,_217f,_2180,_2181,_2182,_2183,_2184){var _2185=_2181("Sage.TaskPane.UserTasklet",[_217e,_217f],{addToRoleTitle:"Add to Role",resetUsersTitle:"Reset Users",taskItems:[],constructor:function(){dojo.mixin(this,_217d);this.taskItems=[{taskId:"AddToRole",type:"Link",displayName:this.addToRoleTitle,clientAction:"userTaskletActions.addUsersToRole();",securedAction:"Entities/User/Add"},{taskId:"ResetUsers",type:"Link",displayName:this.resetUsersTitle,clientAction:"userTaskletActions.resetUsers();",securedAction:"Entities/User/Add"},{taskId:"Associate Contact",type:"Link",displayName:this.associateContactTitle,clientAction:"userTaskletActions.associateContact();",securedAction:"Entities/User/AssociateUser"},{taskId:"Disassociate Contact",type:"Link",displayName:this.disAssociateContactTitle,clientAction:"userTaskletActions.disAssociateContact();",securedAction:"Entities/User/DisAssociateUser"}];},resetUsers:function(){if(_2180.getModeId()==="detail"){this.onResetUsersClick();}else{this.prepareSelectedRecords(this.resetUsersAction(this));}},addUsersToRole:function(){if(_2180.getModeId()==="detail"){this.onAddUserClick();}else{this.prepareSelectedRecords(this.actionItem(this));}},actionItem:function(self){return function(){self.onAddUserClick();};},resetUsersAction:function(self){return function(){self.onResetUsersClick();};},onAddUserClick:function(){var _2186=dojo.byId([this.clientId,"_tskAddUserToRole"].join(""));if(_2186){_2186.click();}},onResetUsersClick:function(){var _2187=dojo.byId([this.clientId,"_tskResetUsers"].join(""));if(_2187){_2187.click();}},associateContact:function(_2188){var self=this;this._selectionInfo=this.getSelectionInfo();if(this._selectionInfo.selectionCount===0){Sage.UI.Dialogs.showError(this.singleSelectionErrorMessage);}else{if(this._selectionInfo.selectionCount>1){Sage.UI.Dialogs.showError(this.multipleSelectionErrorMessage);}else{var _2189={"selectionInfo":this._selectionInfo,"action":_2188};this._setupStore();this._contactUserStore.fetch({predicate:"UserId eq '"+this._selectionInfo.selectedIds[0]+"'",onComplete:function(_218a){Sage.UI.Dialogs.showError(self.associationExistsMessage);},onError:function(){self.prepareSelectedRecords(this.associateContactActionItem(_2189));},scope:this});}}},_setupStore:function(){if(!this._contactUserStore){this._contactUserStore=new _2183({include:[],resourceKind:"contactUsers",service:Sage.Data.SDataServiceRegistry.getSDataService("dynamic")});}},associateContactActionItem:function(_218b,_218c){return function(){var _218d=dijit.byId("dlgContactUserAssociation");if(!_218d){_218d=new _2182(_218b,_218c);}else{_218d.setSelectionInfo(_218b,_218c);}_218d.show();};},disAssociateContact:function(){this._selectionInfo=this.getSelectionInfo();if(this._selectionInfo.selectionCount===0){Sage.UI.Dialogs.showError(this.noSelectionErrorMessage);}else{this.prepareSelectedRecords(this.confirmDisassociate(this));}},confirmDisassociate:function(self){return function(){var _218e=self.confirmDisAssociate;if(self._selectionInfo.selectionCount>1){_218e=self.confirmDisAssociateMultiple;}_2184.raiseQueryDialog(self.disAssociateDialogTitle,dojo.string.substitute(_218e,[self._selectionInfo.selectionCount]),function(_218f){self.disAssociateActionItem(_218f,self);},self.okButtonText,self.cancelButtonText);};},disAssociateActionItem:function(_2190,self){if(_2190){self.getSelectionInfo();var _2191=this.selectionInfo.selectedIds.join();this._removeContactUsers(_2191,self._successfulContactUserDelete,self);}},_removeContactUsers:function(_2192,_2193,scope){var _2194=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");var _2195=new Sage.SData.Client.SDataServiceOperationRequest(_2194).setResourceKind("ContactUsers").setOperationName("RemoveContactUserAssociations");var entry={"$name":"RemoveContactUserAssociations","request":{"ContactUserId":null,"contactIds":null,"userIds":_2192}};_2195.execute(entry,{success:function(){},failure:function(){},scope:scope||this});}});return _2185;});},"url:Sage/UI/Controls/templates/MultiSelectPickList.html":"<div>\r\n    <input id=\"${id}-TextBox\" data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"textNode\" data-dojo-attach-event=\"onBlur: _onTextBlur\" tabindex=\"${tabIndex}\"/>\r\n    <div id=\"${id}-Button\" data-dojo-type=\"dijit.form.DropDownButton\" data-dojo-attach-point=\"dropDownButtonNode\">\r\n        <span></span>\r\n        <div class=\"multiSelectPickListDialog\" id=\"${id}-ToolTipDialog\" data-dojo-type=\"dijit.TooltipDialog\" data-dojo-attach-point=\"tooltipDialogNode\" data-dojo-attach-event=\"onClose: _onTooltipClose, onShow: _onTooltipShow\">\r\n            <div data-dojo-attach-point=\"tooltipContainer\" style=\"height:200px; width: 200px; overflow-y:auto;\">\r\n            \r\n            </div>\r\n            \r\n            <div style=\"width: 100%; text-align:right\">\r\n                <p>\r\n                    <button id=\"${id}-OKButton\" data-dojo-type=\"dijit.form.Button\" type=\"submit\" tabindex=\"${tabIndex}\">${okText}</button>\r\n                <p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","Sage/QuickForms/Design/UrlControlDesigner":function(){define("Sage/QuickForms/Design/UrlControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","./TextBoxControlDesigner","./Editors/LayoutPropertyEditor","./Editors/TextBoxBasicPropertyEditor","./Editors/TextBoxAdvancedPropertyEditor","dojo/i18n!./nls/UrlControlDesigner"],function(_2196,array,lang,_2197,_2198,_2199,_219a,_219b){return _2196("Sage.QuickForms.Design.UrlControlDesigner",[_2197],{designSupport:{visible:true},editors:[_2199,_219a,_2198],widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %} design-url\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","<div class=\"design-url-icon\"></div>","</div>","</div>"]),helpTopicName:"URL_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXUrl, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Url",constructor:function(){lang.mixin(this,_219b);}});});},"url:Sage/MainView/ReportMgr/Crystal/templates/DateParameterEditor.html":"<div>\r\n    <div data-dojo-attach-point=\"promptParameterContainer\" class=\"crystalParameterContainer\">\r\n        <div data-dojo-attach-point=\"paramsHeaderContainer\"></div>\r\n        <div data-dojo-attach-point=\"divMinMaxMessage\">\r\n            <span data-dojo-attach-point=\"spanMinMaxMessage\">&nbsp;</span>\r\n        </div>\r\n        <div>\r\n            <table data-dojo-attach-point=\"tblRange\" style=\"width:100%\">\r\n                <colgroup>\r\n                    <col style=\"width:1%\" />\r\n                    <col style=\"width:44%\" />\r\n                    <col style=\"width:10%\" />\r\n                    <col style=\"width:1%\" />\r\n                    <col style=\"width:44%\" />\r\n                </colgroup>\r\n                <tr>\r\n                    <td colspan=\"3\">\r\n                        <label data-dojo-attach-point=\"lblDiscreteStartRange\" style=\"font-weight:bold\">{%= Sage.Utility.htmlEncode($.txtStartOfRange) %}</label>\r\n                    </td>\r\n                    <td colspan=\"2\" data-dojo-attach-point=\"colEndDefaultValuesLabel\">\r\n                        <label style=\"font-weight:bold\">{%= Sage.Utility.htmlEncode($.txtEndOfRange) %}</label>\r\n                    </td>\r\n                </tr>\r\n                <tr data-dojo-attach-point=\"rowRangeListItems\">\r\n                    <td></td>\r\n                    <td data-dojo-attach-point=\"colStartDefaultValues\">\r\n                        <div>\r\n                            <select dojotype=\"dijit.form.FilteringSelect\" data-dojo-attach-point=\"cboDiscreteStartRange\" style=\"width:90%\"></select>\r\n                            <span data-dojo-attach-point=\"lstErrorDiscreteStartRange\" class=\"display-none\" style=\"color:red\">*</span>\r\n                        </div>\r\n                    </td>\r\n                    <td colspan=\"2\"></td>\r\n                    <td data-dojo-attach-point=\"colEndDefaultValues\">\r\n                        <div>\r\n                            <select dojotype=\"dijit.form.FilteringSelect\" data-dojo-attach-point=\"cboEndRangeValues\" style=\"width:90%\"></select>\r\n                            <span data-dojo-attach-point=\"lstErrorEndRange\" class=\"display-none\" style=\"color:red\">*</span>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n                <tr data-dojo-attach-point=\"rowStartEndOrValue\">\r\n                    <td colspan=\"3\">\r\n                        <label style=\"font-weight:bold\">{%= Sage.Utility.htmlEncode($.lblOrValue_Caption) %}</label><br />\r\n                    </td>\r\n                    <td colspan=\"2\" data-dojo-attach-point=\"rowToValueLabel\">\r\n                        <label style=\"font-weight:bold\">{%= Sage.Utility.htmlEncode($.lblOrValue_Caption) %}</label><br />\r\n                    </td>\r\n                </tr>\r\n                <tr data-dojo-attach-point=\"rowCustomRangeValues\">\r\n                    <td></td>\r\n                    <td data-dojo-attach-point=\"rowDiscreteFromRange\">\r\n                        <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" data-dojo-attach-point=\"dtDiscreteFromRange\" displayDate=\"true\"\r\n                            displayTime=\"false\" required=\"true\" style=\"width:90%\">\r\n                        </div>\r\n                        <span data-dojo-attach-point=\"errorDiscreteValue\" class=\"display-none\" style=\"color:red\">*</span>\r\n                    </td>\r\n                    <td colspan=\"2\"></td>\r\n                    <td data-dojo-attach-point=\"rowToRange\">\r\n                        <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" data-dojo-attach-point=\"dtToRange\" displayDate=\"true\"\r\n                            displayTime=\"false\" required=\"true\" style=\"width:90%\">\r\n                        </div>\r\n                        <span data-dojo-attach-point=\"errorEndRange\" class=\"display-none\" style=\"color:red\">*</span>\r\n                    </td>\r\n                </tr>\r\n                <tr data-dojo-attach-point=\"rowIncludeRangeOptions\">\r\n                    <td></td>\r\n                    <td colspan=\"2\">\r\n                        <input data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"chkIncludeFromRange\" />\r\n                        <label>{%= Sage.Utility.htmlEncode($.txtIncludeThisValue) %}</label>\r\n                    </td>\r\n                    <td></td>\r\n                    <td>\r\n                        <input data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"chkIncludeToRange\" />\r\n                        <label>{%= Sage.Utility.htmlEncode($.txtIncludeThisValue) %}</label>\r\n                    </td>\r\n                </tr>\r\n                <tr data-dojo-attach-point=\"rowUpperLowerRangeOptions\">\r\n                    <td></td>\r\n                    <td colspan=\"2\">\r\n                        <input data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"chkNoLowerValue\" dojoAttachEvent=\"onChange:_chkNoLowerValue_OnCheck\" />\r\n                        <label>{%= Sage.Utility.htmlEncode($.txtNoLowerValue) %}</label>\r\n                    </td>\r\n                    <td></td>\r\n                    <td>\r\n                        <input data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"chkNoUpperValue\" dojoAttachEvent=\"onChange:_chkNoUpperValue_OnCheck\" />\r\n                        <label>{%= Sage.Utility.htmlEncode($.txtNoUpperValue) %}</label>\r\n                    </td>\r\n                </tr>\r\n                <tr data-dojo-attach-point=\"rowRangeValidationError\" class=\"display-none\">\r\n                    <td colspan=\"4\">\r\n                        <div>\r\n                            <label data-dojo-attach-point=\"lblRangeValidationError\" style=\"color:red\">{%= Sage.Utility.htmlEncode($.txtPleaseSpecifyValue) %}</label>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n                <tr data-dojo-attach-point=\"rowAddRangeParameter\">\r\n                    <td colspan=\"4\"></td>\r\n                    <td>\r\n                        <div style=\"padding:5px\">\r\n                            <div data-dojo-type=\"dijit.form.Button\" data-dojo-attach-point=\"cmdAddRange\" dojoAttachEvent=\"onClick:_cmdAddRange_OnClick\"\r\n                                style=\"float:right\" >{%= Sage.Utility.htmlEncode($.txtAddRange) %}\r\n                            </div>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n            <table style=\"width:100%\">\r\n                <colgroup>\r\n                    <col style=\"width:1%\" />\r\n                    <col style=\"width:44%\" />\r\n                    <col style=\"width:10%\" />\r\n                    <col style=\"width:44%\" />\r\n                </colgroup>\r\n                <tr>\r\n                    <td colspan=\"4\">\r\n                        <div data-dojo-attach-point=\"transferBoxContainer\" style=\"height:auto\"></div>\r\n                    </td>\r\n                </tr>\r\n                <tr data-dojo-attach-point=\"rowCustomValues\">\r\n                    <td></td>\r\n                    <td>\r\n                        <div>\r\n                            <label>{%= Sage.Utility.htmlEncode($.lblEnterValue_Caption) %}</label><br />\r\n                            <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" data-dojo-attach-point=\"dtCustomValue\" displayDate=\"true\"\r\n                                displayTime=\"false\" required=\"true\" style=\"width:90%\">\r\n                            </div>\r\n                            <span data-dojo-attach-point=\"errorCustomDate\" class=\"display-none\" style=\"color:red\">*</span>\r\n                        </div>\r\n                    </td>\r\n                    <td>\r\n                        <br />\r\n                        <div data-dojo-type=\"dijit.form.Button\" data-dojo-attach-point=\"cmdAddCustom\" dojoAttachEvent=\"onClick:_cmdAddCustom_OnClick\" >{%= Sage.Utility.htmlEncode(\">\") %}</div>\r\n                    </td>\r\n                    <td></td>\r\n                </tr>\r\n                <tr>\r\n                    <td></td>\r\n                    <td colspan=\"3\">\r\n                        <div data-dojo-attach-point=\"divValidationMessage\" style=\"color:red\">\r\n                            <span data-dojo-attach-point=\"spanValidationMessage\">&nbsp;</span>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <div>\r\n        <br />\r\n    </div>\r\n</div>","Sage/UI/MenuBar":function(){define("Sage/UI/MenuBar",["dijit/MenuBar","Sage/UI/MenuItem","Sage/UI/PopupMenuBarItem","Sage/UI/PopupMenuItem","dijit/Menu","Sage/UI/MenuBarItem","dijit/MenuSeparator","dojo/_base/declare"],function(_219c,_219d,_219e,_219f,_21a0,_21a1,_21a2,_21a3){var _21a4=_21a3("Sage.UI.MenuBar",[_219c],{postMixInProperties:function(){this.store=Sage.UI.DataStore.MenuBar||{};this.inherited(arguments);},postCreate:function(){this.inherited(arguments);var len=this.store.items?this.store.items.length:0;for(var i=0;i<len;i++){var _21a5=this.store.items[i];var mid=(_21a5.id!=="")?_21a5.id:this.id+"_"+i;var _21a6={label:_21a5.text||"...",icon:_21a5.img||this._blankGif,id:mid,title:_21a5.tooltip||_21a5.text||"",ref:_21a5.href||_21a5.navurl||"",imageClass:_21a5.imageClass||""};if(_21a5.items&&_21a5.items.length>0){var menu=new _21a0({});this._addItemsToMenu(_21a5.items,menu,mid);_21a6["popup"]=menu;this.addChild(new _219e(_21a6));}else{_21a6["onClick"]=dojo.hitch(_21a6,function(){if(this.ref!==""){window.location.href=this.ref;}});this.addChild(new _21a1(_21a6));}}},_addItemsToMenu:function(items,menu,_21a7){_21a7=_21a7||"";var len=items.length;for(var i=0;i<len;i++){var item=items[i];if(item.isspacer||item.text==="-"){menu.addChild(new _21a2({}));}else{var _21a8={label:item.text||"...",icon:item.img||this._blankGif,title:item.tooltip||item.text||"",ref:item.href||"",imageClass:item.imageClass||""};if(item.id!==""){_21a8["id"]=_21a7+"_"+item.id;}if(item.href!==""){_21a8["onClick"]=function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}};}if(item.submenu.length>0){var popup=new _21a0({});this._addItemsToMenu(item.submenu,popup,item.id||"");_21a8["popup"]=popup;menu.addChild(new _219f(_21a8));}else{menu.addChild(new _219d(_21a8));}}}}});return _21a4;});},"Sage/MainView/main":function(){define("Sage/MainView/main",["Sage/MainView/ActivityManager","Sage/MainView/SecurityManager","Sage/MainView/ActivityMgr/ActivityCalendar","Sage/MainView/BindingsManager","Sage/MainView/Contact/ContactSearchForDuplicates","Sage/MainView/Contact/ContactUserAssociationEditor","Sage/MainView/IntegrationContract/MatchingOptionsConfig","Sage/MainView/IntegrationContract/AdvancedSearchOptions","Sage/MainView/IntegrationContract/InvoiceRTDV","Sage/MainView/IntegrationContract/SalesOrderRTDV","Sage/MainView/IntegrationContract/SalesQuoteRTDV","Sage/MainView/IntegrationContract/CustomerPaymentsRTDV","Sage/MainView/JobManager","Sage/MainView/ReportManager","Sage/MainView/Options/OptionsDialog","Sage/MainView/FormManager","Sage/MainView/IntegrationContract/SyncResultsHistory"],function(){});},"Sage/UI/Controls/Select":function(){define("Sage/UI/Controls/Select",["dijit/form/Select","dojo/_base/declare","dojo/has","dojo/_base/sniff","dojo/_base/connect","dojo/dom-style","dojo/query"],function(_21a9,_21aa,has,_21ab,_21ac,_21ad,query){var _21ae=_21aa("Sage.UI.Controls.Select",[_21a9],{_hClickBody:false,shouldPublishMarkDirty:true,autoPostBack:false,maxHeight:has("ie")?146:155,postCreate:function(){this.connect(this,"onChange",this.onChanged);this.inherited(arguments);},destroy:function(){this.inherited(arguments);},onClickBody:function(e){if(has("ie")>=9&&this._opened){this.closeDropDown();}},_setDisplay:function(_21af){this.inherited(arguments);this.trimDisplayValue();},onChanged:function(_21b0){if(this.shouldPublishMarkDirty){_21ac.publish("Sage/events/markDirty");}if(this.autoPostBack){__doPostBack(this.id,"");}},trimDisplayValue:function(){var nodes,i,len,node,_21b1;_21b1=this.focusNode.style.width;if(!_21b1){return;}nodes=query("span",this.containerNode);len=nodes&&nodes.length;for(i=0;i<len;i++){node=nodes[i];_21ad.set(node,{"width":_21b1,"text-overflow":"ellipsis","overflow":"hidden"});}},closeDropDown:function(focus){if(has("ie")>=9&&this._hClickBody){_21ac.disconnect(this._hClickBody);}this.inherited(arguments);},openDropDown:function(){if(has("ie")>=9){this._hClickBody=_21ac.connect(document.body,"onclick",this,this.onClickBody);}this.inherited(arguments);}});return _21ae;});},"Sage/QuickForms/Design/Editors/ComboBoxBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/ComboBoxBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/ComboBoxBasicPropertyEditor"],function(_21b2,lang,_21b3,_21b4,_21b5,_21b6,_21b7,_21b8,_21b9,_21ba,_21bb,_21bc){return _21b2("Sage.QuickForms.Design.Editors.ComboBoxBasicPropertyEditor",[_21b3,_21ba,_21b9],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.toolTipTooltipText %}\">","<label>{%= $.toolTipText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_toolTip\" data-dojo-attach-event=\"onChange:_onToolTipChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.isReadOnlyTooltipText %}\">","<label>{%= $.isReadOnlyText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_isReadOnly\" data-dojo-attach-event=\"onChange:_onIsReadOnlyChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_21bc);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);},_onIsReadOnlyChange:function(value){if(this.isSuspended()){return;}this._designer.set("isReadOnly",value);},_onToolTipChange:function(value){if(this.isSuspended()){return;}this._designer.set("toolTip",value);}});});},"Sage/MainView/ReportMgr/Common/_WizardDialogBase":function(){define("Sage/MainView/ReportMgr/Common/_WizardDialogBase",["dojo/_base/declare","dojo/topic","dojo/_base/lang","dijit/_Widget","Sage/_Templated","Sage/MainView/ReportMgr/ReportManagerUtility","Sage/Reporting/Enumerations","dojo/i18n!./nls/_WizardDialogBase","Sage/UI/Controls/_DialogHelpIconMixin"],function(_21bd,topic,_21be,_21bf,_21c0,_21c1,_21c2,_21c3,_21c4){var _21c5=_21bd("Sage.MainView.ReportMgr.Common._WizardDialogBase",[_21bf,_21c0],{_dialog:null,_currentStep:null,_isFirstStep:false,_isLastStep:false,_reportMetadata:null,_btnPlusIconPath:"images/icons/plus_16x16.gif",widgetsInTemplate:true,show:function(){this._dialog.show();if(this._helpIconTopic){if(!this._dialog.helpIcon){_21be.mixin(this._dialog,new _21c4());this._dialog.createHelpIconByTopic(this._helpIconTopic);}}},startup:function(){this.inherited(arguments);this._initializeWizardButtons();},isValid:function(){return true;},_dialog_OnCancel:function(){this._checkCurrentStep();this._dialog.hide();topic.publish("/reportManager/reportWizard/cancel",null);},_cmdBack_OnClick:function(){this._checkCurrentStep();var _21c6=this._getWizardStepResult();this._dialog.hide();topic.publish("/reportManager/reportWizard/previousStep",this._currentStep,_21c6);},_cmdNext_OnClick:function(){if(this.isValid()){this._checkCurrentStep();var _21c7=this._getWizardStepResult();this._dialog.hide();topic.publish("/reportManager/reportWizard/nextStep",this._currentStep,_21c7);}},_cmdCancel_OnClick:function(){this._checkCurrentStep();this._dialog.hide();topic.publish("/reportManager/reportWizard/cancel",null);},_initializeWizardOptions:function(_21c8){if(_21c8){this._isFirstStep=_21c8.isFirstStep;this._isLastStep=_21c8.isLastStep;this._reportMetadata=_21c8.reportMetadata;}},_initializeWizardButtons:function(){if(this._isFirstStep){_21c1.setDomNodeVisible(this.cmdBack.domNode,false);}if(this._isLastStep){this.cmdNext.setLabel(_21c3.txtFinish);}},_getWizardStepResult:function(){console.error("_getWizardStepResult must be implemented.");return null;},_checkCurrentStep:function(){if(this._currentStep===null){console.error("_currentStep has not been defined");}}});return _21c5;});},"Sage/UI/Controls/PickList":function(){define("Sage/UI/Controls/PickList",["dojo/topic","dojo/_base/declare","dijit/_Widget","dijit/Tooltip","Sage/Data/BaseSDataStore","Sage/Utility","dijit/Tooltip","dojo/i18n!./nls/PickList","dojo/_base/lang","Sage/Utility/_LocalStorageMixin","Sage/Data/SDataServiceRegistry"],function(topic,_21c9,_21ca,_21cb,_21cc,util,_21cd,nls,lang,_21ce,_21cf){var _21d0=_21c9("Sage.UI.Controls.PickList",[_21ca,_21ce],{dataStore:null,storeOptions:null,pickListName:"",canEditText:false,itemMustExist:true,maxLength:-1,storeMode:"text",sort:true,displayMode:"AsControl",clientId:"",required:false,tabIndex:0,placeInNodeId:"",autoPostBack:false,controlTooltip:"",buttonTooltip:"",shouldPublishMarkDirty:true,renderAsHyperlink:false,_textId:"",_codeId:"",_picklistId:"",_defaultValueId:"",_defaultCodeId:"",_defaultPicklistId:"",_storageNameSpace:"PickListData",okText:"",missingPickListText:"",constructor:function(_21d1){this.storeOptions=_21d1.storeOptions;this.dataStore=_21d1.dataStore;this.clientId=_21d1.clientId||"";var cid=this.clientId;this._textId=cid+"_Text";this._codeId=cid+"_Code";this._picklistId=cid+"_PicklistId";this._defaultValueId=cid+"_DefaultValue";this._defaultCodeId=cid+"_DefaultCode";this._defaultPicklistId=cid+"_DefaultPicklistId";if(nls){this.okText=nls.okText;this.missingPickListText=nls.missingPickListText;}},postCreate:function(){var node=dojo.byId(this.placeInNodeId);if(node){this._setDefaultFields();dojo.place(this.domNode,node,"first");}this.inherited(arguments);},uninitialize:function(){this.inherited(arguments);},_setStore:function(_21d2){this.storeOptions={include:["items"],select:["Id","name","allowMultiples","valueMustExist","required","alphaSorted","noneEditable","modifyDate","items/text","items/code","items/number"],resourceKind:"picklists",service:_21cf.getSDataService("system",false,true,false),directQuery:{name:_21d2}};this.dataStore=new _21cc(this.storeOptions);},_setDefaultFields:function(){if(this.required){var text=dojo.byId(this._textId);if(text&&text.value===""){var code=dojo.byId(this._codeId),_21d3=dojo.byId(this._picklistId);var _21d4=dojo.byId(this._defaultValueId);var _21d5=dojo.byId(this._defaultCodeId);var _21d6=dojo.byId(this._defaultPicklistId);text.value=_21d4.value;code.value=_21d5.value;_21d3.value=_21d6.value;}}},_setupTooltips:function(_21d7,_21d8){if(this.controlTooltip&&this.controlTooltip!==""&&_21d8){var t=new _21cd({connectId:[_21d8],label:this.controlTooltip,position:["below"]});}if(this.buttonTooltip&&this.buttonTooltip!==""&&_21d7){var t2=new _21cd({connectId:[_21d7],label:this.buttonTooltip,position:["below"]});}},getPickListData:function(_21d9){var list=this.getFromLocalStorage(this.pickListName,this._storageNameSpace);if(list){this.setPicklistAttributes(list);_21d9.callback(list);return;}this.dataStore.fetch({onComplete:lang.hitch(this,function(data){var _21da;if(data&&data.length>0){_21da=data[0];var temp=_21da.items.$resources;if(this.sort&&_21da.alphaSorted){_21da.items.$resources=temp.sort(function(a,b){if(a.text<b.text){return -1;}if(a.text>b.text){return 1;}return 0;});}}else{_21da="";}this.saveToLocalStorage(this.pickListName,_21da,this._storageNameSpace);this.setPicklistAttributes(_21da);_21d9.callback(_21da);}),onError:function(e){_21d9.errback(e);},scope:this});},setPicklistAttributes:function(_21db){if(_21db.valueMustExist){this._setItemMustExistAttr(_21db.valueMustExist);}},setASPNETInputs:function(_21dc,_21dd,_21de){if(this._textId&&this._codeId&&this._picklistId){var text=dojo.byId(this._textId);var code=dojo.byId(this._codeId);var id=dojo.byId(this._picklistId);if(text&&code&&id){text.value=_21dc;id.value=_21de;code.value=_21dd;this.invokeChangeEvent();}}},invokeChangeEvent:function(){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}if(this.autoPostBack){__doPostBack(this.clientId,"");}},_getCanEditTextAttr:function(){return this.canEditText;},_setCanEditTextAttr:function(value){this.canEditText=value;},_getItemMustExistAttr:function(){return this.itemMustExist;},_setItemMustExistAttr:function(value){this.itemMustExist=value;},_getMaxLengthAttr:function(){return this.maxLength;},_setMaxLengthAttr:function(value){this.maxLength=value;},_getStoreModeAttr:function(){return this.storeMode;},_setStoreModeAttr:function(value){this.storeMode=value;},_getPickListNameAttr:function(){return this.pickListName;},_setPickListNameAttr:function(value){this.pickListName=value;this._setStore(value);},statics:{}});return _21d0;});},"Sage/MainView/ActivityMgr/nls/ActivityEditorAttendeesTab":function(){define("Sage/MainView/ActivityMgr/nls/ActivityEditorAttendeesTab",["Sage/LanguageList","dojo/_base/lang"],function(_21df,lang){var nls={root:{header_Name:"Name",header_AccountName:"Account/Company",header_Type:"Type",header_Primary:"Primary",header_RoleName:"Role",header_Phone:"Phone",header_Email:"Email",header_TimeZone:"Time Zone",header_Notes:"Notes",tooltip_speedSearch:"Add Participant",tooltip_AddContact:"Add Contact",tooltip_AddLead:"Add Lead",tooltip_Delete:"Delete",header_Attendee:"Is Attendee"}};return lang.mixin(_21df,nls);});},"Sage/UI/nls/UserType":function(){define("Sage/UI/nls/UserType",["Sage/LanguageList","dojo/_base/lang"],function(_21e0,lang){var nls={root:{administratorText:"Administrator",templateText:"Template",remoteText:"Remote",webOnlyText:"Web Only",retiredText:"Retired",concurrentText:"Concurrent",webViewerText:"Web Viewer",networkText:"Network",addOnUserText:"Add-on User"}};return lang.mixin(_21e0,nls);});},"Sage/MainView/ReportMgr/templates/nls/HistoryDetailSummary":function(){define("Sage/MainView/ReportMgr/templates/nls/HistoryDetailSummary",["Sage/LanguageList","dojo/_base/lang"],function(_21e1,lang){var nls={root:{txtCreateDate_Caption:"Create Date:",txtReportType_Caption:"Report Type:",txtOutputFormat_Caption:"Output Format:",txtRunAsUser_Caption:"Run As:",txtExecutionType_Caption:"Execution Type:",txtScheduleName_Caption:"Description:",txtScheduledBy_Caption:"Scheduled By:",txtFileSize_Caption:"File Size:",txtElapsedTime_Caption:"Elapsed Time:"}};return lang.mixin(_21e1,nls);});},"Sage/UI/Controls/CopyToClipboard":function(){require({cache:{"url:Sage/UI/Controls/templates/CopyToClipboard.html":"<div>\r\n    <div data-dojo-type=\"dijit.Dialog\" dojoAttachPoint=\"dialogNode\">\r\n        \r\n        <span>${helpText}</span>\r\n        <div style=\"width: 550px; height: 400px;\">\r\n            <div data-dojo-type=\"dijit.layout.TabContainer\" dojoAttachPoint=\"tabNode\" style=\"width: 100%; height: 100%;\">\r\n                <div data-dojo-type=\"dijit.layout.ContentPane\" title=\"${textTab}\">\r\n                    <div dojoAttachPoint=\"contentNode\"></div>\r\n                </div>\r\n            \r\n                <div data-dojo-type=\"dijit.layout.ContentPane\" title=\"${sourceTab}\">\r\n                    <textarea dojoAttachPoint=\"textNode\" data-dojo-type=\"dijit.form.SimpleTextarea\" style=\"width: 100%; height: 95%;\"></textarea>\r\n                </div>\r\n            </div>\r\n        </div>\r\n            \r\n        <div style=\"float:right;padding-bottom:8px;\">\r\n            <button data-dojo-type=\"dijit.form.Button\" type=\"submit\" dojoAttachEvent=\"onClick:_closeClicked\">\r\n                ${closeText}\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n"}});define("Sage/UI/Controls/CopyToClipboard",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/Dialog","dijit/layout/TabContainer","dijit/layout/ContentPane","dijit/form/SimpleTextarea","dijit/form/Button","dojo/_base/lang","Sage/Format","Sage/Utility","Sage/Utility/Email","Sage/Data/SDataServiceRegistry","dojo/_base/sniff","dojo/text!./templates/CopyToClipboard.html","dojo/i18n!./nls/CopyToClipboard","dojo/_base/declare"],function(_21e2,_21e3,_21e4,_21e5,_21e6,_21e7,_21e8,_21e9,lang,_21ea,util,email,_21eb,has,_21ec,_21ed,_21ee){var _21ef=_21ee("Sage.UI.Controls.CopyToClipboard",[_21e4,_21e2,_21e3],{templateString:_21ec,widgetsInTemplate:true,textAlign:"left",calendarName:"calendar1",timeTextBoxName:"timeTextBox1",textNode:null,contentNode:null,closeText:"",dialogTitle:"",helpText:"",mashupName:"",queryName:"",service:null,template:"",entity:null,widgetTemplate:null,id:"copyToClipboard",constructor:function(_21f0){this.service=_21eb.getSDataService("mashups");this.inherited(arguments);},postMixInProperties:function(){lang.mixin(this,_21ed);this.inherited(arguments);},show:function(){if(!window.clipboardData){this.dialogNode.set("title",this.dialogTitle);this.dialogNode.show();}this._readMashupFeed();},_readMashupFeed:function(_21f1){var _21f2=new Sage.SData.Client.SDataNamedQueryRequest(this.service),_21f3=this.mashupName||"SummaryViewQueries",_21f4=Sage.Services.getService("ClientEntityContext"),_21f5=_21f4.getContext(),_21f6=_21f5.EntityId,self=this;_21f2.setApplicationName("$app");_21f2.setResourceKind("mashups");_21f2.uri.setCollectionPredicate("'"+this.mashupName+"'");_21f2.setQueryName("execute");_21f2.setQueryArg("_resultName",this.queryName);_21f2.setQueryArg("_ids","'"+_21f6+"'");_21f2.read({success:dojo.hitch(self,function(data){this._mixinTemplateLocale();this.entity=data.$resources[0];this._buildTemplateWidget();this._setContentToCopy();if(_21f1&&(typeof _21f1==="function")){_21f1.call(this,data);}}),failure:dojo.hitch(self,function(data){this.dialogNode.hide();})});},_mixinTemplateLocale:function(){var _21f7=["Sage"],_21f8=this.template.split("/"),i;for(i=0;i<_21f8.length-1;i++){_21f7.push(_21f8[i]);}var path="dojo/i18n!"+_21f7.join("/")+"/nls/"+_21f8[_21f8.length-1].replace(".html","");require([path],lang.hitch(this,function(nls){lang.mixin(this,nls);}));},_buildTemplateWidget:function(){var _21f9=dojo["cache"]("Sage",this.template),temp=eval(_21f9);this.widgetTemplate=new Simplate(temp);},_setContentToCopy:function(){var val=this.widgetTemplate.apply(this),_21fa;this.contentNode.innerHTML=val;this.textNode.set("value",val);if(window.clipboardData){try{_21fa=util.getPlainText(this.contentNode);window.clipboardData.setData("text",_21fa);this.dialogNode.hide();}catch(e){}}},_closeClicked:function(_21fb){this.onCloseClicked();},onCloseClicked:function(){},destroy:function(){var _21fc=dijit.byId(this.dialogNode.id);if(_21fc){setTimeout(function(){_21fc.destroyRecursive(false);},1);this.inherited(arguments);}},OnEmailContentReady:function(_21fd){this._readMashupFeed(function(){var _21fe=dojo.byId(_21fd+"_to"),_21ff=(_21fe)?_21fe.value:"",_2200=dojo.byId(_21fd+"_cc"),_2201=(_2200)?_2200.value:"",_2202=dojo.byId(_21fd+"_bcc"),_2203=(_2202)?_2202.value:"",_2204=dojo.byId(_21fd+"_subject"),_2205=(_2204)?_2204.value:"",_2206=util.getPlainText(this.contentNode),recip={};if(_21ff!==""){recip.to=_21ff;}if(_2201!==""){recip.cc=_2201;}if(_2203!==""){recip.bcc=_2203;}email.writeEmail(recip,_2205,_2206,false);});}});return _21ef;});},"Sage/QuickForms/Design/nls/FormDesigner":function(){define("Sage/QuickForms/Design/nls/FormDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_2207,lang){var nls={root:{displayNameText:"Form"}};return lang.mixin(_2207,nls);});},"Sage/UI/UniqueToListValidationTextBox":function(){define("Sage/UI/UniqueToListValidationTextBox",["dijit/form/ValidationTextBox","dojo/_base/declare"],function(_2208,_2209){var _220a=_2209("Sage.UI.UniqueToListValidationTextBox",_2208,{notUniqueText:"This value already exists",uniqueList:"",_uniqueHash:{},isValid:function(_220b){var _220c=this.inherited(arguments);var value=this.get("value");return (!(value in this._uniqueHash)&&_220c);},_setUniqueListAttr:function(value){this.uniqueList=dojo.isString(value)?value.split(","):(dojo.isArray(value)?value:[value]);this._uniqueHash={};for(var i=0;i<this.uniqueList.length;i++){this._uniqueHash[this.uniqueList[i]]=1;}}});return _220a;});},"Sage/MainView/ActivityMgr/nls/ActivityCalendar":function(){define("Sage/MainView/ActivityMgr/nls/ActivityCalendar",["Sage/LanguageList","dojo/_base/lang"],function(_220d,lang){var nls={root:{completedText:"(Completed)"}};return lang.mixin(_220d,nls);});},"Sage/MainView/ReportMgr/ReportsSDataSummaryFormatterScope":function(){define("Sage/MainView/ReportMgr/ReportsSDataSummaryFormatterScope",["Sage/UI/SummaryContainer","dojo/i18n","Sage/UI/SummaryFormatterScope","Sage/MainView/ReportMgr/ReportsSDataDetailViewDataManager","Sage/UI/Controls/SummaryAggregate","dojo/_base/declare"],function(_220e,i18n,_220f,_2210,_2211,_2212){var _2213=_2212("Sage.MainView.ReportMgr.ReportsSDataSummaryFormatterScope",[_220f],{constructor:function(args){dojo.mixin(this,args);this.widgets=[];this.preFetchResources();this._setupDataManager();},_setupDataManager:function(){this.dataManager=new _2210(this.requestConfiguration);if(Sage.Services.hasService("SummaryViewDataManager")){Sage.Services.removeService("SummaryViewDataManager");}Sage.Services.addService("SummaryViewDataManager",this.dataManager);}});return _2213;});},"Sage/Utility/nls/Jobs":function(){define("Sage/Utility/nls/Jobs",["Sage/LanguageList","dojo/_base/lang"],function(_2214,lang){var nls={root:{errorMessage:"Sorry, an error occurred during the execution of job '${0}': ${1} ${2}.",jobCompletedSuccessfully:"The job has completed successfully.",unexpectedErrorMessage:"Sorry, an unexpected error occurred during the execution of job '${0}'.",repeatIndefinitely:"Repeat indefinitely",cancelButtonCaption:"Cancel",defaultProgressDialogTitle:"Running Job",closeButtonCaption:"Close"}};return lang.mixin(_2214,nls);});},"Sage/UI/Controls/nls/_DialogHelpIconMixin":function(){define("Sage/UI/Controls/nls/_DialogHelpIconMixin",["Sage/LanguageList","dojo/_base/lang"],function(_2215,lang){var nls={root:{helpTooltip:"Help"}};return lang.mixin(_2215,nls);});},"Sage/QuickForms/Design/ControlDesignerRegistry":function(){define("Sage/QuickForms/Design/ControlDesignerRegistry",["dojo/_base/lang","./GenericControlDesigner","./HiddenControlDesigner","./TextBoxControlDesigner","./UrlControlDesigner","./PhoneControlDesigner","./EmailControlDesigner","./CheckBoxControlDesigner","./PickListControlDesigner","./ComboBoxControlDesigner","./UserControlDesigner","./OwnerControlDesigner","./DateTimePickerControlDesigner","./DataGridControlDesigner","./NumericControlDesigner","./DataSourceDesigner","./CurrencyControlDesigner","./EditableGridControlDesigner"],function(lang,_2216,_2217,_2218,_2219,_221a,_221b,_221c,_221d,_221e,_221f,_2220,_2221,_2222,_2223,_2224,_2225,_2226){var _2227={"Sage.Platform.QuickForms.Controls.QFTextBox, Sage.Platform.QuickForms":_2218,"Sage.Platform.QuickForms.QFControls.QFHidden, Sage.Platform.QuickForms.QFControls":_2217,"Sage.SalesLogix.QuickForms.QFControls.QFSLXUrl, Sage.SalesLogix.QuickForms.QFControls":_2219,"Sage.SalesLogix.QuickForms.QFControls.QFSLXPhone, Sage.SalesLogix.QuickForms.QFControls":_221a,"Sage.SalesLogix.QuickForms.QFControls.QFSLXEmail, Sage.SalesLogix.QuickForms.QFControls":_221b,"Sage.Platform.QuickForms.QFControls.QFCheckBox, Sage.Platform.QuickForms.QFControls":_221c,"Sage.SalesLogix.QuickForms.QFControls.QFSLXPickList, Sage.SalesLogix.QuickForms.QFControls":_221d,"Sage.Platform.QuickForms.QFControls.QFListBox, Sage.Platform.QuickForms.QFControls":_221e,"Sage.SalesLogix.QuickForms.QFControls.QFSLXUser, Sage.SalesLogix.QuickForms.QFControls":_221f,"Sage.SalesLogix.QuickForms.QFControls.QFSLXOwner, Sage.SalesLogix.QuickForms.QFControls":_2220,"Sage.SalesLogix.QuickForms.QFControls.QFDateTimePicker, Sage.SalesLogix.QuickForms.QFControls":_2221,"Sage.SalesLogix.QuickForms.QFControls.QFDataGrid, Sage.SalesLogix.QuickForms.QFControls":_2222,"Sage.SalesLogix.QuickForms.QFControls.QFSLXNumeric, Sage.SalesLogix.QuickForms.QFControls":_2223,"Sage.Platform.QuickForms.QFControls.QFDataSource, Sage.Platform.QuickForms.QFControls":_2224,"Sage.Platform.QuickForms.QFControls.QFHqlDataSource, Sage.Platform.QuickForms.QFControls":_2224,"Sage.Platform.QuickForms.QFControls.QFMashupDataSource, Sage.Platform.QuickForms.QFControls":_2224,"Sage.Platform.QuickForms.QFControls.QFSDataDataSource, Sage.Platform.QuickForms.QFControls":_2224,"Sage.SalesLogix.QuickForms.QFControls.QFSLXCurrency, Sage.SalesLogix.QuickForms.QFControls":_2225,"Sage.SalesLogix.QuickForms.QFControls.SDataGrid.QFSDataGrid, Sage.SalesLogix.QuickForms.QFControls":_2226};var _2228={"ccc0f01d-7ba5-408e-8526-a3f942354b3a":_2218,"f4ca6023-9f5f-4e41-8571-50ba94e8f233":_2218,"76c537a8-8b08-4b35-84cf-fa95c6c133b0":_2218,"b2ed309e-ea89-4eef-8051-6244987953a4":_2218,"47f90249-e4c8-4564-9ae6-e1fa9904f8b8":_2223,"f37c635c-9fbf-40d8-98d5-750a54a3cca1":_2223,"a6bf2690-3477-4a18-9849-56abf8693934":_2223,"2596d57d-89d6-4b72-9036-b18c64c5324c":_2223,"6b0b3d51-0728-4b67-9473-52836a81da53":_2223,"30053f5a-8d40-4db1-b185-1e4128eb26cc":_2218,"92432b4d-8206-4a96-ba7b-e4cbd374f148":_221c,"95ca9d52-6f0b-4a96-bd40-43583f41faf8":_221c,"3edc7c52-e711-431d-b150-969d88ebabf4":_221c,"1f08f2eb-87c8-443b-a7c2-a51f590923f5":_2221,"31e8638d-4232-4c61-8827-d94132a33887":_221b,"85f2bba5-1fb7-4ecf-941a-d98d4739c305":_221a,"b71918bf-fac1-4b62-9ed5-0b0294bc9900":_221d,"17541523-fc31-4269-ac97-df63290d0e31":_2220,"a3b52518-801b-44be-96bf-fdca3de84f7f":null,"517d5e69-9efa-4d0a-8e7a-1c7691f921ba":null,"189a1a4e-396c-4146-95c0-93b5d9e7d160":null,"8edd8fce-2be5-4d3d-bedd-ea667e78a8af":null,"3ca925e1-4b76-4621-a39c-a0d4cb7327d5":null,"68e04249-f7e2-4b63-90be-55fbb1f4aa77":null,"07370ef3-ad24-409f-86a8-ff2db5ee6d69":null,"5685161e-5f0a-4a36-83fe-89e8e462e9e7":_2219};return lang.setObject("Sage.QuickForms.Design.ControlDesignerRegistry",{fromType:_2227,fromDataType:_2228,getDesignerFor:function(entry,_2229){var name=entry&&entry["$type"];return this.fromType[name]||((_2229!==false)&&_2216);},getDesignerForDataType:function(_222a,_222b){return this.fromDataType[_222a]||((_222b!==false)&&_2218);}});});},"Sage/QuickForms/Design/Editors/nls/PickListAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/PickListAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_222c,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",allowMultiplesText:"Allow Multiple Selections:",allowMultiplesTooltipText:"Allows user to select more than one item.",canEditTextText:"Can Edit Text:",canEditTextTooltipText:"Allows user to type value.",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",displayModeText:"Display Mode:",displayModeTooltipText:"Mode of display of control: text box, hyperlink, or plain text.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",mustExistInListText:"Item Must Exist:",mustExistInListTooltipText:"Requires typed value to be on list.",pickListNameText:"Pick List Name:",pickListNameTooltipText:"Name of the list of values the user can select from when entering data.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",storageModeText:"Storage Mode:",storageModeTooltipText:"How the value is stored: Text, Id, or Code.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"},displayModeTypeText:{AsControl:"As Control",AsText:"As Text",AsHyperlink:"As Hyperlink"},storageModeTypeText:{Text:"Text",Id:"ID",Code:"Code"},pickListRequestErrorText:"Unable to retrieve picklists from server."}};return lang.mixin(_222c,nls);});},"Sage/UI/nls/ActivityList":function(){define("Sage/UI/nls/ActivityList",["Sage/LanguageList","dojo/_base/lang"],function(_222d,lang){var nls={root:{addMeetingText:"Schedule Meeting",addPhoneCallText:"Schedule Phone Call",addToDoText:"Schedule To-Do",helpText:"Help",completeText:"Complete",typeText:"Type",startDateText:"Date/Time",dateRangeText:"Date Range",durationText:"Duration",leaderText:"Leader",contactText:"Contact",opportunityText:"Opportunity",descriptionText:"Regarding",categoryText:"Category",firstNameText:"First Name",lastNameText:"Last Name"}};return lang.mixin(_222d,nls);});},"put-selector/put":function(){(function(_222e){var _222f,_2230=/[-+,> ]/;_222e("put-selector/put",[],_222f=function(doc,_2231){"use strict";_2230=_2231||_2230;var _2232=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,_2233,_2234,_2235=false,doc=doc||document,_2236=typeof doc.createElement=="object";function _2237(_2238,text){_2238.appendChild(doc.createTextNode(text));};function put(_2239){var _223a,_223b,_223c,_223d,_223e,args=arguments,_223f=args[0];function _2240(){if(_223e&&_223d&&_223e!=_223d){(_223d==_2239&&(_223a||(_223a=_2230.test(_2241)&&doc.createDocumentFragment()))?_223a:_223d).insertBefore(_223e,_223c||null);}};for(var i=0;i<args.length;i++){var _2241=args[i];if(typeof _2241=="object"){_223b=false;if(_2241 instanceof Array){_223e=doc.createDocumentFragment();for(var key=0;key<_2241.length;key++){_223e.appendChild(put(_2241[key]));}_2241=_223e;}if(_2241.nodeType){_223e=_2241;_2240();_223d=_2241;_223c=0;}else{for(var key in _2241){_223e[key]=_2241[key];}}}else{if(_223b){_223b=false;_2237(_223e,_2241);}else{if(i<1){_2239=null;}_223b=true;var _2242=_2241.replace(_2232,function(t,_2243,_2244,value,_2245,_2246){if(_2243){_2240();if(_2243=="-"||_2243=="+"){_223d=(_223c=(_223e||_223d)).parentNode;_223e=null;if(_2243=="+"){_223c=_223c.nextSibling;}}else{if(_2243=="<"){_223d=_223e=(_223e||_223d).parentNode;}else{if(_2243==","){_223d=_2239;}else{if(_223e){_223d=_223e;}}_223e=null;}_223c=0;}if(_223e){_223d=_223e;}}var tag=!_2244&&value;if(tag||(!_223e&&(_2244||_2245))){if(tag=="$"){_2237(_223d,args[++i]);}else{tag=tag||put.defaultTag;var _2247=_2236&&args[i+1]&&args[i+1].name;if(_2247){tag="<"+tag+" name=\""+_2247+"\">";}_223e=_2235&&~(_2234=tag.indexOf("|"))?doc.createElementNS(_2235[tag.slice(0,_2234)],tag.slice(_2234+1)):doc.createElement(tag);}}if(_2244){if(value=="$"){value=args[++i];}if(_2244=="#"){_223e.id=value;}else{var _2248=_223e.className;var _2249=_2248&&(" "+_2248+" ").replace(" "+value+" "," ");if(_2244=="."){_223e.className=_2248?(_2249+value).substring(1):value;}else{if(_2241=="!"){var _224a;if(_2236){put("div",_223e,"<").innerHTML="";}else{if(_224a=_223e.parentNode){_224a.removeChild(_223e);}}}else{_2249=_2249.substring(1,_2249.length-1);if(_2249!=_2248){_223e.className=_2249;}}}}}if(_2245){if(_2246=="$"){_2246=args[++i];}if(_2245=="style"){_223e.style.cssText=_2246;}else{var _224b=_2245.charAt(0)=="!"?(_2245=_2245.substring(1))&&"removeAttribute":"setAttribute";_2246=_2246===""?_2245:_2246;_2235&&~(_2234=_2245.indexOf("|"))?_223e[_224b+"NS"](_2235[_2245.slice(0,_2234)],_2245.slice(_2234+1),_2246):_223e[_224b](_2245,_2246);}}return "";});if(_2242){throw new SyntaxError("Unexpected char "+_2242+" in "+_2241);}_2240();_223d=_223f=_223e||_223d;}}}if(_2239&&_223a){_2239.appendChild(_223a);}return _223f;};put.addNamespace=function(name,uri){if(doc.createElementNS){(_2235||(_2235={}))[name]=uri;}else{doc.namespaces.add(name,uri);}};put.defaultTag="div";put.forDocument=_222f;return put;});})(function(id,deps,_224c){_224c=_224c||deps;if(typeof define==="function"){define([],function(){return _224c();});}else{if(typeof window=="undefined"){require("./node-html")(module,_224c);}else{put=_224c();}}});},"url:Sage/MainView/ReportMgr/Crystal/templates/CrystalReportParametersDialog.html":"<div>\r\n    <div data-dojo-type=\"dijit.Dialog\" title=\"{%= $._getDialogTitle() %}\" dojoattachpoint=\"_dialog\" dojoattachevent=\"onCancel:_dialog_OnCancel\" style=\"width: 625px\">\r\n        <div data-dojo-type=\"dijit.form.Form\">\r\n            <div style=\"overflow:auto\">\r\n                <div dojoattachpoint=\"paramsContainerDiv\" id=\"paramsContainerDiv\" style=\"height:400px; overflow:auto\"></div>\r\n            </div>\r\n            <div align=\"right\" style=\"margin-top:10px\">\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdBack\" dojoAttachEvent=\"onClick:_cmdBack_OnClick\" >{%= Sage.Utility.htmlEncode($._nlsResources.cmdBack_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdNext\" dojoAttachEvent=\"onClick:_cmdNext_OnClick\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdNext_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdCancel_Caption) %}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","Sage/UI/Alarms/nls/JobNotificationPopup":function(){define("Sage/UI/Alarms/nls/JobNotificationPopup",["Sage/LanguageList","dojo/_base/lang"],function(_224d,lang){var nls={root:{title:"Job Notifications",helpText:"Help",colNameJobName:"Type",colNameProgress:"Progress",colNameStatus:"Status",colExecutionResult:"Result"}};return lang.mixin(_224d,nls);});},"Sage/MainView/JobMgr/templates/nls/ExecutionsListSummary":function(){define("Sage/MainView/JobMgr/templates/nls/ExecutionsListSummary",["Sage/LanguageList","dojo/_base/lang"],function(_224e,lang){var nls={root:{}};return lang.mixin(_224e,nls);});},"Sage/UI/Dashboard/main":function(){define("Sage/UI/Dashboard/main",["Sage/UI/Dashboard/BaseWidget","Sage/UI/Dashboard/ChartingWidget","Sage/UI/Dashboard/Dashboard","Sage/UI/Dashboard/DashboardPage","Sage/UI/Dashboard/DashboardTabController","Sage/UI/Dashboard/DashboardWidget","Sage/UI/Dashboard/DashboardWidgetCell","Sage/UI/Dashboard/WidgetDefinition"],function(){});},"Sage/UI/Filters/EditFilterItems":function(){require({cache:{"url:Sage/UI/Filters/templates/EditFilterItems.html":"<div>\r\n    <div class=\"filter-items-dialog\" data-dojo-type=\"dijit.Dialog\" data-dojo-props=\"title:'${dialogTitle}'\" data-dojo-attach-point=\"dialogNode\">\r\n        <div class=\"filter-items-search\">\r\n            <label>${findItemText}</label> <input data-dojo-attach-point=\"textFind\" data-dojo-type=\"dijit.form.TextBox\" />\r\n            <span data-dojo-attach-point=\"buttonFind\" title=\"${findText}\" data-dojo-type=\"Sage.UI.ImageButton\" data-dojo-props=\"imageClass: 'icon_Find_16x16'\" data-dojo-attach-event=\"onClick:_onFindClick\"></span>&nbsp;\r\n\t\t\t<span data-dojo-attach-point=\"buttonClear\" title=\"${clearText}\" data-dojo-type=\"dijit.form.Button\" data-dojo-attach-event=\"onClick:_onClearClick\">${clearText}</span>\r\n        </div>\r\n        <div class=\"filter-clear-all\">\r\n            <input data-dojo-attach-point=\"checkAll\" data-dojo-type=\"dijit.form.CheckBox\" />\r\n            <label>${selectAllText}</label>\r\n        </div>\r\n        <div class=\"filter-items-dialog-content\" data-dojo-attach-point=\"contentNode\">\r\n        </div>\r\n        <div class=\"button-bar alignright\">\r\n            <button data-dojo-attach-point=\"buttonOK\" data-dojo-attach-event=\"onClick:_onOKClick\" data-dojo-type=\"dijit.form.Button\">${okText}</button>\r\n            <button data-dojo-attach-point=\"buttonCancel\" data-dojo-attach-event=\"onClick:_onCancelClick\" data-dojo-type=\"dijit.form.Button\">${cancelText}</button>\r\n        </div>\r\n    </div>\r\n</div>"}});define("Sage/UI/Filters/EditFilterItems",["dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/Dialog","dijit/form/Button","Sage/UI/ImageButton","dijit/form/CheckBox","dijit/form/TextBox","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-construct","dijit/registry","Sage/UI/Controls/_DialogHelpIconMixin","Sage/Utility/Filters","dojo/json","dojo/parser","dojo/text!./templates/EditFilterItems.html","dojo/i18n!./nls/EditFilterItems"],function(_224f,_2250,_2251,_2252,_2253,_2254,_2255,_2256,_2257,array,lang,_2258,_2259,_225a,_225b,json,_225c,_225d,_225e){return _2257("Sage.UI.Filters.EditFilterItems",[_224f,_2250,_2251],{templateString:_225d,widgetsInTemplate:true,id:"editFilterItems",store:null,activeFilters:"",filter:null,checkBoxes:null,allItems:null,filterPanel:null,parent:null,formatter:null,baseFilter:"",selectAllText:"Select All",findItemText:"Find Item:",findText:"Find",clearText:"Clear",dialogTitle:"Edit Filter Items",okText:"OK",cancelText:"Cancel",count:1000,loading:false,handles:null,mainHandles:null,safeCheck:true,checkBoxTemplate:new Simplate(["<input id=\"{%: $.id %}\" ","name=\"{%: $.name %}\" ","data-dojo-type=\"dijit.form.CheckBox\" ","data-dojo-props=\"label: '{%: $.name %}'\" ","class=\"editFilterCheckBox\" />","<label for=\"{%: $.id %}\">{%: $.itemName %}</label><br />"]),constructor:function(_225f){this.inherited(arguments);this.checkBoxes=[];this.allItems=[];this.handles=[];this.mainHandles=[];if(_225e){this.selectAllText=_225e.selectAllText;this.clearText=_225e.clearText;this.findItemText=_225e.findItemText;this.findText=_225e.findText;this.dialogTitle=_225e.dialogTitle;this.okText=_225e.okText;this.cancelText=_225e.cancelText;}},postCreate:function(){this.inherited(arguments);this.mainHandles.push(this.textFind.on("keyDown",lang.hitch(this,this._onFindMouseDown)));this.mainHandles.push(this.checkAll.on("click",lang.hitch(this,this._onCheckAllClick)));},_onCheckAllClick:function(){if(this.safeCheck){if(this.checkAll.checked){this._onSelectAllClick();}else{this._onClearAllClick();}}},showDialog:function(){this.requestData();lang.mixin(this.dialogNode,new _225a());this.dialogNode.createHelpIconByTopic("editFilterItems");this.dialogNode.show();},hideDialog:function(){this.dialogNode.hide();},_onClearAllClick:function(){array.forEach(this.checkBoxes,function(_2260){var label=_2260.get("label"),index=array.indexOf(this.allItems,_2260.get("label"));if(index===-1){this.allItems.push(label);}_2260.set("checked",false);},this);},_onSelectAllClick:function(){array.forEach(this.checkBoxes,function(_2261){var label=_2261.get("label"),index=array.indexOf(this.allItems,_2261.get("label"));if(index>-1){this.allItems.splice(index,1);}_2261.set("checked",true);},this);},_onClearClick:function(){this.textFind.set("value","");this._onFindClick();},_onCancelClick:function(){this.textFind.set("value","");this._onFindClick();this.dialogNode.hide();this.allItems=[];},_onOKClick:function(){this.textFind.set("value","");this._onFindClick();var data=this.filterPanel._configuration._hiddenFilters||{},key=this.filterPanel._configuration._hiddenFiltersKey,_2262=Sage.Services.getService("ClientGroupContext"),_2263=_2262&&_2262.getContext(),prop=_2263.CurrentEntity+"_"+this.filter.filterName,items=[];if(!data[prop]){data[prop]={expanded:false,hidden:false};}data[prop].items=this.allItems;_225b.setHiddenFilters(key,json.stringify(data));if(this.parent){this.parent.refresh();}this.dialogNode.hide();this.allItems=[];},uninitialize:function(){if(!this.contentNode){return;}array.forEach(this.mainHandles,function(_2264){_2264.remove();});this._destroyContent();this.checkBoxes=null;this.allItems=null;this.checkAll.destroy(false);this.buttonCancel.destroy(false);this.buttonOK.destroy(false);this.buttonFind.destroy(false);this.textFind.destroy(false);this.dialogNode.destroy(false);this.inherited(arguments);},requestData:function(){if(!this.loading){this._destroyContent();this.checkBoxes=[];this.activeFilters=this.store.request.getQueryArg("_activeFilter");this.store.request.setQueryArg("_activeFilter",this.baseFilter);}this.loading=true;this.store.fetch({onError:lang.hitch(this,this._onFetchError),onComplete:lang.hitch(this,this._onFetchComplete),count:this.count});},_onFindMouseDown:function(event){if(event.keyCode===13){this._onFindClick();}},_onFindClick:function(){if(!this.loading){var _2265=this.textFind.get("value");if(_2265){this.store.where="displayName like \"%"+this.textFind.get("value")+"%\"";}else{this.store.where="";}this.requestData();}},_destroyContent:function(){if(!this.contentNode){return;}array.forEach(_2259.findWidgets(this.contentNode),function(_2266){_2266.destroy(false);});array.forEach(this.handles,function(_2267){_2267.remove();});this.handles=[];this.checkBoxes=[];this.contentNode.innerHTML="";},_onFetchError:function(){},_onCheckClick:function(e){var self=this.self,_2268=this.checkBox,name=_2268&&_2268.get("label"),index;if(_2268.checked){index=array.indexOf(self.allItems,name);if(index>-1){self.allItems.splice(index,1);}}else{self._safeCheckAll(false);self.allItems.push(name);}},_safeCheckAll:function(_2269){this.safeCheck=false;this.checkAll.set("checked",_2269);this.safeCheck=true;},_onFetchComplete:function(items){var entry,_226a,id,_226b,_226c=[],i,len=items.length,name,_226d;for(i=0;i<len;i++){entry=items[i];_226d=entry.$descriptor;if(this.formatter){_226d=this.formatter(entry.$descriptor);}_226a=_226d+" ("+entry.value+")";id=[this.filter.filterName,i].join("_");name=entry.name&&entry.name.trim();if(name){name=name.replace("'","\\'");_226c.push(this.checkBoxTemplate.apply({id:id,name:name,itemName:_226a}));}}_226b=_2258.toDom(_226c.join(""));_2258.place(_226b,this.contentNode,"last");this._finishedLoading();},_finishedLoading:function(){if(this.activeFilters){this.store.request.setQueryArg("_activeFilter",this.activeFilters);}this._parseCheckBoxes();this.setupCheckState();this.loading=false;},_parseCheckBoxes:function(){if(!this.contentNode){return;}var _226e;_225c.parse(this.contentNode);_226e=_2259.findWidgets(this.contentNode);array.forEach(_226e,function(_226f){_226f.on("click",lang.hitch({checkBox:_226f,self:this},this._onCheckClick));this.checkBoxes.push(_226f);},this);},setupCheckState:function(){var data=this.filterPanel._configuration._hiddenFilters||{},_2270=Sage.Services.getService("ClientGroupContext"),_2271=_2270&&_2270.getContext(),prop=_2271.CurrentEntity+"_"+this.filter.filterName,_2272=this.allItems.length===0;if(data[prop]){array.forEach(this.checkBoxes,function(_2273){var _2274,_2275,label=_2273.get("label");_2274=array.indexOf(data[prop].items,label);_2275=array.indexOf(this.allItems,label);if(_2274>-1){_2273.set("checked",false);if(_2275===-1&&_2272){this.allItems.push(label);}}else{_2273.set("checked",true);}_2275=array.indexOf(this.allItems,label);if(_2275>-1){_2273.set("checked",false);}else{_2273.set("checked",true);}},this);this._safeCheckAll(this.allItems.length===0);}}});});},"Sage/MainView/ActivityMgr/AllOpenListPanelConfig":function(){define("Sage/MainView/ActivityMgr/AllOpenListPanelConfig",["Sage/MainView/ActivityMgr/BaseListPanelConfig","Sage/Utility","Sage/Utility/Activity","Sage/UI/SDataSummaryFormatterScope","Sage/Data/BaseSDataStore","Sage/UI/Columns/DateTime","Sage/Data/SDataServiceRegistry","dojo/_base/declare","dojo/i18n!./nls/ActivityListPanelConfig","dojo/i18n!./templates/nls/AllOpenListSummary","dojo/i18n!./templates/nls/AllOpenDetailSummary"],function(_2276,_2277,_2278,_2279,_227a,_227b,_227c,_227d,_227e){var _227f=_227d("Sage.MainView.ActivityMgr.AllOpenListPanelConfig",[_2276],{constructor:function(){this._nlsResources=_227e;this._listId="allOpen";this._resourceKind="activities";this.entityName="Activity";this._contextMenu="ActivityListContextMenu";this._scheduleContextMenu="ScheduleContextMenu";this._service=_227c.getSDataService("system");this._structure=this._getStructure();this._select=this._getSelect();this._include=this._getInclude();this._sort=this._getSort();this._where=this._getWhere();this._store=this._getStore();this.list=this._getListConfig();this.list.selectionMode="single";this.summary=this._getSummaryConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();dojo.subscribe("/entity/activity/change",this._onListRefresh);dojo.subscribe("/entity/activity/delete",this._onListRefresh);dojo.subscribe("/entity/activity/create",this._onListRefresh);},_onListRefresh:function(event){var _2280=Sage.Services.getService("ActivityService");_2280.refreshList("allopen");},_getSelect:function(){var _2281=["$key","Attachment","Timeless","Recurring","RecurIterations","Alarm","Type","StartDate","Duration","ContactName","ContactId","LeadName","LeadId","AccountName","AccountId","Description","Priority","Leader","RecurrenceState","Details/AttendeeCount"];return _2281;},_getInclude:function(){var _2282=["$descriptors"];return _2282;},_getSort:function(){var sort=[{attribute:"StartDate",descending:true}];return sort;},_getWhere:function(){var where="";where="(Type ne \"atLiterature\" )";return where;},_getStructure:function(){var _2283="<div class='Global_Images icon16x16 icon_attach_to_16' title='"+this._nlsResources.colNameAttachment+"' />";var _2284="<div class='Global_Images icon16x16 icon_recurring' title='"+this._nlsResources.colNameRecurring+"' />";var _2285="<img style='width: 16px; height: 16px' src='images/icons/Alarm_16x16.gif' title='"+this._nlsResources.colNameAlarm+"' alt='"+this._nlsResources.colNameAlarm+"' />";var _2286=this._nlsResources.colNameType||"Type";var _2287=this._nlsResources.colNameStartDate||"Start Date";var _2288=this._nlsResources.colNameDuration||"Duration";var _2289=this._nlsResources.colNameAccount||"Account";var _228a=this._nlsResources.colNameRegarding||"Regarding";var _228b=this._nlsResources.colNamePriority||"Priority";var _228c=this._nlsResources.colNameUserId||"Leader";var _228d=this._nlsResources.colNameTypeName||"Type";var _228e=this._nlsResources.colNameContactName||"Name";var _228f=this._nlsResources.colNameAssociationCount||"Participant Count";var _2290=[{field:"Alarm",name:_2285,type:_2278.activityAlarmCell,width:"20px"},{field:"Attachment",name:_2283,type:_2278.activityAttachCell,width:"20px"},{field:"Recurring",name:_2284,type:_2278.activityRecurringCell,width:"20px"},{field:"Type",name:_2286,type:_2278.activityTypeCell,width:"90px"},{field:"StartDate",name:_2287,type:_227b,timelessField:"Timeless",width:"100px"},{field:"Duration",name:_2288,type:_2278.activityDurationCell,width:"40px"},{field:"ContactId",name:_228d,type:_2278.activityNameTypeCell,width:"40px"},{field:"ContactName",name:_228e,type:_2278.activityNameCell,width:"200px"},{field:"AccountName",name:_2289,type:_2278.activityAccountCell,width:"200px"},{field:"Description",name:_228a,width:"100px"},{field:"Priority",name:_228b,width:"40px"},{field:"Leader",name:_228c,type:_2278.activityLeaderCell,width:"200px"},{field:"Details.AttendeeCount",name:_228f,width:"90px"}];return _2290;},_getDetailConfig:function(){var _2291=this._getSummaryDetailRequestConfig();var _2292={resourceKind:this._resourceKind,requestConfiguration:_2291,templateLocation:"MainView/ActivityMgr/templates/AllOpenDetailSummary.html"};return _2292;},_getSummaryListRequestConfig:function(){var _2293={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Attachment","Timeless","Recurring","RecurIterations","Alarm","Type","StartDate","Duration","ContactName","ContactId","LeadName","LeadId","AccountName","AccountId","Description","Priority","Leader/$descriptor","Location","TicketId","TicketNumber","OpportunityId","OpportunityName","Notes","RecurrenceState","PhoneNumber","Details/AttendeeCount"],include:["$descriptors"],useBatchRequest:true};return _2293;},_getSummaryDetailRequestConfig:function(){var _2294={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Attachment","Timeless","Recurring","RecurIterations","Alarm","Type","StartDate","Duration","ContactName","ContactId","LeadName","LeadId","AccountName","AccountId","Description","Priority","Leader/$descriptor","Location","TicketId","TicketNumber","OpportunityId","OpportunityName","LongNotes","RecurrenceState","PhoneNumber","Details/AttendeeCount"],include:["$descriptors"],useBatchRequest:true};return _2294;},_getFormatterScope:function(){var _2295=this._getSummaryListRequestConfig();var _2296=new _2279({templateLocation:"MainView/ActivityMgr/templates/AllOpenListSummary.html",resetDataManager:true,requestConfiguration:_2295});return _2296;},_getToolBars:function(){var _2297={items:[]};return _2297;},getTimelessProperty:function(_2298){return "Timeless";}});return _227f;});},"Sage/TaskPane/main":function(){define("Sage/TaskPane/main",["Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/UserTasklet","Sage/TaskPane/AccountingTasksTasklet","Sage/TaskPane/ActivityManagerTasklet","Sage/TaskPane/ActivityTaskConfigurationProvider","Sage/TaskPane/ActivityTaskContents","Sage/TaskPane/ActivityTaskPaneActions","Sage/TaskPane/ActivityTaskPaneItem","Sage/TaskPane/CommonTasksTasklet","Sage/TaskPane/ContactTasksTasklet","Sage/TaskPane/GroupListTasklet","Sage/TaskPane/LeadTasksTasklet","Sage/TaskPane/LiteratureManagementTasks","Sage/TaskPane/OpportunityTasksTasklet","Sage/TaskPane/SecuredActionTasklet","Sage/TaskPane/TaskPaneContent","Sage/TaskPane/TaskPaneItem","Sage/TaskPane/SecurityManagerTasksTasklet","Sage/TaskPane/JobManagerTasksTasklet","Sage/TaskPane/ReportManagerTasksTasklet"],function(){});},"Sage/MainView/ActivityMgr/AttendeeLookup/nls/LeadLookupConfig":function(){define("Sage/MainView/ActivityMgr/AttendeeLookup/nls/LeadLookupConfig",["Sage/LanguageList","dojo/_base/lang"],function(_2299,lang){var nls={root:{contactText:"Contact",accountText:"Account",lookupContactText:"Lookup Contact",nameText:"Name",cityText:"City",stateText:"State",workphoneText:"Work Phone",emailText:"Email",dialogButtonText:"Add Selected",cancelText:"Close",colFirstName:"First Name",colLastName:"Last Name",colTitle:"Title",colCompany:"Company",colWorkPhone:"Work Phone",colEmail:"Email",dialogTitleText:"Lookup Leads"}};return lang.mixin(_2299,nls);});},"Sage/QuickForms/Design/ControlDesigner":function(){define("Sage/QuickForms/Design/ControlDesigner",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","require","dojo/string","dojo/topic","dojo/dom-class","dojo/query","dijit/_Contained","./PropertyValueError","dojo/NodeList-traverse","dojo/i18n!./nls/ControlDesigner"],function(_229a,lang,array,_229b,_229c,topic,_229d,query,_229e,_229f,_22a0,_22a1){return _229a("Sage.QuickForms.Design.ControlDesigner",[_229e],{designSupport:{visible:true},_checked:true,entry:null,editors:null,form:null,helpTopicName:"",column:0,row:0,displayNameText:null,constructor:function(){lang.mixin(this,_22a1);},set:function(name,value){var _22a2=this.inherited(arguments);var names=this._getAttrNames(name),_22a3=this[names.s];if(lang.isFunction(_22a3)){topic.publish("/quickforms/design/designerModified",this,name,value,_22a2,this);}return _22a2;},_isOnDesignSurface:function(){var _22a4=this._surfaceType||(this._surfaceType=_229b("./DesignSurface"));var _22a5=this.getParent();return (_22a5&&_22a5.isInstanceOf(_22a4));},_getControlIdAttr:function(){return lang.getObject("ControlId",false,this.entry);},_setControlIdAttr:function(value){lang.setObject("ControlId",value,this.entry);},_getCaptionAttr:function(){return lang.getObject("Caption",false,this.entry);},_setCaptionAttr:function(value){lang.setObject("Caption",value,this.entry);},_getCaptionAlignmentAttr:function(){return lang.getObject("CaptionAlignment",false,this.entry);},_setCaptionAlignmentAttr:function(value){lang.setObject("CaptionAlignment",value,this.entry);this.applyCaptionAlignment(value);},_getControlNameAttr:function(){return this.displayNameText;},_getEnabledAttr:function(){return lang.getObject("Enabled",false,this.entry);},_setEnabledAttr:function(value){lang.setObject("Enabled",value,this.entry);},_getFormAttr:function(){return this.form;},_getIsReadOnlyAttr:function(){return lang.getObject("IsReadOnly",false,this.entry);},_setIsReadOnlyAttr:function(value){lang.setObject("IsReadOnly",value,this.entry);},_getToolTipAttr:function(){return lang.getObject("ToolTip",false,this.entry);},_setToolTipAttr:function(value){lang.setObject("ToolTip",value,this.entry);},_getVisibleAttr:function(){return lang.getObject("Visible",false,this.entry);},_setVisibleAttr:function(value){lang.setObject("Visible",value,this.entry);this.applyVisibility(value);},_getRowAttr:function(){return lang.getObject("Row",false,this.entry);},_setRowAttr:function(value){if(value===this.get("row")){return;}if(this._checked&&this._isOnDesignSurface()){var _22a6=this.getParent().validateMove(this,value,this.get("column"));if(_22a6){throw new _229f(_22a6,this.get("row"));}}if(this._checked&&this._isOnDesignSurface()){this.getParent().moveWidget(this,value,this.get("column"));}else{lang.setObject("Row",value,this.entry);}},_getRowSpanAttr:function(){return lang.getObject("RowSpan",false,this.entry);},_setRowSpanAttr:function(value){if(value===this.get("rowSpan")){return;}if(this._checked&&this._isOnDesignSurface()){var _22a7=this.getParent().validateSize(this,value,this.get("columnSpan"));if(_22a7){throw new _229f(_22a7,this.get("rowSpan"));}}lang.setObject("RowSpan",value,this.entry);if(this._checked&&this._isOnDesignSurface()){this.getParent().layout(true);}},_getColumnAttr:function(){return lang.getObject("Column",false,this.entry);},_setColumnAttr:function(value){if(value===this.get("column")){return;}if(this._checked&&this._isOnDesignSurface()){var _22a8=this.getParent().validateMove(this,this.get("row"),value);if(_22a8){throw new _229f(_22a8,this.get("column"));}}if(this._checked&&this._isOnDesignSurface()){this.getParent().moveWidget(this,this.get("row"),value);}else{lang.setObject("Column",value,this.entry);}},_getColumnSpanAttr:function(){return lang.getObject("ColumnSpan",false,this.entry);},_setColumnSpanAttr:function(value){if(value===this.get("columnSpan")){return;}if(this._checked&&this._isOnDesignSurface()){var _22a9=this.getParent().validateSize(this,this.get("rowSpan"),value);if(_22a9){throw new _229f(_22a9,this.get("columnSpan"));}}lang.setObject("ColumnSpan",value,this.entry);if(this._checked&&this._isOnDesignSurface()){this.getParent().layout(true);}},_getDataBindingsAttr:function(){return lang.getObject("DataBindings",false,this.entry);},_setDataBindingsAttr:function(value){lang.setObject("DataBindings",value,this.entry);},findDataBinding:function(_22aa){var _22ab=this.get("dataBindings");if(_22ab){for(var i=0;i<_22ab.length;i++){if(_22aa&&_22aa(_22ab[i])){return _22ab[i];}}}return null;},unchecked:function(fn){this._checked=false;try{fn.call(this,this);}finally{this._checked=true;}},applyCaptionAlignment:function(_22ac){if(!this.designCaptionNode||!this.fieldClass){return;}_22ac=_22ac||this.get("captionAlignment");_229d.remove(this.designCaptionNode,_229c.substitute("${0}-left ${0}-center ${0}-right",[this.fieldClass+"-caption"]));_229d.add(this.designCaptionNode,_229c.substitute("${0}-caption-${1}",[this.fieldClass,_22ac]));},applyVisibility:function(_22ad){if(!(this.containerNode)){return;}if(typeof _22ad==="undefined"){_22ad=this.get("visible");}_229d.toggle(this.containerNode,"design-visible-false",!_22ad);},setupFor:function(_22ae){this.entry={"$type":this.quickFormControlType,"Row":0,"RowSpan":1,"Column":0,"ColumnSpan":1};this.set("caption",_22ae["displayName"]);this.set("captionAlignment","left");this.set("controlId",this.form.createUniqueId(_22ae["propertyName"]));this.set("controlLabelPlacement","left");this.set("enabled",true);this.set("isReadOnly",false);this.set("toolTip","");this.set("visible",true);}});});},"Sage/UI/Alarms/AlarmPopup":function(){define("Sage/UI/Alarms/AlarmPopup",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/layout/ContentPane","Sage/Data/WritableSDataStore","Sage/Data/SDataServiceRegistry","Sage/Utility","dojo/string","Sage/UI/Alarms/AlarmPane","Sage/UI/Alarms/UnconfirmedPane","Sage/UI/ImageButton","dojo/i18n","dojo/i18n!./nls/AlarmPopup","dojo/_base/declare"],function(_22af,_22b0,_22b1,_22b2,_22b3,_22b4,_22b5,_22b6,_22b7,_22b8,_22b9,i18n,_22ba,_22bb){var _22bc=_22bb("Sage.UI.Alarms.AlarmPopup",[_22b1,_22af,_22b0],{options:{displayPastDueInToolbar:true,displayAlertsInToolbar:true,promptAlerts:true,includeAlarms:true,includeConfirmations:true,pollInterval:1,defaultSnooze:"5"},_confirmCount:-1,_alarmCount:-1,_dataRequested:false,widgetsInTemplate:true,isOpen:false,templateString:["<div class=\"alarm-popup\">","<div class=\"alarm-title\"><span class=\"alarm-main-title\">&nbsp;${title}</span></div>","<div class=\"alarm-title\">","<span class=\"alarm-tab-head\">&nbsp;</span>","<span dojoAttachEvent=\"onclick:_showAlarmPane\" dojoAttachPoint=\"_alarmBtn\" class=\"alarm-tab alarm-tab-selected\">${alarmsText}</span>","<span dojoAttachEvent=\"click:_showUnconfirmedPane\" dojoAttachPoint=\"_confBtn\" class=\"alarm-tab\">${unconfirmedText}</span>","<span class=\"alarm-tab-tail\">&nbsp;</span>","<span class=\"alarm-title-tools\">","<span dojoType=\"Sage.UI.ImageButton\" id=\"compButton\" imageClass=\"icon_complete_activity_16x16\" title=\"${completeText}\" dojoAttachEvent=\"onClick:_completeClick\" dojoAttachPoint=\"compButton\"></span>","<span dojoType=\"Sage.UI.ImageButton\" id=\"delButton\" imageClass=\"icon_Delete_16x16\" title=\"${deleteText}\" dojoAttachEvent=\"onClick:_deleteClick\" dojoAttachPoint=\"delButton\"></span>","<span dojoType=\"Sage.UI.ImageButton\" imageClass=\"icon_Help_16x16\" title=\"${helpText}\" dojoAttachEvent=\"onClick:_showHelp\" ></span>","</span>","</div>","<div data-dojo-type=\"dijit.layout.StackContainer\" dojoAttachPoint=\"_panelContainer\" class=\"alarm-body\" >","<div data-dojo-type=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_alarmPane\" class=\"alarm-pane\" title=\"alarms\" >","<div data-dojo-type=\"Sage.UI.Alarms.AlarmPane\" dojoAttachPoint=\"_alarms\" dojoAttachEvent=\"onAlertChanged:_alarmchange\"></div>","</div>","<div data-dojo-type=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_confPane\" class=\"alarm-pane\" title=\"Unconfirmed\">","<div data-dojo-type=\"Sage.UI.Alarms.UnconfirmedPane\" dojoAttachPoint=\"_confirms\" dojoAttachEvent=\"onAlertChanged:_confchange\"></div>","</div>","</div>","</div>"].join(""),constructor:function(){dojo.mixin(this,_22ba);},_setOptionsAttr:function(_22bd){this.options=dojo.mixin(this.options,_22bd);this._alarms.setDefaultSnooze(this.options.defaultSnooze||"5");},_getOptionsAttr:function(){return this.options;},drawAlerts:function(){this._dataRequested=true;if(this.options.includeAlarms){if(!this.alarmStore){this.alarmStore=new _22b3({service:_22b4.getSDataService("system"),resourceKind:"useractivities",include:["Activity","User","$descriptors"],sort:[{attribute:"Activity.StartDate",descending:true}]});this._alarms.store=this.alarmStore;}this._fetchAlarms();}else{dojo.addClass(this._alarmBtn,"display-none");this._showUnconfirmedPane();}if(this.options.includeConfirmations){if(!this.confirmStore){this.confirmStore=new _22b3({service:_22b4.getSDataService("dynamic"),resourceKind:"usernotifications",include:["Activity","$descriptors"],select:["Type","Notes","FromUserId","ToUserId","SendDate","Activity/AccountName","Activity/AccountId","Activity/ActivityId","Activity/ContactName","Activity/ContactId","Activity/Description","Activity/Duration","Activity/LeadId","Activity/LeadName","Activity/OpportunityName","Activity/OpportunityId","Activity/Recurring","Activity/StartDate","Activity/Timeless","Activity/Type","Activity/Location","Activity/Leader","Activity/TicketId","Activity/TicketNumber"],sort:[{attribute:"Activity.StartDate",descending:true}]});this._confirms.store=this.confirmStore;}this._fetchConfirms();}else{dojo.addClass(this._confBtn,"display-none");this._showAlarmPane();}},_fetchAlarms:function(){if(this.options.includeAlarms&&this.alarmStore){var where=_22b6.substitute("(User.Id eq '${0}' and Status ne 'asDeclned') and ((Alarm eq true and AlarmTime ne null and AlarmTime lt '${1}') or (Alarm eq null and AlarmTime eq null and Activity.Alarm eq true and Activity.AlarmTime lt '${1}'))",[_22b5.getClientContextByKey("userID"),_22b5.Convert.toIsoStringFromDate(new Date())]);this.alarmStore.fetch({query:where,count:80,start:0,onComplete:this._onAlarmRequestComplete,scope:this});}},_fetchConfirms:function(){if(this.options.includeConfirmations&&this.confirmStore){this.confirmStore.fetch({query:_22b6.substitute("ToUserId eq '${0}' and Type eq 'New'",[_22b5.getClientContextByKey("userID")]),count:40,start:0,onComplete:this._onConfirmRequestComplete,scope:this});}},_onAlarmRequestComplete:function(data){this._alarms._setAlertItemsAttr(data,this.isOpen);this._alarmCount=data.length;this._checkWhichVisible();},_onConfirmRequestComplete:function(data){this._confirms._setAlertItemsAttr(data,this.isOpen);this._confirmCount=data.length;this._checkWhichVisible();},_checkWhichVisible:function(){if(this._alarmCount>0&&this.options.includeAlarms){this._showAlarmPane();}else{if(this._alarmCount===0&&this._confirmCount>0&&this.options.includeConfirmations){this._showUnconfirmedPane();}}},_alarmchange:function(count){dojo.html.set(this._alarmBtn,this.alarmsText+" ("+count+") ");this._alarmCount=count;if(count<1){this._checkWhichVisible();}this.onAlertChanged();},_confchange:function(count){dojo.html.set(this._confBtn,this.unconfirmedText+" ("+count+") ");this._confirmCount=count;if(count<1){this._checkWhichVisible();}this.onAlertChanged();},onOpen:function(){this.isOpen=true;this._panelContainer.resize();if(!this._dataRequested){this.drawAlerts();}else{this._checkWhichVisible();}},onClose:function(){this.isOpen=false;this._alarms.closeTooltips();this._confirms.closeTooltips();},startup:function(){this.inherited(arguments);dojo.subscribe("/entity/activity/delete",this,this.reloadData);},reloadData:function(){this._fetchAlarms();this._fetchConfirms();},reloadAlarms:function(){this._fetchAlarms();},reloadConfirms:function(){this._fetchConfirms();},_showAlarmPane:function(){this._panelContainer.selectChild(this._alarmPane);dojo.addClass(this._alarmBtn,"alarm-tab-selected");dojo.removeClass(this._confBtn,"alarm-tab-selected");dojo.removeClass(this.compButton.domNode,"display-none");dojo.removeClass(this.delButton.domNode,"display-none");this._alarms.onShow();},_showUnconfirmedPane:function(){this._panelContainer.selectChild(this._confPane);dojo.removeClass(this._alarmBtn,"alarm-tab-selected");dojo.addClass(this._confBtn,"alarm-tab-selected");dojo.addClass(this.compButton.domNode,"display-none");dojo.addClass(this.delButton.domNode,"display-none");this._confirms.onShow();},_completeClick:function(){this._alarms.completeSelected();},_deleteClick:function(){this._alarms.deleteSelected();},_showHelp:function(){_22b5.openHelp("alerts");},getAlertCount:function(){return this._alarms.getUnhandledAlertCount()+this._confirms.getUnhandledAlertCount();},onAlertChanged:function(){}});return _22bc;});},"Sage/MainView/JobMgr/JobManagerActions":function(){define("Sage/MainView/JobMgr/JobManagerActions",["dojo/_base/declare","Sage/MainView/JobMgr/RunJobDialog","Sage/UI/Dialogs","dojo/i18n!./nls/JobManagerActions","dojo/string","Sage/Utility","Sage/Utility/Jobs"],function(_22be,_22bf,_22c0,_22c1,_22c2,_22c3,_22c4){Sage.namespace("Sage.MainView.JobMgr.JobManagerActions");dojo.mixin(Sage.MainView.JobMgr.JobManagerActions,{_getSelectedId:function(){var _22c5=_22c3.getSelectionInfo();if(_22c5){if(_22c5.selectedIds.length===1){return _22c5.selectedIds[0];}}return null;},showRunJobDialog:function(isNew){var key=this._getSelectedId();if(!key){_22c0.showInfo(_22c1.error_NoRecordSelected);}else{var _22c6=_22c4.getCurrentGroupId();var _22c7=dijit.byId("dlgRunJob");if(!_22c7){_22c7=new _22bf();}var _22c8=_22c6==="schedules"?key:null;var _22c9={key:key,currentGroupId:_22c6,isNew:isNew,triggerId:_22c8};_22c7.show(_22c9);}},deleteScheduledJob:function(){var key=this._getSelectedId();if(!key){_22c0.showInfo(_22c1.error_NoRecordSelected);}else{_22c0.raiseQueryDialog("Saleslogix",_22c1.confirm_ScheduleDeletion,function(_22ca){if(_22ca){var _22cb=_22c4.getCurrentGroupId();var _22cc=Sage.Services.getService("JobService");if(_22cc.deleteScheduledJob(key)){_22c4.refreshList(_22cb);}}},_22c1.txtYes,_22c1.txtNo);}},showCancelExecutionDialog:function(){var key=this._getSelectedId();if(!key){_22c0.showInfo(_22c1.error_NoRecordSelected);}else{var _22cd={key:key,executionId:key,success:function(data){if(data&&data.status===_22c1.jobStatusComplete){_22c0.showInfo(_22c1.completedJobMessage);}else{var _22ce={title:_22c1.txtInterruptExecutionTitle,query:_22c2.substitute(_22c1.txtInterruptExecutionConfirmationMessage,[""]),callbackFn:function(_22cf){if(_22cf===true){var _22d0={key:key,success:function(_22d1){_22c0.showInfo(_22c1.txtInterruptExecutionMessage,_22c1.txtInterruptExecutionTitle);},failure:function(xhr){}};_22d2.interruptExecution(_22d0);}},yesText:_22c1.txtYes,noText:_22c1.txtNo,icon:"warningIcon"};_22c0.raiseQueryDialogExt(_22ce);}},failure:function(xhr){return true;}};var _22d2=Sage.Services.getService("JobService");_22d2.getExecution(_22cd);}}});return Sage.MainView.JobMgr.JobManagerActions;});},"Sage/QuickForms/Design/Editors/CheckBoxBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/CheckBoxBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/CheckBoxBasicPropertyEditor"],function(_22d3,lang,_22d4,_22d5,_22d6,_22d7,_22d8,_22d9,_22da,_22db,_22dc){return _22d3("Sage.QuickForms.Design.Editors.CheckBoxBasicPropertyEditor",[_22d4,_22da,_22d9],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.toolTipTooltipText %}\">","<label>{%= $.toolTipText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_toolTip\" data-dojo-attach-event=\"onChange:_onToolTipChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.isReadOnlyTooltipText %}\">","<label>{%= $.isReadOnlyText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_isReadOnly\" data-dojo-attach-event=\"onChange:_onIsReadOnlyChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_22dc);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);},_onIsReadOnlyChange:function(value){if(this.isSuspended()){return;}this._designer.set("isReadOnly",value);},_onToolTipChange:function(value){if(this.isSuspended()){return;}this._designer.set("toolTip",value);}});});},"Sage/MainView/JobMgr/JobManagerGroupContextService":function(){define("Sage/MainView/JobMgr/JobManagerGroupContextService",["Sage/Groups/BaseGroupContextService","dojo/string","Sage/Data/SDataServiceRegistry","dojo/_base/lang","Sage/MainView/JobMgr/ExecutionsListPanelConfig","Sage/MainView/JobMgr/JobDefinitionsListPanelConfig","Sage/MainView/JobMgr/SchedulesListPanelConfig","dojox/storage/LocalStorageProvider","dojo/_base/declare","dojo/i18n!./nls/JobManagerGroupContextService"],function(_22dd,_22de,_22df,lang,_22e0,_22e1,_22e2,_22e3,_22e4,_22e5){var _22e6=_22e4("Sage.MainView.JobMgr.JobManagerGroupContextService",_22dd,{_currentContext:null,_currentTabId:false,_currentTabDescription:false,_currentUserId:false,_currentKeyField:"$key",_currentListConfiguration:false,groupConfigTypes:[{key:"executions",descriptor:_22e5.executionsTabDisplayName,keyField:"$key",configProviderType:_22e0},{key:"jobDefinitions",descriptor:_22e5.jobDefinitionsTabDisplayName,keyField:"$key",configProviderType:_22e1},{key:"schedules",descriptor:_22e5.schedulesTabDisplayName,keyField:"$key",configProviderType:_22e2}],_configsHash:false,_LOCALSTORE_NAMESPACE:"JobManagerView",_STORE_KEY_LASTAB:"_LASTTAB",_tabNameCache:{},constructor:function(){this.inherited(arguments);this._currentContext={};dojo.mixin(this._currentContext,this._emptyContext);this._currentContext.CurrentTableKeyField="$key";this._currentContext.AppliedFilterInfo={};this._currentContext.CurrentFamily=null;this._currentContext.notGroupBased=true;var _22e7=this._getDefaultTabId();this.setContext(_22e7,"default");this.unsubscribeConnects();this._subscribes=[];this._subscribes.push(dojo.subscribe(_22de.substitute("/ui/filters/default/refresh"),this,this._onDefaultFilterRefresh));this._onDefaultFilterLoad();},buildCurrentEntityContext:function(){var _22e8=this._currentContext.CurrentGroupID;if(!_22e8){return;}if(this._currentListConfiguration){this._currentContext.CurrentEntity=this._currentListConfiguration.entityName;this._currentContext.CurrentTableKeyField=this.getKeyField(_22e8);if(!this._currentContext.CurrentName){this._currentContext.CurrentName=this.getGroupName(_22e8);}}},_ensureConfigsHash:function(){if(!this._configsHash){var hash={};for(var i=0;i<this.groupConfigTypes.length;i++){var cfg=this.groupConfigTypes[i];hash[cfg.key]=lang.mixin(cfg,{instance:false});}this.configsHash=hash;}},_setListConfig:function(){this._ensureConfigsHash();var tabId=this._currentContext.CurrentGroupID;var _22e9=(this.configsHash.hasOwnProperty(tabId))?this.configsHash[tabId]:this.configsHash["groups"];if(!_22e9.instance){_22e9.instance=new _22e9.configProviderType();this.onTabConfigCreated(_22e9.instance);}else{_22e9.instance.rebuild();}this._currentListConfiguration=_22e9.instance;var _22ea=Sage.Services.getService("JobService");var _22eb=_22ea.getSchedulingSDataService();this._currentListConfiguration.list.service=_22eb;return;},getCurrentListConfig:function(){this._setListConfig();return this._currentListConfiguration;},getKeyField:function(tabid){this._ensureConfigsHash();var _22ec="$key";if(this.configsHash[tabid]){_22ec=this.configsHash[tabid]["keyField"]||"$key";}return _22ec;},getGroupName:function(tabid){this._ensureConfigsHash();var name="default";if(this.configsHash[tabid]){name=this.configsHash[tabid]["descriptor"]||"default";}return name;},onCurrentGroupChanged:function(_22ed){var self=this;dojo.publish("/group/context/changed",[_22ed,this]);this._clearFilterManager();this._onDefaultFilterLoad(function(){var _22ee=self.getContext();self._saveToLocalStorage(self._STORE_KEY_LASTAB,_22ee.CurrentGroupID);});},_clearFilterManager:function(){var _22ef={};var _22f0={};dojo.publish("/ui/filters/default/apply",[_22ef,_22f0,this]);},getContext:function(){if(this._currentContext.CurrentGroupID===null){this.requestContext();}this.buildCurrentEntityContext();return this._currentContext;},requestContext:function(){if(this._isRetrievingContext===true){return;}},setContext:function(id,name){this._currentContext.CurrentGroupID=id;this._currentContext.CurrentName=name;this._setListConfig();this.buildCurrentEntityContext();this._isRetrievingContext=false;this.onContextSet(this._currentContext);},isContextRequired:function(){return !(Sage&&Sage.Groups&&Sage.Groups._groupContext);},setCurrentGroup:function(id,name,_22f1){if(this._currentContext.CurrentGroupID===id){return;}if(!name||!_22f1){this._currentContext.CurrentGroupID=id;this._currentContext.CurrentName=false;this.buildCurrentEntityContext();name=this._currentContext.CurrentName;}else{this._currentContext.CurrentTableKeyField=_22f1;}this.setContext(id,name);this.onCurrentGroupChanged({current:this._currentContext});},_onDefaultFilterLoad:function(_22f2){},_onDefaultFilterRefresh:function(_22f3,_22f4,_22f5){var _22f6=this.getContext(),_22f7=_22df.getSDataService("system"),entry={"$name":"applyFilterToEntity","request":{"entityName":_22f6.CurrentEntity,"filter":dojo.toJson(_22f5.createValueSet()),"key":_22f6.CurrentGroupID}},_22f8=new Sage.SData.Client.SDataServiceOperationRequest(_22f7).setOperationName("applyFilterToEntity");_22f8.execute(entry,{});},getStaticTabs:function(){return this.groupConfigTypes;},_saveToLocalStorage:function(key,value,_22f9){this._saveToSessionStorage(key,value,_22f9);return;},_getFromLocalStorage:function(key,_22fa){return this._getFromSessionStorage(key,_22fa);},_getFromSessionStorage:function(key,_22fb){if(!_22fb){_22fb=this._LOCALSTORE_NAMESPACE;}var _22fc=_22fb+"_"+key;return sessionStorage.getItem(_22fc);},_saveToSessionStorage:function(key,value,_22fd){if(!_22fd){_22fd=this._LOCALSTORE_NAMESPACE;}var _22fe=_22fd+"_"+key;sessionStorage.setItem(_22fe,value);},_getDefaultTabId:function(){var _22ff="executions";var _2300=this._getUrlTabId();if(_2300){_2300=this._validateTabId(_2300);if(_2300){return _2300;}}var _2301=this._getFromLocalStorage(this._STORE_KEY_LASTAB);if(_2301){_22ff=_2301;}if(!this._configsHash){for(var i=0;i<this.groupConfigTypes;i++){if(_22ff===this.groupConfigTypes[i]["key"]){return _22ff;}}}return _22ff;},_getUrlTabId:function(){var tabId=false,_2302="[\\?&]tabId=([^%#]*)",regex=new RegExp(_2302),_2303=regex.exec(window.location.href);if(_2303!==null){tabId=_2303[1];}return tabId;},_validateTabId:function(tabId){if(tabId){for(var i=0;i<this.groupConfigTypes.length;i++){var cfg=this.groupConfigTypes[i];if(cfg.key.toUpperCase()===tabId.toUpperCase()){return cfg.key;}}}return null;},onTabConfigCreated:function(_2304){}});if(!Sage.Services.hasService("ClientGroupContext")){Sage.Services.addService("ClientGroupContext",new _22e6());}else{var _2305=Sage.Services.getService("ClientGroupContext");if(_2305.declaredClass!=="Sage.MainView.JobMgr.JobManagerGroupContextService"){_2305.unsubscribeConnects();Sage.Services.removeService("ClientGroupContext");Sage.Services.addService("ClientGroupContext",new _22e6());}}return _22e6;});},"Sage/QuickForms/Design/Editors/RowBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/RowBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dojox/layout/ContentPane","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/RowBasicPropertyEditor"],function(_2306,lang,_2307,_2308,_2309,_230a,_230b,_230c,_230d,_230e,_230f){return _2306("Sage.QuickForms.Design.Editors.RowBasicPropertyEditor",[_2307,_230d,_230c],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.indexTooltipText %}\">","<label>{%= $.indexText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_index\" data-dojo-attach-event=\"onChange:_onIndexChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_index:null,titleText:"Basic",appearanceText:"Appearance",indexText:"Index:",indexTooltipText:"Number of the row or column, beginning with zero.",constructor:function(){lang.mixin(this,_230f);},setup:function(){this.inherited(arguments);this._index.set("value",this._designer.get("index"));},_onIndexChange:function(value){}});});},"Sage/UI/ListPanel":function(){define("Sage/UI/ListPanel",["dojo/i18n","dijit/layout/BorderContainer","dijit/layout/StackContainer","dijit/layout/ContentPane","dijit/Toolbar","dijit/ToolbarSeparator","dojox/grid/EnhancedGrid","Sage/_Templated","Sage/UI/Filters/FilterManager","Sage/UI/ToolBarLabel","dijit/Menu","dojox/grid/enhanced/plugins/Menu","Sage/Utility","dojox/storage/LocalStorageProvider","Sage/UI/_DetailPane","dijit/_Widget","dojox/grid/enhanced/plugins/IndirectSelection","Sage/UI/Grid/Plugins/ShowHideColumns","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/i18n!./nls/ListPanel","dojo/_base/sniff","dojo/dom-geometry","dijit/registry","dojo/_base/connect","dojo/ready"],function(i18n,_2310,_2311,_2312,_2313,_2314,_2315,_2316,_2317,_2318,_2319,_231a,util,_231b,_231c,_231d,_231e,_231f,array,lang,_2320,_2321,has,_2322,_2323,_2324,ready){var _2325=_2320("Sage.UI.ListPanel",[_2310,_231d,_2316],{widgetsInTemplate:true,contentTemplate:new Simplate(["{%! $.menuTemplate %}","{%! $.listTemplate %}","{%! $.detailTemplate %}"]),listTemplate:new Simplate(["<div data-dojo-type=\"dijit.layout.StackContainer\" region=\"center\" splitter=\"true\" data-dojo-attach-point=\"_gridContainer\">","<div data-dojo-type=\"dijit.layout.ContentPane\" data-dojo-attach-point=\"_noConfigurationPane\"></div>","<div id=\"{%= $.id %}_listGrid\" columnReordering=\"true\" class=\"listGrid\" data-dojo-type=\"{%= $.gridType %}\" data-dojo-attach-point=\"_listGrid\" plugins=\"{menus:{selectedRegionMenu:'_listContextmenu', rowMenu:'_listContextmenu'}, indirectSelection: {%: $._indirectSelection%}, showHideColumns: true}\" dojoAttachEvent=\"onRowClick:_onRowClick,onRowContextMenu:_onRowContextMenu,onSelected:_onSelectedInList,onSelectionChanged:_onSelectionChanged,onResizeColumn:_onResizeColumn,onHeaderCellClick:_onHeaderCellClick,onCellClick:_onCellClick,onRowDblClick:_onRowDblClick\">","<div data-dojo-type=\"dijit.Menu\" id=\"_listContextmenu\" dojotAttachPoint=\"_listContextmenu\" style=\"display:none\" ></div>","</div>","<div id=\"{%= $.id %}_summaryGrid\" class=\"summaryGrid\" data-dojo-type=\"{%= $.gridType %}\" selectionMode=\"none\" data-dojo-attach-point=\"_summaryGrid\" dojoAttachEvent=\"onRowClick:_onRowClick,onRowContextMenu:_onRowContextMenu,onSelected:_onSelectedInSummary,onSelectionChanged:_onSelectionChanged\"></div>","</div>"]),menuTemplate:new Simplate(["<div data-dojo-type=\"dijit.Toolbar\" region=\"top\" splitter=\"false\" id=\"{%= $.id %}_toolbar\" style=\"{%= $.toolbarStyle %}\" data-dojo-attach-point=\"_tbar\" class=\"list-panel-tbar right-tools\">","<div data-dojo-type=\"Sage.UI.ToolBarLabel\" label=\"\" data-dojo-attach-point=\"_tbarLabel\" class=\"list-panel-left-tools\"></div>","<div data-dojo-type=\"Sage.UI.ToolBarLabel\" label=\"\" data-dojo-attach-point=\"_tbarOverflowLabel\" class=\"list-panel-left-tools\" style=\"display:none;\"></div>","<div data-dojo-type=\"Sage.UI.ToolBarLabel\" label=\"{%= $.unsavedDataText %}\" data-dojo-attach-point=\"_unsavedDataLabel\" class=\"display-none\"></div>","<div data-dojo-type=\"Sage.UI.ToolBarLabel\" label=\"\" data-dojo-attach-point=\"_filterSummary\" class=\"filter-summary-view\"></div>","<div data-dojo-type=\"dijit.form.Button\" showLabel=\"true\" id=\"{%= $.id %}_detailBtn\" data-dojo-attach-point=\"_detailButton\" dojoAttachEvent=\"onClick:toggleDetail\" class=\"list-panel-tool-detail\">{%= $.detailText %}</div>","<span data-dojo-type=\"dijit.ToolbarSeparator\" data-dojo-attach-point=\"_buttonSection\" class=\"list-panel-tool-section\"></span>","<div data-dojo-type=\"dijit.form.Button\" showLabel=\"true\" id=\"{%= $.id %}_listBtn\" data-dojo-attach-point=\"_listButton\" dojoAttachEvent=\"onClick:showList\" class=\"list-panel-tool-list\">{%= $.listText %}</div>","<div data-dojo-type=\"dijit.form.Button\" showLabel=\"true\" id=\"{%= $.id %}_summaryBtn\" data-dojo-attach-point=\"_summaryButton\" dojoAttachEvent=\"onClick:showSummary\" class=\"list-panel-tool-summary\">{%= $.summaryText %}</div>","<div data-dojo-type=\"Sage.UI.ImageButton\" iconClass=\"Global_Images icon16x16 icon_refresh\"  tooltip=\"{%: $.refreshText %}\" id=\"refreshBtn\" data-dojo-attach-point=\"_refreshButton\" dojoAttachEvent=\"onClick:refreshView\" class=\"list-panel-tool-help\"></div>","<div data-dojo-type=\"Sage.UI.ImageButton\" iconClass=\"Global_Images icon16x16 icon_Help_16x16\" tooltip=\"{%: $.helpText %}\" id=\"helpBtn\" data-dojo-attach-point=\"_helpButton\" dojoAttachEvent=\"onClick:showHelp\" class=\"list-panel-tool-help\"></div>","</div>"]),detailTemplate:new Simplate(["<div data-dojo-type=\"{%= $.detailType %}\" region=\"{%= $.detailRegion %}\" splitter=\"true\" style=\"{%= $.detailStyle %}\" data-dojo-attach-point=\"_detailPane\">","</div>"]),_filterGroup:null,_filterSubscriptions:null,_filterManager:null,_toolbarApplied:false,_configurationProvider:null,_configurationConnects:null,_contextConnects:null,_dataChangeWatchers:[],_gridContainer:null,_noConfigurationPane:null,_listGrid:null,_indirectSelection:"",_summaryGrid:null,_detailPane:null,_tbar:null,_tbarCustom:false,_tbarLabel:null,_buttonSection:null,_detailButton:null,_listButton:null,_summaryButton:null,_helpButton:null,_filterSummary:null,_unsavedDataLabel:null,_forcedFilterPublish:false,_listMode:"list",helpTopicName:"listview",gutters:false,toolbarStyle:"",gridType:"dojox.grid.EnhancedGrid",initialGrid:"list",filterGroup:"default",detailVisible:false,detailOnSummary:false,detailRegion:"bottom",detailStyle:"height: 256px;",detailType:"dijit.layout.ContentPane",autoConfigure:true,hasCheckBox:false,autoFitColumns:true,listText:"List",summaryText:"Summary",detailText:"Detail",hideDetailText:"Hide Detail",unsavedDataText:"*unsaved data",helpText:"Help",refreshText:"Refresh",ofText:"of",FILTER_UPDATE_DELAY:1000,STORE_KEY_COLUMN_SIZE:"_COLUMN_UNIT_WIDTH_",STORE_KEY_SORT_INFO:"_GRID_SORT_PROPS_",STORE_KEY_LAYOUT_INFO:"_GRID_LAYOUT_PROPS_",STORE_KEY_TOGGLE_INFO:"_GRID_TOTTLE_PROPS_",STORE_KEY_STORE_QUERY:"_STORE_QUERY_",STORE_KEY_VIEWSTATE:"LISTPANEL_VIEWSTATE",RECORD_WARNING_SIZE:30000,constructor:function(){this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);lang.mixin(this,_2321);this._setupCheckBox();this._setupAutoFit();},postCreate:function(){this.inherited(arguments);if(this._listGrid){this.connect(this._listGrid.scroller,"scroll",this._onListScroll);this.connect(this._summaryGrid.scroller,"scroll",this._onSummaryScroll);this._listGrid.canSort=function(col){var cells=this.layout.cells;var cell=cells[Math.abs(col)-1];if(cell.nosort){return false;}return true;};this._listGrid.columnReordering=true;this._listGrid.selectionMode="extended";dojo.connect(this._listGrid,"onMoveColumn",this,function(type,_2326,cols){var cells=this._listGrid.layout.cells,_2327=[],i=0,key="";for(i=0;i<cells.length;i++){if(cells[i].field){_2327.push(cells[i].field);}}key=this._getGridLayoutKey();this._saveToLocalStorage(key,_2327);});dojo.subscribe("/sage/ui/grid/columnToggle/"+this._listGrid.id,dojo.hitch(this,function(cell){var cells=this._listGrid.layout.cells,_2328=[],i=0,key="";for(i=0;i<cells.length;i++){_2328.push({field:cells[i].field,hidden:cells[i].hidden});}key=this._getGridColumnToggleKey();this._saveToLocalStorage(key,_2328);}));}this._gridContainer.selectChild(this._noConfigurationPane);if(this._detailPane.isInstanceOf(_231c)){this._detailPane.set("owner",this);}this._setDetailPaneVisibility(false);if(this._tbarOverflowLabel){this._tbarOverflowLabel.set("label",_2321.overflowText);}this._updateToolbarItemVisibility();},startup:function(){this.inherited(arguments);if(this.autoConfigure){this.requestConfiguration();}},uninitialize:function(){this.inherited(arguments);if(this._filterManager){this._filterManager.destroy();}if(this._configurationProvider){this._configurationProvider.destroy();}},getAppliedFilterCount:function(){return this._filterManager&&this._filterManager.getAppliedFilterCount();},_setupCheckBox:function(){var _2329=Sage.Services.getService("UserOptions");this._indirectSelection="false";if(_2329&&_2329.get){_2329.get("GroupCheckboxEnabled","GroupGridView",lang.hitch(this,function(data){var _232a=data&&data.value;if(_232a==="True"||_232a==="T"){this._indirectSelection="{ draggable: false}";this.hasCheckBox=true;}else{this.hasCheckBox=false;}}),null,this,false);}},_setupAutoFit:function(){var _232b=Sage.Services.getService("UserOptions");if(_232b&&_232b.get){_232b.get("autoFitColumns","GroupGridView",lang.hitch(this,function(data){var val=data&&data.value;if(val==="True"||val==="T"){this.autoFitColumns=true;}else{this.autoFitColumns=false;}}),null,this,false);}},_setSortInfo:function(store){var key=this._getGridSortKey(),_232c=this._getFromLocalStorage(key);if(_232c){if(_232c.descending){this._listGrid.sortInfo=(_232c.cellIndex+1)*-1;}else{this._listGrid.sortInfo=_232c.cellIndex+1;}store.sort=[_232c];}else{this._listGrid.sortInfo=0;}},_setSummarySortInfo:function(store){var key=this._getGridSortKey(),_232d=this._getFromLocalStorage(key);if(_232d){store.sort=[_232d];}},_setColumnSizes:function(_232e){var cells=_232e;if(_232e[0].cells){cells=_232e[0].cells[0];}array.forEach(cells,function(item){if(item&&item.field){var key=this._getColumnSizeKey(item.field),value=this._getFromLocalStorage(key);if(value){item.width=value;}}},this);},_doAutoFitColumns:function(){if(!this.autoFitColumns){return;}var _232f=this._listGrid.get("structure"),cells=_232f,_2330=0,_2331,_2332,_2333=0;if(_232f&&_232f[0].cells){cells=_232f[0].cells[0];}array.forEach(cells,function(item){if(item&&item.field){var key=this._getColumnSizeKey(item.field),value=this._getFromLocalStorage(key);if(value){item.width=value;}if(!this._isFieldHidden(item.field)){_2330+=parseInt(item.width,10);}}},this);_2331=_2322.getContentBox("list");_2332=_2331.w;if(this.hasCheckBox){_2333=200;}else{_2333=155;}_2332=_2332-_2333;array.forEach(cells,function(item){var width,pct,_2334;if(item&&item.field&&!this._isFieldHidden(item.field)){width=parseInt(item.width,10);pct=width/_2330;_2334=Math.round(_2332*pct);item.width=_2334+"px";}},this);this._listGrid.set("structure",_232f);this._updateColumnVisibility();},_updateStructureFromLocalStore:function(){var key=this._getGridLayoutKey(),_2335=this._listGrid.structure,_2336=this._getFromLocalStorage(key),cells;if(_2336){if(_2335[0].cells){cells=_2335[0].cells[0];}else{cells=_2335;}if(cells){cells.sort(function(a,b){var _2337=array.indexOf(_2336,a.field),_2338=array.indexOf(_2336,b.field);if(_2337>_2338){return 1;}if(_2337<_2338){return -1;}return 0;});}this._listGrid.set("structure",_2335);}this._updateColumnVisibility();},_isFieldHidden:function(field){var _2339,_233a,_233b;_2339=this._getGridColumnToggleKey();_233a=this._getFromLocalStorage(_2339);_233b=false;if(_233a){array.forEach(_233a,lang.hitch(this,function(item){if(item.field===field){_233b=item.hidden;}}));}return _233b;},_updateColumnVisibility:function(){var _233c,_233d;_233c=this._getGridColumnToggleKey();_233d=this._getFromLocalStorage(_233c);if(_233d){array.forEach(this._listGrid.layout.cells,lang.hitch(this,function(cell){array.forEach(_233d,lang.hitch(this,function(item){if(item.field===cell.field){this._listGrid.layout.setColumnVisibility(cell.index,!item.hidden);}}));}));}},_handleConfigurationChange:function(){this._listGrid.selection.clear();if(this._detailPane){this._detailPane.clear();}this.requestConfiguration();},_setConfigurationProviderAttr:function(value){if(this._configurationConnects){array.forEach(this._configurationConnects,function(_233e){this.disconnect(_233e);},this);}if(this._configurationProvider&&this._configurationProvider!==value){this._configurationProvider.destroy();}this._configurationProvider=value;this._configurationConnects=[];if(this._configurationProvider){this._configurationConnects.push(this.connect(this._configurationProvider,"onConfigurationChange",this._handleConfigurationChange));this._configurationProvider.set("owner",this);if(this._created){if(this.autoConfigure){this.requestConfiguration();}}}},_getConfigurationProviderAttr:function(){return this._configurationProvider;},_setFilterGroupAttr:function(value){if(this._filterSubscriptions){array.forEach(this._filterSubscriptions,function(_233f){this.unsubscribe(_233f);},this);}this._filterGroup=value;this.set("filterManager",new _2317({filterGroup:this._filterGroup}));this._filterSubscriptions=[];this._filterSubscriptions.push(this.subscribe(dojo.string.substitute("/ui/filters/${0}/change",[this._filterGroup]),this._onFilterChange));var _2340=util.debounce(lang.hitch(this,this._onFilterRefresh),this.FILTER_UPDATE_DELAY);this._filterSubscriptions.push(this.subscribe(dojo.string.substitute("/ui/filters/${0}/refresh",[this._filterGroup]),_2340));this._ensureApplyFilterWasPublished();},_ensureApplyFilterWasPublished:function(_2341){if(this._forcedFilterPublish){return;}var _2342,_2343;_2342=Sage.Services.getService("ClientGroupContext");_2343=_2342&&_2342.getContext();if(_2343&&_2343.AppliedFilterInfo){_2342.publishFiltersApplied(_2343.AppliedFilterInfo);}if(this._filterManager&&_2341&&_2342.applyFilters){_2342.applyFilters(this._filterManager);}this._forcedFilterPublish=true;},_getFilterGroupAttr:function(){return this._filterGroup;},_setFilterManagerAttr:function(value){if(this._filterManager&&this._filterManager!==value){this._filterManager.destroy();}this._filterManager=value;if(this._filterManager){this._filterManager.set("owner",this);}},_getFilterManagerAttr:function(){return this._filterManager;},_onFilterChange:function(){},_onFilterRefresh:function(_2344,_2345,_2346){this._listGrid.selection.clear();if(this._detailPane){this._detailPane.clear();}var query=_2346.createQuery(),key=this._getStoreQueryKey();if(this._listMode==="summary"&&this._hasConfigurationForSummary()){this._summaryGrid.queryOptions=this._summaryGrid.queryOptions||{};this._summaryGrid.filter(query);}else{this._listGrid.queryOptions=this._listGrid.queryOptions||{};this._listGrid.queryOptions.httpMethodOverride=!!query;this._listGrid.filter(query,true);}this._saveToLocalStorage(key,{store:this._listGrid.store,query:query});},_setConfigurationAttr:function(_2347){this._applyConfiguration(_2347);},_getListAttr:function(){return this._listGrid;},_getSummaryAttr:function(){return this._summaryGrid;},_getDetailAttr:function(){return this._detailPane;},_applyConfigurationFailed:function(_2348){dojo.publish("/listView/applyConfiguration",this);},_applyConfiguration:function(_2349){this._forcedFilterPublish=false;dojo.publish("/listView/applyConfiguration",this);var key=this._getViewStateKey(),state=this._getFromLocalStorage(key,this._getViewNS());if(state){this.initialGrid=state;}this._configuration=_2349;this._gridContainer.selectChild(this._noConfigurationPane);if(this.initialGrid==="list"&&this._hasConfigurationForList()){this.showList();}if(this._hasConfigurationForSummary()){this._configuration.summary.active=false;}if(this.initialGrid==="summary"&&this._hasConfigurationForSummary()){if(this._gridContainer.selectedChildWidget===this._noConfigurationPane){this.showSummary();}}this._applyToolBar();if(this._configuration&&this._configuration.list&&this._configuration.list.selectionMode&&this._configuration.list.selectionMode==="single"){this._listGrid.selection.setMode("single");}else{if(this._configuration&&this._configuration.list&&this._configuration.list.selectionMode&&this._configuration.list.selectionMode==="none"){this._listGrid.selection.setMode("none");}else{this._listGrid.selection.setMode("extended");}}},_applyToolBar:function(){var _234a,i,items;if(this._tbarCustom){_234a=this._tbar.getChildren();for(i=0;i<_234a.length;i++){if(_234a[i].custom){this._tbar.removeChild(_234a[i]);}}this._tbarCustom=false;}if(this._toolbarApplied&&!this._configuration.updateToolBar){return;}if(this._configuration&&this._configuration.toolBar){items=this._configuration.toolBar.items||[];if(items.length>0){this._tbarCustom=true;}for(i=0;i<items.length;i++){if(items[i].icon||items[i].imageClass){this._tbar.addChild(new Sage.UI.ImageButton(items[i]),i);}else{this._tbar.addChild(new dijit.form.Button(items[i]),i);}}}this._toolbarApplied=true;},_setDetailPaneVisibility:function(value){if(value){if(this._hasConfigurationForDetail()&&!this._isConfigurationActiveForDetail()){if(this._detailPane.isInstanceOf(_231c)){this._detailPane.set("configuration",this._configuration.detail);}this._configuration.detail.active=true;}this._detailButton.set("label",this.hideDetailText);this.addChild(this._detailPane);var _234b=this._getSelection(0);if(_234b){this._detailPane._onSelected(_234b.rowIndex,_234b,this._listGrid);}else{this._detailPane.clear();}}else{this._detailButton.set("label",this.detailText);this.removeChild(this._detailPane);}},_getSelection:function(index){var sels=this._listGrid.selection.getSelected();var _234c=null;for(var i=0;i<sels.length;i++){if(index==i){_234c=sels[i];return _234c;}}return _234c;},_updateToolbarItemVisibility:function(){dojo.toggleClass(this.domNode,"list-panel-has-summary",this._canShowSummaryLink());dojo.toggleClass(this.domNode,"list-panel-has-detail",this._canShowDetailPane());},_canShowSummaryLink:function(){return (this._hasConfigurationForSummary()||(this._configurationProvider&&this._configurationProvider.summaryOptions));},_canShowDetailPane:function(){return (this._hasConfigurationForDetail()&&((this._gridContainer.selectedChildWidget!==this._summaryGrid)||this.detailOnSummary));},_shouldShowDetailPane:function(){return (this._canShowDetailPane()&&this.detailVisible);},_hasConfigurationForList:function(){return (this._configuration&&this._configuration.list);},_hasConfigurationForSummary:function(){return (this._configuration&&this._configuration.summary);},_hasConfigurationForDetail:function(){return (this._configuration&&this._configuration.detail);},_isConfigurationActiveForList:function(){return (this._hasConfigurationForList()&&this._configuration.list.active);},_isConfigurationActiveForSummary:function(){return (this._hasConfigurationForSummary()&&this._configuration.summary.active);},_isConfigurationActiveForDetail:function(){return (this._hasConfigurationForDetail()&&this._configuration.detail.active);},_onRowClick:function(e){this.onRowClick(e.rowIndex,e.grid.getItem(e.rowIndex),e.grid);},_onRowContextMenu:function(e){var _234d=e.grid.selection,_234e=_234d.getSelected();if(_234e.length===0){_234d.select(e.rowIndex);}this.onRowContextMenu(e.rowIndex,e.grid.getItem(e.rowIndex),e.grid);},_onSelectedInList:function(index){this.onSelected(index,this._listGrid.getItem(index),this._listGrid);},_onSelectedInSummary:function(index){this.onSelected(index,this._summaryGrid.getItem(index),this._summaryGrid);},_onSelectionChanged:function(){dojo.publish("/sage/ui/list/selectionChanged",this);this.onSelectionChanged();},_onResizeColumn:function(_234f){var grid=this._listGrid,cell=grid.getCell(_234f),value=cell.unitWidth,key=this._getColumnSizeKey(cell.field);this._saveToLocalStorage(key,value);this._doAutoFitColumns();},_onHeaderCellClick:function(e){var grid=this._listGrid,key=this._getGridSortKey(),value,_2350=grid.getSortProps();grid.selection.clear();if(_2350&&_2350.length>0){value=_2350[0];value.cellIndex=e.cell.index;if(e.cell.nosort){return;}grid.setSortIndex(value.cellIndex,!value.descending);this._saveToLocalStorage(key,value);}},_onRowDblClick:function(e){if(this._configuration.list.onNavigateToDefaultItem){if(e.rowIndex>-1){var item=e.grid._by_idx[e.rowIndex].item;this._configuration.list.onNavigateToDefaultItem(item);}}},_onCellClick:function(e){var i,inc=1,_2351=e.grid.selection.isSelected(e.rowIndex),_2352;if(has("ie")>8){try{var _2353=document.getSelection();if(_2353&&_2353.removeAllRanges){_2353.removeAllRanges();}}catch(err){}}if(e.grid.rowSelectCell){if(e.grid.rowSelectCell.index!==e.cell.index){if(e.shiftKey===true&&e.grid.rowSelectCell.lastClickRowIdx!==e.rowIndex){if(e.grid.rowSelectCell.lastClickRowIdx>e.rowIndex){inc=-1;}for(i=e.grid.rowSelectCell.lastClickRowIdx;i!==e.rowIndex;i+=inc){e.grid.rowSelectCell.toggleRow(i,true);}e.grid.rowSelectCell.toggleRow(e.rowIndex,true);}else{e.grid.rowSelectCell.toggleRow(e.rowIndex,!_2351);if(this._shouldShowDetailPane()&&_2351){_2352=this._getSelection(0);if(_2352){this._detailPane._onSelected(_2352.rowIndex,_2352,e.grid);}else{this._detailPane.clear();}}}e.grid.rowSelectCell.lastClickRowIdx=e.rowIndex;}else{if(this._shouldShowDetailPane()&&_2351){e.grid.rowSelectCell.toggleRow(e.rowIndex,!_2351);_2352=this._getSelection(0);e.grid.rowSelectCell.toggleRow(e.rowIndex,_2351);if(_2352){this._detailPane._onSelected(_2352.rowIndex,_2352,e.grid);}else{this._detailPane.clear();}}}}},_saveToLocalStorage:function(key,value,_2354){var _2355;key=this._alterKeyForLookupResults(key);try{_2355=new _231b();_2355.initialize();if(!_2354){_2354=this._getGroupNS();}_2354=this._makeValidNamespace(_2354);_2355.put(key,value,function(_2356,key,_2357){if(_2356===_2355.FAILED){console.error("Failed writing key: "+key+" in local storage. Message: "+_2357);}},_2354);}catch(err){console.error(err);}},_getFromLocalStorage:function(key,_2358){var _2359,_235a;key=this._alterKeyForLookupResults(key);try{_2359=new _231b();_2359.initialize();if(!_2358){_2358=this._getGroupNS();}_2358=this._makeValidNamespace(_2358);_235a=_2359.get(key,_2358);}catch(err){console.error(err);}return _235a;},_alterKeyForLookupResults:function(key){if((/LOOKUPRESULTS/).test(key)){var _235b=this._getMainViewName();key=key.replace("LOOKUPRESULTS","LOOKUPRESULTS"+(_235b!=-1?_235b:""));}return key;},_makeValidNamespace:function(ns){return ns.replace(/[^0-9^A-Z^a-z^\-]/g,"-");},_getGroupNS:function(){var ns=Sage.Groups.GroupManager.LOCALSTORE_NAMESPACE+"-"+this._getGroupID();return ns;},_getViewNS:function(){var ns=Sage.Groups.GroupManager.LOCALSTORE_NAMESPACE+"-"+this._getMainViewName();return ns;},_getGroupID:function(){var _235c=Sage.Services.getService("ClientGroupContext"),_235d=-1,_235e=null;if(_235c){_235e=_235c.getContext();if(_235e){_235d=_235e.CurrentGroupID;}}return _235d;},_getMainViewName:function(){if(this._configurationProvider._mainViewName){return this._configurationProvider._mainViewName;}var _235f=Sage.Services.getService("ClientGroupContext"),_2360=-1,_2361=null;if(_235f){_2361=_235f.getContext();if(_2361){_2360=_2361.CurrentEntity;}}return _2360;},_getColumnSizeKey:function(_2362){var _2363=_2362.replace(/[\.\$]/g,"_"),id=this._listGrid.id+"_"+this._configuration.list.id+"_"+this.STORE_KEY_COLUMN_SIZE+_2363;return id;},_getGridSortKey:function(){return this._keyGen(this.STORE_KEY_SORT_INFO);},_getGridLayoutKey:function(){return this._keyGen(this.STORE_KEY_LAYOUT_INFO);},_getGridColumnToggleKey:function(){return this._keyGen(this.STORE_KEY_TOGGLE_INFO);},_getViewStateKey:function(){return this.STORE_KEY_VIEWSTATE;},_getStoreQueryKey:function(){var id=this.STORE_KEY_STORE_QUERY+this._getGroupID();return id;},_keyGen:function(_2364){var id=this._listGrid.id+_2364+this._configuration.list.id;return id;},_onListScroll:function(){this._onScroll(this._listGrid.scroller);},_onSummaryScroll:function(){this._onScroll(this._summaryGrid.scroller);},_onScroll:function(_2365){var _2366,_2367,count,lbl;if(_2365.rowCount>=this.RECORD_WARNING_SIZE){this._tbarOverflowLabel.domNode.style.display="block";}else{this._tbarOverflowLabel.domNode.style.display="none";}if(this._tbarLabel){count=_2365.rowCount;if(count<=0){_2366=0;_2367=0;count=0;}else{_2366=(_2365.firstVisibleRow===0)?1:_2365.firstVisibleRow+1;_2367=(_2365.lastVisibleRow>=_2365.rowCount)?_2365.rowCount:_2365.lastVisibleRow+1;}lbl=dojo.string.substitute("${0} ${1} - ${2} ${3} ${4}",[this.displayingText,_2366,_2367,this.ofText,count]);this._tbarLabel.set("label",lbl);}},_markDirty:function(_2368){this._unsavedDataLabel.set("style","display:inline");},_markClean:function(){this._unsavedDataLabel.set("style","display:none");},getTotalSelectionCount:function(){var _2369=0,sel;if(this._listMode==="list"){this._configuration.list.active=true;}if(!this._isConfigurationActiveForList()||!this._listGrid){return [];}sel=this._listGrid.selection;if(sel){_2369=sel.getSelectedCount();}return _2369;},getSelectionInfo:function(_236a){var _236b,_236c,_236d,mode,_236e,_236f,_2370,_2371,sels,_2372=[],i,_2373;if(this._listMode==="list"){this._configuration.list.active=true;}if(!this._isConfigurationActiveForList()||!this._listGrid){return [];}_236b=this._listGrid.rowCount||0;_236c=this.getTotalSelectionCount();_236d=this.id;mode="selection";_236e=[];_236f=Sage.Services.getService("ClientGroupContext");_2370=(_236f)?_236f.getContext().CurrentTableKeyField||"":"";if(this._configuration.hasCompositeKey){_2371=this._configuration.hasCompositeKey;}else{_2371=false;}sels=this._listGrid.selection.getSelected();_2372=[];for(i=0;i<sels.length;i++){if(sels[i]){var _2374={rn:0,id:sels[i][_2370]};if(_236a){_2374["entity"]=sels[i];}_236e.push(_2374);_2372.push(sels[i][_2370]);}}_2373={key:_236d,mode:mode,selectionCount:_236c,recordCount:_236b,sortDirection:"",sortField:"",keyField:_2370,hasCompositeKey:_2371,ranges:[],selections:_236e,selectedIds:_2372};return _2373;},requestConfiguration:function(){ready(lang.hitch(this,function(){if(this._configurationProvider){this._configurationProvider.requestConfiguration({success:lang.hitch(this,this._applyConfiguration),failure:lang.hitch(this,this._applyConfigurationFailed)});}}));},refreshView:function(){if(this._configuration.rebuildOnRefresh){this.requestConfiguration();}this.refreshList();dojo.publish("/listView/refresh",this);},refreshList:function(_2375){if(this._listMode!=="list"){this.refreshSummary();return;}if(!_2375){this._listGrid._refresh();}else{if(this._configuration._listId===_2375){this._listGrid._refresh();}}if(this._listGrid&&this._listGrid.selection){this._listGrid.selection.clear();}if(this._detailPane){this._detailPane.clear();}},refreshSummary:function(){if(this._hasConfigurationForSummary()&&(this._listMode!=="list")){this._summaryGrid._refresh();}},showHelp:function(){util.openHelp(this.helpTopicName);},refreshGrid:function(){this._listGrid.selection.clear();this.refreshList();this.refreshSummary();},showList:function(){var query,_2376,_2377,_2378,i,cMenu,_2379,_237a,store,key,_237b,_237c;this._listMode="list";if(!this._hasConfigurationForList()){return;}_237b=this._getViewStateKey();this._saveToLocalStorage(_237b,"list",this._getViewNS());this._ensureApplyFilterWasPublished(true);query=this._filterManager.createQuery();key=this._getStoreQueryKey();_2376=this._listGrid.queryOptions||{};_2376.httpMethodOverride=!!query;this._setSortInfo(this._configuration.list.store);if(this._configuration.list.rowsPerPage>0){this._listGrid.set("rowsPerPage",this._configuration.list.rowsPerPage);}this._listGrid._setStore(this._configuration.list.store);this._listGrid._setQuery(query,_2376);this._saveToLocalStorage(key,{store:this._configuration.list.store,query:query});if(this._listGrid.structure!==this._configuration.list.structure){this._setColumnSizes(this._configuration.list.structure);this._listGrid.set("structure",this._configuration.list.structure);this._doAutoFitColumns();this._updateStructureFromLocalStore();}this._listGrid._refresh(true);if(!this._isConfigurationActiveForList()){if(this._dataChangeWatchers.length>0){array.forEach(this._dataChangeWatchers,dojo.disconnect);this._dataChangeWatchers=[];}if(this._configuration.list.formatterScope&&(this._listGrid.formatterScope!==this._configuration.list.formatterScope)){this._listGrid.set("formatterScope",this._configuration.list.formatterScope);}if(this._configuration.rebuildMenus){_2377=this._listGrid.selectedRegionMenu.getChildren();for(i=0;i<_2377.length;i++){_2378=_2377[i];this._listGrid.selectedRegionMenu.removeChild(_2378);}}_2379=this._configuration.list.selectedRegionContextMenuItems||[];if(_2379.length>0){_237a=this._listGrid.selectedRegionMenu.getChildren();if(_237a.length!==_2379.length){cMenu=this._listGrid.selectedRegionMenu;for(i=0;i<_2379.length;i++){cMenu.addChild(_2379[i]);}if(this._configuration.list.onSelectedRegionContextMenu){if(this._contextConnects){array.forEach(this._contextConnects,dojo.disconnect);}this._contextConnects=[];this._contextConnects.push(dojo.connect(this._listGrid,"onRowContextMenu",this._configurationProvider,this._configuration.list.onSelectedRegionContextMenu));}}}store=this._listGrid.store;if(store&&store!==null){if(store.features.hasOwnProperty("dojo.data.api.Write")){this._dataChangeWatchers.push(dojo.connect(store,"onSet",this,function(_237d,_237e,_237f,_2380){if(_237f!==_2380){this._markDirty(_237d);}}));if(store.onDataReset){this._dataChangeWatchers.push(dojo.connect(store,"onDataReset",this,"_markClean"));}}}}this._configuration.list.active=true;this._gridContainer.selectChild(this._listGrid);this._setDetailPaneVisibility(this._shouldShowDetailPane());this._updateToolbarItemVisibility();_237c=_2323.byId("centerContent");},showSummary:function(){var _2381,query;this._listMode="summary";if(!this._hasConfigurationForSummary()){this._configuration.summary=this._configurationProvider._createConfigurationForSummary();}query=this._filterManager.createQuery();this._setSummarySortInfo(this._configuration.summary.store);this._summaryGrid.setStore(this._configuration.summary.store,query);this._summaryGrid.setStructure(this._configuration.summary.structure);dojo.connect(this._summaryGrid,"_onFetchComplete",this,lang.hitch(this,function(){this._summaryGrid.resize();}));if(this._listGrid.selection){this._listGrid.selection.clear();}if(!this._isConfigurationActiveForSummary()){_2381=this._getViewStateKey();this._saveToLocalStorage(_2381,"summary",this._getViewNS());if(this._configuration.summary.hasOwnProperty("rowHeight")){this._summaryGrid.set("rowHeight",this._configuration.summary.rowHeight);}if(this._configuration.summary.hasOwnProperty("rowsPerPage")){this._summaryGrid.set("rowsPerPage",this._configuration.summary.rowsPerPage);}if(this._configuration.summary.hasOwnProperty("formatterScope")){this._summaryGrid.set("formatterScope",this._configuration.summary.formatterScope);}this._summaryGrid.canSort=function(col){return false;};this._configuration.summary.active=true;}this._gridContainer.selectChild(this._summaryGrid);this._setDetailPaneVisibility(this._shouldShowDetailPane());this._updateToolbarItemVisibility();},toggleDetail:function(){if(!this._hasConfigurationForDetail()){return;}this.detailVisible=!this.detailVisible;this._setDetailPaneVisibility(this._shouldShowDetailPane());},onRowClick:function(index,row,grid){},onRowContextMenu:function(index,row,grid){},onSelected:function(index,row,grid){},onSelectionChanged:function(){},resolveProperty:function(_2382,_2383){var list=this._configuration&&this._configuration.list,_2384=list&&list.layout,_2385=(list&&list.tableAliases)||{};if(_2384){var alias=this._getAlias(_2382,_2384,_2385,false);if(alias){return alias;}else{alias=this._getAlias(_2382,_2384,_2385,true);if(alias){return alias;}else{return _2382;}}}return _2382;},_getAlias:function(_2386,_2387,_2388,_2389){var i,item,table,_238a,_238b,_238c;for(i=0;i<_2387.length;i++){item=_2387[i];_238c=item.propertyPath;if(_2389){_238b=item.propertyPath&&item.propertyPath.split(".");if(_238b.length===2){_238c=_238b[1];}}if(_238c===_2386){if(/^[a-z]\d+_/i.test(item.alias)){return item.alias;}table=item.dataPath&&item.dataPath.split(":")[0];_238a=table&&_2388[table.toUpperCase()];if(_238a){return _238a+"."+item.alias;}return item.alias;}}return null;}});return _2325;});},"Sage/MainView/ReportMgr/nls/SchedulesListPanelConfig":function(){define("Sage/MainView/ReportMgr/nls/SchedulesListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_238d,lang){var nls={root:{colJobName:"Job Name",colNameDescription:"Description",colNameRunAsUser:"Scheduled By",colNameLastExecutionDate:"Last Run",colNameExecutionCount:"Execution Count",colNameStartTimeUtc:"Start Time",colNameEndTimeUtc:"End Time",colNamePriority:"Priority",colNameStatus:"Status",colNameTemplate:"Template"}};return lang.mixin(_238d,nls);});},"Sage/Data/GroupLayoutSingleton":function(){define("Sage/Data/GroupLayoutSingleton",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/Data/SDataServiceRegistry","dojo/ready","dojo/json"],function(_238e,array,lang,_238f,ready,json){var m=_238e("Sage.Data.GroupLayoutSingleton",null,{data:{},_fetchCache:{},_registeredOnSuccess:{},_registeredOnFailure:{},_baseCacheKey:"GROUPLAYOUT_",constructor:function(){},getGroupLayout:function(_2390,_2391,_2392,_2393){var _2394=_238f.getSDataService("system"),_2395=new Sage.SData.Client.SDataSingleResourceRequest(_2394),_2396=this._registeredOnSuccess[_2393],_2397=this._registeredOnFailure[_2393],_2398=this._baseCacheKey+_2393,_2399=null;if(_2393!=="LOOKUPRESULTS"){_2399=sessionStorage.getItem(_2398);}if(_2399){this.data[_2393]=json.parse(_2399);}if(this.data[_2393]){if(typeof _2391==="function"){_2391(this.data[_2393]);}return;}if(!_2396){this._registeredOnSuccess[_2393]=[];_2396=this._registeredOnSuccess[_2393];}if(!_2397){this._registeredOnFailure[_2393]=[];_2397=this._registeredOnFailure[_2393];}_2396.push(_2391);_2397.push(_2392);if(this._fetchCache[_2393]){return;}else{this._fetchCache[_2393]=true;}_2395.setResourceKind("groups");_2395.setResourceSelector(_2390);_2395.setQueryArg("include","layout,tableAliases");_2395.read({success:lang.hitch(this,this._onSuccess,_2393),failure:lang.hitch(this,this._onFailure,_2393)});},_onSuccess:function(_239a,data){var _239b=this._registeredOnSuccess[_239a];if(_239b){array.forEach(_239b,function(cb){if(typeof cb==="function"){cb(data);}});}if(_239a!=="LOOKUPRESULTS"){this.data[_239a]=data;}sessionStorage.setItem(this._baseCacheKey+_239a,json.stringify(data));this._doneFetching(_239a);},_onFailure:function(_239c,err){var _239d=this._registeredOnFailure[_239c];if(_239d){array.forEach(_239d,function(cb){if(typeof cb==="function"){cb(err);}});}this._doneFetching(_239c);},_doneFetching:function(_239e){this._registeredOnSuccess[_239e]=[];this._registeredOnFailure[_239e]=[];this._fetchCache[_239e]=false;}});return m;});},"Sage/QuickForms/Design/Editors/nls/GenericAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/GenericAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_239f,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",controlInfoText:"Control Info",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form."}};return lang.mixin(_239f,nls);});},"Sage/QuickForms/Design/Editors/DataGridBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/DataGridBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/DataGridBasicPropertyEditor"],function(_23a0,lang,_23a1,_23a2,_23a3,_23a4,_23a5,_23a6,_23a7,_23a8,_23a9,_23aa){return _23a0("Sage.QuickForms.Design.Editors.DataGridBasicPropertyEditor",[_23a1,_23a8,_23a7],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","</fieldset>","<fieldset style=\"display:none;\"><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.pageSizeTooltipText %}\">","<label>{%= $.pageSizeText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_pageSize\" data-dojo-attach-event=\"onChange:_onPageSizeChange\" data-dojo-props=\"constraints:{min:0,max:1000,places:0}\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.resizableColumnsTooltipText %}\">","<label>{%= $.resizableColumnsText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_resizableColumns\" data-dojo-attach-event=\"onChange:_onResizableColumnsChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_pageSize:null,_resizableColumns:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",dataText:"Data",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",pageSizeText:"Page Size:",pageSizeTooltipText:"The number of grid records to display on a single page.",resizableColumnsText:"Resizable Columns:",resizableColumnsTooltipText:"Allows user to resize columns.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_23aa);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._pageSize.set("value",this._designer.get("pageSize"));this._resizableColumns.set("value",this._designer.get("resizableColumns"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);},_onPageSizeChange:function(value){if(this.isSuspended()||!this._pageSize.isValid()){return;}this._designer.set("pageSize",value);},_onResizableColumnsChange:function(value){if(this.isSuspended()){return;}this._designer.set("resizableColumns",value);}});});},"Sage/MainView/ActivityMgr/QuickCompleteEditor":function(){define("Sage/MainView/ActivityMgr/QuickCompleteEditor",["dijit/_Widget","Sage/_Templated","dijit/layout/ContentPane","dijit/form/Textarea","Sage/UI/TextBox","Sage/UI/Controls/DateTimePicker","dijit/form/FilteringSelect","Sage/UI/SDataLookup","dojox/layout/TableContainer","Sage/UI/Controls/SingleSelectPickList","dijit/Dialog","dojo/_base/declare","dojo/i18n!./nls/QuickCompleteEditor"],function(_23ab,_23ac,_23ad,_23ae,_23af,_23b0,_23b1,_23b2,_23b3,_23b4,_23b5,_23b6,_23b7){var _23b8=_23b6("Sage.MainView.ActivityMgr.QuickCompleteEditor",[_23ab,_23ac],{_currentUserId:null,_individuallyHandler:false,_nowHandler:false,_asScheduledHandler:false,_selectionContext:false,lblcmdMessageText:"",lblInfoMessageText:"",lblResultText:"Result:",lblNoteText:"Note (append to all items):",btnCompleteIndividuallyText:"Individually",btnAsScheduledText:"As Scheduled",btnCompleteNowText:"Now",btnCancelText:"Cancel",btnCloseText:"Close",btnHelpText:"Help",resultCompletedText:"Complete",titleText:"Quick Complete",widgetsInTemplate:true,selectionContext:null,widgetTemplate:new Simplate(["<div>","<div data-dojo-type=\"dijit.Dialog\" id=\"{%= $.id%}_qucikCompleteDialog\" title=\"Quick Complete\" dojoAttachPoint=\"_dialog\" >","<div class=\"quickComplete-dialog\">","<div data-dojo-type=\"dijit.layout.ContentPane\" id=\"{%= $.id%}_cp_General\" title=\"\" dojoAttachPoint=\"cp_General\">","<div data-dojo-type=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" class=\"controlPropForm\" labelWidth=\"140\">","<div id=\"{%= $.id%}_div_actionMessage\"  name=\"div_actionMessage\" dojoAttachPoint=\"div_actionMessage\"></div>","<br>","<select label=\"{%= $. lblResultText %}\" id=\"{%= $.id%}_pk_Result\" data-dojo-type=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Result\" canEditText=\"true\" itemMustExist=\"false\" pickListName=\"To Do Result Codes\" ></select>","<div data-dojo-type=\"dijit.form.SimpleTextarea\"\" label=\"{%= $.lblNoteText %}\" id=\"{%= $.id%}_ta_Note\" name=\"tb_Note\" dojoAttachPoint=\"ta_Note\"></div>","</div>","<br>","<div id=\"{%= $.id%}_div_cmdMessage\"  name=\"div_cmdMessage\" dojoAttachPoint=\"div_cmdMessage\" style=\"font-weight:bold\"></div>","<br>","<div class=\"button-bar alignright\">","<div data-dojo-type=\"dijit.form.Button\"  id=\"{%= $.id%}_btn_CompleteIndividually\" name=\"btn_CompleteIndividually\" dojoAttachPoint=\"btn_CompleteIndividually\" dojoAttachEvent=\"onClick:_onCompleteIndividually\" style=\"align:left\" >{%= $.btnCompleteIndividuallyText %}</div>","<div data-dojo-type=\"dijit.form.Button\"  id=\"{%= $.id%}_btn_btnAsScheduled\" name=\"btn_AsScheduled\" dojoAttachPoint=\"btn_AsScheduled\" dojoAttachEvent=\"onClick:_onAsScheduled\">{%= $.btnAsScheduledText %}</div>","<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_CompleteNow\" name=\"btn_CompleteNow\" dojoAttachPoint=\"btn_CompleteNow\" dojoAttachEvent=\"onClick:_onCompleteNow\">{%= $.btnCompleteNowText %}</div>","<div data-dojo-type=\"dijit.form.Button\"  id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $. btnCancelText %}</div>","</div>","</div>","<div data-dojo-type=\"dijit.layout.ContentPane\" id=\"{%= $.id%}_cp_processing\" title=\"\" dojoAttachPoint=\"cp_processing\">","<div id=\"{%= $.id%}_div_processingMessage\"  name=\"div_processingMessage\" dojoAttachPoint=\"div_processingMessage\"></div>","<div class=\"button-bar alignright\">","<div data-dojo-type=\"dijit.form.Button\"  id=\"{%= $.id%}_btn_Close\" name=\"btn_Close\" dojoAttachPoint=\"btn_Close\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $. btnCloseText %}</div>","</div>","</div>","</div>","</div>","</div>"]),constructor:function(_23b9){dojo.mixin(this,_23b7);this._currentUserId=Sage.Utility.getClientContextByKey("userID")||"";},destroy:function(){this._dialog.destroyRecursive();this.destroyRecursive();},show:function(){if(this.selectionContext){this.div_actionMessage.innerHTML=this.actionMessage;this.div_cmdMessage.innerHTML=String.format(this.completeMessage,this.selectionContext.count);this._dialog.set("title",this.titleText);}dojo.style(this.cp_processing.domNode,"display","none");this._dialog.show();},hide:function(){this.destroy();},resize:function(){},_showProcessing:function(){dojo.style(this.cp_General.domNode,"display","none");dojo.style(this.cp_processing.domNode,"display","block");this.div_processingMessage.innerHTML=String.format(this.processingMessage,this._selectionContext.count);},_onCompleteIndividually:function(){this.onCompleteIndividually();this._dialog.hide();},_onCompleteNow:function(){this._showProcessing();var _23ba={selectionContext:this.selectionContext,note:this.ta_Note.value,result:this.pk_Result.get("value"),resultCode:""};this.onCompleteNow(_23ba);this._dialog.hide();},_onAsScheduled:function(){this._showProcessing();var _23bb={selectionContext:this.selectionContext,note:this.ta_Note.value,result:this.pk_Result.get("value"),resultCode:""};this.onCompleteAsScheduled(_23bb);this._dialog.hide();},_cancelClick:function(){this.onCancel();this._dialog.hide();},onCompleteIndividually:function(){},onCompleteNow:function(args){},onCompleteAsScheduled:function(args){},onCancel:function(){}});return _23b8;});},"Sage/QuickForms/Design/Editors/CurrencyBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/CurrencyBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/CurrencyBasicPropertyEditor"],function(_23bc,lang,_23bd,_23be,_23bf,_23c0,_23c1,_23c2,_23c3,_23c4,_23c5,_23c6){return _23bc("Sage.QuickForms.Design.Editors.CurrencyBasicPropertyEditor",[_23bd,_23c4,_23c3],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.toolTipTooltipText %}\">","<label>{%= $.toolTipText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_toolTip\" data-dojo-attach-event=\"onChange:_onToolTipChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.isReadOnlyTooltipText %}\">","<label>{%= $.isReadOnlyText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_isReadOnly\" data-dojo-attach-event=\"onChange:_onIsReadOnlyChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_23c6);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);},_onIsReadOnlyChange:function(value){if(this.isSuspended()){return;}this._designer.set("isReadOnly",value);},_onToolTipChange:function(value){if(this.isSuspended()){return;}this._designer.set("toolTip",value);}});});},"Sage/UI/Controls/MultiSelectPickList":function(){require({cache:{"url:Sage/UI/Controls/templates/MultiSelectPickList.html":"<div>\r\n    <input id=\"${id}-TextBox\" data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"textNode\" data-dojo-attach-event=\"onBlur: _onTextBlur\" tabindex=\"${tabIndex}\"/>\r\n    <div id=\"${id}-Button\" data-dojo-type=\"dijit.form.DropDownButton\" data-dojo-attach-point=\"dropDownButtonNode\">\r\n        <span></span>\r\n        <div class=\"multiSelectPickListDialog\" id=\"${id}-ToolTipDialog\" data-dojo-type=\"dijit.TooltipDialog\" data-dojo-attach-point=\"tooltipDialogNode\" data-dojo-attach-event=\"onClose: _onTooltipClose, onShow: _onTooltipShow\">\r\n            <div data-dojo-attach-point=\"tooltipContainer\" style=\"height:200px; width: 200px; overflow-y:auto;\">\r\n            \r\n            </div>\r\n            \r\n            <div style=\"width: 100%; text-align:right\">\r\n                <p>\r\n                    <button id=\"${id}-OKButton\" data-dojo-type=\"dijit.form.Button\" type=\"submit\" tabindex=\"${tabIndex}\">${okText}</button>\r\n                <p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n"}});define("Sage/UI/Controls/MultiSelectPickList",["dojo/_base/array","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/form/TextBox","dijit/form/DropDownButton","dijit/form/CheckBox","dijit/TooltipDialog","dijit/form/Button","Sage/UI/Controls/PickList","dojo/text!./templates/MultiSelectPickList.html","dojo/_base/declare","dojo/_base/lang"],function(array,_23c7,_23c8,_23c9,_23ca,_23cb,_23cc,_23cd,_23ce,_23cf,_23d0,_23d1,lang){var _23d2=_23d1("Sage.UI.Controls.MultiSelectPickList",[_23cf,_23c9,_23c7,_23c8],{constructor:function(_23d3){if(_23d3.clientId){this.id=_23d3.clientId+"-MultipleSelectPickList";}this.inherited(arguments);},postCreate:function(){this._setupTooltips(this.dropDownButtonNode.domNode,this.textNode.domNode);var def=new dojo.Deferred(),len;this.getPickListData(def);def.then(lang.hitch(this,function(data){if(typeof data==="string"){this.textNode.set("value",data);this.dropDownButtonNode.disabled=true;}var items=[],len=data&&data.items&&data.items.$resources&&data.items.$resources.length,i,item,_23d4;for(i=0;i<len;i++){item=data.items.$resources[i];items.push({id:item.$key,code:item.code,number:item.number,text:item.text});}this.storeData={identifier:"id",label:"text",items:items};_23d4=dojo.byId(this._textId);if(_23d4){this.lastValidValue=_23d4.value;this.initialValue=this.lastValidValue;}else{if(items.length>0){this.lastValidValue=items[0].text;}}this.textNode.set("value",this.lastValidValue);this.initialValues=this.lastValidValue.split(",");this.lastValidValues=this.lastValidValue.split(",");this._renderFormElements(items);}),function(e){console.error(e);});if(this.get("canEditText")===false){this.textNode.disabled=true;}len=this.get("maxLength");if(len>0){this.textNode.set("maxLength",len);}if(this.get("itemMustExist")){this.textNode.isValid=lang.hitch(this,function(_23d5){var _23d6=this.textNode.get("value"),split=_23d6.split(","),valid=false;if(split.length===1&&split[0]===""&&!this.required){valid=true;}else{valid=array.every(split,function(_23d7){return array.some(this.storeData.items,function(item){return item.text.trim()===_23d7.trim();},this);},this);}if(valid){this.lastValidValue=_23d6;}if(_23d5){valid=true;}if(!valid){if(this.lastValidValue){this.textNode.set("value",this.lastValidValue);valid=true;}}return valid;});}else{this.textNode.isValid=function(_23d8){return true;};}this.inherited(arguments);},uninitialize:function(){this.inherited(arguments);},_isItemSelected:function(_23d9){var _23da=this.textNode.get("value"),_23db=false,split=[];if(_23da){split=_23da.split(",");array.forEach(split,function(item,index,array){if(_23d9.text.trim()===item.trim()){_23db=true;}},this);}return _23db;},_storeHasItem:function(_23dc){var _23dd=false;_23dd=array.some(this.storeData.items,function(item){if(item.text.trim()===_23dc.trim()){return true;}return false;},this);return _23dd;},_renderFormElements:function(items){var node=this.tooltipContainer;array.forEach(items,function(item,index,array){var _23de=new _23cc({id:this.id+"_checkBox"+index,name:"checkBox_"+item.text,value:item.text,checked:this._isItemSelected(item)}),label;_23de.startup();dojo.place(_23de.domNode,node,"last");label=dojo.create("label",{"for":_23de.id},_23de.domNode,"after");label.innerHTML=item.text;dojo.create("br",{},label,"after");},this);},_onTextBlur:function(){this._updateASPNETFields();},_updateASPNETFields:function(){if(this.textNode.isValid()){var val=this.textNode.get("value");if(val.trim()!==this.initialValue.trim()){this.setASPNETInputs(val,"","");}}},_onTooltipClose:function(){var items=[];dojo.query("input",this.tooltipContainer).forEach(function(node){var wid=dijit.byId(node.id),val,_23df;if(wid){val=wid.get("value");_23df=wid.get("checked");if(_23df){items.push(val);}}});array.forEach(this.itemsNotInStore,function(_23e0){items.push(_23e0.trim());},this);this.textNode.set("value",items.join(", "));this._updateASPNETFields();},_onTooltipShow:function(){this._refreshCheckedItems();this._refreshItemsNotInStore();},_refreshItemsNotInStore:function(){var _23e1=this.textNode.get("value"),_23e2=_23e1.split(",");this.itemsNotInStore=[];array.forEach(_23e2,function(item,index,array){if(!this._storeHasItem(item.trim())){if(item.trim()!==""){this.itemsNotInStore.push(item.trim());}}},this);},_refreshCheckedItems:function(){dojo.query("input",this.tooltipContainer).forEach(function(node){var wid=dijit.byId(node.id);if(wid){wid.set("checked",false);}});array.forEach(this.storeData.items,function(item,index,array){if(this._isItemSelected(item)){dojo.query("input",this.tooltipContainer).forEach(function(node){var wid=dijit.byId(node.id);if(wid){if(node.value.trim()===item.text.trim()){wid.set("checked",true);}}});}},this);},templateString:_23d0,widgetsInTemplate:true,storeData:null,lastValidValue:"",lastValidValues:null,initialValue:"",initialvalues:null,itemsNotInStore:null});return _23d2;});},"Sage/UI/nls/CalendarUsersListPane":function(){define("Sage/UI/nls/CalendarUsersListPane",["Sage/LanguageList","dojo/_base/lang"],function(_23e3,lang){var nls={root:{header_color:"Color",header_user:"User",maxUsersErrorMessage:"Sorry, you cannot view more than ${0} calendars (including your own) at one time.  Clear one of the currently-selected calendars and try again.",editUsersLinkText:"Edit Calendar Users",noUsersMessage:"No users added, add users by clicking 'Edit Calendar Users' link above"}};return lang.mixin(_23e3,nls);});},"Sage/QuickForms/Design/Editors/UserAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/UserAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/UserAdvancedPropertyEditor"],function(_23e4,lang,_23e5,_23e6,_23e7,_23e8,_23e9,_23ea,_23eb,_23ec,_23ed){return _23e4("Sage.QuickForms.Design.Editors.UserAdvancedPropertyEditor",[_23e5,_23eb,_23ea],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlLabelPlacementTooltipText %}\">","<label>{%= $.controlLabelPlacementText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_controlLabelPlacement\" data-dojo-attach-event=\"onChange:_onControlLabelPlacementChange\">","{% for (var placement in $.labelPlacementText) { %}","<span value=\"{%= placement %}\">{%= $.labelPlacementText[placement] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.enabledTooltipText %}\">","<label>{%= $.enabledText %}</label>","<div data-dojo-attach-point=\"_enabled\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onEnabledChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.requiredTooltipText %}\">","<label>{%= $.requiredText %}</label>","<div data-dojo-attach-point=\"_required\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onRequiredChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.defaultDataBindingTooltipText %}\">","<label>{%= $.defaultDataBindingText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_defaultDataBinding\" data-dojo-attach-event=\"onChange:_onDefaultDataBindingChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.lookupBindingModeTooltipText %}\">","<label>{%= $.lookupBindingModeText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_lookupBindingMode\" data-dojo-attach-event=\"onChange:_onLookupBindingModeChange\">","{% for (var mode in $.bindingModeText) { %}","<span value=\"{%= mode %}\">{%= $.bindingModeText[mode] %}</span>","{% } %}","</div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_controlType:null,_controlId:null,_enabled:null,_controlLabelPlacement:null,_defaultDataBinding:null,_lookupBindingMode:null,_required:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",lookupBindingModeText:"Lookup Binding Mode:",lookupBindingModeTooltipText:"Indicates whether you want to bind to an entity object or to a string value.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},bindingModeText:{"Object":"Object","String":"String"},constructor:function(){lang.mixin(this,_23ed);},setup:function(){this.inherited(arguments);this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._enabled.set("value",this._designer.get("enabled"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._lookupBindingMode.set("value",this._designer.get("lookupBindingMode"));this._required.set("value",this._designer.get("required"));this._visible.set("value",this._designer.get("visible"));var _23ee=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_23ee&&_23ee["DataItemName"])||"");},_onControlTypeChange:function(value){},_onControlIdChange:function(value){},_onDefaultDataBindingChange:function(value){},_onEnabledChange:function(value){if(this.isSuspended()){return;}this._designer.set("enabled",value);},_onControlLabelPlacementChange:function(value){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",value);},_onLookupBindingModeChange:function(value){if(this.isSuspended()){return;}this._designer.set("lookupBindingMode",value);},_onRequiredChange:function(value){if(this.isSuspended()){return;}this._designer.set("required",value);},_onVisibleChange:function(value){if(this.isSuspended()){return;}this._designer.set("visible",value);}});});},"Sage/QuickForms/Design/Editors/nls/PickListBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/PickListBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_23ef,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_23ef,nls);});},"Sage/QuickForms/Design/Editors/nls/ColumnBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/ColumnBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_23f0,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",indexText:"Index:",indexTooltipText:"Number of the row or column, beginning with zero.",widthText:"Width:",widthTooltipText:"Width of this column of controls.",sizeTypeText:"Size Type:",sizeTypeTooltipText:"Method of sizing: Absolute, AutoSize, or Percent.",rowSizeTypeText:{Absolute:"Absolute",Percent:"Percent",AutoSize:"AutoSize"}}};return lang.mixin(_23f0,nls);});},"Sage/UI/Columns/ActivityAlarm":function(){define("Sage/UI/Columns/ActivityAlarm",["dojox/grid/cells/_base","Sage/Utility","dojo/_base/declare"],function(_23f1,util,_23f2){var _23f3=_23f2("Sage.UI.Columns.ActivityAlarm",_23f1,{format:function(_23f4,_23f5){var alarm=util.getValue(_23f5,"Alarm");var html="<div><div>";if(alarm){html="<img src='images/icons/Alarm_16x16.gif'/>";}return html;}});return _23f3;});},"Sage/UI/Columns/DateTime":function(){define("Sage/UI/Columns/DateTime",["dojox/grid/cells/dijit","dojo/date/locale","Sage/Utility","Sage/Utility/Activity","dojo/_base/declare"],function(_23f6,_23f7,_23f8,_23f9,_23fa){var _23fb=_23fa("Sage.UI.Columns.DateTime",dojox.grid.cells.Cell,{timelessField:"",timelessText:"",dateOnly:false,utc:true,useFiveSecondRuleToDetermineTimeless:false,format:function(_23fc,_23fd){var _23fe=this.formattedDate(_23fc,_23fd);if(this.abbreviationLength){var _23ff=Sage.Format.abbreviationFormatter(this.abbreviationLength);_23fe=_23ff(_23fe);}return _23fe;},formattedDate:function(_2400,_2401){if(!_2401){return "";}var d=this.get?this.get(_2400,_2401):(this.value||this.defaultValue);if(!d){return "";}d=_2402.toDateFromString(d,true);if(!d||d.constructor!==Date){return "";}var tless=false;if(this.timelessField&&this.timelessField!==""){tless=_2402.toBoolean(_23f8.getValue(_2401,this.timelessField,"F"));}if(this.useFiveSecondRuleToDetermineTimeless){tless=_23f9.isDateFiveSecondRuleTimeless(d);}if(!this.dateOnly&&!this.datePattern){if(!tless){return dojo.date.locale.format(d,{selector:this.formatType||"date/time",fullYear:true});}else{var _2403=d;if(this.utc){_2403=new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),0,0,5);}return dojo.date.locale.format(_2403,{selector:"date",fullYear:true})+this.timelessText;}}else{if(this.datePattern){if(this.datePattern.indexOf("h")===-1){d=new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate());}return d.format(this.datePattern);}else{if(this.utc){var _2404=new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate());return dojo.date.locale.format(_2404,{selector:"date",fullYear:true});}else{return dojo.date.locale.format(d,{selector:"date",fullYear:true});}}}}});var _2402=_23f8.Convert;return _23fb;});},"Sage/MainView/IntegrationContract/SalesOrderRTDV":function(){require({cache:{"url:Sage/MainView/IntegrationContract/templates/SalesOrderRTDV.html":"[\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"{%= $.id%}_salesOrderDetailsDialog\" title=\"{%= $.dialogCaption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:hideDetailsDialog\">',\r\n        '<div dojoAttachPoint=\"loadingContainer\">',\r\n            '<br />',\r\n            '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingText %}</label>',\r\n            '<br />',\r\n            '<br />',\r\n        '</div>',\r\n        '<table cellspacing=\"5\" dojoAttachPoint=\"salesOrderDetails\" border=\"0\" width=\"100%\" class=\"display-none\">',\n            '<div>',\r\n                '<tr>',\n\t\t\t        '<td>',\r\n\t\t\t             '<label for=\"SalesOrder_reference\">{%= $.lblSalesOrderCaption %}</label>',\r\n\t\t\t        '</td>',\r\n                    '<td>',\r\n                        '<input type=\"text\" id=\"{%= $.id%}_reference\" name=\"reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                    '<td>',\n                        '<label for=\"SalesOrder_status\">{%= $.lblStatusCaption %}</label>',\n                    '</td>',\n                    '<td>',\n                        '<input type=\"text\" id=\"{%= $.id%}_status\" name=\"status\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                    '<td>',\n                        '<label for=\"SalesOrder_grossTotal\">{%= $.lblGrossTotalCaption %}</label>',\r\n                    '</td>',\n                    '<td>',\n                        '<input type=\"text\" id=\"{%= $.id%}_grossTotal\" name=\"grossTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                '</tr>',\r\n            '</div>',\r\n        '</table>',\r\n        '<div style=\"height:370px;width:800px\" dojoAttachPoint=\"tabContentDetails\" class=\"display-none\">',\r\n            '<div id=\"{%= $.id%}_salesOrderContainer\" dojoAttachPoint=\"salesOrderContainer\" dojoType=\"dijit.layout.TabContainer\" style=\"width:100%;height:100%;\">',\r\n                '<div id=\"{%= $.id%}_salesOrderContent\" dojoAttachPoint=\"salesOrderContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.detailsTabTitle %}\" selected=\"true\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"{%= $.id%}_divDetails\">',\r\n                        '<table cellspacing=\"5\">',\r\n                            '<col style=\"width:200px\" />',\r\n                            '<col style=\"width:200px\" />',\r\n                            '<tr>',\r\n                                '<td>',\r\n                                    '<label for=\"SalesOrder_OrderDate\">{%= $.lblOrderDateCaption %}</label>',\r\n                                '</td>',\r\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_OrderDate\" name=\"date\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\r\n                                '<td>',\n                                    '<label for=\"SalesOrder_TaxTotal\">{%= $.lblTaxTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_TaxTotal\" name=\"taxTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\r\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\r\n                                    '<label for=\"SalesOrder_HoldStatus\">{%= $.lblHoldStatusCaption %}</label>',\r\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_HoldStatus\" name=\"statusFlagText\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_Currency\">{%= $.lblCurrencyCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Currency\" name=\"currency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_Type\">{%= $.lblTypeCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Type\" name=\"type\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\r\n                                    '<label for=\"SalesOrder_CostTotal\">{%= $.lblCostTotalCaption %}</label>',\r\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_CostTotal\" name=\"costTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_PONumber\">{%= $.lblPONumberCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_PONumber\" name=\"customerReference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_ProfitTotal\">{%= $.lblProfitTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_ProfitTotal\" name=\"profitTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_Quotation\">{%= $.lblQuotationCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Quotation\" name=\"quotation.reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_InvoiceStatus\">{%= $.lblInvoiceStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_InvoiceStatus\" name=\"invoiceStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_Contact\">{%= $.lblContactCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Contact\" name=\"buyerContact.fullName\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_DeliveryDate\">{%= $.lblDeliveryDateCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DeliveryDate\" name=\"deliveryDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_PriceList\">{%= $.lblPriceListCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_PriceList\" name=\"pricelist.name\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_DueDate\">{%= $.lblDueDateCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DueDate\" name=\"dueDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_NetTotal\">{%= $.lblNetTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_NetTotal\" name=\"netTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_Carrier\">{%= $.lblCarrierCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Carrier\" name=\"carrierCompany\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_DiscountTotal\">{%= $.lblDiscountTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DiscountTotal\" name=\"discountTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_AllocationStatus\">{%= $.lblAllocationStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_AllocationStatus\" name=\"allocationStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_DeliveryStatus\">{%= $.lblDeliveryStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DeliveryStatus\" name=\"deliveryStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_ChargesTotal\">{%= $.lblChargesTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_ChargesTotal\" name=\"chargesTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                        '</table>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soAddressesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.addressTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"sdgrdSalesOrderAddresses\" dojoAttachPoint=\"sdgrdSalesOrderAddresses\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesOrderAddresses_Grid\" dojoAttachPoint=\"sdgrdSalesOrderAddresses_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soSalesPersonsContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.salesPersonsTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_SalesPersons\" dojoAttachEvent=\"onShow:initSalesPersons\">',\r\n                    '<div id=\"sdgrdSalesPersons\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesPersons_Grid\" dojoAttachPoint=\"sdgrdSalesPersons_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soLinesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.salesOrderLinesTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"sdgrdSalesOrderLines\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesOrderLines_Grid\" dojoAttachPoint=\"sdgrdSalesOrderLines_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soPaymentsContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.paymentsTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Payments\" dojoAttachEvent=\"onShow:initPayments\">',\r\n                    '<div id=\"sdgrdSOPayments\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSOPayments_Grid\" dojoAttachPoint=\"sdgrdSOPayments_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soDeliveriesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.deliveriesTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Deliveries\" dojoAttachEvent=\"onShow:initDeliveries\">',\r\n                    '<div id=\"sdgrdSODeliveries\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSODeliveries_Grid\" dojoAttachPoint=\"sdgrdSODeliveries_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n            '</div>',\r\n        '</div>',\r\n        '<div class=\"button-bar alignright\">',\r\n            '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_soBtnClose\" type=\"button\" dojoAttachEvent=\"onClick:hideDetailsDialog\">{%= $.btnCloseCaption %}</button>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]"}});define("Sage/MainView/IntegrationContract/SalesOrderRTDV",["dojo/_base/declare","dojo/i18n!./nls/SalesOrderRTDV","dijit/_Widget","Sage/_Templated","Sage/UI/SLXPreviewGrid","Sage/Data/ProxySDataStore","Sage/UI/Dialogs","Sage/UI/Columns/DateTime","dojo/text!./templates/SalesOrderRTDV.html","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","Sage/UI/DateTextBox","dijit/Dialog","dijit/_Widget","Sage/_Templated","dijit/Dialog"],function(_2405,_2406,_2407,_2408,_2409,_240a,_240b,_240c,_240d,_240e,lang){var _240f=_2405("Sage.MainView.IntegrationContract.SalesOrderRTDV",[_2407,_2408],{workspace:"",tabId:"",grid:"",globalSyncId:"",operatingCompanyId:"",dataStore:null,salesPersonsDataStore:null,paymentsDataStore:null,deliveriesDataStore:null,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_240d)),constructor:function(){dojo.mixin(this,_2406);},loadSalesOrders:function(){var self=this;var _2410={readOnly:true,rowsPerPage:20,slxContext:{workspace:this.workspace,tabId:this.tabId},columns:[{width:10,field:"$key",name:" ",sortable:false,formatter:this.salesOrdersX3DetailsViewRenderer,style:"text-align:left;",editable:false,hidden:function(){return !accountingSystemHandlesSO();}()},{width:10,field:"reference",name:this.grdSalesOrder_OrderNumber,sortable:true,formatter:this.salesOrdersDetailsViewRenderer,style:"text-align:left;",editable:false},{width:10,field:"date",type:_240c,formatType:"date",dateOnly:true,utc:false,name:this.grdSalesOrder_OrderDate,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"status",name:this.grdSalesOrder_Status,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"statusFlagText",name:this.grdSalesOrder_HoldStatus,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"type",name:this.grdSalesOrder_Type,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"customerReference",name:this.grdSalesOrder_PO,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"netTotal",name:this.grdSalesOrder_NetTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"discountTotal",name:this.grdSalesOrder_DiscountTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"chargesTotal",name:this.grdSalesOrder_ChargesTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"taxTotal",name:this.grdSalesOrder_TaxTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"grossTotal",name:this.grdSalesOrder_GrossTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"currency",name:this.grdSalesOrder_Currency,defaultValue:"",sortable:true,style:"text-align:left;",editable:false}],storeOptions:new _240a({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),resourceKind:"tradingAccounts",getResourcePredicate:function(){return dojo.string.substitute("$uuid eq '${0}'",[self.globalSyncId]);},getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesOrders"}]}),tools:[]};var _2411=new _2409.Grid(_2410,this.placeHolder);_2411.startup();var _2412=dijit.byId("tabContent");_2412.resize();_2412.resize();this.grid=_2411;},salesOrdersDetailsViewRenderer:function(value){return dojo.string.substitute("<a href=\"javascript:salesOrderRTDV.loadDetailsView();\">${0}</a>",[value]);},salesOrdersX3DetailsViewRenderer:function(){return dojo.string.substitute("<a href=\"javascript:salesOrderRTDV.callX3DetailsView();\">${0}</a>",[_2406.grdSalesOrder_Edit]);},destroyFirst:function(id){var _2413=dijit.byId(id);if(_2413){_2413.destroyRecursive();}},initSalesPersons:function(){if(this.salesPersonsDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.salesPersonsDataStore=new _240a({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _2414=row["$key"];return dojo.string.substitute("'${0}'",[_2414||""]);},resourceKind:"salesOrders",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesPersons"}],includeContent:true});dojo.connect(this.salesPersonsDataStore,"onGetSingleResource",this,"loadSalesPersons");this.salesPersonsDataStore.getSingleResource();}},loadSalesPersons:function(data){this.destroyFirst("sdgrdSalesPersons");if(data&&typeof data.salesPersons==="undefined"){data.salesPersons={};data.salesPersons.$resources=new Array();}var _2415=new dojox.grid.DataGrid({id:"sdgrdSalesPersons",store:this.salesPersonsDataStore,structure:[{width:10,field:"name",name:this.grdSalesPersons_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdSalesPersons_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"extension",name:this.grdSalesPersons_Extension,defaultValue:"",sortable:true,editable:false},{width:10,field:"relationship",name:this.grdSalesPersons_Relationship,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_2415.domNode,this.sdgrdSalesPersons_Grid,"single");_2415.startup();},loadAddresses:function(data){this.destroyFirst("sdgrdSalesOrderAddresses");if(data&&typeof data.postalAddresses==="undefined"){data.postalAddresses={};data.postalAddresses.$resources=new Array();}var _2416=new dojox.grid.DataGrid({id:"sdgrdSalesOrderAddresses",store:this.dataStore,structure:[{width:10,field:"type",name:this.grdAddress_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"address1",name:this.grdAddress_Address1,defaultValue:"",sortable:true,editable:false},{width:10,field:"address2",name:this.grdAddress_Address2,defaultValue:"",sortable:true,editable:false},{width:10,field:"townCity",name:this.grdAddress_City,defaultValue:"",sortable:true,editable:false},{width:10,field:"stateRegion",name:this.grdAddress_State,defaultValue:"",sortable:true,editable:false},{width:10,field:"zipPostCode",name:this.grdAddress_Zip,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{},queryOptions:{singleResourceRequest:true,property:"postalAddresses"}});dojo.place(_2416.domNode,this.sdgrdSalesOrderAddresses_Grid,"single");_2416.startup();},loadLineItems:function(data){this.destroyFirst("sdgrdSalesOrderLines");if(data&&typeof data.salesOrderLines==="undefined"){data.salesOrderLines={};data.salesOrderLines.$resources=new Array();}var _2417=new dojox.grid.DataGrid({id:"sdgrdSalesOrderLines",store:this.dataStore,structure:[{width:10,field:"number",name:this.grdItems_Line,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdItems_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodity.name",name:this.grdItems_Commodity,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodityVariant.reference",name:this.grdItems_CommodityVariant,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodityDimension.reference",name:this.grdItems_CommodityDimension,defaultValue:"",sortable:true,editable:false},{width:10,field:"unitOfMeasure.name",name:this.grdItems_UnitOfMeasure,defaultValue:"",sortable:true,editable:false},{width:10,field:"fulfillmentLocation.name",name:this.grdItems_Location,defaultValue:"",sortable:true,editable:false},{width:10,field:"pricelist.name",name:this.grdItems_PriceList,defaultValue:"",sortable:true,editable:false},{width:10,field:"quantity",name:this.grdItems_Quantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"initialPrice",name:this.grdItems_InitialPrice,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualPrice",name:this.grdItems_ActualPrice,defaultValue:"",sortable:true,editable:false},{width:10,field:"netTotal",name:this.grdItems_NetTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"chargesTotal",name:this.grdItems_ChargesTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"discountTotal",name:this.grdItems_DiscountTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"taxTotal",name:this.grdItems_TaxTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"grossTotal",name:this.grdItems_GrossTotal,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{},queryOptions:{singleResourceRequest:true,property:"salesOrderLines"}});dojo.place(_2417.domNode,this.sdgrdSalesOrderLines_Grid,"single");_2417.startup();},initPayments:function(){if(this.paymentsDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.paymentsDataStore=new _240a({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _2418=row["$key"];return dojo.string.substitute("'${0}'",[_2418||""]);},resourceKind:"salesOrders",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"receipts"}],includeContent:true});dojo.connect(this.paymentsDataStore,"onGetSingleResource",this,"loadPayments");this.paymentsDataStore.getSingleResource();}},loadPayments:function(data){this.destroyFirst("sdgrdSOPayments");if(data&&typeof data.receipts==="undefined"){data.receipts={};data.receipts.$resources=new Array();}var _2419=new dojox.grid.DataGrid({id:"sdgrdSOPayments",store:this.paymentsDataStore,structure:[{width:10,field:"date",type:_240c,formatType:"date",name:this.grdPayments_Date,defaultValue:"",sortable:true,editable:false},{width:10,field:"name",name:this.grdPayments_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdPayments_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"status",name:this.grdPayments_Status,defaultValue:"",sortable:true,editable:false},{width:10,field:"netTotal",name:this.grdPayments_NetTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"discountTotal",name:this.grdPayments_Discounts,defaultValue:"",sortable:true,editable:false},{width:10,field:"chargesTotal",name:this.grdPayments_Charges,defaultValue:"",sortable:true,editable:false},{width:10,field:"taxTotal",name:this.grdPayments_Tax,defaultValue:"",sortable:true,editable:false},{width:10,field:"grossTotal",name:this.grdPayments_GrossTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"currency",name:this.grdPayments_Currency,defaultValue:"",sortable:true,editable:false},{width:10,field:"tenderType",name:this.grdPayments_TenderType,defaultValue:"",sortable:true,editable:false},{width:10,field:"tenderReference",name:this.grdPayments_TenderReference,defaultValue:"",sortable:true,editable:false},{width:10,field:"processDate",type:_240c,formatType:"date",name:this.grdPayments_ProcessDate,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_2419.domNode,this.sdgrdSOPayments_Grid,"single");_2419.startup();},initDeliveries:function(){if(this.deliveriesDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.deliveriesDataStore=new _240a({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _241a=row["$key"];return dojo.string.substitute("'${0}'",[_241a]);},resourceKind:"salesOrders",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesOrderDeliveries"}],includeContent:true});dojo.connect(this.deliveriesDataStore,"onGetSingleResource",this,"loadDeliveries");this.deliveriesDataStore.getSingleResource();}},loadDeliveries:function(data){this.destroyFirst("sdgrdSODeliveries");if(data&&typeof data.salesOrderDeliveries==="undefined"){data.salesOrderDeliveries={};data.salesOrderDeliveries.$resources=new Array();}var _241b=new dojox.grid.DataGrid({id:"sdgrdSODeliveries",store:this.deliveriesDataStore,structure:[{width:10,field:"reference",name:this.grdDeliveries_Number,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdDeliveries_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"status",name:this.grdDeliveries_Status,defaultValue:"",sortable:true,editable:false},{width:10,field:"requestedDeliveryDate",type:_240c,formatType:"date",name:this.grdDeliveries_RequestedDate,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualDeliveryDate",type:_240c,formatType:"date",name:this.grdDeliveries_ActualDate,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualDeliveryTime",type:_240c,formatType:"date",name:this.grdDeliveries_ActualTime,defaultValue:"",sortable:true,editable:false},{width:10,field:"requestedQuantity",name:this.grdDeliveries_RequestedQuantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"deliveredQuantity",name:this.grdDeliveries_DeliveredQuantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"deliveryMethod",name:this.grdDeliveries_Method,defaultValue:"",sortable:true,editable:false},{width:10,field:"carrierTradingAccount.name",name:this.grdDeliveries_Carrier,defaultValue:"",sortable:true,editable:false},{width:10,field:"carrierReference",name:this.grdDeliveries_CarrierReference,defaultValue:"",sortable:true,editable:false},{width:10,field:"dateExceptionReason",type:_240c,formatType:"date",name:this.grdDeliveries_ExceptionReason,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_241b.domNode,this.sdgrdSODeliveries_Grid,"single");_241b.startup();},loadDetailsView:function(){dojo.removeClass(this.loadingContainer,"display-none");dojo.addClass(this.salesOrderDetails,"display-none");dojo.addClass(this.tabContentDetails,"display-none");this._dialog.show();var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){var _241c=row["$key"];this.dataStore=new _240a({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),resourceKind:"salesOrders",getResourcePredicate:function(){return dojo.string.substitute("'${0}'",[_241c]);},getAppId:function(){return self.operatingCompanyId;},include:[],select:["*,salesOrderLines/*,postalAddresses/*,buyerContact/fullName,pricelist/name,quotation/reference,salesOrderLines/commodity/name,salesOrderLines/unitOfMeasure/name,salesOrderLines/fulfillmentLocation/name,salesOrderLines/pricelist/name,salesOrderLines/commodityVariant/reference,salesOrderLines/commodityDimension/reference,salesOrderDeliveries/carrierTradingAccount/name"]});dojo.connect(this.dataStore,"onGetSingleResource",this,"buildGrids");this.dataStore.getSingleResource();}},callX3DetailsView:function(){var row=this.grid._grid.selection.getSelected()[0];if(row){var _241d=row["$key"];dojo.xhrGet({url:dojo.string.substitute("slxdata.ashx/slx/crm/-/X3SalesOrder/getediterpsalesorderurl?salesOrderKey=${0}&operatingCompany=${1}&_dc=${2}",[_241d,this.operatingCompanyId,new Date().getTime()]),cache:false,preventCache:true,handleAs:"json",load:lang.hitch(this,function(data,xhr){this.launchAccountingSystemView(data);}),error:function(_241e,_241f,error){dojo.byId([self.id,"-Loading-container"].join("")).innerHTML=_2406.Error_InvalidEndpoint;}});}},loadSalesOrderDetails:function(data){if(data&&typeof data!=="undefined"){this._dialog.set("value",data);}},buildGrids:function(data){this.loadSalesOrderDetails(data);this.loadAddresses(data);this.loadLineItems(data);if(this.salesOrderContainer!=null){this.salesOrderContainer.selectChild(this.salesOrderContent);}dojo.addClass(this.loadingContainer,"display-none");dojo.removeClass(this.salesOrderDetails,"display-none");dojo.removeClass(this.tabContentDetails,"display-none");this._dialog.resize();},hideDetailsDialog:function(){this.destroyFirst("sdgrdSalesPersons");this.salesPersonsDataStore=null;this.destroyFirst("sdgrdSODeliveries");this.deliveriesDataStore=null;this.destroyFirst("sdgrdSOPayments");this.paymentsDataStore=null;this._dialog.hide();},destroy:function(_2420,args){},launchAccountingSystemView:function(data){if(data.error!=null){_240b.showError(data.error);}else{try{window.open(data.url);}catch(err){_240b.showError(this.errorERPRequest);console.error(dojo.string.substitute(this.errorERPRequestDetails,[this.errorERPRequest,err,url]));}}},executeErpInsertView:function(){dojo.xhrGet({url:dojo.string.substitute("slxdata.ashx/slx/crm/-/X3SalesOrder/getinserterpsalesorderurl?accountId=${0}&operatingCompany=${1}&_dc=${2}",[Sage.Utility.getCurrentEntityId(),this.operatingCompanyId,new Date().getTime()]),cache:false,preventCache:true,handleAs:"json",load:lang.hitch(this,function(data,xhr){this.launchAccountingSystemView(data);}),error:function(_2421,_2422,error){dojo.byId([self.id,"-Loading-container"].join("")).innerHTML=_2406.errorERPRequest;}});}});return _240f;});},"Sage/MailMerge/main":function(){define("Sage/MailMerge/main",["Sage/MailMerge/Loader","Sage/MailMerge/Helper","Sage/MailMerge/MenuHelper"],function(){});},"Sage/MainView/IntegrationContract/MatchingOptionsConfig":function(){require({cache:{"url:Sage/MainView/IntegrationContract/templates/MatchingOptionsConfig.html":"[\r\n'<div>',\r\n    '<div id=\"{%= $.id %}-Context-container\">',\r\n        '<label class=\"wizardsectiontitle boldText padBottom\">{%= $.matchingHeader %}',\r\n            '<span class=\"boldtext\">{%= $.resourceDisplayName %}</span>',\r\n        '</label>',\r\n        '<br /><br />',\r\n    '</div>',\r\n    '<div>',\r\n        '<label class=\"wizardsectiontext padBottom\" style=\"padding-left:20px\">{%= $.matchingDescription %}</label>',\r\n    '</div>',\r\n    '<div>',\r\n        '<br />',\r\n        '<label class=\"slxlabel\" style=\"padding-left:20px\">{%= $.propertyText %}</label>',\r\n        '<label class=\"slxlabel\" style=\"padding-left:240px\">{%= $.operatorText %}</label>',\r\n    '</div>',\r\n    '<div id=\"{%= $.id %}-Loading-container\">',\r\n        '<br />',\r\n        '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingText %}</label>',\r\n    '</div>',\r\n//conditions\r\n    '<div style=\"padding:10px;\" id=\"{%= $.id %}-Condition-container\"></div>',\r\n//buttons\r\n    '<div class=\"button-bar alignright\">',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"submit\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').matchingObject.updateMatchProperties();\">',\r\n            '{%= $.okText %}',\r\n        '</button>',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"button\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').destroy();\">',\r\n            '{%= $.cancelText %}',\r\n        '</button>',\r\n    '</div>',\r\n'</div>'\r\n]"}});define("Sage/MainView/IntegrationContract/MatchingOptionsConfig",["dojo/_base/declare","dojo/i18n!./nls/MatchingOptionsConfig","dojo/_base/array","dijit/_Widget","Sage/_Templated","Sage/UI/Dialogs","dojo/text!./templates/MatchingOptionsConfig.html","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","dijit/Dialog"],function(_2423,_2424,array,_2425,_2426,_2427,_2428){var _2429=_2423("Sage.MainView.IntegrationContract.MatchingOptionsConfig",[_2425,_2426],{resourceKind:"",resourceDisplayName:"",id:"",index:0,selectedFieldIndex:0,matchingId:"",fields:[{FieldName:"",DisplayName:""}],operators:[],selectedFilters:[],hideimgurl:"images/icons/Find_Remove_16x16.gif",addimgurl:"images/icons/Find_Add_16x16.gif",widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_2428)),constructor:function(){dojo.mixin(this,_2424);},init:function(_242a){this.id=_242a.Id;},conditionTemplate:new Simplate(["<div>","<div id=\"filterCondition_{%= $.index %}\" class=\"lookup-condition-row\" style=\"padding-left:12px\">","<select dojoType=\"dijit.form.select\" id=\"fieldnames_{%= $.index %}\" class=\"lookup-fieldnames-list\" style=\"width:160px\" >","{% for (var i=0; i < $.fields.length; i++) { %}","<option value=\"{%= $.fields[i].FieldName %}\" {% if ($.selectedFieldIndex == i ) { %} selected {% } %} >{%= $.fields[i].DisplayName %}</option>","{% } %}","</select>","<select dojoType=\"dijit.form.select\" id=\"operators_{%= $.index %}\" class=\"lookup-operators-list\" style=\"width:160px; margin-left:130px\">","{% for (var i=0;i<$.operators.length;i++) { %}","<option value=\"{%= $.operators[i].symbol %}\"  {% if ($.selectedFieldIndex == i ) { %} selected {% } %} >{%= $.operators[i].display %}</option>","{% } %}","</select>","{% if ($.index == 1 ) { %}","<img id=\"addCondition_{%= $.index %}\" src=\"{%= $.addimgurl %}\" alt=\"{%= $.filter_AddCondition %}\" style=\"cursor:pointer;padding:0px 5px;\" onclick=\"dijit.byId('{%= $.matchingId %}').matchingObject.addLookupCondition();\" />","{% } %}","{% if ($.index > 1 ) { %}","<img src=\"{%= $.hideimgurl %}\" alt=\"{%= $.filter_RemoveCondition %}\" style=\"cursor:pointer;padding:0px 5px;\" onclick=\"dijit.byId('{%= $.matchingId %}').matchingObject.removeLookupCondition({%= $.index %});\" />","{% } %}","</div>","</div>"]),onEditMatchConfig:function(_242b,_242c){this.resourceDisplayName=_242c;this.resourceKind=_242b;this.showDialog();},showDialog:function(){this.index=0;var _242d=new dijit.Dialog({title:this.matchingCaption,id:[this.id,"-Dialog"].join(""),style:["height:",300,"px;width:",600,"px;"].join(""),matchingObject:this});_242d.attr("content",this.widgetTemplate.apply(this));this.connect(_242d,"onCancel",this.destroyDialog);this.matchingId=_242d.id;_242d.show();this.getMatchProperties();},getMatchProperties:function(){var self=this;dojo.xhrGet({url:dojo.string.substitute("slxdata.ashx/slx/crm/-/resources/getmatchproperties?resourceKind=${0}",[self.resourceKind]),cache:false,preventCache:true,handleAs:"json",load:function(data){self.fields=data.fields;self.operators=data.operators;self.selectedFilters=data.filters;dojo.query(dojo.byId([self.id,"-Loading-container"].join(""))).orphan();self.loadMatchingFilters();},error:function(_242e,_242f,error){dojo.byId([self.id,"-Loading-container"].join("")).innerHTML=self.error_InvalidEndpoint;}});},loadMatchingFilters:function(){for(var i=0;i<this.selectedFilters.length;i++){this.addLookupCondition();var field=dojo.byId(["fieldnames_",this.index].join(""));if(field!=null){field.value=this.selectedFilters[i].Property;}operator=dojo.byId(["operators_",this.index].join(""));if(operator!=null){operator.value=this.selectedFilters[i].Operator;operator.symbol=this.selectedFilters[i].Operator;}}},dialogResize:function(){dojo.style([this.id,"-Dialog"].join(""),"height","auto");},addLookupCondition:function(){this.index++;var _2430=dojo.byId([this.id,"-Condition-container"].join(""));var _2431=this.conditionTemplate.apply(this);dojo.place(_2431,_2430);this.dialogResize();},removeLookupCondition:function(idx){dojo.query(dojo.byId(["filterCondition_",idx].join(""))).orphan();},updateMatchProperties:function(){var self=this;dojo.xhrPost({url:"slxdata.ashx/slx/crm/-/resources/updateconfiguration",sync:true,postData:self.getSelections(),load:function(){self.destroyDialog();},error:function(_2432,_2433,error){_2427.showError(error);}});},getSelections:function(){var _2434=[];var _2435=dojo.query(".lookup-condition-row");for(var i=0;i<_2435.length;i++){var _2436=dojo.query(".lookup-fieldnames-list",_2435[i]);var _2437=dojo.query(".lookup-operators-list",_2435[i]);var _2438={fieldName:_2436[0].value,operator:_2437[0].value};_2434.push(_2438);}return Sys.Serialization.JavaScriptSerializer.serialize(_2434);},reloadOperators:function(_2439,_243a){this.selectedFieldIndex=_2439;this.index=_243a;var _243b=this.conditionTemplate.apply(this);dojo.place(_243b,["filterCondition_",_243a].join(""),"replace");},destroyDialog:function(){var rows=dojo.query(".lookup-condition-row");if(rows!=null){array.forEach(rows,"dojo.query(item).orphan();");}var _243c=dijit.byId([this.id,"-Dialog"].join(""));if(_243c){_243c.destroy();}}});return _2429;});},"Sage/Utility/UserOptions":function(){define("Sage/Utility/UserOptions",["Sage/Utility"],function(_243d){Sage.namespace("Utility.UserOptions");Sage.Utility.UserOptions={getConvertedOptionValue:function(_243e,value){value=value.toLowerCase();var _243f=value;switch(_243e.toUpperCase()){case "DEFAULTCALENDARVIEW":var _2440=/^(month|2)$/i;var _2441=/^(week|1)$/i;var _2442=/^(workweek|3)$/i;var dayRE=/^(day|0)$/i;if(_2440.test(value)){_243f="month";}else{if(_2441.test(value)){_243f="week";}else{if(_2442.test(value)){_243f="workweek";}else{if(dayRE.test(value)){_243f="day";}else{_243f="day";}}}}break;case "WORKWEEKSUN":case "WORKWEEKMON":case "WORKWEEKTUE":case "WORKWEEKWED":case "WORKWEEKTHU":case "WORKWEEKFRI":case "WORKWEEKSAT":case "REMEMBERUSERS":case "SHOWONOPPORTUNITIES":case "SHOWONREGARDING":case "SHOWONPHONENUMBER":case "SHOWONTIME":var _2443=/^(true|yes|T|1)$/i;_243f=_2443.test(value);break;case "LOADHISTORYONSTART":var _2444=/^(true|yes|T|Y|0)$/i;_243f=_2444.test(value);break;case "DAYSTARTTIME":_243f=this.getHourPart(value);if(_243f>24){_243f=9;}break;case "DAYENDTIME":_243f=this.getHourPart(value);if(_243f>24){_243f=17;}break;case "NUMEVENTS":case "DEFAULTINTERVAL":_243f=parseInt(value);break;default:_243f=value;}return _243f;},getHourPart:function(value){var dt=value.split(" ");var t,h;if(dt.length>1&&value.indexOf("-")>0){t=dt[1];if(t){h=t.split(":")[0];}}else{h=value.split(":")[0];}if(value.indexOf("pm")>0||value.indexOf("PM")>0){h=parseInt(h)+12;}return parseInt(h,10);},getDay:function(value){var _2445=value;if(value.length>1){var _2446=[];_2446["SUNDAY"]=0;_2446["MONDAY"]=1;_2446["TUESDAY"]=2;_2446["WEDNESDAY"]=3;_2446["THURSDAY"]=4;_2446["FRIDAY"]=5;_2446["SATURDAY"]=6;_2445=_2446[value.toUpperCase()];}if(!_2445){_2445=1;}return _2445;},arraySort:function(a,b){return a-b;}};return Sage.Utility.UserOptions;});},"Sage/MainView/JobMgr/templates/nls/ExecutionDetailSummary":function(){define("Sage/MainView/JobMgr/templates/nls/ExecutionDetailSummary",["Sage/LanguageList","dojo/_base/lang"],function(_2447,lang){var nls={root:{txtJobName_Caption:"Type:",txtUser_Caption:"User:",txtTriggerId_Caption:"Schedule:",txtScheduledStartTime_Caption:"Scheduled Start Time:",txtStartTime_Caption:"Actual Start Time:",txtPhase_Caption:"Phase:",txtPhaseDetail_Caption:"Phase Detail:",txtProgress_Caption:"Progress:",txtElapsedTime_Caption:"Elapsed Time:",txtRemainingTime_Caption:"Remaining Time:",txtStatus_Caption:"Status:",txtResult_Caption:"Result:"}};return lang.mixin(_2447,nls);});},"Sage/MailMerge/Loader":function(){define("Sage/MailMerge/Loader",["Sage/Utility/ErrorHandler","Sage/MailMerge/Helper","Sage/MailMerge/MenuHelper","Sage/UI/Dialogs","dijit/_Widget","dojo/i18n","dojo/string","dojox/json/ref","dojo/_base/lang","dojo/i18n!./nls/Loader","dojo/_base/declare"],function(_2448,_2449,_244a,_244b,_244c,i18n,_244d,ref,dLang,nls,_244e){var _244f=_244e("Sage.MailMerge.Loader",[_244c],{constructor:function(){this.inherited(arguments);},postMixInProperties:function(){dLang.mixin(this,nls);this.inherited(arguments);},DecodeMailMergeJsonFromUrl:function(url){var _2450=null;dojo.xhrGet({url:url,preventCache:true,handleAs:"text",sync:true,load:function(data){if(data&&dojo.isString(data)&&data!==""){var _2451=data.replace(/":null/gi,"\":\"\"");_2450=ref.fromJson(_2451);}},error:function(error,_2452){_2448.handleHttpError(error,_2452);}});return _2450;},GetClientPath:function(){var _2453=String(window.location);var _2454=_2453.lastIndexOf("/");if(_2454!=-1){return _2453.substring(0,_2454);}return null;}});window.ExecuteWriteAction=function(_2455,param){_2449.ExecuteWriteAction(_2455,param);};window.GetMailMergeService=function(_2456){if(typeof console!=="undefined"){}return _2449.GetMailMergeService(_2456);};window.GetDesktopService=function(_2457){return _2449.GetMailMergeService(_2457);};if(!Sage.Services.hasService("MailMergeServiceLoader")){Sage.Services.addService("MailMergeServiceLoader",new Sage.MailMerge.Loader());}var _2458=true;var _2459=new _244a();var _245a=(navigator.userAgent.indexOf("Win")!=-1);if(_245a&&Sage&&Sage.Services){if(!Sage.gears){if(typeof initGears==="function"){initGears();}}if(Sage.gears&&Sage.gears.factory){dojo.addOnLoad(function(){_2459.attachWriteMenuPopulator();});_2458=false;}}if(_2458){try{if(!Sage.gears){if(window.console){}}if(Sage.gears&&!Sage.gears.factory){if(window.console){}}}catch(e){}dojo.addOnLoad(function(){_2459.removeWriteMenu();});}return _244f;});},"Sage/MainView/ReportMgr/ReportManagerActions":function(){define("Sage/MainView/ReportMgr/ReportManagerActions",["dojo/_base/declare","Sage/UI/Dialogs","dojo/i18n!./nls/ReportManagerActions","dojo/string","Sage/MainView/ReportMgr/ReportWizardController","Sage/Reporting/Enumerations","Sage/Utility/Jobs","Sage/Data/SDataServiceRegistry"],function(_245b,_245c,_245d,_245e,_245f,_2460,_2461,_2462){Sage.namespace("Sage.MainView.ReportMgr.ReportManagerActions");dojo.mixin(Sage.MainView.ReportMgr.ReportManagerActions,{runReport:function(){this._runReport(_2460.ExecutionType.OnDemand);},deleteReport:function(){var key=this._getSelectedId();if(!key){_245c.showInfo(_245d.txtSelectRecord);}else{var self=this;_245c.raiseQueryDialog("Saleslogix",_245e.substitute(_245d.confirm_Deletion,[_245d.confirm_Report]),function(_2463){if(_2463){var _2464=_2461.getCurrentGroupId();if(self._deleteReport(key)){_2461.refreshList(_2464);}}},_245d.txtYes,_245d.txtNo);}},scheduleReport:function(){this._runReport(_2460.ExecutionType.Scheduled);},editSchedule:function(){var key=this._getSelectedId();if(!key){_245c.showInfo(_245d.txtSelectRecord);}else{var _2465={triggerId:key};_245f.startWizard(_2465);}},deleteSchedule:function(){var key=this._getSelectedId();if(!key){_245c.showInfo(_245d.txtSelectRecord);}else{_245c.raiseQueryDialog("Saleslogix",_245e.substitute(_245d.confirm_Deletion,[_245d.confirm_Schedule]),function(_2466){if(_2466){var _2467=_2461.getCurrentGroupId();var _2468=Sage.Services.getService("JobService");var def=new dojo.Deferred();if(_2468.deleteScheduledJob(key,def)){def.then(function(){_2461.refreshList(_2467);},function(error){console.error("errback: %o",error);});}}},_245d.txtYes,_245d.txtNo);}},deleteHistory:function(){var _2469=Sage.Utility.getSelectionInfo();if(_2469.selectedIds.length<=0){_245c.showInfo(_245d.txtInvalidSelectionCount);}else{var self=this;_245c.raiseQueryDialog("Saleslogix",_245e.substitute(_245d.confirm_Deletion,[_245d.confirm_ReportHistory]),function(_246a){if(_246a){self._deleteHistory();}},_245d.txtYes,_245d.txtNo);}},_getSelectedId:function(){var _246b=Sage.Utility.getSelectionInfo();if(_246b){if(_246b.selectedIds.length===1){return _246b.selectedIds[0];}}return null;},_runReport:function(_246c){var key=this._getSelectedId();if(!key){_245c.showInfo(_245d.txtSelectRecord);}else{var _246d=dijit.byId("list");var _246e=_246d.get("list").selection.getFirstSelected().displayName;var _246f={reportId:key,reportDisplayName:_246e,reportOptions:{wizardOptions:{},scheduleOptions:{executionType:_246c},exportOptions:{},conditions:[],parameterValues:[]}};_245f.startWizard(_246f);}},_getCurrentGroupId:function(){var svc=Sage.Services.getService("ClientGroupContext");var _2470=svc.getContext();return _2470.CurrentGroupID;},_deleteReport:function(key){var _2471=_2462.getSDataService("system",false,true,false);var _2472=new Sage.SData.Client.SDataApplicationRequest(_2471);_2472.setResourceKind(_245e.substitute("reports('${0}')",[key]));var sUrl=_2472.uri;dojo.xhrDelete({handleAs:"json",url:sUrl,error:function(xhr){_245c.showError(_245e.substitute(_245d.txtErrorDeleteReport,[xhr.status]));return false;}});return true;},_getCurrentUserId:function(){var _2473=null;var _2474=Sage.Services.getService("ClientContextService");if(_2474){if(_2474.containsKey("userID")){_2473=_2474.getValue("userID");}}return _2473;},_deleteHistory:function(){var _2475=Sage.Utility.getSelectionInfo();var _2476=[{"name":"EntityName","value":"ReportHistory"},{"name":"SelectedIds","value":(_2475.selectionCount>0)?_2475.selectedIds.join(",")||"":""}];var _2477=_2461.getCurrentGroupId();var _2478={closable:true,key:"Sage.SalesLogix.BusinessRules.Jobs.DeleteEntityJob",descriptor:_245d.txtDeleteHistory,user:{$key:this._getCurrentUserId()},parameters:_2476,infoMessage:_245d.txtDeleteHistory,title:_245d.txtDeleteTitle,complete:function(_2479){_2461.refreshList(_2477);},failure:function(_247a){_245c.showError(dojo.string.substitute(_245d.deleteJobError,[_247a.statusText]));}};_2461.triggerJobAndDisplayProgressDialog(_2478);}});return Sage.MainView.ReportMgr.ReportManagerActions;});},"url:Sage/UI/Controls/templates/PickListAsText.html":"<div>\r\n    <span id=\"${id}-Span\" data-dojo-attach-point=\"textSpan\"></span>\r\n</div>\r\n","Sage/UI/Columns/main":function(){define("Sage/UI/Columns/main",["Sage/UI/Columns/ActivityAlarm","Sage/UI/Columns/UserType","Sage/UI/Columns/ActivityType","Sage/UI/Columns/Boolean","Sage/UI/Columns/Cell","Sage/UI/Columns/CheckBox","Sage/UI/Columns/Currency","Sage/UI/Columns/DataType","Sage/UI/Columns/DateTime","Sage/UI/Columns/Dnd","Sage/UI/Columns/DndCell","Sage/UI/Columns/Email","Sage/UI/Columns/Lookup","Sage/UI/Columns/Numeric","Sage/UI/Columns/OwnerType","Sage/UI/Columns/Phone","Sage/UI/Columns/PickList","Sage/UI/Columns/RadioGroup","Sage/UI/Columns/SlxEdit","Sage/UI/Columns/SlxLink","Sage/UI/Columns/TextBox"],function(){});},"Sage/MainView/ReportMgr/nls/ReportManagerGroupContextService":function(){define("Sage/MainView/ReportMgr/nls/ReportManagerGroupContextService",["Sage/LanguageList","dojo/_base/lang"],function(_247b,lang){var nls={root:{reportsTabDisplayName:"Reports",schedulesTabDisplayName:"Schedules",historyTabDisplayName:"History"}};return lang.mixin(_247b,nls);});},"Sage/UI/Controls/Name":function(){require({cache:{"url:Sage/UI/Controls/templates/Name.html":"<div class=\"person\" slxcompositecontrol=\"true\" id=\"{%= $.id %}\" ><input id=\"{%= $.id %}-TextBox\" value=\"{%= $.nameDesc %}\"\r\n    data-dojo-type=\"Sage.UI.Controls.TextBox\" name=\"{%= $.name %}\" required=\"{%= $.required %}\" dojoAttachPoint=\"focusNode\"  data-dojo-attach-event=\"onChange:textBoxOnChange, onDblClick: showDialog\" data-dojo-props=\"textWithIcons: {%= $.buttonVisible %}\" />\r\n    {% if ($.buttonVisible) { %}\r\n    <img alt=\"{%= $.buttonToolTip %}\"  data-dojo-attach-event=\"ondijitclick: showDialog\"  tabindex=\"{%= $.tabIndex %}\"     \r\n    style=\"padding-left:0;cursor: pointer; vertical-align: left;\" \r\n    src=\"{%= $.buttonImageUrl %}\" title=\"{%= $.buttonToolTip %}\" id=\"{%= $.id %}-Button\" />\r\n    {% } %}\r\n<!--\r\nSimplate template\r\nhttps://github.com/mmorton/simplate\r\nhttps://github.com/mmorton/simplate/blob/master/demo/index.html\r\nBasic formatting example: {%= $.id %}\r\n-->\r\n</div>","url:Sage/UI/Controls/templates/PersonName.html":"<!--\r\nSimplate template\r\nhttps://github.com/mmorton/simplate\r\nhttps://github.com/mmorton/simplate/blob/master/demo/index.html\r\nBasic formatting example: {%= $.id %}\r\n-->\r\n<div>\r\n        <table width=\"100%\">\r\n            <tr>\r\n                <td><label>{%= $.prefixText %}</label></td>\r\n                <td>\r\n                    <select id=\"{%= $.id %}-Prefix\" data-dojo-type=\"Sage.UI.Controls.DropDownSelectPickList\" \r\n                    dojoAttachPoint=\"_valueBox\"\r\n                    pickListName=\"Name Prefix\"\r\n                    storeMode=\"text\"\r\n                    name=\"{%= $.NamePrefix %}\" \r\n                    style=\"width: 150px;display: inline-block\"\r\n                    shouldPublishMarkDirty=\"false\" />\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.nameFirstText %}</label></td>\r\n                <td>\r\n                    <input id=\"{%= $.id %}-First\" data-dojo-type=\"Sage.UI.Controls.TextBox\"\r\n                    style=\"width:inherit;\"\r\n                    textAlign=\"{%= $.textAlign %}\"\r\n                    name=\"{%= $.NameFirst %}\" type=\"text\" data-dojo-attach-point=\"focusNode\"\r\n                    shouldPublishMarkDirty=\"false\">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.nameMiddleText %}</label></td>\r\n                <td>\r\n                    <input id=\"{%= $.id %}-Middle\" data-dojo-type=\"Sage.UI.Controls.TextBox\"\r\n                    style=\"width:inherit;\"\r\n                    textAlign=\"{%= $.textAlign %}\"\r\n                    name=\"{%= $.NameMiddle %}\" type=\"text\" data-dojo-attach-point=\"focusNode\"\r\n                    shouldPublishMarkDirty=\"false\">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.nameLastText %}</label></td>\r\n                <td>\r\n                    <input id=\"{%= $.id %}-Last\" data-dojo-type=\"Sage.UI.Controls.TextBox\"\r\n                    style=\"width:inherit;\"\r\n                    textAlign=\"{%= $.textAlign %}\"\r\n                    name=\"{%= $.NameLast %}\" type=\"text\" data-dojo-attach-point=\"focusNode\"\r\n                    shouldPublishMarkDirty=\"false\">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.suffixText %}</label></td>\r\n                <td>\r\n                    <select id=\"{%= $.id %}-Suffix\" data-dojo-type=\"Sage.UI.Controls.DropDownSelectPickList\"\r\n                    dojoAttachPoint=\"_valueBox\"\r\n                    pickListName=\"Name Suffix\"\r\n                    storeMode=\"text\"\r\n                    name=\"{%= $.NameSuffix %}\"\r\n                    style=\"width: 150px;display: inline-block\"\r\n                    shouldPublishMarkDirty=\"false\" />\r\n                </td>\r\n            </tr>\r\n        </table>                    \r\n        <div class=\"button-bar alignright\" style=\"clear: both\">\r\n            <button id=\"{%= $.id %}-OKButton\" data-dojo-type=\"dijit.form.Button\" type=\"submit\" onClick=\"dijit.byId('{%= $.id %}')._okClicked();\">\r\n                {%= $.okText %}\r\n            </button>\r\n            <button id=\"{%= $.id %}-CancelButton\" data-dojo-type=\"dijit.form.Button\" type=\"button\" onClick=\"dijit.byId('{%= $.id %}')._cancelClicked();\">\r\n                {%= $.cancelText %}\r\n            </button>\r\n        </div>\r\n</div>\r\n"}});define("Sage/UI/Controls/Name",["dojo/_base/lang","dojo/_base/declare","dojo/i18n","dijit/_Widget","Sage/_Templated","Sage/UI/Controls/TextBox","Sage/UI/Controls/PickList","Sage/UI/Controls/DropDownSelectPickList","dijit/Dialog","Sage/UI/Controls/_DialogHelpIconMixin","dojo/i18n!./nls/Name","dojo/text!./templates/Name.html","dojo/text!./templates/PersonName.html","dijit/registry"],function(lang,_247c,i18n,_247d,_247e,_247f,_2480,_2481,_2482,_2483,_2484,_2485,_2486,_2487){var _2488=_247c("Sage.UI.Controls.Name",[_247d,_247e],{widgetTemplate:new Simplate(_2485.split("\r")),dialogContent:new Simplate(_2486.split("\r")),templateOverridePath:"templates/PersonName-Override.html",widgetsInTemplate:true,clientId:"",nameDesc:"",buttonImageUrl:"",buttonToolTip:"",buttonVisible:true,tabIndex:0,prefix:"",first:"",middle:"",last:"",suffix:"","Name Prefix":{},"Name Suffix":{},"LastName Prefix":{},name:"",prefixClientId:"",nameFirstClientId:"",nameMiddleClientId:"",nameLastClientid:"",suffixClientId:"",required:false,autoPostBack:false,constructor:function(_2489){_2489.id=_2489.clientId;this.resources=i18n.getLocalization("Sage.UI.Controls","Name");if(_2489.templateOverridePath&&_2489.templateOverridePath.length>0){try{this.dialogContent=new Simplate(dojo["cache"]("Sage.UI.Controls",_2489.templateOverridePath).split("\r"));}catch(e){}}},postCreate:function(){this.getDotNetData();if(!this["Name Prefix"].data||!this["Name Suffix"].data||!this["LastName Prefix"].data){this.loadPickLists();}this.inherited(arguments);},loadPickLists:function(){var _248a=new dojo.Deferred();var _248b=new dojo.Deferred();var _248c=new dojo.Deferred();var _248d={pickListName:"Name Prefix",canEditText:false,itemMustExist:true,maxLength:-1,storeMode:"text",sort:true,displayMode:"AsControl",required:false,autoPostBack:false};var _248e=new _2480(_248d);_248e.getPickListData(_248a);_248a.then(dojo.hitch(this,this.storePickListData),function(e){console.error(e);});_248d.pickListName="Name Suffix";var _248f=new _2480(_248d);_248f.getPickListData(_248b);_248b.then(dojo.hitch(this,this.storePickListData),function(e){console.error(e);});_248d.pickListName="LastName Prefix";var _2490=new _2480(_248d);_2490.getPickListData(_248c);_248c.then(dojo.hitch(this,this.storePickListData),function(e){console.error(e);});},storePickListData:function(data){this[data.name].data=data;},showDialog:function(){if(!this.buttonVisible){return;}this.editDialog=_2487.byId([this.id,"-Dialog"].join(""));if(!this.editDialog){this.editDialog=new _2482({title:this.resources.dialogTitle,id:[this.id,"-Dialog"].join("")});this.editDialog.set("content",this.dialogContent.apply({id:this.id,prefixText:this.resources.prefixText,nameFirstText:this.resources.nameFirstText,nameMiddleText:this.resources.nameMiddleText,nameLastText:this.resources.nameLastText,suffixText:this.resources.suffixText,cancelText:this.resources.cancelText,okText:this.resources.okText}));}this.setEditFields();lang.mixin(this.editDialog,new _2483());this.editDialog.createHelpIconByTopic("editname");this.editDialog.show();if(this.modality==="modeless"){dojo.destroy([this.id,"-Dialog_underlay"].join(""));}},textBoxOnChange:function(value){if(value!==this.formatName()){this.parseName(value);this.setDotNetData();dojo.publish("Sage/events/markDirty");}},parseName:function(value){var _2491=value.split(" ");var i,item;var _2492="";this.prefix="";this.first="";this.middle="";this.last="";this.suffix="";for(i=0;i<this["Name Prefix"].data.items.$resources.length;i++){item=this["Name Prefix"].data.items.$resources[i];if(item.text.toUpperCase()===_2491[0].toUpperCase()){this.prefix=_2491[0];_2491.shift();break;}}for(i=0;i<this["Name Suffix"].data.items.$resources.length;i++){item=this["Name Suffix"].data.items.$resources[i];if(item.text.toUpperCase()===_2491[_2491.length-1].toUpperCase()){this.suffix=_2491[_2491.length-1];_2491.pop();break;}}if(_2491.length>0){for(i=0;i<this["LastName Prefix"].data.items.$resources.length;i++){item=this["LastName Prefix"].data.items.$resources[i];if(item.text.toUpperCase()===_2491[_2491.length-1].toUpperCase()){_2492=_2491[_2491.length-1]+" ";_2491.pop();break;}}}switch(_2491.length){case 3:this.first=_2491[0];this.middle=_2491[1];this.last=_2492+_2491[2];break;case 2:this.first=_2491[0];this.last=_2492+_2491[1];break;default:this.last=_2492+_2491[0];}},getEditFields:function(){this.updateNameObj();this.setDotNetData();dojo.publish("Sage/events/markDirty");},updateNameObj:function(){if(_2487.byId([this.id,"-Prefix"].join(""))){this.prefix=_2487.byId([this.id,"-Prefix"].join("")).comboBox.get("value");}if(_2487.byId([this.id,"-First"].join(""))){this.first=_2487.byId([this.id,"-First"].join("")).get("value");}if(_2487.byId([this.id,"-Middle"].join(""))){this.middle=_2487.byId([this.id,"-Middle"].join("")).get("value");}if(_2487.byId([this.id,"-Last"].join(""))){this.last=_2487.byId([this.id,"-Last"].join("")).get("value");}if(_2487.byId([this.id,"-Suffix"].join(""))){this.suffix=_2487.byId([this.id,"-Suffix"].join("")).comboBox.get("value");}},getDotNetData:function(){if(this.prefixClientId!==""){this.prefix=dojo.byId(this.prefixClientId).value;}if(this.nameFirstClientId!==""){this.first=dojo.byId(this.nameFirstClientId).value;}if(this.nameMiddleClientId!==""){this.middle=dojo.byId(this.nameMiddleClientId).value;}if(this.nameLastClientid!==""){this.last=dojo.byId(this.nameLastClientid).value;}if(this.suffixClientId!==""){this.suffix=dojo.byId(this.suffixClientId).value;}},setDotNetData:function(){dojo.byId(this.prefixClientId).value=this.prefix;dojo.byId(this.nameFirstClientId).value=this.first;dojo.byId(this.nameMiddleClientId).value=this.middle;dojo.byId(this.nameLastClientid).value=this.last;dojo.byId(this.suffixClientId).value=this.suffix;},setEditFields:function(){if(_2487.byId([this.id,"-Prefix"].join(""))){_2487.byId([this.id,"-Prefix"].join("")).comboBox.set("value",this.prefix);}if(_2487.byId([this.id,"-First"].join(""))){_2487.byId([this.id,"-First"].join("")).set("value",this.first);_2487.byId([this.id,"-First"].join("")).set("style","width:100%");}if(_2487.byId([this.id,"-Middle"].join(""))){_2487.byId([this.id,"-Middle"].join("")).set("value",this.middle);_2487.byId([this.id,"-Middle"].join("")).set("style","width:100%");}if(_2487.byId([this.id,"-Last"].join(""))){_2487.byId([this.id,"-Last"].join("")).set("value",this.last);_2487.byId([this.id,"-Last"].join("")).set("style","width:100%");}if(_2487.byId([this.id,"-Suffix"].join(""))){_2487.byId([this.id,"-Suffix"].join("")).comboBox.set("value",this.suffix);}},_okClicked:function(){this.getEditFields();if(this.focusNode.value!==this.formatName()){this.focusNode.set("value",this.formatName());dojo.publish("Sage/events/markDirty");}},_cancelClicked:function(){this.editDialog.hide();},formatName:function(){var name=((this.prefix==="")?"":this.prefix+" ");name+=((this.first==="")?"":this.first+" ");name+=((this.middle==="")?"":this.middle+" ");name+=((this.last==="")?"":this.last+" ");name+=((this.suffix==="")?"":this.suffix);name=name.trim();return name;}});return _2488;});},"url:Sage/MainView/IntegrationContract/templates/MatchingOptionsConfig.html":"[\r\n'<div>',\r\n    '<div id=\"{%= $.id %}-Context-container\">',\r\n        '<label class=\"wizardsectiontitle boldText padBottom\">{%= $.matchingHeader %}',\r\n            '<span class=\"boldtext\">{%= $.resourceDisplayName %}</span>',\r\n        '</label>',\r\n        '<br /><br />',\r\n    '</div>',\r\n    '<div>',\r\n        '<label class=\"wizardsectiontext padBottom\" style=\"padding-left:20px\">{%= $.matchingDescription %}</label>',\r\n    '</div>',\r\n    '<div>',\r\n        '<br />',\r\n        '<label class=\"slxlabel\" style=\"padding-left:20px\">{%= $.propertyText %}</label>',\r\n        '<label class=\"slxlabel\" style=\"padding-left:240px\">{%= $.operatorText %}</label>',\r\n    '</div>',\r\n    '<div id=\"{%= $.id %}-Loading-container\">',\r\n        '<br />',\r\n        '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingText %}</label>',\r\n    '</div>',\r\n//conditions\r\n    '<div style=\"padding:10px;\" id=\"{%= $.id %}-Condition-container\"></div>',\r\n//buttons\r\n    '<div class=\"button-bar alignright\">',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"submit\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').matchingObject.updateMatchProperties();\">',\r\n            '{%= $.okText %}',\r\n        '</button>',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"button\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').destroy();\">',\r\n            '{%= $.cancelText %}',\r\n        '</button>',\r\n    '</div>',\r\n'</div>'\r\n]","Sage/MainView/IntegrationContract/nls/MatchingOptionsConfig":function(){define("Sage/MainView/IntegrationContract/nls/MatchingOptionsConfig",["Sage/LanguageList","dojo/_base/lang"],function(_2493,lang){var nls={root:{matchingCaption:"Edit Match Criteria",matchingHeader:"Match Criteria for ",matchingDescription:"Add or remove operators to define the match criteria for all users who link Saleslogix records with an accounting system. This criteria determines the results returned when searching for matching records between accounting systems.",propertyText:"Property",operatorText:"Operator",loadingText:"Loading...",filter_AddCondition:"Add Condition",filter_RemoveCondition:"Remove Condition",error_InvalidEndpoint:"Please specify a valid endpoint before continuing.",okText:"OK",cancelText:"Cancel"}};return lang.mixin(_2493,nls);});},"Sage/QuickForms/Design/Editors/nls/FormBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/FormBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_2494,lang){var nls={root:{titleText:"Basic",generalText:"General",activeControlText:"Active Control:",activeControlTooltipText:"The control the user\\'s cursor starts on.",descriptionText:"Description:",descriptionTooltipText:"Optional description of the purpose of the form.",nameText:"Name:",nameTooltipText:"Form identifier used by the system."}};return lang.mixin(_2494,nls);});},"Sage/UI/Alarms/nls/AlarmButton":function(){define("Sage/UI/Alarms/nls/AlarmButton",["Sage/LanguageList","dojo/_base/lang"],function(_2495,lang){var nls={root:{pastDueToolTipFmt:" You have ${0} activities that are past due."}};return lang.mixin(_2495,nls);});},"Sage/TaskPane/GroupListTasklet":function(){define("Sage/TaskPane/GroupListTasklet",["dojox/grid/DataGrid","Sage/Data/SDataStore","Sage/Data/SDataServiceRegistry","dojo/string","Sage/Groups/GroupContextService","dojo/_base/declare","dijit/_Widget","dojo/_base/lang","Sage/UI/Filters/FilterManager","dojo/_base/array","Sage/Utility/_LocalStorageMixin","dojo/topic","dojo/_base/xhr","dojo/_base/array","dojo/dom-style","dojo/dom-construct","Sage/MainView/Options/OptionsDialog","dojo/query","dojo/dom-class","dojo/dom-attr","dojo/aspect","dojo/json","dojo/i18n!./nls/GroupListTasklet","dojo/dom-geometry","Sage/Utility/Groups"],function(_2496,_2497,_2498,_2499,_249a,_249b,_249c,lang,_249d,array,_249e,topic,_249f,_24a0,_24a1,_24a2,_24a3,_24a4,_24a5,_24a6,_24a7,json,_24a8,_24a9,_24aa){var _24ab=_249b("Sage.Groups.GroupListTasklet",[_249c,_249e],{_contextSetHandle:null,_groupChangedHandle:null,gridLoadedHandler:null,gridOnSelectedHandle:null,groupContextService:null,context:null,grid:null,store:null,query:"",service:null,id:"GroupListTasklet",keyAlias:"",columnDisplayName:"",allowOnSelectToFire:true,STORE_KEY_STORE_QUERY:"_STORE_QUERY_",fieldCount:0,mode:"Standard",hideExtendedGroupListOnSelection:true,showExtendedGroupListOnLookup:false,gridLoadedLookupResultsHandler:null,extendedGroupListTaskPaneWidth:400,changingGroup:false,SESSION_STORE_GROUP_LAYOUT_KEY:"EGL_GROUP_LAYOUT_",SESSION_STORE_USER_OPTIONS_KEY:"EGL_USER_OPTION_",LOCAL_STORE_EGL_NAMESPACE:"EGL",LOCAL_STORE_EGL_MODE_KEY:"MODE_",performingLookup:false,previousGroupId:null,standardWidth:200,_gridSelect:null,_gridStructure:null,shouldRecreateGrid:false,subscribesTo:{adhocGroupRemoved:"/group/adhoc/removed",groupNavFirst:"/group/nav/first",groupNavPrevious:"/group/nav/previous",groupNavNext:"/group/nav/next",groupNavLast:"/group/nav/last",userOptionsChanged:"userOptions/changed"},constructor:function(_24ac){this.inherited(arguments);lang.mixin(this,_24ac);lang.mixin(this,_24a8);this.groupContextService=Sage.Services.getService("ClientGroupContext");this.context=this.groupContextService.getContext();topic.subscribe(this.subscribesTo.userOptionsChanged,lang.hitch(this,this._onUserOptionsChanged));this._loadUserOptions();this._createToolbarButtons();this._connectToCommonTasksToggleEvent();this.counter=0;this._loadMode();if(this.context.CurrentFamily===null){this._contextSetHandle=dojo.connect(this.groupContextService,"onContextSet",this,"_createList");}else{this.toggleMode(this.mode);}this._groupChangedHandle=dojo.connect(this.groupContextService,"onCurrentGroupChanged",this,"_groupChanged");topic.subscribe(this.subscribesTo.groupNavFirst,lang.hitch(this,this._onGroupNavFirst));topic.subscribe(this.subscribesTo.groupNavPrevious,lang.hitch(this,this._onGroupNavPrevious));topic.subscribe(this.subscribesTo.groupNavNext,lang.hitch(this,this._onGroupNavNext));topic.subscribe(this.subscribesTo.groupNavLast,lang.hitch(this,this._onGroupNavLast));topic.subscribe(this.subscribesTo.adhocGroupRemoved,lang.hitch(this,this._onRecordRemoved));},_onGroupNavFirst:function(args){this.selectGridRow(0);},_onGroupNavLast:function(args){this.selectGridRow(args.count-1);},_onGroupNavPrevious:function(args){var _24ad=args.position-1;this.selectGridRow(_24ad-1);},_onGroupNavNext:function(args){var _24ae=args.position-1;this.selectGridRow(_24ae+1);},_onRecordRemoved:function(args){var index,_24af;index=this.grid.selection.selectedIndex;if(index===0){_24af=index+1;}else{_24af=index-1;}this.selectGridRow(_24af);this._onSelected(_24af);this._onRecordRemovedRefresh(index===0?index:_24af);},_onRecordRemovedRefresh:function(index){if(this.grid){this.gridRefreshedHandler=dojo.connect(this.grid,"_onFetchComplete",this,function(){this.selectGridRow(index);});try{this.grid.setStore(this.get("store"));}catch(err){}}},_groupChanged:function(){this.counter++;if(this.performingLookup&&this.counter<2&&this.previousGroupId!=="LOOKUPRESULTS"){return;}this.changingGroup=true;if(this.grid&&!this.shouldNotUpdate){try{if(this.mode==="Extended"){this.toggleMode("Extended");this.gridLoadedHandler=dojo.connect(this.grid,"_onFetchComplete",this,"_groupChangedAndLoaded");}else{var _24b0=this.groupContextService.getContext();if(_24b0["CurrentGroupID"]==="LOOKUPRESULTS"&&this.showExtendedGroupListOnLookup){this.toggleMode("Extended");this.gridLoadedHandler=dojo.connect(this.grid,"_onFetchComplete",this,"_groupChangedAndLoaded");}else{this.gridLoadedHandler=dojo.connect(this.grid,"_onFetchComplete",this,"_groupChangedAndLoaded");this.grid.setStore(this.get("store"));}}}catch(err){}}},_groupChangedAndLoaded:function(){if(this.grid.rowCount===0){return;}if(!(this._getGroupID()==="LOOKUPRESULTS"&&this.mode==="Extended")){this.selectGridRow(0);this._onSelected(0);}if(this.gridLoadedHandler){dojo.disconnect(this.gridLoadedHandler);}this.changingGroup=false;this.counter=0;this.performingLookup=false;},_getStoreQueryKey:function(){var id=this.STORE_KEY_STORE_QUERY+this._getGroupID();return id;},_getGroupNS:function(){var ns=Sage.Groups.GroupManager.LOCALSTORE_NAMESPACE+"-"+this._getGroupID();return ns;},_getGroupID:function(){this.context=this.groupContextService.getContext();var _24b1=-1;if(this.context){_24b1=this.context.CurrentGroupID;}return _24b1;},_getStoreAttr:function(){this.context=this.groupContextService.getContext();this.context.CurrentFamily=this.context.CurrentFamily.toUpperCase();var _24b2="'"+this.context.CurrentGroupID+"'";if(this.context["CurrentGroupID"]==="LOOKUPRESULTS"){this.context["CurrentName"]="Lookup Results";}var temp=this.getFromLocalStorage(this._getStoreQueryKey(),this._getGroupNS()),_24b3={resourceKind:"groups",service:this.service,queryName:"execute",resourcePredicate:_24b2,select:this._getSelect()};if(temp&&temp.store&&temp.query){_24b3.select=temp.store.select;_24b3.resourcePredicate=temp.store.resourcePredicate;this.query=temp.query;if(this.query){_24b3.where=this.query;}}this.store=new _2497(_24b3);return this.store;},refreshGrid:function(){this.context=this.groupContextService.getContext();var _24b4=this.context.CurrentEntityPosition-1;this.selectGridRow(_24b4);if(this.gridRefreshedHandler){dojo.disconnect(this.gridRefreshedHandler);}},selectGridRow:function(_24b5){this.allowOnSelectToFire=false;if(this.grid.rowCount>0){this.grid.scrollToRow(_24b5);this.grid.selection.clear();this.grid.selection.select(_24b5);this.grid.onSelected(_24b5);}else{Sage.Link.toListView();}this.allowOnSelectToFire=true;},uninitialize:function(){try{if(this.grid&&this.grid.destroy){this.grid.destroy();}if(this.gridOnSelectedHandle){this.gridOnSelectedHandle.remove();}}catch(err){}this.inherited(arguments);},_createList:function(){var self=this,_24b6=this.id+"_grid",grid;this.service=_2498.getSDataService("system");if(this.grid){this.grid.setStore(this.get("store"));}else{var _24b7=this._getGridStructure();var _24b8=this._getHeight();grid=new _2496({store:this.get("store"),id:_24b6,structure:_24b7,showTitle:false,autoWidth:false,rowSelector:false,selectionMode:"single",width:"100%",height:_24b8+"px",onHeaderCellClick:function(e){self.sorting=true;self.gridRefreshedOnSortHandler=dojo.connect(grid,"_onFetchComplete",self,"_onGridSorted");this.setSortIndex(e.cell.index);this.onHeaderClick(e);}});if(_24b8>=550){grid.rowsPerPage=35;}else{grid.rowsPerPage=25;}dojo.byId(this.id+"_node").appendChild(grid.domNode);if(!this.changingGroup){this.gridRefreshedHandler=dojo.connect(grid,"_onFetchComplete",this,"refreshGrid");}grid.startup();this.grid=grid;}this.gridOnSelectedHandle=this.grid.on("selected",lang.hitch(this,this._onSelected));},_onSelected:function(index){if(!this.allowOnSelectToFire){return;}var cec,_24b9,_24ba;if(Sage.Services.hasService("ClientEntityContext")){cec=Sage.Services.getService("ClientEntityContext");_24b9=cec.getContext().EntityId;_24ba=this.grid.selection.getFirstSelected();if(_24ba){cec.navigateSLXGroupEntity(_24ba[this.keyAlias],_24b9,index+1);}}if(this.hideExtendedGroupListOnSelection&&(this.mode==="Extended")&&!this.sorting&&!this.changingGroup){this.toggleMode("Standard");}this.sorting=false;},_createToolbarButtons:function(){var _24bb=_24a4(".task-pane-header-tools");var _24bc=_2499.substitute("<a href=\"javascript:void(0)\" title=\"\"><div class=\"Global_Images icon16x16 icon_options_16x16\" id=\"ExtendedGroupList_options\" title=\"${0}\" style=\"cursor: pointer;\"></div></a>",[this.GroupListOptionsTitle]);_24a2.place(_24bc,_24bb[0],1);dojo.connect(dojo.byId("ExtendedGroupList_options"),"onclick",function(evt){var _24bd=dijit.byId("dlgOptions");if(!_24bd){_24bd=new _24a3();}_24bd.startup();_24bd.show();});var _24be=this;var _24bf=_2499.substitute("<a href=\"javascript:void(0)\" title=\"\" id=\"xxxx\"><div class=\"Global_Images icon16x16 icon_Toggle_Maximize_16x16\" title=\"${0}\" id=\"ExtendedGroupList_toggle\" style=\"cursor: pointer;\"></div></a>",[this.maximizeTitle]);_24a2.place(_24bf,_24bb[0],3);dojo.connect(dojo.byId("ExtendedGroupList_toggle"),"onclick",function(evt){_24be.toggleMode();});},_loadUserOptions:function(){var svc=Sage.Services.getService("UserOptions");if(svc){var _24c0=this.SESSION_STORE_USER_OPTIONS_KEY+"ExtendedGroupList_FieldCount";var value=this._getFromSessionStorage(_24c0);if(value!==null&&typeof value!=="undefined"){this.fieldCount=value;}else{svc.get("FieldCount","ExtendedGroupList",lang.hitch(this,function(_24c1){if(_24c1&&_24c1.value){this.fieldCount=parseInt(_24c1.value);this._addToSessionStorage(_24c0,this.fieldCount);}}),null,null,true);}_24c0=this.SESSION_STORE_USER_OPTIONS_KEY+"ExtendedGroupList_HideOnSelection";value=this._getFromSessionStorage(_24c0);if(value!==null&&typeof value!=="undefined"){this.hideExtendedGroupListOnSelection=value;}else{svc.get("HideOnSelection","ExtendedGroupList",lang.hitch(this,function(_24c2){if(_24c2){this.hideExtendedGroupListOnSelection=(_24c2.value==="T")?true:false;this._addToSessionStorage(_24c0,this.hideExtendedGroupListOnSelection);}}),null,null,true);}_24c0=this.SESSION_STORE_USER_OPTIONS_KEY+"ExtendedGroupList_ShowOnLookup";value=this._getFromSessionStorage(_24c0);if(value!==null&&typeof value!=="undefined"){this.showExtendedGroupListOnLookup=value;}else{svc.get("ShowOnLookup","ExtendedGroupList",lang.hitch(this,function(_24c3){if(_24c3){this.showExtendedGroupListOnLookup=(_24c3.value==="T")?true:false;this._addToSessionStorage(_24c0,this.showExtendedGroupListOnLookup);}}),null,null,true);}}},_onUserOptionsChanged:function(_24c4){this.shouldRecreateGrid=false;if(this.fieldCount!==_24c4.extendedGroupList.fieldCount){this.shouldRecreateGrid=true;}this.fieldCount=_24c4.extendedGroupList.fieldCount;var _24c5=this.SESSION_STORE_USER_OPTIONS_KEY+"ExtendedGroupList_FieldCount";this._addToSessionStorage(_24c5,this.fieldCount);this.hideExtendedGroupListOnSelection=_24c4.extendedGroupList.hideOnSelection;_24c5=this.SESSION_STORE_USER_OPTIONS_KEY+"ExtendedGroupList_HideOnSelection";this._addToSessionStorage(_24c5,this.hideExtendedGroupListOnSelection);this.showExtendedGroupListOnLookup=_24c4.extendedGroupList.showOnLookup;_24c5=this.SESSION_STORE_USER_OPTIONS_KEY+"ExtendedGroupList_ShowOnLookup";this._addToSessionStorage(_24c5,this.showExtendedGroupListOnLookup);if(this.mode==="Extended"&&this.shouldRecreateGrid){this.toggleMode("Extended");}},_getCurrentFamily:function(){var _24c6=Sage.Services.getService("ClientGroupContext");var _24c7=_24c6&&_24c6.getContext();var _24c8=_24c7&&_24c7.CurrentFamily;return _24c8;},_getCurrentGroupLayout:function(){var _24c9=this._getCurrentFamily();var _24ca=this.SESSION_STORE_GROUP_LAYOUT_KEY+this._getGroupID();if(this._getGroupID()==="LOOKUPRESULTS"){_24ca=_24ca+"_"+_24c9;}var _24cb=this._getFromSessionStorage(_24ca);if(!_24cb){var url="slxdata.ashx/slx/system/-/groups('"+this._getGroupID()+"')?select=layout/alias,layout/caption,layout/width,layout/fieldType,layout/format,layout/formatString,layout/propertyPath,layout/visible,layout/webLink,layout/dataPath&format=json";_249f("GET",{url:url,handleAs:"json",sync:true,preventCache:true}).then(function(data){_24cb=data.layout;});this._addToSessionStorage(_24ca,_24cb);}var _24cc=this.fieldCount>0?this.fieldCount:20;if(_24cb.length>_24cc){_24cb=_24cb.splice(0,_24cc);}return _24cb;},_getSelect:function(){var _24cd=this._getCurrentGroupLayout();var _24ce=[this.keyAlias,this.columnDisplayName];if(this.mode==="Extended"){if(!this._gridSelect){var _24cf=_24aa.getGridStructure(_24cd,true);this._gridStructure=_24cf.structure;this._gridSelect=_24cf.select;}this._gridSelect.forEach(function(item,index){_24ce.push(item);});}return _24ce;},_addToSessionStorage:function(_24d0,data){sessionStorage.setItem(_24d0,json.stringify(data));},_getFromSessionStorage:function(_24d1){var _24d2=sessionStorage.getItem(_24d1);var data;if(_24d2!==null&&typeof _24d2!=="undefined"){data=json.parse(_24d2);}return data;},_getModeFromLocalStorage:function(){var _24d3=this.LOCAL_STORE_EGL_MODE_KEY+this._getGroupID();var mode=this.getFromLocalStorage(_24d3(),this.LOCAL_STORE_EGL_NAMESPACE);return mode;},_getGridStructure:function(){var self=this;var _24d4=[];if(this.mode==="Standard"){_24d4.push({field:"_item",headerClasses:"displaynone",width:"100%",formatter:function(item){return (item&&item.hasOwnProperty(self.columnDisplayName)?item[self.columnDisplayName]:dojo.string.substitute("(${0})",[item[self.keyAlias]]));}});_24d4.push({field:this.keyAlias,hidden:true,headerClasses:"displaynone",width:"0px"});}else{var _24d5=this._getCurrentGroupLayout();if(!this._gridStructure||this.shouldRecreateGrid){var _24d6=_24aa.getGridStructure(_24d5,true);this._gridStructure=_24d6.structure;this._gridSelect=_24d6.select;}_24d4=this._gridStructure;}return _24d4;},_getHeight:function(){var _24d7=dojo.marginBox(dojo.byId("TaskPane_item_CommonTasksTasklet")).h;var _24d8=dojo.marginBox(dojo.byId("TaskPane")).h;var _24d9=_24d8-_24d7-55;if(_24d9<230){_24d9=230;}return _24d9;},toggleMode:function(mode){var _24da=dijit.byId("TaskPane");if(this.mode==="Standard"){this.standardWidth=_24a9.getMarginBox(_24da.domNode).w;}this.uninitialize();this.grid=null;this.mode=mode?mode:(this.mode==="Standard")?"Extended":"Standard";this._resizeTaskPane();this._createList();this._setExtendedGroupListToggleIcon();this._saveMode();},_setExtendedGroupListToggleIcon:function(){if(this.mode==="Extended"){_24a5.remove("ExtendedGroupList_toggle","icon_Toggle_Maximize_16x16");_24a5.add("ExtendedGroupList_toggle","icon_Toggle_Minimize_16x16");_24a6.set("ExtendedGroupList_toggle","title",this.minimizeTitle);}else{_24a5.remove("ExtendedGroupList_toggle","icon_Toggle_Minimize_16x16");_24a5.add("ExtendedGroupList_toggle","icon_Toggle_Maximize_16x16");_24a6.set("ExtendedGroupList_toggle","title",this.maximizeTitle);}},_resizeTaskPane:function(){var _24db=dijit.byId("TaskPane");var _24dc=_24a1.get(_24db.domNode,"width");if(this.mode==="Extended"){if(_24dc<this.extendedGroupListTaskPaneWidth){var width=this.extendedGroupListTaskPaneWidth+"px";_24a1.set(_24db.domNode,"width",width);dijit.byId("innerBorder").resize();}}else{_24a9.setMarginBox(_24db.domNode,{w:this.standardWidth});dijit.byId("innerBorder").resize();}if(this.mode==="Extended"){dijit.byId("TaskPane_item_CommonTasksTasklet").set("open",false);}else{dijit.byId("TaskPane_item_CommonTasksTasklet").set("open",true);}},_connectToCommonTasksToggleEvent:function(){var _24dd=this;var _24de=dijit.byId("TaskPane_item_CommonTasksTasklet");if(_24de){dojo.connect(_24de,"toggle",function(){var _24df=dojo.byId("GroupList_grid");setTimeout(function(){var _24e0=_24dd._getHeight()+"px";_24a1.set(_24df,"height",_24e0);_24dd.grid.resize();_24dd.grid.update();},250);});}},_onGridSorted:function(){this.selectGridRow(0);this._onSelected(0);if(this.gridRefreshedOnSortHandler){dojo.disconnect(this.gridRefreshedOnSortHandler);}},_loadMode:function(){var _24e1=this._getCurrentFamily();var _24e2=this.LOCAL_STORE_EGL_MODE_KEY+_24e1;var value=this.getFromLocalStorage(_24e2,this.LOCAL_STORE_EGL_NAMESPACE);if(value!==null&&typeof value!=="undefined"){this.mode=value;}else{this.mode="Standard";}},_saveMode:function(){var _24e3=this._getCurrentFamily();var _24e4=this.LOCAL_STORE_EGL_MODE_KEY+_24e3;this.saveToLocalStorage(_24e4,this.mode,this.LOCAL_STORE_EGL_NAMESPACE);}});return _24ab;});},"Sage/TaskPane/JobManagerTasksTasklet":function(){define("Sage/TaskPane/JobManagerTasksTasklet",["dojo/i18n!./nls/JobManagerTasksTasklet","dojo/_base/declare","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneContent","Sage/TaskPane/TaskPaneItem","dojo/_base/array","dojo/string"],function(_24e5,_24e6,_24e7,_24e8,_24e9,_24ea,_24eb){var _24ec=_24e6("Sage.TaskPane.JobManagerTasksTasklet",[_24e7,_24e8],{taskItems:[],constructor:function(){dojo.mixin(this,_24e5);this.taskItems=this._getTaskletItems();dojo.subscribe("/group/context/changed",this,this._onGroupContextChanged);},_getTaskletItems:function(){var _24ed=this._getCurrentGroupId();switch(_24ed){case "jobDefinitions":return this._getDefinationsTasks();case "schedules":return this._getSchedulesTasks();default:return this._getExecutionsTasks();}},_getCurrentGroupId:function(){var svc=Sage.Services.getService("ClientGroupContext");var _24ee=svc.getContext();return _24ee.CurrentGroupID;},_getExecutionsTasks:function(){var _24ef=[{taskId:"taskCancelExecution",type:"Link",displayName:this.taskCancelJob_Caption,clientAction:"Sage.MainView.JobMgr.JobManagerActions.showCancelExecutionDialog();",securedAction:"Entities/JobManager/CancelJob"}];return _24ef;},_getDefinationsTasks:function(){var _24f0=[{taskId:"taskRunJob",type:"Link",displayName:this.taskRunJob_Caption,clientAction:"Sage.MainView.JobMgr.JobManagerActions.showRunJobDialog(true);",securedAction:"Entities/JobManager/RunJob"}];return _24f0;},_getSchedulesTasks:function(){var _24f1=[{taskId:"taskRunJob",type:"Link",displayName:this.taskEditTrigger_Caption,clientAction:"Sage.MainView.JobMgr.JobManagerActions.showRunJobDialog(false);",securedAction:"Entities/JobManager/RunJob"},{taskId:"taskDeleteScheduledJob",type:"Link",displayName:this.taskDeleteScheduledJob_Caption,clientAction:"Sage.MainView.JobMgr.JobManagerActions.deleteScheduledJob();",securedAction:"Entities/JobManager/DeleteScheduledJob"}];return _24f1;},_onGroupContextChanged:function(){var self=this;dojo.empty("JobManagerTasks");var _24f2=this._getTaskletItems();if(_24f2){_24ea.forEach(_24f2,function(_24f3,i){dojo.place(_24eb.substitute("<div dojotype=\"Sage.TaskPane.TaskPaneItem\" class=\"task-pane-item-common-tasklist\" linkText=\"${0}\" securedAction=\"${1}\" action=\"javascript: ${2}\"></div><br />",[_24f3.displayName,_24f3.securedAction,_24f3.clientAction]),self.taskletContainerNode);});}dojo.parser.parse(self.taskletContainerNode);},});return _24ec;});},"Sage/Layout/MainContentDetailsPane":function(){define("Sage/Layout/MainContentDetailsPane",["dojo/_base/declare","dojo/dom-style","Sage/Layout/ContentPane"],function(_24f4,_24f5,_24f6){var _24f7=_24f4("Sage.Layout.MainContentDetailsPane",[_24f6],{postCreate:function(){this.inherited(arguments);var _24f8=Sage.Services.getService("ClientEntityContext");if(_24f8){var _24f9=_24f8.getContext();this.storageId=[_24f9.EntityType.replace(/\./g,"_"),"_",this.id].join("");}this.connect(this,"startup",this.noContentResize);},mainPaneChildrenExist:true,tabPaneChildrenExist:true,noContentResize:function(){var dim={h:this.domNode.scrollHeight,w:this.domNode.scrollWidth},self=this;var _24fa=function(){self.resize(dim);_24f5.set(self._splitterWidget.domNode,"display","none");};if(!this.tabPaneChildrenExist){var _24fb=dijit.byId("centerContent");dim={h:_24fb.domNode.scrollHeight,w:this.domNode.scrollWidth};_24fa();}if(!this.mainPaneChildrenExist){dim={h:1,w:this.domNode.scrollWidth};_24fa();}},startup:function(){var _24fc=dijit.byId("Viewport");var _24fd=dojo.query("[id$=_inner]",dojo.query(".mainContentContent")[0])[0];if(_24fd){this.mainPaneChildrenExist=(_24fd.children.length>1||dojo.query("#MainContent .formtable").length>0||_24fd.id==="GeneralExceptioncontents_inner");}else{this.mainPaneChildrenExist=false;}this.tabPaneChildrenExist=(dijit.byId("tabContent").domNode.children.length>0);if(!this.tabPaneChildrenExist||!this.mainPaneChildrenExist){this.set("splitter",false);}if(this.splitter){var _24fe=dojo.query("[class$=SecondaryToggle]");if(_24fe){for(var i=0;i<_24fe.length;i++){dojo.style(_24fe[i],"display","none");}}}if(_24fc){_24fc.resize();}this.inherited(arguments);}});return _24f7;});},"Sage/MainView/ActivityMgr/AttendeeLookup/SpeedSearchLookup":function(){require({cache:{"url:Sage/MainView/ActivityMgr/AttendeeLookup/templates/SpeedSearchLookup.html":"[\r\n'<div>',\r\n    '<div data-dojo-type=\"dijit.Dialog\" id=\"{%= $.id %}-Dialog\" title=\"\" dojoAttachPoint=\"_dialog\" >', //dialog\r\n         '<div class=\"event-dialog\">',\r\n        '<div style=\"padding:5px;\" id=\"{%= $.id %}-Condition-container\">',\r\n            '<input id=\"Text1\" type=\"text\" style=\"width:85%;\"  data-dojo-attach-point=\"_valueBox\" data-dojo-attach-event=\"onkeypress:_onKeyPress\"/>',     \r\n            '<button id=\"{%= $.id %}-Search\" data-dojo-type=\"dijit.form.Button\" type=\"button\" dojoAttachPoint=\"searchButton\" dojoAttachEvent=\"onClick:_doSearch\">{%= $.srchBtnCaption %}</button>',\r\n          \r\n        '</div>',    \r\n        '<div data-dojo-attach-point=\"contentNode\">',  \r\n        '<div id=\"{%= $.id %}-Grid-container\" dojoAttachPoint=\"_speedSearchGrid\"  style=\"width:auto;height:400px;\"></div>',\r\n        '</div>',\r\n            '<div class=\"lookupButtonWrapper\">',           \r\n                '<button data-dojo-type=\"dijit.form.Button\" type=\"button\" id=\"{%= $.id %}-GridSelectButton\" ',\r\n                    'onClick=\"dijit.byId(\\'{%= $.id %}\\').getGridSelections(); \">{%= $.okText %}',\r\n                   '</button>',            \r\n                '<button data-dojo-type=\"dijit.form.Button\" type=\"button\" id=\"{%= $.id %}-CloseButton\" ',\r\n                    'onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').hide();\">{%= $.cancelText %}</button>',\r\n            '</div>',\r\n             '</div>',\r\n     '</div> ', //dialog   \r\n'</div>'\r\n]"}});define("Sage/MainView/ActivityMgr/AttendeeLookup/SpeedSearchLookup",["dojo/_base/html","dojox/grid/DataGrid","Sage/Data/SDataServiceRegistry","Sage/UI/SLXPreviewGrid","Sage/UI/EditableGrid","dijit/Dialog","dijit/_Widget","Sage/_Templated","dojo/_base/lang","dojo/string","dojo/_base/array","dijit/registry","dojo/text!./templates/SpeedSearchLookup.html","dojo/_base/declare","Sage/Data/ServiceOperationSDataStore","dojo/i18n!./nls/SpeedSearchLookup"],function(html,_24ff,_2500,_2501,_2502,_2503,_2504,_2505,_2506,_2507,array,_2508,_2509,_250a,_250b,_250c){var _250d=_250a("Sage.MainView.ActivityMgr.AttendeeLookup.SpeedSearchLookup",[_2504,_2505],{id:"speedSearchLookup",btnIcon:"images/icons/plus_16x16.gif",btnToolTip:"Lookup",dialogTitle:"Contact/Lead Look up",closeText:"Close",loadingText:"Loading...",_initialized:false,_started:false,dialogButtonText:"Search",widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_2509)),srchBtnCaption:"Search",_store:null,_grid:null,currentPage:0,pageSize:100,indexes:[{indexName:"Contact",indexType:1,isSecure:true},{indexName:"Lead",indexType:1,isSecure:true}],types:["Contact","Lead"],iconPathsByType:{"Account":"content/images/icons/Company_24.png","Activity":"content/images/icons/To_Do_24x24.png","Contact":"content/images/icons/Contacts_24x24.png","History":"content/images/icons/journal_24.png","Lead":"content/images/icons/Leads_24x24.png","Opportunity":"content/images/icons/opportunity_24.png","Ticket":"content/images/icons/Ticket_24x24.png"},constructor:function(){_2506.mixin(this,_250c);},postMixInProperties:function(){},startup:function(){this._buildGrid();var self=this;},extractTypeFromItem:function(item){for(var i=0;i<this.types.length;i++){if(item.source.indexOf(this.types[i])!==-1){return this.types[i];}}return null;},extractDescriptorFromItem:function(item,type){var _250e="";switch(type){case "Contact":_250e=_2507.substitute("${lastname}, ${firstname}",this.getFieldValues(item.fields,["firstname","lastname"]));break;case "Lead":_250e=_2507.substitute("${lastname}, ${firstname}",this.getFieldValues(item.fields,["firstname","lastname"]));break;}return _250e;},extractKeyFromItem:function(item){var _250f,len;_250f=item.displayName;if(!_250f){return "";}len=_250f.length;return _250f.substring(len-12);},getFieldValue:function(_2510,name){for(var i=0;i<_2510.length;i++){var field=_2510[i];if(field.fieldName==name){return field.fieldValue;}}return "";},getFieldValues:function(_2511,names){var _2512={};array.forEach(names,function(name){_2512[name]="";});array.forEach(_2511,function(field){array.forEach(names,function(name,i){if(field.fieldName===name){_2512[name]=field.fieldValue;}});});return _2512;},showLookup:function(_2513){this._dialog.set("title",this.dialogTitle);this.eventDefaultValues=_2513||{};this._dialog.show();if(!this._initialized){this._initializeList();}this._dialog.set("refocus",false);},processFeed:function(feed){if(!this.feed){this.set("listContent","");}this.feed=feed=feed.response;if(feed.totalCount===0){this.set("listContent",this.noDataTemplate.apply(this));}else{if(feed.items){var o=[];for(var i=0;i<feed.items.length;i++){var entry=feed.items[i];entry.type=this.extractTypeFromItem(entry);entry.$descriptor=entry.$descriptor||this.extractDescriptorFromItem(entry,entry.type);entry.$key=this.extractKeyFromItem(entry);this.entries[entry.$key]=entry;o.push(this.rowTemplate.apply(entry,this));}if(o.length>0){domConstruct.place(o.join(""),this.contentNode,"last");}}}if(typeof feed.totalCount!=="undefined"){var _2514=this.feed.totalCount-((this.currentPage+1)*this.pageSize);this.set("remainingContent",_2507.substitute(this.remainingText,[_2514]));}domClass.toggle(this.domNode,"list-has-more",this.hasMoreData());},_onComplete:function(feed,_2515){array.forEach(feed,function(entry,i){entry.type=self.extractTypeFromItem(entry);entry.$descriptor=entry.$descriptor||self.extractDescriptorFromItem(entry,entry.type);entry.$key=self.extractKeyFromIt;entry.account=self.extractKeyFromIt;self._storeItems.push(entry);});},_initializeList:function(){var _2516=[{field:"$descriptor",name:this.colName,width:"20%"},{field:"type",name:this.colType,width:"10%"},{field:"accountName",name:this.colAccount,width:"30%"},{field:"title",name:this.colTitle,width:"10%"},{field:"email",name:this.colEmail,width:"30%"},{field:"phone",name:this.colWorkPhone,width:"30%"}];var self=this;var entry={request:{docTextItem:-1,searchText:"",searchType:1,noiseFile:"PMINoise.dat",includeStemming:false,includeThesaurus:false,includePhonic:false,useFrequentFilter:false,indexes:this.indexes,whichPage:this.currentPage,itemsPerPage:this.pageSize,filters:null},response:null};var _2517=function(feed,_2518){this._initialized=true;array.forEach(feed,function(entry,i){entry.type=self.extractTypeFromItem(entry);entry.$descriptor=entry.$descriptor||self.extractDescriptorFromItem(entry,entry.type);entry.$key=self.extractKeyFromItem(entry);entry.accountName=self.getFieldValue(entry.fields,"account");entry.title=self.getFieldValue(entry.fields,"title");entry.email=self.getFieldValue(entry.fields,"email");entry.phone=self.getFieldValue(entry.fields,"phone");});};var _2519=this._store=new _250b({service:_2500.getSDataService("system"),contractName:"system",operationName:"executeSearch",entry:entry,onProcess:_2517});var grid=this._grid=new dojox.grid.EnhancedGrid({id:"speedSearchGrid",store:_2519,structure:_2516,layout:"layout",noDataMessage:"<span class='dojoxGridNoData'>"+this.noDataText+"</span>",rowsPerPage:100},dojo.byId(this._speedSearchGrid));this._grid.canSort=function(col){return false;};dojo.connect(this._grid,"onDblClick",this,this.onDoubleClick);this._in=true;},onDoubleClick:function(event){this.getGridSelections();},uninitialize:function(){if(!this.contentNode){return;}array.forEach(this.mainHandles,function(_251a){_251a.remove();});this._destroyContent();this.inherited(arguments);},_destroyContent:function(){if(!this.contentNode){return;}array.forEach(_2508.findWidgets(this.contentNode),function(_251b){_251b.destroy(false);});array.forEach(this.handles,function(_251c){_251c.remove();});this.handles=[];this.contentNode.innerHTML="";},initDialog:function(){},_onKey:function(evt){var self=this,args=arguments;dojo.query("*",this.domNode).forEach(function(node,index,arr){if(node===evt.target){self.inherited(args);}});},getGridSelections:function(){var items=this._grid.selection.getSelected();this.doSelected(items);this._grid.selection.deselectAll();},doSelected:function(items){},_cancelClick:function(){this.hide();},hide:function(){this._dialog.hide();},_doSearch:function(){if(this._valueBox.value){this._store.entry.request.searchText=this._valueBox.value;if(!this._started){this._started=true;this._grid.startup();}else{dijit.byId("speedSearchGrid").setQuery();this._grid.store=this._store;this._grid.update();}}},_onKeyPress:function(evt){if(evt.keyCode==13||evt.keyCode==10){this._valueBox.blur();this._doSearch();}},destroy:function(){var _251d=dijit.byId([this.id,"-Dialog"].join(""));if(this.btnIcon){dojo.destroy(this.btnIcon);}dojo.disconnect(this._doSearchConnection);dojo.unsubscribe(this._addCondHandle);dojo.unsubscribe(this._removeCondHandle);if(this.conditionMgr){this.conditionMgr.destroy(false);}if(_251d){_251d.uninitialize();}this.inherited(arguments);}});return _250d;});},"Sage/MainView/FormManager":function(){define("Sage/MainView/FormManager",["dojo/string","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-construct","dojo/topic","dojo/i18n","dijit/registry","Sage/Services/_ServiceMixin","Sage/UI/Columns/SlxLink","Sage/UI/SDataMainViewConfigurationProvider","Sage/QuickForms/Design/DesignPanel","dojo/i18n!./nls/FormManager"],function(_251e,_251f,lang,array,_2520,topic,i18n,_2521,_2522,_2523,_2524,_2525,_2526){return _251f("Sage.MainView.FormManager",[_2524,_2522],{serviceMap:{"dataService":{type:"sdata",name:"metadata"}},constructor:function(){lang.mixin(this,_2526);this._designGroupTopics=[topic.subscribe("/quickforms/design/default/load",lang.hitch(this,this._onQuickFormLoad))];},_onQuickFormLoad:function(entry,panel){var _2527=dijit.byId("titlePane");if(_2527){_2527.set("title",lang.getObject("entity.Name",false,entry));}document.title=this.pageTitle;},requestConfiguration:function(_2528){if(_2528.success){_2528.success.call(_2528.scope||this,this._createListConfiguration(),this);}},_createListConfiguration:function(){var store=new Sage.Data.SDataStore({service:this.dataService,resourceKind:"forms"}),_2529=[{field:"entity.Name",name:"Name",width:"200px",type:_2523,idField:"entity.Name",nosort:true}];this.listPanelConfiguration={list:{structure:_2529,store:store,id:"formManagerListConfig"},detail:false,summary:false,toolBar:{}};return this.listPanelConfiguration;},requestTitlePaneConfiguration:function(_252a){if(_252a.success){_252a.success.call(_252a.scope||this,this._createTitlePaneConfiguration(),this);}},_createTitlePaneConfiguration:function(){this.titlePaneConfiguration={tabs:false,menu:false,titleFmtString:this.titleFmtString};return this.titlePaneConfiguration;},requestDetailModeConfiguration:function(_252b){if(_252b.success){_252b.success.call(_252b.scope||this,this._createDetailModeConfiguration(),this);}if(this.designPanel){this.designPanel.read(this._getQueryStringParam("entityid"));}},_createDetailModeConfiguration:function(){var _252c=this.designPanel=new _2525();return {content:_252c,toolBar:false};},_getQueryStringParam:function(param){var query=document.location.href.split("?")[1];if(typeof query==="undefined"){return false;}var _252d=query.split("&");for(var i=0;i<_252d.length;i++){var parts=_252d[i].split("=");if(parts[0].toLowerCase()===param.toLowerCase()){return parts[1];}}return false;}});});},"Sage/Utility/ErrorHandler":function(){define("Sage/Utility/ErrorHandler",["Sage/Utility","Sage/UI/Dialogs","dojo/io-query","dojo/string","dojo/_base/array"],function(_252e,_252f,_2530,_2531,array){Sage.namespace("Utility.ErrorHandler");dojo.mixin(Sage.Utility.ErrorHandler,{_debugEndRequest:false,_configuration:{isDebug:false,preemption:{enabled:true,allowAuthRedirect:true,handledStatusCodes:"577,578,579,580,581,582",showPreemptedErrorMsg:false,showInternalServerErrorMsg:false,showUnhandledMessagingServiceExceptionMsg:true},authenticationRedirectUrl:null,showExtendedValidationException:false,showExtendedRoleAccessDeniedException:false},_fmtSlxErrorId:function(_2532){if(Sage.Utility.isStringWithLength(_2532)){if(this._configuration.isDebug){return _2531.substitute("\r\n\r\nSaleslogix Error Id: <a href=\"SLXErrorLookupService.asmx/GetEventLogError?slxErrorId=${0}\" target=\"_blank\">${0}</a>",[_2532]);}else{return _2531.substitute("\r\n\r\nSaleslogix Error Id: ${0}",[_2532]);}}return "";},_fmtStackTrace:function(_2533){if(this._configuration.isDebug&&Sage.Utility.isStringWithLength(_2533)){var stack=Sage.Utility.htmlEncode(_2533).replace(/(\r\n)/g,"&#13;&#10;").trim();return _2531.substitute("\r\n\r\nStack trace:\r\n<textarea id=\"StackTrace\" cols=\"20\" name=\"StackTrace\" readonly=\"readonly\" rows=\"1\" style=\"width: 100%; height: 200px; font-family: 'Courier New', Courier, monospace; font-size: small; background-color: #F2F2F2; color: #444444; 1px: ; opacity: 0.8; -moz-box-sizing: border-box; box-sizing: border-box;\" unselectable=\"off\" wrap=\"off\">${0}</textarea>",[stack]);}return "";},_mixinConfig:function(){if(window.errorHandlerConfig&&typeof window.errorHandlerConfig==="object"){dojo.mixin(this._configuration,window.errorHandlerConfig);}},_preemptError:function(xhr,o){try{var _2534=this.getHttpStatusInfo(xhr,o);if(this._configuration.isDebug&&typeof console!=="undefined"){}if(!(_2534&&typeof _2534==="object"&&_2534.hasOwnProperty("sdataError"))){return false;}var _2535=function(_2536,_2537){if(_2536&&typeof _2536==="object"&&typeof xhr.getResponseHeader!=="undefined"&&_2537&&dojo.isString(_2537)){var sUrl=_2536.getResponseHeader(_2537);if(sUrl&&Sage.Utility.isStringWithLength(sUrl)){return sUrl;}}return null;};var _2538=function(_2539){return _2535(_2539,"Sage-SalesLogix-Exception-Redirect");};var _253a=function(_253b){return _2535(_253b,"Sage-SalesLogix-Error-Id");};var _253c=function(url){if(typeof console!=="undefined"){}window.location=url;};var _253d;if((this.isSDataExceptionDiagnoses(_2534.sdataError.applicationCode)&&(_2534.status==500)&&this._configuration.preemption.showUnhandledMessagingServiceExceptionMsg)){this.showStatusInfoError(_2534);return true;}switch(_2534.status){case 401:if(typeof console!=="undefined"){console.error("Unauthorized (401): %o",_2534.url);}if(this.isConfiguredToHandle(_2534.status)){this.showStatusInfoError(_2534);return true;}return false;case 403:if(typeof console!=="undefined"){console.error("Forbidden (403): %o",_2534.url);}if(this.isConfiguredToHandle(_2534.status)){this.showStatusInfoError(_2534);return true;}return false;case 404:if(typeof console!=="undefined"){console.error("Not Found (404): %o",_2534.url);}if(this.isConfiguredToHandle(_2534.status)){this.showStatusInfoError(_2534);return true;}return false;case 408:if(typeof console!=="undefined"){console.error("Request Timeout: %o",_2534.url);}if(this.isConfiguredToHandle(_2534.status)){this.showStatusInfoError(_2534);return true;}return false;case 500:if(typeof console!=="undefined"){console.error("Internal Server Error (500) - HTTP Info: %o",_2534);}if((this.isSDataExceptionDiagnoses(_2534.sdataError.applicationCode)&&this._configuration.preemption.showUnhandledMessagingServiceExceptionMsg)||this._configuration.preemption.showInternalServerErrorMsg){this.showStatusInfoError(_2534);return true;}return false;case 575:if(typeof console!=="undefined"){console.error("AuthTokenNullException (575) - Saleslogix Error Id: %o; HTTP Info: %o",_253a(xhr),_2534);}if(this._configuration.preemption.allowAuthRedirect){_253d=_2538(xhr);if(_253d!==null){_253c(_253d);return true;}}return false;case 576:if(typeof console!=="undefined"){console.error("BaseException (576) - Saleslogix Error Id: %o; HTTP Info: %o",_253a(xhr),_2534);}if(this._configuration.preemption.showPreemptedErrorMsg){this.showStatusInfoError(_2534);return true;}return false;case 577:if(typeof console!=="undefined"){console.error("RoleAccessDeniedException (577) - Saleslogix Error Id: %o; HTTP Info: %o",_253a(xhr),_2534);}if(this.isConfiguredToHandle(_2534.status)){this.showStatusInfoError(_2534);return true;}return false;case 578:if(typeof console!=="undefined"){console.error("ValidationException (578) - Saleslogix Error Id: %o; HTTP Info: %o",_253a(xhr),_2534);}if(this.isConfiguredToHandle(_2534.status)){this.showStatusInfoError(_2534);return true;}return false;case 579:if(typeof console!=="undefined"){console.error("UserObservableException (579) - Saleslogix Error Id: %o; HTTP Info: %o",_253a(xhr),_2534);}if(this.isConfiguredToHandle(_2534.status)){this.showStatusInfoError(_2534);return true;}return false;case 580:if(typeof console!=="undefined"){console.error("HttpRequestValidationException (580) - Saleslogix Error Id: %o; HTTP Info: %o",_253a(xhr),_2534);}if(this.isConfiguredToHandle(_2534.status)){this.showStatusInfoError(_2534);return true;}return false;case 581:if(typeof console!=="undefined"){console.error("StringOrBinaryDataWouldBeTruncatedException (581) - Saleslogix Error Id: %o; HTTP Info: %o",_253a(xhr),_2534);}if(this.isConfiguredToHandle(_2534.status)){this.showStatusInfoError(_2534);return true;}return false;case 582:if(typeof console!=="undefined"){console.error("AccessException (582) - Saleslogix Error Id: %o; HTTP Info: %o",_253a(xhr),_2534);}if(this.isConfiguredToHandle(_2534.status)){this.showStatusInfoError(_2534);return true;}return false;default:if(typeof console!=="undefined"){}if(this.isConfiguredToHandle(_2534.status)){this.showStatusInfoError(_2534);return true;}return false;}}catch(e){if(typeof console!=="undefined"){}return false;}},init:function(){this._mixinConfig();if(this._configuration.preemption.enabled){if(typeof console!=="undefined"){}if(window.dojoConfig&&window.dojoConfig.ioPublish&&typeof window.dojoConfig.ioPublish==="boolean"&&window.dojoConfig.ioPublish===true){dojo.subscribe("/dojo/io/error",function(dfd,_253e){if(dfd&&typeof dfd==="object"&&typeof dfd.ioArgs==="object"){if((Sage.Utility.ErrorHandler._hasErrorHandler(dfd.ioArgs.url)===false)||(dfd.ioArgs.xhr.status===575)){Sage.Utility.ErrorHandler._preemptError(dfd.ioArgs.xhr,{url:dfd.ioArgs.url});}}return _253e;});}else{(function(){var _253f=dojo.xhr;dojo.xhr=function(_2540,args,_2541){return _253f.apply(dojo,arguments).addErrback(function(err){if(err&&typeof err==="object"&&(err instanceof Error)&&typeof err.xhr==="object"){var sUrl=(args&&args.url)?args.url||"":"";if((Sage.Utility.ErrorHandler._hasErrorHandler(sUrl)===false)||(err.xhr.status===575)){Sage.Utility.ErrorHandler._preemptError(err.xhr,{url:sUrl});}}return err;});};})();}(function(){var _2542=Sage.SData.Client.Ajax.request;Sage.SData.Client.Ajax.request=function(o){dojo.mixin(o,{__failure:null,__failureHandler:function(_2543,opt){var _2544=false;if(opt.__failure&&typeof opt.__failure==="function"){try{opt.__failure.call(opt.scope||this,_2543,opt);}catch(e){if(typeof console!=="undefined"){console.error("There was an error calling the original failure() handler: %o",e);}if(e instanceof ReferenceError){_2544=true;}}}var sUrl=opt.url;if((Sage.Utility.ErrorHandler._hasErrorHandler(sUrl)===false)||(_2543.status===575)){if(_2544){Sage.Utility.ErrorHandler.handleHttpError(_2543,opt);}else{Sage.Utility.ErrorHandler._preemptError(_2543,opt);}}return _2543;}});if(typeof o.failure==="function"){o.__failure=o.failure;}o.failure=o.__failureHandler;return _2542.apply(this,arguments);};})();if(typeof $==="function"){$(function(){jQuery(this).ajaxError(function(event,jqXhr,_2545,_2546){var sUrl=(typeof _2545==="object")?(_2545.url||""):"";var _2547={url:sUrl};if((Sage.Utility.ErrorHandler._hasErrorHandler(sUrl)===false)||(jqXhr.status===575)){Sage.Utility.ErrorHandler._preemptError(jqXhr,_2547);}});});}}},_getInternalHttpStatus:function(_2548){if(_2548&&typeof _2548==="object"&&_2548.hasOwnProperty("status")&&(isNaN(_2548.status)===false)){if(typeof _2548.sdataError==="object"&&this.isSDataExceptionDiagnoses(_2548.sdataError.applicationCode)&&typeof _2548.sdataError.appInfo==="object"&&typeof _2548.sdataError.appInfo.exceptionKind==="string"){switch(_2548.sdataError.appInfo.exceptionKind){case "AuthTokenNullException":return 575;case "BaseException":if(Number(_2548.status)==500){return 576;}else{return Number(_2548.status);}break;case "RoleAccessDeniedException":return 577;case "ValidationException":return 578;case "UserObservableException":return 579;case "HttpRequestValidationException":return 580;case "StringOrBinaryDataWouldBeTruncatedException":return 581;case "AccessException":return 582;default:return Number(_2548.status);}}else{return Number(_2548.status);}}return -1;},_getStatusInfoOptions:function(opt){var _2549={"message":"","url":""};if(opt&&dojo.isObject(opt)){dojo.mixin(_2549,opt);}return _2549;},_handleAsDojoXhrHttpError:function(error,_254a,opt){var _254b=this._getStatusInfoOptions(opt);var _254c="";if(error&&dojo.isObject(error)){_254c=error.message||"";}if(_254c!==""&&_254b.message!==""){_254b.message=_254b.message+" "+_254c;}else{_254b.message=_254c;}var xhr=(_254a&&dojo.isObject(_254a)&&_254a.xhr&&dojo.isObject(_254a.xhr))?_254a.xhr:null;if(_254b.url===""&&xhr!==null&&dojo.isString(_254a.url)){_254b.url=_254a.url;}this._handleAsHttpError(xhr,null,_254b);},_handleAsHttpError:function(xhr,sdata,_254d){var _254e=this.getHttpStatusInfo(xhr,sdata);if(_254e!==null){this.showStatusInfoError(_254e,_254d);}else{var _254f=(_254d&&dojo.isObject(_254d)&&Sage.Utility.isStringWithLength(_254d.message))?_254d.message:"There was an unknown error in response to an HTTP request.";_252f.showError(_254f);}},_hasErrorHandler:function(url){var _2550="HASERRORHANDLER";if(url&&dojo.isString(url)&&url.toUpperCase().indexOf(_2550)!=-1){var query=url.substring(url.indexOf("?")+1,url.length);if(query!==""){var _2551=_2530.queryToObject(query.toUpperCase());if(_2551&&dojo.isObject(_2551)){return _2551[_2550]==="TRUE";}}}return false;},handleEndRequestError:function(args){if(this._debugEndRequest&&typeof console!=="undefined"){}if(args&&typeof args==="object"&&typeof args.get_error==="function"&&args.get_error()!==null){try{function _2552(msg){if(msg&&dojo.isString(msg)){return msg.replace("Sys.WebForms.PageRequestManagerServerErrorException: ","").replace("Sys.WebForms.PageRequestManagerParserErrorException: ","").replace("Sys.WebForms.PageRequestManagerTimeoutException: ","");}return msg;};switch(args.get_error().name){case "Sys.WebForms.PageRequestManagerTimeoutException":case "Sys.WebForms.PageRequestManagerParserErrorException":_252f.showError(_2552(args.get_error().message));args.set_errorHandled(true);return;}var _2553=_2552(args.get_error().message);var _2554=args.get_error().httpStatusCode;if(_2553==="${AjaxLoginRedirect}"||_2553==="${LoginRedirect}"||_2554==401||_2554==575){if(this._configuration.preemption.allowAuthRedirect){var _2555=this._configuration.authenticationRedirectUrl||"Login.aspx";if(typeof console!=="undefined"){}args.set_errorHandled(true);window.location=_2555;return;}}var _2556=args.get_response()!==null;var _2557=_2556?args.get_response().get_timedOut():false;var _2558=_2556?args.get_response().get_aborted():false;var _2559=_2556?args.get_response().get_statusCode():-1;var _255a=_2556?args.get_response().get_responseAvailable():false;if(this._debugEndRequest&&typeof console!=="undefined"){}if(_2559===0||_2558){args.set_errorHandled(true);return;}var _255b=_255a?(args.get_response().hasOwnProperty("_xmlHttpRequest")&&args.get_response()._xmlHttpRequest!==null):false;if(this._debugEndRequest&&typeof console!=="undefined"){}if(_255b||_2557){var xhr=args.get_response()._xmlHttpRequest;if(this._debugEndRequest&&typeof console!=="undefined"){}if(_2559==200||_2557){if(this._debugEndRequest&&typeof console!=="undefined"){}_252f.showError(_2552(args.get_error().message));args.set_errorHandled(true);return;}var _255c=this.isConfiguredToHandle(_2559,xhr);if(this._debugEndRequest&&typeof console!=="undefined"){}if(_255c){if(this._debugEndRequest&&typeof console!=="undefined"){}this._preemptError(xhr);}else{if(this._debugEndRequest&&typeof console!=="undefined"){}this.handleHttpError(xhr);}args.set_errorHandled(true);return;}if(this._debugEndRequest&&typeof console!=="undefined"){}_252f.showError(_2552(args.get_error().message));args.set_errorHandled(true);}catch(e){if(typeof console!=="undefined"){console.error("There was an error in handleEndRequestError(): %o",e);}}}else{if(this._debugEndRequest&&typeof console!=="undefined"){}}},handleHttpError:function(arg1,arg2,_255d){var _255e=(arg1&&dojo.isObject(arg1)&&typeof arg1.getResponseHeader!=="undefined");if(_255e){this._handleAsHttpError(arg1,arg2,_255d);}else{this._handleAsDojoXhrHttpError(arg1,arg2,_255d);}},getInterceptedError:function(_255f,_2560){if(!Sage.Utility.isStringWithLength(_255f)){return null;}if(Sage.Utility.isTrue(_2560)){var obj=dojo.fromJson(_255f);if(obj&&typeof obj==="object"){return obj;}}else{return {"text":_255f};}return null;},getSDataDiagnosis:function(_2561,isXml){if(!Sage.Utility.isStringWithLength(_2561)){return null;}var obj;if(Sage.Utility.isTrue(isXml)){var xml=new XML.ObjTree();obj=xml.parseXML(_2561);if(obj&&typeof obj==="object"&&obj.hasOwnProperty("sdata:diagnoses")){obj=obj["sdata:diagnoses"]["sdata:diagnosis"];if(!obj||typeof obj!=="object"){return null;}var _2562=function(prop){var value=obj.hasOwnProperty(prop)?obj[prop]:"";if(value&&dojo.isString(value)){if(prop==="stackTrace"){if(!this._configuration.isDebug){return "";}}return value;}return "";};return {"severity":_2562("sdata:severity"),"sdataCode":_2562("sdata:sdataCode"),"applicationCode":_2562("sdata:applicationCode"),"message":_2562("sdata:message"),"stackTrace":_2562("sdata:stackTrace"),"payloadPath":_2562("sdata:payloadPath")};}}else{obj=dojo.fromJson(_2561);if(obj&&dojo.isArray(obj)&&obj.length>0&&typeof obj[0]==="object"&&obj[0].hasOwnProperty("sdataCode")){return obj[0];}}return null;},getHttpStatusInfo:function(xhr,sdata){var _2563=(xhr&&dojo.isObject(xhr)&&typeof xhr.getResponseHeader!=="undefined");if(!_2563){return null;}var _2564=this.safeGetPropValue(xhr,"status",-1);var _2565=this.safeGetPropValue(xhr,"statusText","Unknown HTTP status. Possible timeout.");var _2566={"message":_2531.substitute("HTTP status: ${0} (${1}).",[_2565,_2564]),"status":_2564,"statusText":_2565,"url":(sdata&&dojo.isObject(sdata)&&dojo.isString(sdata.url))?sdata.url:"","sdataError":{}};if(xhr.readyState!==4){return _2566;}var _2567=xhr.getResponseHeader("Content-Type");if(dojo.isString(_2567)){var self=this;switch(_2564){case 576:case 577:case 578:case 579:case 580:case 581:case 582:var _2568;var _2569=function(_256a){var _256b=self.safeGetPropValue(xhr,"responseText","");return self.getInterceptedError(_256b,_256a);};if(_2567.indexOf("application/json")!==-1){_2568=_2569(true);}else{if(_2567.indexOf("text/plain")!==-1){_2568=_2569(false);if(_2568&&typeof _2568==="object"&&_2568.hasOwnProperty("text")){if(_2564===576){_2566.message+="\r\n\r\n"+_2568.text;}else{_2566.message=_2568.text;}return _2566;}}else{return _2566;}}if(_2568&&typeof _2568==="object"&&_2568.hasOwnProperty("slxErrorId")){_2566.errorInfo=_2568;}break;default:var _256c;var _256d=function(isXml){var _256e=self.safeGetPropValue(xhr,"responseText","");return self.getSDataDiagnosis(_256e,isXml);};if(_2567.indexOf("application/json")!==-1){_256c=_256d(false);}else{if(_2567.indexOf("application/xml")!==-1){_256c=_256d(true);}else{return _2566;}}if(_256c&&typeof _256c==="object"&&_256c.hasOwnProperty("sdataCode")){var _256f={"severity":"","sdataCode":"","applicationCode":"","message":"","stackTrace":"","payloadPath":"",fmtError:function(){var _2570=[];for(var prop in this){if(prop=="message"||prop=="stackTrace"||prop=="fmtError"){continue;}var value=this[prop];if(dojo.isString(value)&&value!==""){_2570.push(_2531.substitute("${0}=${1}",[prop.toString(),value]));}}return (_2570.length>0)?_2570.join("; "):"";}};_2566.sdataError=_256f;dojo.mixin(_2566.sdataError,_256c);if(_2566.sdataError.applicationCode&&this.isSDataExceptionDiagnoses(_2566.sdataError.applicationCode)){var _2571=function(){var obj={};var _2572=_2566.sdataError.applicationCode.split("; ");array.forEach(_2572,function(item){if(item&&dojo.isString(item)&&item.indexOf("=")!==-1){var _2573=item.split("=");var name=_2573[0].trim();var value=_2573[1].trim();obj[name]=value;}});return obj;};_2566.sdataError.appInfo=_2571();if(_2566.sdataError.appInfo.hasOwnProperty("code")&&_2566.sdataError.appInfo.source){_2566.sdataError.applicationCode=_2566.sdataError.appInfo.code+"|"+_2566.sdataError.appInfo.source;}else{_2566.sdataError.applicationCode=_2566.sdataError.appInfo.source;}if(_2566.sdataError.appInfo.source){delete _2566.sdataError.appInfo.source;}}var _2574="UNKNOWN";if(Sage.Utility.isStringWithLength(_2566.sdataError.severity)){_2574=_2566.sdataError.severity.toUpperCase();}var _2575={"INFO":"Informational message","WARNING":"Warning message","TRANSIENT":"Transient error","ERROR":"Operation failed","FATAL":"Severe error","UNKNOWN":"Unknown"};var _2576=_2575[_2574]||_2575["UNKNOWN"];var _2577=_2566.sdataError.message;if(dojo.isString(_2577)){if(_2577.trim().match("."+"$")!="."){_2577+=".";}}if(this._configuration.isDebug){_2566.message=_2531.substitute("The following SData diagnosis occurred: Description=${0}. Message=${1} HTTP status: ${2} (${3}).",[_2576,_2577,_2566.statusText,_2566.status]);}else{var _2578=this._getInternalHttpStatus(_2566);var _2579=true;switch(_2578){case 577:if(!this._configuration.showExtendedRoleAccessDeniedException){_2579=false;}break;case 578:if(!this._configuration.showExtendedValidationException){_2579=false;}break;case 582:_2579=false;break;}if(_2579){_2566.message=_2531.substitute("${0} HTTP status: ${1} (${2}).",[_2577,_2566.statusText,_2566.status]);}else{_2566.message=_2577;}}}break;}}return _2566;},isConfiguredToHandle:function(_257a,xhr){var _257b=false;if(this._configuration.preemption.enabled===false){return false;}if(_257a&&isNaN(_257a)===false){switch(Number(_257a)){case 500:if(this._configuration.preemption.showInternalServerErrorMsg){return true;}if(this._configuration.preemption.showUnhandledMessagingServiceExceptionMsg){var _257c=this.getHttpStatusInfo(xhr);if(!(_257c&&typeof _257c==="object"&&_257c.hasOwnProperty("sdataError"))){return false;}return this.isSDataExceptionDiagnoses(_257c.sdataError.applicationCode);}break;case 575:return this._configuration.preemption.allowAuthRedirect;case 576:return this._configuration.preemption.showPreemptedErrorMsg;default:if(this._configuration.preemption.handledStatusCodes!==""){var _257d=this._configuration.preemption.handledStatusCodes.split(",");array.some(_257d,function(sc){if(sc==_257a){_257b=true;return true;}else{return false;}});}break;}}return _257b;},isSDataExceptionDiagnoses:function(_257e){if(_257e&&typeof _257e==="string"&&_257e.indexOf("SDataExceptionDiagnoses")!=-1){return true;}return false;},preemptError:function(xhr,o){this._preemptError(xhr,o);},safeGetPropValue:function(obj,prop,_257f){try{return obj[prop];}catch(e){return _257f;}},showStatusInfoError:function(_2580,opt){var _2581=this._getStatusInfoOptions(opt);var _2582=_2581.message;var _2583="";var _2584="";var _2585="";var _2586="";var _2587=this._getInternalHttpStatus(_2580);if((_2587==575)&&this._configuration.preemption.allowAuthRedirect){window.location=this._configuration.authenticationRedirectUrl||"Login.aspx";return;}if(_2580&&dojo.isObject(_2580)&&dojo.isString(_2580.message)){_2582+=(_2582==="")?_2580.message:" "+_2580.message;switch(_2587){case 575:case 576:case 577:case 578:case 579:case 580:case 581:case 582:_2582=Sage.Utility.htmlEncode(_2580.message);if(typeof _2580.errorInfo==="object"){_2582=Sage.Utility.htmlEncode(_2580.errorInfo.message);}switch(_2587){case 577:if(!this._configuration.showExtendedRoleAccessDeniedException){_252f.showError(_2582);return;}break;case 578:if(!this._configuration.showExtendedValidationException){_252f.showError(_2582);return;}break;case 579:break;case 576:case 580:case 581:if(_2580.status!=500){_2582+=_2531.substitute(" HTTP status: ${info.statusText} (${info.status}).",{info:_2580});}break;case 582:_252f.showError(_2582);return;}break;}if(typeof _2580.sdataError==="object"&&typeof _2580.sdataError.appInfo==="object"){_2585=_2531.substitute("\r\n\r\nSaleslogix Error Id: ${0}",[_2580.sdataError.appInfo.slxErrorId]);_2586=this._fmtSlxErrorId(_2580.sdataError.appInfo.slxErrorId);_2582+=_2586;}if(typeof _2580.errorInfo==="undefined"){var sUrl=null;if(Sage.Utility.isStringWithLength(_2580.url)){if(_2582.indexOf(decodeURIComponent(_2580.url))==-1){sUrl=decodeURIComponent(_2580.url);}}else{if(Sage.Utility.isStringWithLength(_2581.url)){if(_2582.indexOf(decodeURIComponent(_2581.url))==-1){sUrl=decodeURIComponent(_2581.url);}}}if(sUrl!==null){_2582+=_2531.substitute("\r\n\r\nURL: ${0}",[sUrl]);}}if(this._configuration.isDebug){if(typeof _2580.sdataError==="object"){if(dojo.isFunction(_2580.sdataError.fmtError)){_2582+=_2531.substitute("\r\n\r\nExtended SData diagnosis information: ${0}.",[_2580.sdataError.fmtError()]);}if(typeof _2580.sdataError.appInfo==="object"){_2582+=_2531.substitute("\r\n\r\nException type: ${info.exceptionType}\r\n\r\nSource: ${info.exceptionSource}",{info:_2580.sdataError.appInfo});}if(_2580.sdataError.stackTrace){_2583=_2580.sdataError.stackTrace;_2584=this._fmtStackTrace(_2580.sdataError.stackTrace);_2582+=_2584;}}}var mail={subject:"Saleslogix Exception Details"};if(typeof _2580.errorInfo==="object"){_2585=_2531.substitute("\r\n\r\nSaleslogix Error Id: ${0}",[_2580.errorInfo.slxErrorId]);_2586=this._fmtSlxErrorId(_2580.errorInfo.slxErrorId);_2582+=_2586;_2582+=_2531.substitute("\r\n\r\nURL: ${info.request.url}",{info:_2580.errorInfo});if(this._configuration.isDebug){if(_2580.errorInfo.stackTrace){_2583=_2580.errorInfo.stackTrace;_2584=this._fmtStackTrace(_2580.errorInfo.stackTrace);_2580.errorInfo.__stackTrace=_2584;_2582+=_2531.substitute("\r\n\r\nException type: ${info.type}\r\n\r\nSource: ${info.source}${info.__stackTrace}\r\n\r\nTarget site: ${info.targetSite}",{info:_2580.errorInfo});}}mail.subject=_2531.substitute("Saleslogix Exception Details (Saleslogix Error Id: ${0})",[_2580.errorInfo.slxErrorId]);}mail.subject=encodeURIComponent(mail.subject);if(_2583!==""){_2583=_2531.substitute("\r\n\r\nStack trace:\r\n${0}",[_2583]);}mail.message=encodeURIComponent(Sage.Utility.htmlDecode(_2582.replace(_2584,_2583).replace(_2586,_2585)));mail.linkCaption="Mail details of this exception to your administrator";_2582+=_2531.substitute("\r\n\r\n<a href=\"mailto:?subject=${info.subject}&amp;body=${info.message}\">${info.linkCaption}</a>",{info:mail});}if(_2582===""){_2582="There was an unknown error.";}_2582=_2582.replace(/(\r\n)/g,"<br />");_252f.showError(_2582);}});Sage.Utility.ErrorHandler.init();return Sage.Utility.ErrorHandler;});},"Sage/UI/GroupsTitlePaneConfigProvider":function(){define("Sage/UI/GroupsTitlePaneConfigProvider",["Sage/UI/_TitlePaneConfigProvider","Sage/Data/BaseSDataStore","Sage/UI/GroupMenuFmtScope","Sage/UI/GridMenuItem","Sage/Groups/GroupManager","Sage/Utility","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/string","Sage/Groups/GroupLookup","Sage/UI/SearchMenuItem","Sage/UI/ImageButton","dojo/i18n!./nls/GroupsTitlePaneConfigProvider","dijit/popup"],function(_2588,_2589,_258a,_258b,_258c,_258d,array,_258e,lang,_258f,_2590,_2591,_2592,_2593,pm){var _2594=_258e("Sage.UI.GroupsTitlePaneConfigProvider",_2588,{searchText:"Lookup",lookupResultsText:_2593.lookupResultsText,store:false,_requestOptions:false,_grpContextHandle:false,config:false,requestTitlePaneConfiguration:function(_2595){var _2596,gSvc,_2597,_2598,_2599,_259a;if(this._isInsertMode()){if(_2595.success){this.config={menu:false,tabs:false};_2595.success.call(_2595.scope||this,this.config,this);}return;}_2596=Sage.Data.SDataServiceRegistry.getSDataService("system");this.store=new _2589({service:_2596,resourceKind:"groups",include:[],sort:[{attribute:"displayName",descending:false}],select:["$key","$descriptor","name","isHidden","userId","family","displayName"]});gSvc=Sage.Services.getService("ClientGroupContext");_2597=gSvc.getContext();if(_2597.notGroupBased){return;}if(!_2597.CurrentFamily){this._requestOptions=_2595;this._grpContextHandle=dojo.connect(gSvc,"onContextSet",this,"_groupContextSetCallback");return;}_2598=this._getMenuConfig();_2599=dijit.byId("GroupLookupButton");if(_2599){_2599.destroy(true);}_259a=this._getTabConfig();this.config={menu:_2598,tabs:_259a};if(_2595.success){_2595.success.call(_2595.scope||this,this.config,this);}},_isInsertMode:function(){var mode=Sage.Utility.getModeId();return (mode&&(mode.toLowerCase()==="insert"));},_groupContextSetCallback:function(_259b){if(this._grpContextHandle){dojo.disconnect(this._grpContextHandle);this._grpContextHandle=false;}else{return;}this.config={menu:this._getMenuConfig(),tabs:this._getTabConfig()};if(this._requestOptions.success){this._requestOptions.success.call(this._requestOptions.scope||this,this.config,this);}},_getTabConfig:function(){var gSvc=Sage.Services.getService("ClientGroupContext"),_259c=gSvc&&gSvc.getContext();return {store:this.store,selectedTabId:_259c.CurrentGroupID,selectedTabName:_259c.CurrentName,tabKeyProperty:"$key",tabNameProperty:"$descriptor",tabGroupNameProperty:"name",tabHiddenProperty:"isHidden",showTabContextMenus:true,fetchParams:{query:_258f.substitute("upper(family) eq '${0}'",[_259c.CurrentFamily.toUpperCase()]),count:1000,start:0,sort:[{attribute:"displayName"}]},lookupButton:new _2592({id:"GroupLookupButton",label:"",imageClass:"icon_Find_16x16",title:_2593.lookupText,onClick:function(){var _259d=Sage.Services.getService("ClientGroupContext"),_259e;if(_259d){_259e=Sage.Services.getService("GroupLookupManager");if(_259e){_259e.showLookup();}}}}),staticTabs:[{"$key":"LOOKUPRESULTS","$descriptor":this.lookupResultsText,closable:false,contextMenuItems:this._getTabContextMenuItems()}],onTabSelect:function(child,_259f){var id,_25a0;if(_259f){return;}id=(typeof child==="string")?child:child.id;_25a0=Sage.Services.getService("ClientGroupContext");if(_25a0){if(id!=="DOLOOKUP"){_25a0.setCurrentGroup(id);}}},onTabClose:function(tab){Sage.Groups.GroupManager.HideGroup(tab.id);},onTabClick:function(e){var mode=_258d.getModeId(),_25a1=Sage.Services.getService("ClientGroupContext"),tabs=dijit.byId("GroupTabs"),_25a2="",_25a3="",_259c=null,_25a4=e.target,title="";if(mode!=="detail"){return;}array.forEach(tabs.getChildren(),function(item){if(item.selected){_25a2=item.id;title=item.title;}});if(_25a1){_259c=_25a1.getContext();if(_25a2!=="DOLOOKUP"&&_259c){_25a3=_259c.CurrentGroupID;}}if(_25a2===_25a3&&_25a4&&_25a4.innerHTML===title){Sage.Link.toListView();}}};},_getTabContextMenuItems:function(){var items;if(Sage.UI.DataStore.ContextMenus&&Sage.UI.DataStore.ContextMenus.GroupLookupTabContextMenu){items=Sage.UI.DataStore.ContextMenus.GroupLookupTabContextMenu.items;}return items;},_getMenuConfig:function(){var _25a5=Sage.Services.getService("ClientGroupContext"),_25a6=_25a5.getContext(),_25a7=_25a6.CurrentName||"";return {id:"mnuGroupMenu",cls:"",img:"images/icons/Groups_16x16.gif",imageClass:"icon_Groups_16x16",text:_2593.groupText,tooltip:_2593.groupButtonTooltip,addGroupTooltip:_2593.addGroupButtonTooltip,width:"350px",items:[{cls:"",id:"sep2",text:"-",img:"",tooltip:"",href:"",isSeparator:true},{fn:this._getGroupMenuSearch,scope:this},{fn:this._getGroupMenuGrid,scope:this}]};},_getGroupMenuGrid:function(){var that=this,_25a8=new _258a({store:this.store}),query={},_25a9=false,svc=Sage.Services.getService("ClientGroupContext"),key="GroupMenuShowHidden",_25aa=sessionStorage.getItem(key),_25ab=_25aa!=="true";if(svc){_25a9=svc.getContext();if(_25a9.CurrentEntity){query=_258f.substitute("upper(family) eq '${0}'",[_25a9.CurrentFamily.toUpperCase()]);}}return new _258b({gridOptions:{id:"groupsGridInMenu",store:that.store,rowsPerPage:40,structure:[{name:"&nbsp;",field:"$key",formatter:"fmtSelectedCol",width:"20px"},{name:_2593.groupColumnText,field:"displayName",width:_25ab?"260px":"205px"},{name:_2593.visibleColumnText,field:"isHidden",formatter:"fmtHideCol",width:"55px",hidden:_25ab}],loadingMessage:"Loading...",noDataMessage:"No records returned",selectionMode:"single",query:query,height:"400px",width:"275px",formatterScope:_25a8,_onCellClick:function(e){if(!this.processingRequest){this.processingRequest=true;var _25ac,_25ad,_25ae=e.grid.getParent(),menu=_25ae&&_25ae.getParent(),_25af,_25b0,_25b1=false,_25a9;if(!this.menuClosedHandle){this.menuClosedHandle=menu.on("close",lang.hitch(this,function(){var _25b2=dijit.byId("titlePane");if(_25b2&&!_25b1){_25b2.resetConfiguration();}this.processingRequest=false;this.menuClosedHandle.remove();this.menuClosedHandle=null;}));}if(e.cell.index===1){_25ac=e.grid.getItem(e.rowIndex);_25ad=Sage.Services.getService("ClientGroupContext");if(_25ad){_25a9=_25ad.getContext();var _25b3=dijit.byId("mnuGroupMenu");if(_25a9&&_25a9.CurrentGroupID===_25ac.$key){_25b3._onClick(e);pm.close(menu);}else{_25b1=true;_25b0=dojo.connect(_25ad,"onCurrentGroupChanged",e.grid,function(){this.started=false;dojo.disconnect(_25b0);_25b3._onClick(e);pm.close(menu);});_25ad.setCurrentGroup(_25ac.$key);}}}else{e.grid.started=false;this.processingRequest=false;e.stopPropagation();}}}},width:"300px",height:"400px"});},_getGroupMenuSearch:function(){return new _2591({});}});return _2594;});},"Sage/MainView/ActivityMgr/nls/OccurrenceOrSeriesQueryDlg":function(){define("Sage/MainView/ActivityMgr/nls/OccurrenceOrSeriesQueryDlg",["Sage/LanguageList","dojo/_base/lang"],function(_25b4,lang){var nls={root:{titleFmt:"${type} - ${description}",actDateText:"Activity Date:",contactText:"Contact:",accountText:"Account:",opportunityText:"Opportunity:",editAllText:"Edit all Occurrences",editOneText:"Edit this Occurrence",completeAllText:"Complete all Occurrences",completeOneText:"Complete this Occurrence",deleteAllText:"Delete all Occurrences",deleteOneText:"Delete this Occurrence",continueText:"Continue",failedToLoadMsg:"Could not load activity"}};return lang.mixin(_25b4,nls);});},"url:Sage/MainView/IntegrationContract/templates/SalesQuoteRTDV.html":"[\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"{%= $.id%}_salesQuoteDetailsDialog\" title=\"{%= $.dialogCaption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:hideDetailsDialog\">',\r\n        '<div dojoAttachPoint=\"loadingContainer\">',\r\n            '<br />',\r\n            '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingText %}</label>',\r\n            '<br />',\r\n            '<br />',\r\n        '</div>',\r\n        '<table cellspacing=\"5\" dojoAttachPoint=\"salesQuoteDetails\" border=\"0\" width=\"100%\" class=\"display-none\">',\n            '<div>',\r\n                '<tr>',\n\t\t\t        '<td>',\r\n\t\t\t             '<label for=\"SalesQuote_reference\">{%= $.lblSalesQuoteCaption %}</label>',\r\n\t\t\t        '</td>',\r\n                    '<td>',\r\n                        '<input type=\"text\" id=\"{%= $.id%}_reference\" name=\"reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                    '<td>',\n                        '<label for=\"SalesQuote_status\">{%= $.lblStatusCaption %}</label>',\n                    '</td>',\n                    '<td>',\n                        '<input type=\"text\" id=\"{%= $.id%}_status\" name=\"status\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                    '<td>',\n                        '<label for=\"SalesQuote_grossTotal\">{%= $.lblGrossTotalCaption %}</label>',\r\n                    '</td>',\n                    '<td>',\n                        '<input type=\"text\" id=\"{%= $.id%}_grossTotal\" name=\"grossTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                '</tr>',\r\n            '</div>',\r\n        '</table>',\r\n        '<div style=\"height:370px;width:800px\" dojoAttachPoint=\"tabContentDetails\" class=\"display-none\">',\r\n            '<div id=\"{%= $.id%}_salesQuoteContainer\" dojoAttachPoint=\"salesQuoteContainer\" dojoType=\"dijit.layout.TabContainer\" style=\"width:100%;height:100%;\">',\r\n                '<div id=\"{%= $.id%}_salesQuoteContent\" dojoAttachPoint=\"salesQuoteContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.detailsTabTitle %}\" selected=\"true\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"{%= $.id%}_divDetails\">',\r\n                        '<table cellspacing=\"5\">',\r\n                            '<col style=\"width:200px\" />',\r\n                            '<col style=\"width:200px\" />',\r\n                            '<tr>',\r\n                                '<td>',\r\n                                    '<label for=\"SalesQuote_QuoteDate\">{%= $.lblQuoteDateCaption %}</label>',\r\n                                '</td>',\r\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_QuoteDate\" name=\"date\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\r\n                                '<td>',\n                                    '<label for=\"SalesQuote_TaxTotal\">{%= $.lblTaxTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_TaxTotal\" name=\"taxTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\r\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\r\n                                    '<label for=\"SalesQuote_HoldStatus\">{%= $.lblHoldStatusCaption %}</label>',\r\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_HoldStatus\" name=\"statusFlagText\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_Currency\">{%= $.lblCurrencyCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Currency\" name=\"currency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_Type\">{%= $.lblTypeCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Type\" name=\"type\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\r\n                                    '<label for=\"SalesQuote_CostTotal\">{%= $.lblCostTotalCaption %}</label>',\r\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_CostTotal\" name=\"costTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_PONumber\">{%= $.lblPONumberCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_PONumber\" name=\"customerReference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_ProfitTotal\">{%= $.lblProfitTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_ProfitTotal\" name=\"profitTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_Quotation\">{%= $.lblQuotationCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Quotation\" name=\"quotation.reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_InvoiceStatus\">{%= $.lblInvoiceStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_InvoiceStatus\" name=\"invoiceStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_Contact\">{%= $.lblContactCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Contact\" name=\"buyerContact.fullName\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_DeliveryDate\">{%= $.lblDeliveryDateCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DeliveryDate\" name=\"deliveryDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_PriceList\">{%= $.lblPriceListCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_PriceList\" name=\"pricelist.name\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_DueDate\">{%= $.lblDueDateCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DueDate\" name=\"dueDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_NetTotal\">{%= $.lblNetTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_NetTotal\" name=\"netTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_Carrier\">{%= $.lblCarrierCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Carrier\" name=\"carrierCompany\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_DiscountTotal\">{%= $.lblDiscountTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DiscountTotal\" name=\"discountTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_AllocationStatus\">{%= $.lblAllocationStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_AllocationStatus\" name=\"allocationStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_DeliveryStatus\">{%= $.lblDeliveryStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DeliveryStatus\" name=\"deliveryStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_ChargesTotal\">{%= $.lblChargesTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_ChargesTotal\" name=\"chargesTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                        '</table>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soAddressesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.addressTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"sdgrdSalesQuoteAddresses\" dojoAttachPoint=\"sdgrdSalesQuoteAddresses\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesQuoteAddresses_Grid\" dojoAttachPoint=\"sdgrdSalesQuoteAddresses_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soSalesPersonsContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.salesPersonsTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_SalesPersons\" dojoAttachEvent=\"onShow:initSalesPersons\">',\r\n                    '<div id=\"sdgrdSalesPersons\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesPersons_Grid\" dojoAttachPoint=\"sdgrdSalesPersons_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soLinesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.salesQuoteLinesTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"sdgrdSalesQuoteLines\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesQuoteLines_Grid\" dojoAttachPoint=\"sdgrdSalesQuoteLines_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soPaymentsContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.paymentsTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Payments\" dojoAttachEvent=\"onShow:initPayments\">',\r\n                    '<div id=\"sdgrdSOPayments\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSOPayments_Grid\" dojoAttachPoint=\"sdgrdSOPayments_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soDeliveriesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.deliveriesTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Deliveries\" dojoAttachEvent=\"onShow:initDeliveries\">',\r\n                    '<div id=\"sdgrdSODeliveries\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSODeliveries_Grid\" dojoAttachPoint=\"sdgrdSODeliveries_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n            '</div>',\r\n        '</div>',\r\n        '<div class=\"button-bar alignright\">',\r\n            '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_soBtnClose\" type=\"button\" dojoAttachEvent=\"onClick:hideDetailsDialog\">{%= $.btnCloseCaption %}</button>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]","Sage/UI/Columns/Email":function(){define("Sage/UI/Columns/Email",["Sage/UI/Controls/Email","Sage/UI/Columns/Cell","dojo/_base/declare"],function(Email,Cell,_25b5){var _25b6=_25b5("Sage.UI.Columns.Email",Cell,{icon:"",defaultValue:"",widgetClass:Email,getWidgetProps:function(_25b7){var _25b8=this._getControlId();return dojo.mixin({},this.widgetProps||{},{emailId:_25b8,email:_25b7,width:this.width,maxLength:this.maxLength,style:this.style,hotKey:this.hotKey,tabIndex:this.tabIndex,field:this.field});},getValue:function(index){var _25b9=this.widget.focusNode.value;if((typeof _25b9==="undefined")||(_25b9==="")){_25b9=this.defaultValue;}if(this.widget&&this.widget.focusNode.state==="Error"){return this.widget.focusNode._resetValue;}return _25b9;},formatter:function(val,index){if(!val){return "";}var _25ba=val;if(this.icon&&this.icon!==""){_25ba=(this.icon===true||this.icon==="true")?"<img src=\"images/icons/Send_Write_email_16x16.png\" />":"<img src=\""+this.icon+"\" />";}return dojo.string.substitute("<a href=\"mailto:${0}\">${1}</a>",[val,_25ba]);},markupFactory:function(node,cell){dojox.grid.cells.Cell.markupFactory(node,cell);if(dojo.hasAttr(node,"icon")){cell["icon"]=dojo.trim(dojo.attr(node,"icon")||"");}}});return _25b6;});},"Sage/Groups/GroupLookup":function(){define("Sage/Groups/GroupLookup",["dijit/_Widget","Sage/_Templated","dijit/Dialog","Sage/UI/ConditionManager","Sage/Data/SDataServiceRegistry","Sage/Groups/GroupContextService","dojo/_base/lang","dojo/_base/declare","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/array","dojo/topic","dojo/aspect","Sage/Data/GroupLayoutSingleton","Sage/Utility","dojo/_base/xhr","Sage/UI/Dialogs","dojo/i18n!./nls/GroupLookup"],function(_25bb,_25bc,_25bd,_25be,_25bf,_25c0,lang,_25c1,_25c2,array,topic,_25c3,_25c4,_25c5,_25c6,_25c7,_25c8){var _25c9=_25c1("Sage.Groups.GroupLookupDialog",[_25bb,_25bc],{widgetsInTemplate:true,conditionMgr:false,title:"",widgetTemplate:new Simplate(["<div>","<div data-dojo-type=\"dijit.Dialog\" id=\"groupLookupDialog\" title=\"&nbsp;\" dojoAttachPoint=\"dlg\" >","</div>","</div>"]),constructor:function(o){},show:function(){if(this.conditionMgr){var _25ca=Sage.Services.getService("UserOptions");if(_25ca){_25ca.get("defaultLookupCondition","DefaultLookupCondition",lang.hitch(this,function(_25cb){this.conditionMgr.setFirstConditionValue("",_25cb.value,"");}));}lang.mixin(this.dlg,new _25c2());this.dlg.createHelpIconByTopic("lookup");this.dlg.show();}},hide:function(){this.dlg.hide();},_setConditionMgrAttr:function(_25cc){this.conditionMgr=_25cc;dojo.place(this.conditionMgr.domNode,this.dlg.containerNode,"only");},_setTitleAttr:function(title){this.title=title;this.dlg.set("title",title);}});var _25cd=_25c1("Sage.Groups.GroupLookup",null,{conditions:[],_layouts:{},_currentLayoutFamily:false,service:false,_dlgWindow:false,_conditionMgr:false,_doSearchConnection:false,_onSearchNavTo:false,_stayInDetailView:false,id:"GroupLookup",constructor:function(){this.isInitialized=false;this._loadUserOptions();topic.subscribe("userOptions/changed",lang.hitch(this,this._onUserOptionsChanged));},showLookup:function(opts){if(typeof opts==="undefined"){var cSvc=Sage.Services.getService("ClientGroupContext");this._currentLayoutFamily=cSvc.getContext().CurrentFamily;opts={family:this._currentLayoutFamily};}this._onSearchNavTo=(opts.returnTo)?opts.returnTo:false;if(!this._layouts.hasOwnProperty(opts.family)){this._currentLayoutFamily=opts.family;this._requestLayout({family:opts.family,success:this._showInitializedLookup});return;}if(this._currentLayoutFamily!==opts.family){this._currentLayoutFamily=opts.family;}this._resetConditionManager();this._showInitializedLookup();},_showInitializedLookup:function(){var svc=Sage.Services.getService("ClientEntityContext"),_25ce=svc&&svc.getContext(),_25cf=_25ce&&_25ce.DisplayName,_25d0=_25ce&&_25ce.EntityTableName,_25d1=this._layouts[this._currentLayoutFamily]["mainTable"],_25d2=this._layouts[this._currentLayoutFamily]["entityName"];if(!this._dlgWindow){this._dlgWindow=new _25c9({conditionMgr:this._conditionMgr});}if(!this._dlgWindow.conditionMgr){this._dlgWindow.set("conditionMgr",this._conditionMgr);}if(_25d0!==_25d1){_25cf=_25d2;}this._dlgWindow.set("title",_25cf);this._dlgWindow.show();},doLookup:function(args){var _25d3=Sage.Services.getService("ClientGroupContext");var _25d4=_25d3.getContext();var _25d5=dijit.byId("GroupList");if(_25d5){_25d5.previousGroupId=_25d4.CurrentGroupID;}this._ensureService();this._dlgWindow.hide();var _25d6=new Sage.SData.Client.SDataServiceOperationRequest(this.service);_25d6.setOperationName("setGroupLookupConditions");_25d6.execute({request:{family:this._currentLayoutFamily,conditions:this.getConditionsString(),includeConditionsFrom:""}},{success:function(_25d7){var _25d8=this._shouldStayInDetailView();var _25d9=_25c5.getModeId();if(this._getGroupCount()===0){_25c7.showInfo(_25c8.txtNoRecordsFound);return;}var navTo=this._onSearchNavTo+"?modeid=list&gid=LOOKUPRESULTS",path=document.location.toString().toLowerCase(),comp=this._onSearchNavTo&&this._onSearchNavTo.toLowerCase();if(_25d4.CurrentFamily&&this._currentLayoutFamily&&_25d4.CurrentFamily.toUpperCase()===this._currentLayoutFamily.toUpperCase()){_25c3.after(_25d3,"onCurrentGroupChanged",lang.hitch(this,function(){topic.publish("/group/lookup/success",{"conditions":this.getConditionsString()});if(!_25d8&&_25d9==="detail"){Sage.Link.toListView();}}));if(_25d5&&!_25d8){_25d5.shouldNotUpdate=true;}if(_25d5){_25d5.performingLookup=true;}_25d3.setCurrentGroup("LOOKUPRESULTS");}if(this._onSearchNavTo){if(path.indexOf(comp)===-1){document.location=navTo;return;}}},scope:this});},resetLookup:function(data){},getConditionsString:function(){return this._conditionMgr.getConditionsJSON();},_ensureService:function(){if(!this.service){this.service=_25bf.getSDataService("system");}},_requestLayout:function(_25da){this._ensureService();if(!_25da.family){var _25db=Sage.Services.getService("ClientGroupContext");_25da.family=_25db.getContext().CurrentFamily||"ACCOUNT";}var _25dc=dojo.string.substitute("name eq 'Lookup Results' and upper(family) eq '${0}'",[_25da.family.toUpperCase()]),_25dd=lang.hitch(this,this._onReadSuccess,_25da),_25de=new _25c4();_25de.getGroupLayout(_25dc,_25dd,null,"LOOKUPRESULTS");},_onReadSuccess:function(_25df,data){this._layouts[_25df.family]=data;this._currentLayoutFamily=_25df.family;this._resetConditionManager();if(typeof _25df.success==="function"){_25df.success.call(_25df.scope||this,data);}},_resetConditionManager:function(){if(!this._currentLayoutFamily){return;}if(this._conditionMgr){this._conditionMgr.destroy(false);this._conditionMgr=null;}var _25e0=array.filter(this._layouts[this._currentLayoutFamily]["layout"],function(field){return field.caption&&field.caption!==""&&field.visible;});_25e0=array.map(_25e0,function(field){if(field.format&&field.format==="None"){field.format=field.fieldType;}return field;});this._conditionMgr=new _25be({fields:_25e0,fieldNameProperty:"alias",fieldDisplayNameProperty:"caption",fieldTypeProperty:"format",id:this.id+"-ConditionManager"});if(this._dlgWindow){this._dlgWindow.set("conditionMgr",this._conditionMgr);}this._doSearchConnection=dojo.connect(this._conditionMgr,"onDoSearch",this,"doLookup");},destroy:function(){if(this._doSearchConnection){dojo.disconnect(this._doSearchConnection);this._doSearchConnection=false;}this.inherited(arguments);},_onUserOptionsChanged:function(_25e1){this._stayInDetailView=_25e1.groupLookup.stayInDetailView;},_loadUserOptions:function(){var svc=Sage.Services.getService("UserOptions");if(svc){svc.get("StayInDetailView","GroupLookup",lang.hitch(this,function(_25e2){if(_25e2&&_25e2.value){this._stayInDetailView=(_25e2.value==="T")?true:false;}}),null,null,true);}},_shouldStayInDetailView:function(){var _25e3=_25c5.getModeId();return (_25e3==="detail"&&this._stayInDetailView);},_getGroupCount:function(){var _25e4=this._currentLayoutFamily;var _25e5=0;if(_25e4){var url="slxdata.ashx/slx/system/-/groups(name eq 'Lookup Results' and upper(family) eq '"+_25e4+"')/$queries/execute?count=0&format=json";_25c6("GET",{url:url,handleAs:"json",sync:true,preventCache:true}).then(function(data){_25e5=data.$totalResults;});}return _25e5;}});Sage.Services.addService("GroupLookupManager",new Sage.Groups.GroupLookup());return _25cd;});},"Sage/UI/Alarms/AlarmPane":function(){define("Sage/UI/Alarms/AlarmPane",["dijit/form/Button","dijit/form/FilteringSelect","dojo/date","Sage/Utility","Sage/UI/Alarms/AlertPane","Sage/UI/Alarms/ActivityAlarm","dojo/i18n","dojo/i18n!./nls/AlarmPane","dojo/_base/declare","dojo/topic"],function(_25e6,_25e7,_25e8,_25e9,_25ea,_25eb,i18n,_25ec,_25ed,topic){var _25ee=_25ed("Sage.UI.Alarms.AlarmPane",_25ea,{defaultSnooze:"5",_snoozeButton:false,templateString:["<div>","<div class=\"alarm-items-contents\" dojoAttachPoint=\"_alertContents\"></div>","<div class=\"alarm-snoozebar\" dojoAttachPoint=\"_snoozebar\">","<table>","<tr>","<td colspan=\"2\" class=\"dismissActions\">","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" dojoAttachEvent=\"onClick:_dismissSelected\">${dismissText}</button>","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" dojoAttachEvent=\"onClick:_dismissAll\">${dismissAllText}</button>","</td>","<td colspan=\"2\" class=\"calendar-link\">","<a href=\"calendar.aspx\" title=\"${showCalendarText}\">${showCalendarText}</a>","</td>","</tr><tr>","<td class=\"snoozeText\">${snoozeByText}</td>","<td colspan=\"2\" class=\"snoozeBy\">","<select name=\"selectSnoozeBy\" dojoAttachPoint=\"_selSnoozeBy\" data-dojo-type=\"dijit.form.FilteringSelect\">","<option value=\"5\" {% if ($.defaultSnooze == 5) { %} selected=\"selected\" {% } %}>${fiveMinText}</option>","<option value=\"10\" {% if ($.defaultSnooze == 10) { %} selected=\"selected\" {% } %}>${tenMinText}</option>","<option value=\"15\" {% if ($.defaultSnooze == 15) { %} selected=\"selected\" {% } %}>${fifteenMinText}</option>","<option value=\"30\" {% if ($.defaultSnooze == 30) { %} selected=\"selected\" {% } %}>${thirtyMinText}</option>","<option value=\"60\" {% if ($.defaultSnooze == 60) { %} selected=\"selected\" {% } %}>${oneHourText}</option>","<option value=\"120\" {% if ($.defaultSnooze == 120) { %} selected=\"selected\" {% } %}>${twoHourText}</option>","<option value=\"240\" {% if ($.defaultSnooze == 240) { %} selected=\"selected\" {% } %}>${fourHourText}</option>","<option value=\"480\" {% if ($.defaultSnooze == 480) { %} selected=\"selected\" {% } %}>${eightHourText}</option>","<option value=\"1440\" {% if ($.defaultSnooze == 1440) { %} selected=\"selected\" {% } %}>${oneDayText}</option>","<option value=\"2880\" {% if ($.defaultSnooze == 2880) { %} selected=\"selected\" {% } %}>${twoDayText}</option>","<option value=\"4320\" {% if ($.defaultSnooze == 4320) { %} selected=\"selected\" {% } %}>${threeDayText}</option>","<option value=\"10080\" {% if ($.defaultSnooze == 10080) { %} selected=\"selected\" {% } %}>${oneWeekText}</option>","<option value=\"20160\" {% if ($.defaultSnooze == 20160) { %} selected=\"selected\" {% } %}>${twoWeekText}</option>","</select>","</td>","<td class=\"snoozeActions\">","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" dojoAttachEvent=\"onClick:_snooze\" dojoAttachPoint=\"_snoozeButton\">${snoozeText}</button>","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" dojoAttachEvent=\"onClick:_snoozeAll\">${snoozeAllText}</button>","</td>","</tr>","</table>","</div>","</div>"].join(""),constructor:function(){dojo.mixin(this,_25ec);},_durByText:false,_textByDur:false,onShow:function(){this._snoozeButton.focus();},setDefaultSnooze:function(_25ef){this.defaultSnooze=_25ef;this._setSnoozeSelect(_25ef);},_addAlert:function(item){if(this._alarmRinging(item)){var _25f0=new _25eb({userActivity:item,selected:this.selectedAlerts.hasOwnProperty(item["$key"])});this.alertWidgets.push(_25f0);dojo.place(_25f0.domNode,this._alertContents);}},_alarmRinging:function(_25f1){var n=new Date();var _25f2;var alarm;if((_25f1.Alarm===null)&&(_25f1.AlarmTime===null)){_25f2=_25e9.Convert.toDateFromString(_25f1.Activity.AlarmTime);alarm=_25f1.Activity.Alarm;_25f1.Alarm=alarm;_25f1.AlarmTime=_25f1.Activity.AlarmTime;}else{_25f2=_25e9.Convert.toDateFromString(_25f1.AlarmTime);alarm=_25f1.Alarm;}return (alarm&&(_25e8.compare(_25f2,n)<1));},_snooze:function(){for(var i=0;i<this.alertWidgets.length;i++){var wid=this.alertWidgets[i];if(wid.selected){this._snoozeItem(wid.userActivity);}}this.store.save(this);},_snoozeAll:function(){for(var i=0;i<this.alertWidgets.length;i++){this._snoozeItem(this.alertWidgets[i].userActivity);}this.store.save(this);},_setSnoozeSelect:function(_25f3){if(!this._textByDur){this._textByDur={"5":this.fiveMinText,"10":this.tenMinText,"15":this.fifteenMinText,"30":this.thirtyMinText,"60":this.oneHourText,"120":this.twoHourText,"240":this.fourHourText,"480":this.eightHourText,"1440":this.oneDayText,"2880":this.twoDayText,"4320":this.threeDayText,"10080":this.oneWeekText,"20160":this.twoWeekText};}this._selSnoozeBy.set("displayedValue",this._textByDur[_25f3]);this._selSnoozeBy.set("value",_25f3);},_snoozeItem:function(_25f4){var _25f5=this._selSnoozeBy.get("value");var dur=parseInt(_25f5);var _25f6=new Date();var _25f7=_25e8.add(_25f6,"minute",dur);this.store.setValue(_25f4,"AlarmTime",_25e9.Convert.toIsoStringFromDate(_25f7));},_dismissAll:function(){for(var i=0;i<this.alertWidgets.length;i++){this._dismissItem(this.alertWidgets[i].userActivity);}this.store.save(this);},_dismissSelected:function(){for(var i=0;i<this.alertWidgets.length;i++){var wid=this.alertWidgets[i];if(wid.selected){this._dismissItem(wid.userActivity);}}this.store.save(this);},_dismissItem:function(_25f8){this.store.setValue(_25f8,"Alarm",false);},deleteSelected:function(){var _25f9=this._makeSelectionContext(false);if(_25f9){var svc=Sage.Services.getService("ActivityService");if(_25f9.count===1){var _25fa=_25f9.selectionInfo.selections[0].entity;svc.deleteActivity(_25fa["$key"],_25fa.Recurring);}else{svc.deleteActivitiesInSelectionContext(_25f9,this._reloadAlarms,this);}}},_reloadAlarms:function(_25fb){var _25fc=dijit.byId("alarmPopup");_25fc.reloadAlarms();},completeSelected:function(){var _25fd=this._makeSelectionContext(false);if(_25fd){var svc=Sage.Services.getService("ActivityService");var self=this;var _25fe=topic.subscribe("/entity/activity/bulkComplete",function(_25ff){self._reloadAlarms();_25fe.remove();});if(_25fd.count===1){var _2600=_25fd.selectionInfo.selections[0].entity;svc.completeActivity(_2600["$key"],_2600.Recurring);}else{svc.completeActivitiesInSelectionContext(_25fd);}}},_makeSelectionContext:function(_2601){var ids=[],sels=[];var len=this.alertWidgets.length-1;for(var i=len;i>-1;i--){var wid=this.alertWidgets[i];if(wid.selected){var id=wid.userActivity.Activity["$key"];ids.push(id);sels.push({rn:0,id:id,entity:wid.userActivity.Activity});if(_2601){this.alertWidgets.splice(i,1);wid.destroy();}}}if(ids.length>0){return {count:ids.length,id:null,mode:"select",name:"activities",selectionInfo:{key:"alert",keyField:"$key",mode:"selection",ranges:[],recordCount:ids.length,selectedIds:ids,selectionCount:2,selections:sels,sortDirection:"",sortField:""}};}return false;},onComplete:function(){var len=this.alertWidgets.length-1;for(var i=len;i>-1;i--){var wid=this.alertWidgets[i];if(!this._alarmRinging(wid.userActivity)){this.alertWidgets.splice(i,1);wid.destroy();}}this._alertChanged(this.alertWidgets.length);},getUnhandledAlertCount:function(){var _2602=0;for(var i=0;i<this.alertItems.length;i++){if(this._alarmRinging(this.alertItems[i])){_2602++;}}return _2602;}});return _25ee;});},"Sage/MainView/ActivityMgr/SnoozeButton":function(){define("Sage/MainView/ActivityMgr/SnoozeButton",["dijit/_Widget","Sage/_Templated","dojo/_base/declare"],function(_2603,_2604,_2605){var _2606=_2605("Sage.MainView.ActivityMgr.SnoozeButton",[_2603,_2604],{widgetsInTemplate:true,_started:false,widgetTemplate:new Simplate(["<span class=\"alarm-button\">","<button data-dojo-type=\"dijit.form.ComboButton\" data-dojo-attach-point=\"_snoozeButton\" data-dojo-attach-event=\"onClick:_cboClick\" class=\"\" >","<div data-dojo-type=\"Sage.MainView.ActivityMgr.SnoozeOptions\" data-dojo-attach-point=\"_snoozeOptions\"></div>","</button>","</span>"]),startup:function(){if(this._started){return;}this.inherited(arguments);this._started=true;},_cboClick:function(){this._snoozeButton.openDropDown();},destroy:function(){this._snoozeButton.destroyRecursive();}});return _2606;});},"Sage/MainView/IntegrationContract/CustomerPaymentsRTDV":function(){require({cache:{"url:Sage/MainView/IntegrationContract/templates/CustomerPaymentsRTDV.html":"[\n'<div>',\n    '<div dojoType=\"dijit.Dialog\" id=\"{%= $.id%}_customerPaymentsDetailsDialog\" title=\"{%= $.dialogCaption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:hideDetailsDialog\">',\n        '<table cellspacing=\"5\">',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_reference\">{%= $.lblReferenceCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_reference\" name=\"reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_date\">{%= $.lblDateCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_date\" name=\"date\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_processDate\">{%= $.lblProcessDateCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_processDate\" name=\"processDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_name\">{%= $.lblNameCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_name\" name=\"name\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_type\">{%= $.lblTypeCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_type\" name=\"type\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_status\">{%= $.lblStatusCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_status\" name=\"status\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_currency\">{%= $.lblCurrencyCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_currency\" name=\"currency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_tenderType\">{%= $.lblTenderTypeCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_tenderType\" name=\"tenderType\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_tenderReference\">{%= $.lblTenderReferenceCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_tenderReference\" name=\"tenderReference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_discountTotal\">{%= $.lblDiscountsCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_discountTotal\" name=\"discountTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_netTotal\">{%= $.lblNetTotalCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_netTotal\" name=\"netTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_taxTotal\">{%= $.lblTaxesCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_taxTotal\" name=\"taxTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_chargesTotal\">{%= $.lblChargesCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_chargesTotal\" name=\"chargesTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_taxCode\">{%= $.lblTaxCodeCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_taxCode\" name=\"taxCode\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_grossTotal\">{%= $.lblGrossTotalCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_grossTotal\" name=\"grossTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_source\">{%= $.lblSourceCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_source\" name=\"source\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n        '</table>',\r\n        '<div class=\"button-bar alignright\">',\r\n            '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_paymentBtnClose\" type=\"button\" dojoAttachEvent=\"onClick:hideDetailsDialog\">{%= $.btnCloseCaption %}</button>',\r\n        '</div>',\n    '</div>',\n'</div>'\n]"}});define("Sage/MainView/IntegrationContract/CustomerPaymentsRTDV",["dojo/_base/declare","dojo/i18n!./nls/CustomerPaymentsRTDV","dijit/_Widget","Sage/_Templated","Sage/UI/SLXPreviewGrid","Sage/Data/ProxySDataStore","Sage/UI/Dialogs","Sage/UI/Columns/DateTime","dojo/text!./templates/CustomerPaymentsRTDV.html","Sage/UI/DateTextBox","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","dijit/Dialog"],function(_2607,_2608,_2609,_260a,_260b,_260c,_260d,_260e,_260f){var _2610=_2607("Sage.MainView.IntegrationContract.CustomerPaymentsRTDV",[_2609,_260a],{workspace:"",tabId:"",grid:"",globalSyncId:"",operatingCompanyId:"",widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_260f)),constructor:function(){dojo.mixin(this,_2608);},loadCustomerPayments:function(){var self=this;var _2611={readOnly:true,rowsPerPage:20,slxContext:{workspace:this.workspace,tabId:this.tabId},columns:[{width:10,field:"reference",name:this.grdPayments_Reference,sortable:true,formatter:this.customerPaymentsDetailsViewRenderer,style:"text-align:left;width:auto;",editable:false},{width:10,field:"date",type:_260e,formatType:"date",dateOnly:true,utc:false,name:this.grdPayments_Date,sortable:true,style:"text-align:left;width:auto;",editable:false},{width:10,field:"type",name:this.grdPayments_Type,sortable:true,style:"text-align:left;width:auto;",editable:false},{width:10,field:"status",name:this.grdPayments_Status,sortable:true,style:"text-align:left;width:auto;",editable:false},{width:10,field:"grossTotal",name:this.grdPayments_GrossTotal,sortable:true,style:"text-align:left;width:auto;",editable:false},{width:10,field:"currency",name:this.grdPayments_Currency,sortable:true,style:"text-align:left;width:auto;",editable:false},{width:10,field:"processDate",type:_260e,formatType:"date",dateOnly:true,utc:false,editable:false,hidden:function(){return true;}},{width:10,field:"discountTotal",editable:false,hidden:function(){return true;}},{width:10,field:"chargesTotal",editable:false,hidden:function(){return true;}},{width:10,field:"source",editable:false,hidden:function(){return true;}},{width:10,field:"taxTotal",editable:false,hidden:function(){return true;}},{width:10,field:"name",editable:false,hidden:function(){return true;}},{width:10,field:"tenderType",editable:false,hidden:function(){return true;}},{width:10,field:"tenderReference",editable:false,hidden:function(){return true;}},{width:10,field:"netTotal",editable:false,hidden:function(){return true;}},{width:10,field:"grossTotal",editable:false,hidden:function(){return true;}},{width:10,field:"taxCode",editable:false,hidden:function(){return true;}}],storeOptions:new _260c({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),resourceKind:"tradingAccounts",getResourcePredicate:function(){return dojo.string.substitute("$uuid eq '${0}'",[self.globalSyncId]);},getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"receipts"}]}),tools:[]};var _2612=new _260b.Grid(_2611,this.placeHolder);_2612.startup();var _2613=dijit.byId("tabContent");_2613.resize();_2613.resize();this.grid=_2612;},customerPaymentsDetailsViewRenderer:function(value){return dojo.string.substitute("<a href=\"javascript:customerPaymentsRTDV.loadDetailsView();\">${0}</a>",[value]);},loadDetailsView:function(){var row=this.grid._grid.selection.getSelected()[0];if(row){this._dialog.set("value",row);this._dialog.show();}},hideDetailsDialog:function(){this._dialog.hide();}});return _2610;});},"Sage/QuickForms/Design/Editors/LayoutPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/LayoutPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/LayoutPropertyEditor"],function(_2614,lang,_2615,_2616,_2617,_2618,_2619,_261a,_261b,_261c){return _2614("Sage.QuickForms.Design.Editors.LayoutPropertyEditor",[_2615,_261a,_2619],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.positionText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.rowTooltipText %}\">","<label>{%= $.rowText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_row\" data-dojo-attach-event=\"onChange:_onRowChange\" required=\"true\" data-dojo-props=\"constraints:{min:0,max:100,places:0}\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.columnTooltipText %}\">","<label>{%= $.columnText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_column\" data-dojo-attach-event=\"onChange:_onColumnChange\" required=\"true\" data-dojo-props=\"constraints:{min:0,max:100,places:0}\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.sizeText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.rowSpanTooltipText %}\">","<label>{%= $.rowSpanText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_rowSpan\" data-dojo-attach-event=\"onChange:_onRowSpanChange\" required=\"true\" data-dojo-props=\"constraints:{min:1,max:100,places:0}\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.columnSpanTooltipText %}\">","<label>{%= $.columnSpanText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_columnSpan\" data-dojo-attach-event=\"onChange:_onColumnSpanChange\" required=\"true\" data-dojo-props=\"constraints:{min:1,max:100,places:0}\"></div>","</div>","</div>","</fieldset>"]),_row:null,_column:null,_rowSpan:null,_columnSpan:null,titleText:"Layout",positionText:"Position",sizeText:"Size",rowText:"Row:",rowTooltipText:"Row number of the control.",columnText:"Column:",columnTooltipText:"Column number of the control.",rowSpanText:"Row Span:",rowSpanTooltipText:"Number of cells the control occupies vertically.",columnSpanText:"Column Span:",columnSpanTooltipText:"Number of cells the control occupies horizontally.",constructor:function(){lang.mixin(this,_261c);},setup:function(){this.inherited(arguments);this._row.set("value",this._designer.get("row"));this._column.set("value",this._designer.get("column"));this._rowSpan.set("value",this._designer.get("rowSpan"));this._columnSpan.set("value",this._designer.get("columnSpan"));},_onRowChange:function(value){if(this.isSuspended()||!this._row.isValid()){return;}try{this._designer.set("row",parseInt(value)||0);}catch(e){this._row.setValue(e.value);if(console){console.error(e.message,e);}}},_onColumnChange:function(value){if(this.isSuspended()||!this._column.isValid()){return;}try{this._designer.set("column",parseInt(value)||0);}catch(e){this._column.setValue(e.value);if(console){console.error(e.message);}}},_onRowSpanChange:function(value){if(this.isSuspended()||!this._rowSpan.isValid()){return;}try{this._designer.set("rowSpan",parseInt(value)||1);}catch(e){this._rowSpan.setValue(e.value);if(console){console.error(e.message);}}},_onColumnSpanChange:function(value){if(this.isSuspended()||!this._columnSpan.isValid()){return;}try{this._designer.set("columnSpan",parseInt(value)||1);}catch(e){this._columnSpan.setValue(e.value);if(console){console.error(e.message);}}}});});},"Sage/Utility/File/nls/Attachment":function(){define("Sage/Utility/File/nls/Attachment",["Sage/LanguageList","dojo/_base/lang"],function(_261d,lang){var nls={root:{uploadingAttachments:"Uploading attachments",uploadCompleted:"Completed",uploadingPleaseWait:"Uploading, please wait...",uploadFailed:"Upload failed."}};return lang.mixin(_261d,nls);});},"Sage/Utility/main":function(){define("Sage/Utility/main",["Sage/Utility/Activity","Sage/Utility/Dashboard","Sage/Utility/Groups","Sage/Utility/_LocalStorageMixin","Sage/Utility/SDataLookup","Sage/Utility/Sql","Sage/Utility/Email","Sage/Utility/ErrorHandler","Sage/Utility/File","Sage/Utility/File/DragDropWatcher","Sage/Utility/File/DefaultDropHandler","Sage/Utility/UserOptions","Sage/Utility/Validate","Sage/Utility/PickList","Sage/Utility/Jobs"],function(){});},"Sage/QuickForms/Design/nls/GenericControlDesigner":function(){define("Sage/QuickForms/Design/nls/GenericControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_261e,lang){var nls={root:{displayNameText:"Unknown"}};return lang.mixin(_261e,nls);});},"Sage/UI/NavBar":function(){define("Sage/UI/NavBar",["dijit/layout/AccordionContainer","Sage/UI/NavBarPane","Sage/Layout/_SplitterEnhancedMixin","dojo/_base/declare"],function(_261f,_2620,_2621,_2622){var _2623=_2622("Sage.UI.NavBar",[_261f,_2621],{persist:true,postCreate:function(){this.inherited(arguments);var items=Sage.UI.DataStore.NavBar&&Sage.UI.DataStore.NavBar.items;if(items){this._processNavCollection(items);}},_processNavCollection:function(items){for(var i=0;i<items.length;i++){var item=items[i];this.addChild(new _2620({title:item.text,items:item.items}));}},startup:function(){this.inherited(arguments);this.domNode.style.overflow="hidden";}});return _2623;});},"Sage/QuickForms/Design/nls/PropertyEditorContainer":function(){define("Sage/QuickForms/Design/nls/PropertyEditorContainer",["Sage/LanguageList","dojo/_base/lang"],function(_2624,lang){var nls={root:{specificTitleFormatText:"${0} Properties (${1})",genericTitleFormatText:"${0} Properties"}};return lang.mixin(_2624,nls);});},"Sage/Services/nls/ReportingService":function(){define("Sage/Services/nls/ReportingService",["Sage/LanguageList","dojo/_base/lang"],function(_2625,lang){var nls={root:{txtUnsupportedReportType:"Unsupported report type: ${0}.",txtUnexpectedError:"Sorry an error occurred: ${0} ${1}.",invalidEntityError:"The entity ID has not been defined or could not be determined.",invalidReportPluginError:"The report plugin ID has not been defined or could not be determined.",invalidTableNameError:"The table name has not been defined or could not be determined.",noDefaultReportError:"A default report could not be located for the current entity.",reportCannotBeShownError:"The report cannot be shown."}};return lang.mixin(_2625,nls);});},"Sage/MailMerge/nls/Helper":function(){define("Sage/MailMerge/nls/Helper",["Sage/LanguageList","dojo/_base/lang"],function(_2626,lang){var nls={root:{destkopErrorsError:"The call to DesktopErrors() failed.",mailMergeInfoStoreError:"The call to MailMergeInfoStore() failed."}};return lang.mixin(_2626,nls);});},"Sage/MainView/Opportunity/UpdateOpportunities":function(){require({cache:{"url:Sage/MainView/Opportunity/templates/UpdateOpportunities.html":"[\r\n'<div>',\r\n    '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.updateMultipleOpps_Caption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n        '<div data-dojo-type=\"dijit.form.Form\" id=\"{%= $.id %}_frmUpdateMultipleOpps\">',\r\n            '<table cellspacing=\"20\">',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.update_Property_Caption %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<select title=\"{%= $.update_Property_Caption %}\" labelWidth=\"20\" name=\"{%= $.id %}_PropertyName\" dojoAttachPoint=\"propertyNameSelect\" dojoAttachEvent=\"onChange:_propertyChanged\" data-dojo-type=\"dijit.form.Select\" style=\"width:150px\">',\r\n                            '{% for (var i=0; i < $._updateableProperties.length;i++) { %}',\r\n                                '<option value=\"{%= $._updateableProperties[i].propertyName %}\" {% if ($.selectedFieldIndex == i ) { %} selected {% } %} >{%= $._updateableProperties[i].propertyDisplayName %}</option>',\r\n                            '{% } %}',\r\n                        '</select>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"divUpdateOppsTolbl\" dojoAttachPoint=\"divUpdateOppsTolbl\" class=\"display-none\">',\r\n                            '<label>{%= $.update_To_Caption %}</label>',\r\n                        '</div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div dojoAttachPoint=\"divAcctMgrContainer\">',\r\n                            '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_luAccountMgr\" dojoAttachPoint=\"accountMgr_Container\" allowClearingResult=\"false\" class=\"removePadding\"></div>',\r\n                        '</div>',\r\n                        '<div dojoAttachPoint=\"divCloseProbContainer\" class=\"display-none\">',\r\n                            '<select id=\"{%= $.id %}_pkl_CloseProbability\" PickListName=\"Opportunity Probability\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_pkl_CloseProbability\" data-dojo-type=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pkl_CloseProbability\" canEditText=\"false\" itemMustExist=\"true\"></select>',\r\n                        '</div>',\r\n                        '<div data-dojo-type=\"dojox.layout.TableContainer\" dojoAttachPoint=\"divForecastContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"2\" baseClass=\"display-none\">',\r\n                            '<input data-dojo-type=\"dijit.form.RadioButton\" type=\"radio\" name=\"addToForecast\" label=\"{%= $.addToForecast_Yes %}\" value=\"yesForecast\" id=\"{%= $.id %}_rdgYesForecast\" dojoAttachPoint=\"rdoYesForecast\" checked=\"true\" />',\r\n                            '<input data-dojo-type=\"dijit.form.RadioButton\" type=\"radio\" name=\"addToForecast\" label=\"{%= $.addToForecast_No %}\" value=\"noForecast\" id=\"{%= $.id %}_rdgNoForecast\" />',\r\n                        '</div>',\r\n                        '<div data-dojo-type=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"2\" dojoAttachPoint=\"divEstCloseContainer\" baseClass=\"display-none\">',\r\n                            '<input data-dojo-type=\"dijit.form.RadioButton\" type=\"radio\" name=\"estimatedClose\" id=\"{%= $.id %}_rdgEstClose\" checked=\"true\" label=\"{%= $.estimatedClose_To %}\" value=\"estimatedClose\" dojoAttachPoint=\"rdoEstClose\" dojoAttachEvent=\"onChange:estimatedCloseDateChange\" />',\r\n                            '<input data-dojo-type=\"dijit.form.RadioButton\" type=\"radio\" name=\"estimatedClose\" value=\"move\" id=\"{%= $.id %}_rdgEstMove\" label=\"{%= $.estimatedClose_MoveOut %}\" />',\r\n                        '</div>',\r\n                        '<div dojoAttachPoint=\"divCommentsContainer\" class=\"display-none\">',\r\n                            '<textarea data-dojo-type=\"dijit.form.SimpleTextarea\" id=\"{%= $.id %}_txtComments\" dojoAttachPoint=\"txtComments\" style=\"font-size: 85%\"></textarea>',\r\n                        '</div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td></td>',\r\n                    '<td></td>',\r\n                    '<td></td>',\r\n                    '<td>',\r\n                        '<div id=\"divEstCloseDateContainer\" class=\"display-none\" dojoAttachPoint=\"divEstCloseDateContainer\">',\r\n                            '<div data-dojo-type=\"Sage.UI.Controls.DateTimePicker\" id=\"{%= $.id %}_dtpEstCloseDate\" displayDate=\"true\" displayTime=\"false\" dojoAttachPoint=\"dtpEstCloseDate\"></div>',\r\n                        '</div>',\r\n                        '<div id=\"divMoveEstimatedCloseContainer\" class=\"display-none\" dojoAttachPoint=\"divMoveEstimatedCloseContainer\">',\r\n                            '<select data-dojo-type=\"dijit.form.Select\" name=\"moveEstCloseDate\" id=\"{%= $.id %}_moveEstCloseDateList\" dojoAttachPoint=\"moveEstCloseDateList\">',\r\n                                '<option value=\"Forward\">{%= $.moveEstCloseDate_Forward %}</option>',\r\n                                '<option value=\"Backward\">{%= $.moveEstCloseDate_Backward %}</option>',\r\n                            '</select>',\r\n                            '<div data-dojo-type=\"dijit.form.TextBox\" labelWidth=\"20\" dojoAttachPoint=\"daysToMove\"></div>&nbsp',\r\n                            '<label>{%= $.estimatedClose_Days %}</label>',\r\n                        '</div>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n            '<div class=\"button-bar\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.btnOK_Caption %}</div>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_close\">{%= $.btnCancel_Caption %}</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n"}});define("Sage/MainView/Opportunity/UpdateOpportunities",["dojo/_base/declare","dojo/i18n!./nls/UpdateOpportunities","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","Sage/UI/Dialogs","Sage/UI/Controls/Lookup","dojo/text!./templates/UpdateOpportunities.html","Sage/Utility/Jobs","dojo/string","Sage/UI/Controls/SingleSelectPickList","Sage/UI/Controls/DateTimePicker","dijit/form/Form","dijit/form/Select","dijit/form/Textarea","dijit/layout/ContentPane","dojox/layout/TableContainer"],function(_2627,_2628,_2629,_262a,_262b,_262c,_262d,_262e,_262f,_2630,jobs,_2631){var _2632=_2627("Sage.MainView.Opportunity.UpdateOpportunities",[_262c,_262d],{id:"dlgUpdateMultipleOpps",_dialog:false,_updateableProperties:false,selectedFieldIndex:1,lup_AcctMgr:false,_selectionInfo:false,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_2630)),constructor:function(_2633){this._selectionInfo=_2633;dojo.mixin(this,_2628);if(!this._updateableProperties){this._updateableProperties=[{propertyName:"",propertyDisplayName:""}];this.loadUpdateableProperties("AcctMgr",this.updateProp_AcctMgr);this.loadUpdateableProperties("Forecast",this.updateProp_Forecast);this.loadUpdateableProperties("CloseProb",this.updateProp_Probability);this.loadUpdateableProperties("EstClose",this.updateProp_EstClose);this.loadUpdateableProperties("Comments",this.updateProp_Comments);}},loadUpdateableProperties:function(_2634,_2635){var _2636={propertyName:_2634,propertyDisplayName:_2635};this._updateableProperties.push(_2636);},setSelectionInfo:function(_2637){this._selectionInfo=_2637;},show:function(){this._dialog.show();if(!this.lup_AcctMgr){this.createAcctMgrLookup();}this._propertyChanged();if(!this._dialog.helpIcon){_262a.mixin(this._dialog,new _2629());this._dialog.createHelpIconByTopic("updateopportunities");}},_propertyChanged:function(){if(this.propertyNameSelect){this.setDisplayProperty(this.divAcctMgrContainer,(this.propertyNameSelect.value=="AcctMgr"));this.setDisplayProperty(this.divCloseProbContainer,(this.propertyNameSelect.value=="CloseProb"));this.setDisplayProperty(this.divCommentsContainer,(this.propertyNameSelect.value=="Comments"));this.setDomDisplayProperty(this.divForecastContainer,(this.propertyNameSelect.value=="Forecast"));this.setDisplayProperty(this.divUpdateOppsTolbl,(this.propertyNameSelect.value!="EstClose"));this.setDomDisplayProperty(this.divEstCloseContainer,(this.propertyNameSelect.value=="EstClose"));}this.estimatedCloseDateChange();},setDisplayProperty:function(_2638,_2639){if(_2638&&_2639){dojo.removeClass(_2638,"display-none");}else{if(_2638){dojo.addClass(_2638,"display-none");}}},setDomDisplayProperty:function(_263a,_263b){if(_263a&&_263b){dojo.removeClass(_263a.domNode,"display-none");}else{if(_263a){dojo.addClass(_263a.domNode,"display-none");}}},estimatedCloseDateChange:function(){var _263c=this.rdoEstClose.get("checked");if(this.propertyNameSelect){this.setDisplayProperty(this.divEstCloseDateContainer,(_263c&&this.propertyNameSelect.value=="EstClose"));this.setDisplayProperty(this.divMoveEstimatedCloseContainer,(!_263c&&this.propertyNameSelect.value=="EstClose"));}},createAcctMgrLookup:function(){this.accountMgrLookupConfig={id:"_acctMgr",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{"name":this.lookupNameColText,"field":"UserInfo.UserName"},{"name":this.lookupTitleColText,"field":"UserInfo.Title"},{"name":this.lookupDepartmentColText,"field":"UserInfo.Department"},{"name":this.lookupRegionColText,"field":"UserInfo.Region"},{"name":this.lookupTypeColText,"field":"Type","propertyType":"Sage.Entity.Interfaces.UserType"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"users"},isModal:true,initialLookup:true,preFilters:[{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"5"},{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"6"},{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"7"},{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"8"}],returnPrimaryKey:true,dialogTitle:this.lookupActMgrText,dialogButtonText:this.btnOK_Caption};this.lup_AcctMgr=new _262f({id:"lu_AcctMgr",config:this.accountMgrLookupConfig,style:"width:100%"});dojo.place(this.lup_AcctMgr.domNode,this.accountMgr_Container.domNode,"only");},_okClick:function(){var _263d=this.getPropertySelectionValue();var self=this;if(!_263d&&!_263d.value){_262e.showError(this.errorUnspecifiedValue);return;}var _263e=[{"name":"EntityName","value":"Opportunity"},{"name":"PropertyNames","value":_263d.name},{"name":"PropertyValues","value":_263d.value},{"name":"SelectedIds","value":(this._selectionInfo.selectionCount>0)?this._selectionInfo.selectedIds.join(",")||"":""},{"name":"GroupId","value":(this._selectionInfo.selectionCount===0)?this.getCurrentGroupId()||"":""},{"name":"BusinessRuleName","value":this.getBusinessRuleMethod()}];var _263f={closable:true,title:_2628.updateMultipleOpps_Caption,key:"Sage.SalesLogix.BusinessRules.Jobs.UpdateEntityJob",parameters:_263e,success:function(_2640){},failure:function(_2641){_262e.showError(dojo.string.substitute(self.errorRequestingJobMgr,[_2641.statusText]));},ensureZeroFilters:true};self._close();jobs.triggerJobAndDisplayProgressDialog(_263f);},getCurrentGroupId:function(){var _2642=Sage.Services.getService("ClientGroupContext");if(_2642){var _2643=_2642.getContext();return _2643.CurrentGroupID;}return "";},getPropertySelectionValue:function(){if(this.propertyNameSelect){switch(this.propertyNameSelect.value){case "AcctMgr":if(this.lup_AcctMgr.selectedObject){return {name:"AccountManager",value:this.lup_AcctMgr.selectedObject.$key};}return false;case "CloseProb":return {name:"CloseProbability",value:this.pkl_CloseProbability.get("value")};case "Forecast":return {name:"AddToForecast",value:this.rdoYesForecast.get("checked")};case "EstClose":if(this.rdoEstClose.get("checked")){return {name:"EstimatedClose",value:this.dtpEstCloseDate.focusNode.value};}else{return this.moveEstCloseDateList.value=="Forward"?{name:"EstimatedClose",value:this.daysToMove.value}:{name:"EstimatedClose",value:_2631.substitute("-${0}",[this.daysToMove.value])};}break;case "Comments":return {name:"Notes",value:this.txtComments.value};}}return false;},getBusinessRuleMethod:function(){return this.propertyNameSelect.value==="EstClose"&&!this.rdoEstClose.get("checked")?"UpdateEstimatedCloseDate":"";},_close:function(){this._dialog.hide();}});return _2632;});},"url:Sage/MainView/Contact/templates/ContactUserAssociationEditor.html":"[\r\n'<div>',\r\n    '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.dialogTitleText %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n        '<div data-dojo-type=\"dijit.form.Form\" id=\"{%= $.id %}_frmContactUserAssociation\">',\r\n            '<table cellspacing=\"20\">',\r\n                '<tr>',\r\n                    '<td colspan=\"2\">',\r\n                        '<label>{%= $.associateContactText %}</label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<div>',\r\n                            '<label>{%= $.user_Caption %}</label>',\r\n                        '</div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                         '<div dojoAttachPoint=\"divUserLookupContainer\">',\r\n                            '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_luAccountMgr\" dojoAttachPoint=\"userLookup_Container\" allowClearingResult=\"false\" class=\"removePadding\"></div>',\r\n                        '</div>',\r\n                    '</td>',\r\n                '</tr>',            \r\n            \r\n            '</table>',\r\n            '<div class=\"button-bar\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.btnOK_Caption %}</div>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_close\">{%= $.btnCancel_Caption %}</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n","Sage/UI/Dashboard/nls/Dashboard":function(){define("Sage/UI/Dashboard/nls/Dashboard",["Sage/LanguageList","dojo/_base/lang"],function(_2644,lang){var nls={root:{newTabTitleText:"New Tab Title",inputTitleText:"Input a Title",copiedPageText:"Copied Tab",showText:"Show"}};return lang.mixin(_2644,nls);});},"Sage/MainView/ActivityMgr/nls/ActivityListPanelConfig":function(){define("Sage/MainView/ActivityMgr/nls/ActivityListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_2645,lang){var nls={root:{colNameComplete:"Complete",colNameAttachment:"Attachment",colNameRecurring:"Recurring",colNameAlarm:"Alarm",colNameType:"Activity Type",colNameStartDate:"Start Date",colNameDuration:"Duration",colNameContact:"Name",colNameLead:"Lead",colNameAccount:"Account/Company",colNameCompany:"Company",colNameRegarding:"Regarding",colNamePriority:"Priority",colNameUserId:"Leader",colNameTimeless:"Timeless",colNameTypeName:"Type",colNameContactName:"Name",SnoozeAlarm:"Snooze Alarm",DismissAlarm:"Dismiss Alarm",colNameUnConfirmStatus:"Unconfirmed",colNameAssociationCount:"Participant Count"}};return lang.mixin(_2645,nls);});},"Sage/UI/Controls/nls/PickList":function(){define("Sage/UI/Controls/nls/PickList",["Sage/LanguageList","dojo/_base/lang"],function(_2646,lang){var nls={root:{okText:"OK",missingPickListText:"The PickList Could Not be Found"}};return lang.mixin(_2646,nls);});},"Sage/MainView/ActivityMgr/ActivityEditorAttendeesTab":function(){define("Sage/MainView/ActivityMgr/ActivityEditorAttendeesTab",["dojo","dijit/_Widget","Sage/_Templated","dojo/_base/declare","Sage/Data/SDataServiceRegistry","Sage/Data/SingleEntrySDataStore","Sage/Data/WritableSDataStore","Sage/Utility","Sage/Utility/Activity","Sage/UI/SLXPreviewGrid","Sage/UI/EditableGrid","dijit/layout/ContentPane","dojo/_base/lang","dojo/DeferredList","dojo/on","dojo/_base/array","dojo/topic","dojo/string","dojo/_base/Deferred","Sage/MainView/ActivityMgr/AttendeeLookup/SpeedSearchLookup","Sage/UI/Controls/SingleSelectPickList","dojo/i18n!./nls/ActivityEditorAttendeesTab","dojox/grid/cells/_base","Sage/Extensions/UI/Columns/Radio","Sage/Extensions/UI/Columns/CheckBox","Sage/Extensions/UI/Columns/PickListSelect","Sage/MainView/ActivityMgr/AttendeeLookup/LookupService"],function(dojo,_2647,_2648,_2649,_264a,_264b,_264c,_264d,_264e,_264f,_2650,_2651,lang,_2652,on,array,topic,_2653,_2654,_2655,_2656,_2657,_2658,radio,_2659,_265a,_265b){var _265c=_2649("Sage.MainView.ActivityMgr.ActivityEditorAttendeesTab",[_2647,_2648],{actEditor:null,lup_Contact:null,lup_Lead:null,self:null,widgetsInTemplate:true,currentPrimaryEntityId:null,userContactAttendees:[],editorMode:null,_activityId:null,_addedAttendees:null,_uncheckItem:null,_initialPrimaryContact:false,_gridStarted:false,_timeZones:[],constructor:function(_265d){lang.mixin(this,_265d);lang.mixin(this,_2657);var self=this;if(this._timeZones.length==0){Sage.Utility.getTimeZones(function(_265e){self._timeZones=_265e;});}},widgetTemplate:new Simplate(["<div>","<div id=\"{%= $.id %}_attendeesGridPlaceholder\" dojoAttachPoint=\"_attendeesGridPlaceholder\" style=\"width:100%;height:100%\"></div>","</div>"]),userContactList:[],_newItems:[],startup:function(_265f){this._newItems=[];this._addedAttendees=[];if(!this.actEditor){return;}this._activityId=_264d.getCurrentEntityId();this._buildGrid(_265f);dojo.subscribe("/entity/activity/create",this,this._activitySaved);dojo.subscribe("/entity/activity/change",this,this._activitySaved);this.createLookups();this.self=this;var self=this;},primaryClicked:function(_2660){_2660["attendeeTab"]=true;_2660["PrimaryChecked"]=_2660.checked;if(_2660.checked){this._uncheckItem=_2660;}if(!_2660["AccountId"]&&_2660["EntityType"]=="Contact"){_264e._getContactData(_2660["EntityId"],function(_2661){if(_2661["Account"]&&_2661["Account"]["$key"]){_2660["AccountId"]=_2661["Account"]["$key"];}dojo.publish("/entity/activityAttendee/primaryChanged",[_2660,this]);},this);}else{if(!_2660["AccountId"]&&_2660["EntityType"]=="Lead"){_264e._getLeadData(_2660["EntityId"],function(_2662){if(_2662["Account"]&&_2662["Account"]["$key"]){_2660["AccountId"]=_2662["Account"]["$key"];}dojo.publish("/entity/activityAttendee/primaryChanged",[_2660,this]);},this);}else{dojo.publish("/entity/activityAttendee/primaryChanged",[_2660,this]);}}},_primaryUnChecked:function(_2663){if(this.currentPrimaryEntityId!==entityId){}else{}},_getTimeZoneDisplayName:function(_2664){var _2665=_2664;if(this._timeZones&&this._timeZones.length>0){var obj=this._timeZones.filter(function(val){return val.Keyname===_2664;});if(obj&&obj[0]){_2665=obj[0].Displayname;}}return _2665;},_buildGrid:function(_2666){var tools=[];tools=[{id:"attendeeSpeedSearch",imageClass:"icon_plus_16x16",handler:this.speedSearch,tooltip:this.tooltip_speedSearch,scope:this},{id:"attendeeAddContact",icon:"./images/icons/Contact_Lookup_16x23.png",handler:this.lookupContacts,tooltip:this.tooltip_AddContact,scope:this},{id:"attendeeeAddLead",icon:"./images/icons/Lead_Lookup_16x23.png",handler:this.lookupLeads,tooltip:this.tooltip_AddLead,scope:this},{id:"attendeeDelete",imageClass:"icon_Delete_16x16",handler:this.deleteAttendees,tooltip:this.tooltip_Delete,scope:this}];var self1=this;var _2667=function(data,_2668){array.forEach(data,function(item,i){if(item["IsPrimary"]){this.currentPrimaryEntityId=item["EntityId"];}if(item["TimeZone"]){item["TimeZone"]=self1._getTimeZoneDisplayName(item["TimeZone"]);}if(self1._grid&&self1._grid.mode!=="insert"&&self1._grid.store&&self1._grid.store.dirtyDataCache.isDirty){if(self1._grid.store.dirtyDataCache[item["$key"]]){item["RoleName"]=self1._grid.store.dirtyDataCache[item["$key"]]["RoleName"];item["IsPrimary"]=self1._grid.store.dirtyDataCache[item["$key"]]["IsPrimary"];item["IsAttendee"]=self1._grid.store.dirtyDataCache[item["$key"]]["IsAttendee"];}}});};var _2669=function(_266a,field,_266b){return;};_2649("Sage.Extensions.Activity.primaryContactCheckBox1",dojox.grid.cells.Bool,{format:function(index,_266c){var value=Sage.Utility.getValue(_266c,"IsPrimary");var _266d="<input type=\"checkbox\" disabled=\"disabled\" />";if(value){_266d="<input type=\"checkbox\" checked=\"checked\" disabled=\"disabled\" />";}return _266d;}});_2649("Sage.Extensions.Activity.isAttendeeCheckBox1",dojox.grid.cells.Bool,{format:function(index,_266e){var value=Sage.Utility.getValue(_266e,"IsAttendee");var _266f="<input type=\"checkbox\" disabled=\"disabled\" />";if(value){_266f="<input type=\"checkbox\" checked=\"checked\" disabled=\"disabled\" />";}return _266f;}});var _2670={};var _2671={};var _2672={};if(_2666){_2670={field:"IsPrimary",name:this.header_Primary,width:"40px",type:Sage.Extensions.Activity.primaryContactCheckBox1};_2671={field:"RoleName",name:this.header_RoleName};_2672={field:"IsAttendee",name:this.header_Attendee,width:"70px",type:Sage.Extensions.Activity.isAttendeeCheckBox1};}else{_2670={field:"IsPrimary",name:this.header_Primary,width:"40px",editable:true,radioType:"group",type:Sage.Extensions.UI.Columns.CheckBox,checkBoxClicked:this.primaryClicked};_2671={field:"RoleName",name:this.header_RoleName,pickListName:"Attendee Role",width:"130px",type:Sage.Extensions.UI.Columns.PickListSelect,options:["Decison Maker","Gate Keeper","Other"],editable:true};_2672={field:"IsAttendee",name:this.header_Attendee,width:"70px",editable:true,radioType:"group",type:dojox.grid.cells.Bool};}var _2673=[{field:"Name",name:this.header_Name,width:"150px",editable:false},{field:"AccountName",name:this.header_AccountName,width:"150px",editable:false},{field:"EntityType",name:this.header_Type,width:"60px",editable:false},_2670,_2671,_2672,{field:"PhoneNumber",name:this.header_Phone,width:"100px",editable:false},{field:"Email",name:this.header_Email,width:"150px",editable:false},{field:"TimeZone",name:this.header_TimeZone,width:"150px",editable:false}];var actid=_264e.getCurrentActivityId();this._activityId=this._activityId||actid;var _2674={columns:_2673,tools:tools,storeOptions:{service:_264a.getSDataService("dynamic"),resourceKind:"activityAttendees",select:["EntityType","EntityId","IsPrimary","Name","Description","Notes","AccountId","AccountName"],sort:[{attribute:"Name"}],onDataChange:_2669,onComplete:_2667,clearStoreCacheOnDelete:false},slxContext:{"workspace":"",tabId:""},contextualCondition:function(){var actId=self._activityId;if(actId&&actId.length>12){actId=actId.substr(0,12);}return "Activity.id eq '"+actId+"'";},id:this.id+"_attendees",rowsPerPage:40,singleClickEdit:false,enableCheckBoxSelection:false,selectionMode:"single"};if(_2666){_2674.readOnly=true;}if(this.editorMode.indexOf("New")==0||this.editorMode==="CompleteUnscheduled"){_2674.storeOptions["isInsertMode"]=true;}var grid=new _264f.Grid(_2674,this._attendeesGridPlaceholder);grid.setSortColumn("Name");this._grid=grid._grid;var self=this;dojo.connect(this._grid,"onBlur",function(){if(self._grid.mode!="insert"&&self._grid.store.dirtyDataCache.isDirty){}});grid.startup();this._grid.markClean=function(){if(this.dirtyDataMsgID){var _2675=dojo.byId(this.dirtyDataMsgID);if(_2675){dojo.style(dojo.byId(this.dirtyDataMsgID),"display","none");}}var _2676=Sage.Services.getService("ClientBindingManagerService");if(_2676){_2676.clearDirtyAjaxItem(this.id);}};this._grid.markDirty=function(){};dojo.connect(this._grid,"_onFetchComplete",function(){if(self._grid.mode!="insert"&&self._uncheckItem){}if(self._initialPrimaryContact&&self._gridStarted){self._addPrimaryContact();}});},_addMemberToAvailabilityTab:function(_2677){var _2678=[];_2678.push(_2677);this.actEditor.addMembers(_2678);},disableGrid:function(){this._grid.readOnly=true;this._grid.refresh();},saveGridChanges:function(_2679){if(this._grid.mode!=="insert"){this._grid.saveChanges(lang.hitch(this,_2679));}else{_2679();}},speedSearch:function(){var self=this;if(!this._speedSearchLookup){this._speedSearchLookup=new _2655();}this._speedSearchLookup.showLookup();this._speedSearchLookup.doSelected=function(items){self._processLookupResults(items);self._speedSearchLookup.hide();};},lookupContacts:function(){this.lup_Contact.seedProperty="Account.Id",this.lup_Contact.seedValue=this.actEditor._activityData.AccountId;this.lup_Contact.query.conditions="";this.lup_Contact.buildSDataStoreQueryForSeeding();this.lup_Contact._originalQueryConditions=this.lup_Contact.query.conditions;this.lup_Contact.cancelText=this.lup_Contact.closeText;this.lup_Contact.overrideSeedValueOnSearch=true;this.lup_Contact.showLookup();var _267a=dojo.connect(this.lup_Contact.lookupDialog,"onHide",this.lup_Contact,function(){dojo.disconnect(_267a);if(this.seedValue){this.resetGrid();}});},lookupLeads:function(){this.lup_Lead.query.conditions="";this.lup_Lead.buildSDataStoreQueryForSeeding();this.lup_Lead._originalQueryConditions=this.lup_Lead.query.conditions;this.lup_Lead.cancelText=this.lup_Lead.closeText;this.lup_Lead.showLookup();},deleteAttendees:function(){var _267b=this._grid.selection.getSelected();var self=this;this._grid.deleteSelected(function(){if(_267b){for(var i=0;i<_267b.length;i++){var _267c=_267b[i];if(_267c.IsPrimary){_267c["attendeeTab"]=true;_267c["PrimaryChecked"]=false;dojo.publish("/entity/activityAttendee/primaryChanged",[_267c,this]);}if(_267b[i].EntityType=="Contact"){var _267d=self._checkUserContactAssociation(_267b[i].EntityId);if(_267d){var args={"memberId":_267d,"attendeesTab":true};self.actEditor._removeMember(args);}}if(i==_267b.length-1){dojo.publish("/entity/activityAttendee/delete",[null,this]);}}}});},_attendeeExists:function(_267e){var count=this._grid.rowCount;for(var i=0;i<count;i++){var item=this._grid.getItem(i);if(item.EntityId===_267e){return true;}}return false;},resetPrimary:function(_267f){var count=this._grid.rowCount;for(var i=0;i<count;i++){var item=this._grid.getItem(i);if(item.EntityId!==_267f){item.IsPrimary=false;}}},unCheckPrimary:function(_2680){if(this._grid.mode=="insert"){this.resetPrimary();}else{var count=this._grid.rowCount;for(var i=0;i<count;i++){var item=this._grid.getItem(i);if(item.IsPrimary){this._uncheckItem=item;}}}},resetRows:function(grid,_2681,_2682,_2683){var count=grid.rowCount;for(var i=0;i<count;i++){var item=grid.getItem(i);if(item&&item.EntityId!==_2683.EntityId){var _2684="chk_"+this.field+"_"+item.EntityId;dojo.byId(_2684).checked=false;grid.store.setValue(item,_2682,false);}else{if(item&&item.EntityId===_2683.EntityId){var _2684="chk_"+this.field+"_"+item.EntityId;grid.store.setValue(item,_2682,true);}}}},resetEntityContext:function(){var _2685=this.parentRelationshipName;var _2686=_264d.getCurrentEntityId();if(_2685==="activityId"){_2686=_2686.substr(0,12);}var _2687=function(){return (_2685||"'A'")+" eq '"+_2686+"'";};this._previewGrid.resetContextualCondition(_2687);this.refresh();},_processLookupResults:function(_2688){var _2689=[];var _268a=[];for(var i=0;i<_2688.length;i++){if(!this._attendeeExists(_2688[i].$key)){_2689.push(this._setAttendeeEntity(_2688[i]));if(_2688[i].type=="Contact"){this._getSlxAssociation("Contact",_2688[i].$key,null,function(data){if(data&&data.length>0&&data[0].UserId){this._updateUserContactList(data[0].UserId,data[0].ContactId);this._getResourceData(_264d.getClientContextByKey("userID"),data[0].UserId,this._addMemberToAvailabilityTab,this);}},this);}}}if(_2689.length>0){this._addAttendeesToStore(_2689);}},_processContactLookupResults:function(_268b){var _268c=[];for(var i=0;i<_268b.length;i++){if(!this._attendeeExists(_268b[i].$key)){_268b[i].EntityType="Contact";var _268d=this._setAttendeeEntityFromContactLead("Contact",_268b[i]);_268d["IsAttendee"]=true;_268c.push(_268d);_268b[i].New=true;}}if(_268c.length>0){this._addAttendeesToStore(_268c);}for(var i=0;i<_268b.length;i++){if(_268b[i].New&&_268b[i].ContactUser&&_268b[i].ContactUser.$resources&&_268b[i].ContactUser.$resources.length>0){this._updateUserContactList(_268b[i].ContactUser.$resources[0].UserId,_268b[i].$key);this._getResourceData(_264d.getClientContextByKey("userID"),_268b[i].ContactUser.$resources[0].UserId,this._addMemberToAvailabilityTab,this);}}},_processLeadLookupResults:function(_268e){var _268f=[];for(var i=0;i<_268e.length;i++){if(!this._attendeeExists(_268e[i].$key)){_268e[i].EntityType="Lead";var _2690=this._setAttendeeEntityFromContactLead("Lead",_268e[i]);_2690["IsAttendee"]=true;_268f.push(_2690);}}if(_268f.length>0){this._addAttendeesToStore(_268f);}},getFieldValue:function(_2691,name){for(var i=0;i<_2691.length;i++){var field=_2691[i];if(field.fieldName==name){return field.fieldValue;}}return "";},_setAttendeeEntity:function(_2692){var _2693={};_2693.EntityType=_2692.type;_2693.EntityId=_2692.$key;_2693.IsPrimary=false;_2693.Name=_2692.$descriptor;_2693.AccountName=this.getFieldValue(_2692.fields,"account");_2693.Email=this.getFieldValue(_2692.fields,"email");_2693.Description="";_2693.Notes="";_2693.TimeZone="";_2693.PhoneNumber=this.getFieldValue(_2692.fields,"phone");_2693.RoleName="";_2693.general=false;_2693.IsAttendee=true;return _2693;},_setAttendeeEntityFromContactLead:function(type,_2694){var _2695=false;if(_2694&&_2694.$key){_2695={};_2695.EntityType=type;_2695.EntityId=_2694.$key;_2695.$key=_2694.$key;_2695.IsPrimary=false;_2695.Name=_2694.$descriptor;_2695.$descriptor=_2694.$descriptor;_2695.Account=_2694.Account;_2695.AccountName=_2694.AccountName||_2694.Company;if(type=="Lead"){_2695.Company=_2694.Company;_2695.LeadFullName=_2694.$descriptor;}_2695.Company=_2694.Company;_2695.Email=_2694.Email;_2695.Description="";_2695.Notes="";if(_2694.Address){_2695.TimeZone=_2694.Address.TimeZone;if(_2695.TimeZone){_2695.TimeZone=this._getTimeZoneDisplayName(_2695.TimeZone);}}_2695.PhoneNumber=_2694.WorkPhone;_2695.RoleName="";_2695.general=false;}return _2695;},_getResourceData:function(_2696,_2697,_2698,scope){this.accessData=false;if(!this._accessStore){this._accessStore=new _264b({include:["$descriptors"],resourceKind:"activityresourceviews",service:_264a.getSDataService("dynamic")});}this._accessStore.fetch({predicate:"'"+_2697+"-"+_2696+"'",onComplete:function(_2699){_2698.call(scope,_2699);},onError:function(){_2698.call(scope,null);},scope:this});},_getSlxAssociation:function(type,_269a,_269b,_269c,scope){this.accessData=false;if(!this._associationStore){this._associationStore=new _264c({include:["$descriptors"],resourceKind:"contactusers",select:["UserId","ContactId","Contact/Name","Contact/Email","Contact/WorkPhone","Contact/AccountName","User/Name"],service:_264a.getSDataService("dynamic")});}var _269d="";if(type=="Contact"){_269d=_2653.substitute("ContactId eq '${0}' ",[_269a]);}else{if(type=="User"){_269d=_2653.substitute("UserId eq '${0}' ",[_269a]);}}this._associationStore.fetch({query:_269d,onComplete:function(_269e){_269c.call(scope,_269e,_269b);},onError:function(){_269c.call(scope,null);},scope:this});},_updateUserContactList:function(_269f,_26a0){if(!this.userContactList[_269f]){this.userContactList[_269f]={"UserId":_269f,"ContactId":_26a0};}},_checkUserContactAssociation:function(_26a1){var _26a2=false;if(this.userContactList){for(var i in this.userContactList){if(this.userContactList[i]["ContactId"]==_26a1){_26a2=this.userContactList[i]["UserId"];break;}}}return _26a2;},_addContactAttendees:function(_26a3){var _26a4=[];var len=_26a3.length;var self=this;for(var i=0;i<len;i++){_26a4.push(this._getAssociationData(_26a3[i]));}var _26a5=new _2652(_26a4);_26a5.then(function(_26a6){for(var j=0;j<_26a6.length;j++){if(_26a6[j][1]){self.userContactAttendees.push(_26a6[j][1]);}}self._addAttendeesToStore(self.userContactAttendees);self.userContactAttendees=[];});},_getAssociationData:function(_26a7){var d=new _2654();var _26a8={"last":false};this._getSlxAssociation("User",_26a7,_26a8,function(data,scope){if(data&&data.length>0){var _26a9=null;if(data[0].Contact){this._updateUserContactList(data[0].UserId,data[0].ContactId);_26a9=this._setAttendeeEntityFromContactLead("Contact",data[0].Contact);}d.resolve(_26a9);}},this);return d;},_addPrimaryContact:function(_26aa){if(this._initialPrimaryContact){if(!this._attendeeExists(this._initialPrimaryContact["$key"])){this._addContactAttendee(this._initialPrimaryContact);}}this._initialPrimaryContact=false;},_addContactAttendee:function(_26ab){var _26ac=[];var _26ad=null;if(_26ab){this.resetPrimary(_26ab["$key"]);if(this._grid.mode!=="insert"){}if(_26ab.Account){_26ab.AccountName=_26ab.Account.AccountName;_26ad=this._setAttendeeEntityFromContactLead("Contact",_26ab);_26ad.IsPrimary=true;_26ad.general=true;_26ac.push(_26ad);this._addAttendeesToStore(_26ac,true);}else{_264e._getContactData(_26ab.$key,function(data){if(data){_26ad=this._setAttendeeEntityFromContactLead("Contact",data);_26ad.IsPrimary=true;_26ad.general=true;_26ac.push(_26ad);this._addAttendeesToStore(_26ac,true);}},this);}}},_addLeadAttendee:function(lead){var _26ae=[];var _26af=null;if(lead){this.resetPrimary(lead["$key"]);if(!lead.Email&&!lead.WorkPhone){this._removeLeadAttendee();_264e._getLeadData(lead.$key,function(data){if(data){_26af=this._setAttendeeEntityFromContactLead("Lead",data);_26af.general=true;_26af.IsPrimary=true;_26ae.push(_26af);this._addAttendeesToStore(_26ae,true);}},this);}else{_26af=this._setAttendeeEntityFromContactLead("Lead",lead);_26af.general=true;_26af.IsPrimary=true;_26ae.push(_26af);this._addAttendeesToStore(_26ae,true);}}},_removeAssociatedContact:function(_26b0){if(this.userContactList[_26b0]){var self=this;var _26b1=this.userContactList[_26b0]["ContactId"];var count=this._grid.rowCount;for(var i=0;i<count;i++){var item=this._grid.getItem(i);if(item.EntityId===_26b1){self._grid.store.deleteItem(item);if(item.IsPrimary){item["attendeeTab"]=true;item["PrimaryChecked"]=false;dojo.publish("/entity/activityAttendee/primaryChanged",[item,this]);}break;}}}},checkStoreItem:function(_26b2){var self=this;var _26b3=new _2654();this._grid.store.fetch({onComplete:function(items){var _26b4=false;dojo.forEach(items,function(item,index){if(item&&item.EntityId==_26b2){_26b4=true;}});_26b3.resolve(_26b4);}});return _26b3;},_removeContactAttendee:function(){var self=this;this._grid.store.fetch({onComplete:function(items){dojo.forEach(items,function(item,index){if(item&&item.general&&item.EntityType=="Contact"){self._grid.store.deleteItem(item);}});}});},_removeLeadAttendee:function(){var self=this;this._grid.store.fetch({onComplete:function(items){dojo.forEach(items,function(item,index){if(item&&item.general&&item.EntityType=="Lead"){self._grid.store.deleteItem(item);}});}});},_addLeadAttendees:function(_26b5){var grid=this._grid;var _26b6=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");var fnAdd=function(){var _26b7=new Sage.SData.Client.SDataServiceOperationRequest(_26b6).setResourceKind("activities").setOperationName("AddLeadAttendees");var actId=_264d.getCurrentEntityId();var entry={"$name":"AddLeadAttendees","request":{"ActivityId":actId,"leadIds":_26b5.join()}};_26b7.execute(entry,{success:function(_26b8){grid.refresh();},failure:function(_26b9){Sage.UI.Dialogs.showError(dojo.string.substitute("Error adding lead attendees",[_26b9]));grid.refresh();}});};if(_26b5.length>0){grid.showLoading();fnAdd();}},_getNewContactAttendees:function(){return this._newItems;},setInitialPrimaryContact:function(_26ba){this._initialPrimaryContact=_26ba;},refreshGrid:function(){this._grid.saveChanges();this._grid.refresh();},_addAttendeesToStore:function(_26bb,_26bc){var actid=_264d.getCurrentEntityId();var _26bd=false;var self=this;if(this._grid.mode==="insert"||!actid){var _26be=[];for(var i=0;i<_26bb.length;i++){var _26bf=_26bb[i];if(!this._attendeeExists(_26bf.EntityId)){var index=-1;for(var j=0,len=this._newItems.length;j<len;j++){if(this._newItems[j]["$key"]===_26bf["$key"]){index=j;break;}}if(index===-1){this._newItems.push(_26bf);}_26be.push(_26bf);}}this._grid.store.addItemsToCache(this,_26be);}else{var _26c0=[];for(var i=0;i<_26bb.length;i++){var _26bf=_26bb[i];_26bf["Account"]=null;if(!this._attendeeExists(_26bf.EntityId)){this._newItems.push(_26bf);_26bf.Activity={"$key":actid};_26c0.push(this._saveGridActivityAttendee(_26bf));}}var d1=new _2652(_26c0);d1.then(function(_26c1){dojo.publish("/entity/activityAttendee/add",[_26c1.length,this]);if(_26bc&&_26bb&&_26bb.length>0){}});}this._grid.refresh();},_saveGridActivityAttendee:function(_26c2){var d=new _2654();this._grid.store.saveNewEntity(_26c2,function(){d.resolve("success");},function(){d.resolve("success");},this);return d;},_addAdhocAttendee:function(){this._grid.store.newItem({onComplete:function(_26c3){var actid=_264d.getCurrentEntityId();if(!actid){actid=this.actEditor._makeTempID();}_26c3.Activity={"$key":actid};this._newItems.push(association);if(this._grid.mode==="insert"){this._grid.store.addToCache(this,_26c3,1);}else{this._grid.store.saveNewEntity(_26c3);}this._grid.refresh();},scope:this});},_activitySaved:function(_26c4){var _26c5=new _2654();if(this._grid.mode==="insert"){var actid=_26c4["$key"];var count=0;var _26c6=[];var _26c7=null;for(var i=0;i<this._newItems.length;i++){count=i;var itm=this._newItems[i];itm["Account"]=null;itm["Activity"]={"$key":actid};if(!itm["IsPrimary"]){_26c6.push(this._saveActivityAttendee(itm));}else{_26c7=itm;}}this._newItems=[];var d1=new _2652(_26c6);d1.then(function(_26c8){_26c5.resolve({success:true});});if(_26c7){this._updatePrimaryAttendee(_26c7,actid);}}else{this._grid.saveChanges();_26c5.resolve({success:true});this._newItems=[];this._uncheckItem=null;}return _26c5;},_updatePrimaryAttendee:function(_26c9,_26ca){var _26cb=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");var _26cc=new Sage.SData.Client.SDataServiceOperationRequest(_26cb).setResourceKind("activities").setOperationName("UpdatePrimaryActivityAttendee");var entry={"$name":"UpdatePrimaryActivityAttendee","request":{"ActivityId":_26ca,"entityId":_26c9.EntityId,"isAttendee":_26c9.IsAttendee,"roleName":_26c9.RoleName}};_26cc.execute(entry,{success:function(_26cd){},failure:function(ex){},scope:this});},_historySaved:function(_26ce){var _26cf=new _2654();if(this._grid.mode==="insert"){var _26d0=_26ce["$key"];var count=0;var _26d1=[];var _26d2="";for(var i=0;i<this._newItems.length;i++){count=i;var itm=this._newItems[i];itm["Account"]=null;itm["History"]={"$key":_26d0};if(_26d2!==itm["EntityId"]){_26d1.push(this._saveHistoryAttendee(itm));_26d2=itm["EntityId"];}}this._newItems=[];var d1=new _2652(_26d1);d1.then(function(_26d3){_26cf.resolve({success:true});});}return _26cf;},_saveActivityAttendee:function(itm){var d=new _2654();var self=this;var req=new Sage.SData.Client.SDataSingleResourceRequest(_264a.getSDataService("dynamic")).setResourceKind("activityAttendees").create(itm,{success:function(){d.resolve("success");},failure:function(){},scope:this});return d;},_saveHistoryAttendee:function(itm){var d=new _2654();var self=this;var req=new Sage.SData.Client.SDataSingleResourceRequest(_264a.getSDataService("dynamic")).setResourceKind("historyAttendees").create(itm,{success:function(){d.resolve("success");},failure:function(){},scope:this});return d;},_dialogHide:function(){this._newItems=[];this._grid.store.clearCache();this._grid._clearData();this._grid.markClean();this._uncheckItem=null;this._gridStarted=false;},destroy:function(){this.lup_Contact.destroy();this.lup_Lead.destroy();this._gridStarted=false;this.inherited(arguments);},_tabShow:function(){if(this._grid){var _26d4=this._grid.get("mode");if(this.editorMode.indexOf("New")==0||!this._activityId){this._grid.set("mode","insert");}else{this._grid.set("mode","");}this._grid.refresh();if(this.lup_Contact){this.lup_Contact.resetGrid();this.lup_Contact.destroy();}if(this.lup_Lead){this.lup_Lead.resetGrid();this.lup_Lead.destroy();}this.createLookups();this._gridStarted=true;}},createLookups:function(){var srvc=Sage.Services.getService("LookupService");if(srvc){var self=this;var _26d5=srvc.getLookupInstance("Contact","activityContactAttendee");if(_26d5){this.lup_Contact=_26d5;this.lup_Contact.doSelected=function(items){self._processContactLookupResults(items);this.lookupDialog.hide();};}var _26d6=srvc.getLookupInstance("Lead","activityLeadAttendee");if(_26d6){this.lup_Lead=_26d6;_26d6.doSelected=function(items){self._processLeadLookupResults(items);this.lookupDialog.hide();};}}},setToReadOnly:function(_26d7){var _26d8=["attendeeSpeedSearch","attendeeAddContact","attendeeeAddLead","attendeeDelete"];this._bulkSetProperty(this,_26d8,"disabled",_26d7);},_bulkSetProperty:function(ui,_26d9,prop,val){for(var i=0;i<_26d9.length;i++){var ctrl=dijit.byId(_26d9[i]);if(ctrl){ctrl.set(prop,val);}}}});return _265c;});},"Sage/UI/Controls/LogOffButton":function(){define("Sage/UI/Controls/LogOffButton",["dijit/MenuBar","Sage/UI/MenuItem","Sage/UI/MenuBarItem","dojo/i18n!./nls/LogOffButton","dojo/_base/declare"],function(_26da,_26db,_26dc,_26dd,_26de){var _26df=_26de("Sage.UI.Controls.LogOffButton",_26da,{postMixInProperties:function(){this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.addChild(new _26dc({label:_26dd.logOffText,iconStyle:"width: 16px",icon:"images/icons/login_16.png",imageClass:"icon_login_16",title:_26dd.logOffText,id:"btnLogOff",onClick:function(){try{window.location.href="Shutdown.axd";}catch(e){}}}));}});return _26df;});},"url:Sage/MainView/IntegrationContract/templates/CustomerPaymentsRTDV.html":"[\n'<div>',\n    '<div dojoType=\"dijit.Dialog\" id=\"{%= $.id%}_customerPaymentsDetailsDialog\" title=\"{%= $.dialogCaption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:hideDetailsDialog\">',\n        '<table cellspacing=\"5\">',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_reference\">{%= $.lblReferenceCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_reference\" name=\"reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_date\">{%= $.lblDateCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_date\" name=\"date\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_processDate\">{%= $.lblProcessDateCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_processDate\" name=\"processDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_name\">{%= $.lblNameCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_name\" name=\"name\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_type\">{%= $.lblTypeCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_type\" name=\"type\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_status\">{%= $.lblStatusCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_status\" name=\"status\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_currency\">{%= $.lblCurrencyCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_currency\" name=\"currency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_tenderType\">{%= $.lblTenderTypeCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_tenderType\" name=\"tenderType\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_tenderReference\">{%= $.lblTenderReferenceCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_tenderReference\" name=\"tenderReference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_discountTotal\">{%= $.lblDiscountsCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_discountTotal\" name=\"discountTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_netTotal\">{%= $.lblNetTotalCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_netTotal\" name=\"netTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_taxTotal\">{%= $.lblTaxesCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_taxTotal\" name=\"taxTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_chargesTotal\">{%= $.lblChargesCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_chargesTotal\" name=\"chargesTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_taxCode\">{%= $.lblTaxCodeCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_taxCode\" name=\"taxCode\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_grossTotal\">{%= $.lblGrossTotalCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_grossTotal\" name=\"grossTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_source\">{%= $.lblSourceCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_source\" name=\"source\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n        '</table>',\r\n        '<div class=\"button-bar alignright\">',\r\n            '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_paymentBtnClose\" type=\"button\" dojoAttachEvent=\"onClick:hideDetailsDialog\">{%= $.btnCloseCaption %}</button>',\r\n        '</div>',\n    '</div>',\n'</div>'\n]","Sage/MainView/ActivityMgr/nls/HistoryEditorAttendeesTab":function(){define("Sage/MainView/ActivityMgr/nls/HistoryEditorAttendeesTab",["Sage/LanguageList","dojo/_base/lang"],function(_26e0,lang){var nls={root:{header_Name:"Name",header_AccountName:"Account/Company",header_Type:"Type",header_Primary:"Primary",header_RoleName:"Role",header_Phone:"Phone",header_Email:"Email",header_TimeZone:"Time Zone",header_Notes:"Notes",header_Status:"Status"}};return lang.mixin(_26e0,nls);});},"Sage/Utility/nls/Email":function(){define("Sage/Utility/nls/Email",["Sage/LanguageList","dojo/_base/lang"],function(_26e1,lang){var nls={root:{RecipientInfoError:"There was an unexpected error attempting to read the recipient information: ${0}",MailToProtocolError:"There was an error attempting to generate an e-mail message using the mailto: protocol (href.length=${0}). The number of e-mail recipients may need to be reduced. Browser error: ${1}.",InvalidContextError:"The e-mail request cannot be processed. This operation is only supported for Contacts or Leads.",InvalidArgumentError:"The e-mail request cannot be processed. Invalid argument.",FilteredOutMsg:"Filtered out: Non-solicitable: ${0}; Invalid: ${1}; Dupes: ${2}",AllInvalidEmailError:"The collection does not include one entity with a valid and/or solicitable e-mail address.",EmailFieldQueried:"The e-mail field queried was: ${0}.",EntityInfoError:"The was a failure attempting to retrieve the entity information.",CapabilityModeError:"The capability to write an e-mail to a group selection is only available in list views.",CapabilityEntityError:"The capability to write an e-mail to a group selection is only available for Contacts or Leads.",NoRowsSelectedError:"There are no rows selected."}};return lang.mixin(_26e1,nls);});},"Sage/MainView/ActivityMgr/LitRequestListPanelConfig":function(){define("Sage/MainView/ActivityMgr/LitRequestListPanelConfig",["Sage/MainView/ActivityMgr/BaseListPanelConfig","Sage/Utility","Sage/Utility/Activity","Sage/UI/SummaryFormatterScope","Sage/Data/BaseSDataStore","Sage/UI/Columns/DateTime","dojo/_base/declare","dojo/i18n!./nls/LitRequestListPanelConfig","dojo/i18n!./templates/nls/LitRequestSummary"],function(_26e2,_26e3,_26e4,_26e5,_26e6,_26e7,_26e8,_26e9){var _26ea=_26e8("Sage.MainView.ActivityMgr.LitRequestListPanelConfig",[_26e2],{constructor:function(){this._nlsResources=_26e9;this._listId="literature";this._resourceKind="litRequests";this.entityName="LitRequest";this._contextMenu="LitRequestListContextMenu";this._securedAction="ActivitiesViewLitratureRequests";this._structure=this._getStructure();this._select=this._getSelect();this._sort=this._getSort();this._where=this._getWhere();this._store=this._getStore();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.toolBar=this._getToolBars();dojo.subscribe("/entity/litRequest/change",this._onListRefresh);},_onListRefresh:function(event){var _26eb=Sage.Services.getService("ActivityService");_26eb.refreshList("literature");},_getSelect:function(){var _26ec=["$key","ContactName","Contact/$key","Description","FillDate","FillStatus","Options","Priority","RequestDate","SendDate","SendVia","TotalCost","FillUser/UserInfo/UserName","RequestUser/UserInfo/UserName","Contact/AccountName","Contact/Address/PostalCode","Contact/Account/AccountId","ReqestUser/$key"];return _26ec;},_getSort:function(){var sort=[{attribute:"RequestDate",descending:true}];return sort;},_getWhere:function(){var _26ed=this._nlsResources.litFillStatusComplete||"Completed";var where=(this._currentUserId)?dojo.string.substitute("(RequestUser.Id eq \"${0}\") and (FillStatus ne \"${1}\"  or FillStatus eq null )",[this._currentUserId,_26ed]):"";return where;},_getStructure:function(){var _26ee=this._nlsResources.colNameView||"View";var _26ef=this._nlsResources.colNameContact||"Contact";var _26f0=this._nlsResources.colNameDescription||"Description";var _26f1=this._nlsResources.colNameFillStatus||"Status";var _26f2=this._nlsResources.colNamePriority||"Priority";var _26f3=this._nlsResources.colNameReqestDate||"Request Date";var _26f4=this._nlsResources.colNameSendDate||"Send Date";var _26f5=this._nlsResources.colNameSendVia||"Send Via";var _26f6=this._nlsResources.colNameTotalCost||"Total Cost";var _26f7=this._nlsResources.colNameReqestUser||"Request User";var _26f8=this._nlsResources.colNameAccount||"Account";var _26f9=this._nlsResources.colNamePostalCode||"Postal Code";_26e8("Sage.MainView.ActivityMgr.LitRequestListPanelConfig.LitViewCell",dojox.grid.cells.Cell,{format:function(_26fa,_26fb){var key=_26e3.getValue(_26fb,"$key");var html="<a href=\"LitRequest.aspx?entityid="+key+"&modeid=Detail\" >"+_26ee+"</a>";return html;}});_26e8("Sage.MainView.ActivityMgr.LitRequestListPanelConfig.LitContactCell",dojox.grid.cells.Cell,{format:function(_26fc,_26fd){var _26fe=Sage.Utility.getValue(_26fd,"Contact.$key");var _26ff=Sage.Utility.getValue(_26fd,"ContactName");var html="<a href=\"Contact.aspx?entityid="+_26fe+"&modeid=Detail\" >"+_26ff+"</a>";return html;}});_26e8("Sage.MainView.ActivityMgr.LitRequestListPanelConfig.LitAccountCell",dojox.grid.cells.Cell,{format:function(_2700,_2701){var _2702=Sage.Utility.getValue(_2701,"Contact.Account.$key");var _2703=Sage.Utility.getValue(_2701,"Contact.AccountName");var html="<a href=\"Account.aspx?entityid="+_2702+"&modeid=Detail\" >"+_2703+"</a>";return html;}});var _2704=[{field:"$key",name:" ",type:Sage.MainView.ActivityMgr.LitRequestListPanelConfig.LitViewCell,width:"60px"},{field:"RequestDate",name:_26f3,type:_26e7,dateOnly:true,width:"90px"},{field:"Priority",name:_26f2,width:"60px"},{field:"Description",name:_26f0,width:"200px"},{field:"ContactName",name:_26ef,type:Sage.MainView.ActivityMgr.LitRequestListPanelConfig.LitContactCell,width:"200px"},{field:"Contact.AccountName",name:_26f8,type:Sage.MainView.ActivityMgr.LitRequestListPanelConfig.LitAccountCell,width:"200px"},{field:"SendDate",name:_26f4,type:_26e7,dateOnly:true,width:"90px"},{field:"SendVia",name:_26f5,width:"60px"},{field:"TotalCost",name:_26f6,width:"60px"},{field:"FillStatus",name:_26f1,width:"60px"},{field:"RequestUser.UserInfo.UserName",name:_26f7,width:"90px"},{field:"Contact.Address.PostalCode",name:_26f9,width:"60px"}];return _2704;},_getDetailConfig:function(){var _2705={resourceKind:this._resourceKind,requestConfiguration:{mashupName:"ActivityManager",queryName:"LitRequestSummary_query"},templateLocation:"MainView/ActivityMgr/templates/LitRequestSummary.html",postProcessCallBack:false};return _2705;},_getFormatterScope:function(){var _2706=new _26e5({requestConfiguration:{mashupName:"ActivityManager",queryName:"LitRequestSummary_query"},templateLocation:"MainView/ActivityMgr/templates/LitRequestSummary.html"});return _2706;},_getToolBars:function(){var _2707={items:[]};return _2707;}});return _26ea;});},"Sage/Services/_ServiceMixin":function(){define("Sage/Services/_ServiceMixin",["Sage/Data/SDataServiceRegistry","dojo/_base/declare"],function(_2708,_2709){var _270a=_2709("Sage.Services._ServiceMixin",null,{serviceMap:null,constructor:function(){var map=this.serviceMap;if(map){for(var _270b in map){if(this[_270b]){continue;}this[_270b]=this._resolveService(map[_270b]);}}},_resolveService:function(_270c){if(_270c&&_270c.type==="sdata"){return _2708.getSDataService(_270c.name);}return Sage.Services.getService(_270c);}});return _270a;});},"Sage/Utility/File/DefaultDropHandler":function(){define("Sage/Utility/File/DefaultDropHandler",["Sage/Utility/File/DragDropWatcher","Sage/Utility/File/Attachment","Sage/Utility/File/LibraryDocument","Sage/UI/Dialogs","dojo/string","Sage/Utility","Sage/Utility/EntityRelationships","dojo/_base/lang","Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","dijit/_Widget","Sage/Services/ActivityService","dojo/i18n","dojo/i18n!./nls/DefaultDropHandler","dojo/_base/declare"],function(_270d,_270e,_270f,_2710,_2711,_2712,_2713,dLang,_2714,_2715,_2716,_2717,i18n,_2718,_2719){var _271a=_2719("Sage.Utility.File.EmailFileHandler",null,{file:null,histRelIdProperty:"",histRelNameProperty:"",histRelId:"",histRelName:"",extendRelationships:null,entityContext:null,fileMetaData:null,newHistory:null,saveAsMsg:false,doNotPromptHistory:false,saveAttachments:false,emailDroppedText:"Dropped Email",attachmentTitleText:"Save Attachements",attachmentQuestionText:"Would you like to keep a copy of these attachment(s) in Saleslogix? <br />The attachments will be stored under the Attachments tab for relevant entities.",constructor:function(opts){dLang.mixin(this,opts);},handleFile:function(){if(!this.file){return;}_2713.getRelationships(this.entityContext,function(_271b){var store=new _2714({resourceKind:"history",service:_2715.getSDataService("dynamic")});store.newItem({onComplete:function(_271c){var hist={};hist[this.histRelIdProperty]=this.histRelId;hist[this.histRelNameProperty]=this.histRelName;hist["Type"]="atEmail";hist["Duration"]=1;hist["Timeless"]=false;hist["Category"]=this.emailDroppedText;var d=(this.fileMetaData.sentOn)?this.fileMetaData.sentOn:this.fileMetaData.receivedTime;if(!d){d=new Date();}var _271d=_2712.Convert.toIsoStringFromDate(d);hist["StartDate"]=_271d;hist["CompletedDate"]=_271d;hist["OriginalDate"]=_271d;if(this.fileMetaData["subject"]){hist["Description"]=this.fileMetaData.subject.substring(0,64);}if(this.fileMetaData["body"]){hist["LongNotes"]=this.fileMetaData.body;}if(this.fileMetaData["senderName"]){hist["UserDef2"]=this.fileMetaData.senderName;}_271c=dLang.mixin(_271c,hist);if(_271b){_271c=dLang.mixin(_271c,_271b);}store.saveNewEntity(_271c,this._historySaved,this._historyFailed,this,false);},scope:this});},this);},_getAttachmentMixin:function(_271e,_271f){var mixin={};for(var p in _271f){mixin[p]=_271f[p];}mixin["description"]=_271e.filename;return mixin;},_historySaved:function(hist){this.newHistory=hist;var mixin={};mixin["HistoryId"]=hist["$key"];mixin["historyId"]=hist["$key"];for(var p in hist){var _2720=p.substring(p.length-2);if(_2720.toUpperCase()==="ID"&&hist[p]){mixin[p]=hist[p];}}if(this.saveAsMsg){this.file.name=hist["$key"]+".msg";this.file.filename=hist["$key"]+".msg";var _2721=this._getAttachmentMixin(this.file,mixin);_2721.description=hist["Description"];_270e.createAttachmentSilent(this.file,_2721);}if(this.fileMetaData.attachments.length>0){if(this.saveAttachments){for(var i=0;i<this.fileMetaData.attachments.length;i++){var _2722=this.fileMetaData.attachments[i];var _2723=this._getAttachmentMixin(_2722,mixin);if((!_2722.name)&&(_2722.filename)){_2722["name"]=_2722.filename;}_270e.createAttachmentSilent(_2722,_2723);}}}this.onHistorySaved(hist["$key"]);},_historyFailed:function(req){},onHistoryFailed:function(){},onHistorySaved:function(_2724){}});Sage.namespace("Utility.File.DefaultDropHandler");Sage.Utility.File.DefaultDropHandler={attachmentTitleText:"Save Attachements",attachmentQuestionText:"Would you like to keep a copy of these attachment(s) in Saleslogix? <br />The attachments will be stored under the Attachments tab for relevant entities.",emailDroppedText:"Dropped Email",promptForAttachments:true,saveAttachments:false,hasAttachments:false,options:{},historyQueue:[],historyHandlers:[],fileType:Sage.Utility.File.fileType.ftAttachment,init:function(_2725){dojo.connect(_270d,"onFilesDropped",this,"onFilesDropped");Sage.Utility.File.DefaultDropHandler.options["SAVEMSGFILES"]=_2725.saveMSGFiles;var _2726=Sage.Services.getService("UserOptions");if(_2726){_2726.get("DoNotPromptHistory","Email",function(opt){Sage.Utility.File.DefaultDropHandler.options["DoNotPromptHistory"]=(opt["value"]==="T");});}},onFilesDropped:function(files,_2727){if(this.shouldForceAttachments(_2727)){if(this.fileType!==Sage.Utility.File.fileType.ftLibraryDocs){_270e.createAttachments(files);}else{_270f.createDocuments(files,_2727);}return;}var _2728=[];var _2729=[];for(var i=0;i<files.length;i++){var file=files[i];if(this.isOutlookEmailFile(file)){_2728.push(file);}else{_2729.push(file);}}if(_2728.length>0){this.handleEmailFiles(_2728,_2727);}if(_2729.length>0){if(this.fileType!==Sage.Utility.File.fileType.ftLibraryDocs){_270e.createAttachments(_2729);}else{_270f.createDocuments(files,_2727);}}},shouldForceAttachments:function(_272a){var _272b=false;if(!Sage.gears){return true;}if(_272a){_272b=Sage.Utility.File.DefaultDropHandler.isTargetAttachmentTab(_272a.parentElement);}if(_272b){return true;}else{return false;}},isOutlookEmailFile:function(file){var re=/\.(\w+)$/;var _272c=file.name.match(re);if(_272c.length>1){return _272c[1].toLowerCase()==="msg";}return false;},isTargetAttachmentTab:function(_272d){if(!_272d){return false;}if(_272d.id.indexOf("tabContent.dijitContentPane")!=-1){return false;}if(_272d.id.indexOf("AttachmentList")!=-1){return true;}return Sage.Utility.File.DefaultDropHandler.isTargetAttachmentTab(_272d.parentElement);},handleEmailFiles:function(files,_272e){if(!Sage.gears||(this.fileType===Sage.Utility.File.fileType.ftLibraryDocs)){if(this.fileType!==Sage.Utility.File.fileType.ftLibraryDocs){_270e.createAttachments(files);}else{_270f.createDocuments(files,_272e);}return;}if(files.length<1){return;}this.hasAttachments=false;this._buildEmailQueue(files);if(this.hasAttachments){var self=this;var _272f={title:this.attachmentTitleText,query:this.attachmentQuestionText,callbackFn:function(_2730){if(_2730){self.saveAttachments=true;}else{self.saveAttachments=false;}self._processNextHistoryHandler();},yesText:null,noText:null,showNoButton:true};_2710.raiseQueryDialogExt(_272f);}else{this.saveAttachments=false;this._processNextHistoryHandler();}},_buildEmailQueue:function(files){var _2731=this.getEntityInfo();var table=_2731.EntityTableName.toUpperCase().substring(0,1)+_2731.EntityTableName.toLowerCase().substring(1);var _2732=Sage.gears.factory.create("beta.desktop");this.historyHandlers=[];this.historyQueue=[];for(var i=0;i<files.length;i++){var blob=null;if(files[i].blob){blob=files[i].blob;}else{blob=files[i];}var md=_2732.extractMetaData(blob);if(md.attachments.length>0){this.hasAttachments=true;}this.historyHandlers.push(new _271a({file:files[i],histRelIdProperty:table+"Id",histRelNameProperty:table+"Name",histRelId:_2731.EntityId,histRelName:_2731.Description,entityContext:_2731,emailDroppedText:Sage.Utility.File.DefaultDropHandler.emailDroppedText,fileMetaData:md,saveAttachments:false,saveAsMsg:Sage.Utility.File.DefaultDropHandler.options.SAVEMSGFILES,doNotPromptHistory:Sage.Utility.File.DefaultDropHandler.options.DoNotPromptHistory,onHistorySaved:dojo.hitch(this,"_onHistoryHandlerSuccsess"),onHistoryFailed:dojo.hitch(this,"_onHistoryHandlerFailed")}));}},_processNextHistoryHandler:function(){if(this.historyHandlers.length>0){var _2733=this.historyHandlers.pop();if(_2733){_2733.saveAttachments=this.saveAttachments;_2733.handleFile();}}else{this.saveAttachments=false;this._hasAttachmnets=false;this._checkContinueToComplete();}},_onHistoryHandlerSuccsess:function(_2734){this.historyQueue.push(_2734);this._processNextHistoryHandler();},_onHistoryHandlerFailed:function(){this._processNextHistoryHandler();},_checkContinueToComplete:function(){if(!this.options.DoNotPromptHistory){this._showCompleteDlg();}else{dojo.publish("/entity/history/change",null);this.historyQueue=[];}},_showCompleteDlg:function(){var _2735=Sage.Services.getService("ActivityService");_2735.completeHistoriesInList(this.historyQueue);},getEntityInfo:function(){if(Sage.Services.hasService("ClientEntityContext")){var _2736=Sage.Services.getService("ClientEntityContext");var _2737=_2736.getContext();if(_2737.EntityId!==""){return _2737;}else{return null;}}}};Sage.Utility.File.DefaultDropHandler=dojo.mixin(Sage.Utility.File.DefaultDropHandler,i18n.getLocalization("Sage.Utility.File","DefaultDropHandler"));return Sage.Utility.File.DefaultDropHandler;});},"Sage/TaskPane/nls/SecurityManagerTasksTasklet":function(){define("Sage/TaskPane/nls/SecurityManagerTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_2738,lang){var nls={root:{addSecurityProfileTitle:"Add Profile",editSecurityProfileTitle:"Edit Profile"}};return lang.mixin(_2738,nls);});},"url:Sage/Library/templates/DocumentProperties.html":"[\r\n'<div>',\r\n'    <div dojoType=\"dijit.Dialog\" id=\"propertiesDialog\" title=\"{%= Sage.Utility.htmlEncode($.resources.DocumentProperties) %}\" dojoAttachPoint=\"_dialog\">',\r\n'        <div dojoType=\"dijit.form.Form\" id=\"propertiesForm\" method=\"POST\" onSubmit=\"return true;\">',\r\n'            <table style=\"border: 1px solid #9f9f9f;\" cellspacing=\"10\">',\r\n'                <tr>',\r\n'                    <td>',\r\n'                        <label for=\"FileName\">{%= $.resources.FileName %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input class=\"libInputText\" type=\"text\" id=\"fileName\" name=\"fileName\" required=\"true\" maxlength=\"255\" dojoType=\"dijit.form.ValidationTextBox\" />',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <label for=\"CreateDate\">{%= $.resources.Created %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input type=\"text\" id=\"createDate\" name=\"createDate\" disabled=\"disabled\" dojoType=\"dijit.form.DateTextBox\" />',\r\n'                    </td>',\r\n'                </tr>',\r\n'                <tr>',\r\n'                    <td>',\r\n'                        <label for=\"Directroy\">{%= $.resources.Directory %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input class=\"libInputText\" type=\"text\" id=\"directory.fullPath\" name=\"directory.fullPath\" maxlength=\"255\" dojoType=\"dijit.form.TextBox\" />',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <label for=\"RevisionDate\">{%= $.resources.Revised %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input type=\"text\" id=\"revisionDate\" name=\"revisionDate\" required=\"false\" dojoType=\"dijit.form.DateTextBox\" />',\r\n'                    </td>',\r\n'                </tr>',\r\n'                <tr>',\r\n'                    <td>',\r\n'                        <label for=\"Status\">{%= $.resources.Status %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input class=\"libInputText\" type=\"text\" id=\"status\" name=\"status\" required=\"false\" dojoType=\"dijit.form.TextBox\" />',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <label for=\"ExpireDate\">{%= $.resources.Expires %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <div id=\"expiresRoot\" name=\"expiresRoot\"></div>',\r\n'                    </td>',\r\n'                </tr>',\r\n'                <tr>',\r\n'                    <td>',\r\n'                        <label for=\"FileSize\">{%= $.resources.Size %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input class=\"libInputText\" type=\"text\" id=\"fileSize\" name=\"fileSize\" required=\"false\" dojoType=\"dijit.form.TextBox\" />',\r\n'                    </td>',\r\n'                    <td>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input type=\"checkbox\" dojoType=\"dijit.form.CheckBox\" id=\"doNotExpire\" name=\"doNotExpire\" dojoAttachEvent=\"onChange:_doNotExpireChange\" />',\r\n'                        <label for=\"doNotExpire\">{%= $.resources.DoNotExpire %}</label>',\r\n'                    </td>',\r\n'                </tr>',\r\n'            </table>',\r\n'            <label for=\"Description\">{%= $.resources.Description %}:</label>',\r\n'            <br>',\r\n'            <textarea class=\"libTextBox\" id=\"description\" name=\"description\" maxlength=\"255\" dojoType=\"dijit.form.Textarea\"></textarea>',\r\n'            <br>',\r\n'            <label for=\"abstract\">{%= $.resources.Abstract %}:</label>',\r\n'            <br>',\r\n'            <textarea class=\"libTextBox\" id=\"abstract\" name=\"abstract\" dojoType=\"dijit.form.Textarea\"></textarea>',\r\n'            <p></p>',\r\n'            <input type=\"checkbox\" dojoType=\"dijit.form.CheckBox\" id=\"forceDistribution\" name=\"forceDistribution\" />',\r\n'            <label for=\"forceDistribution\">{%= $.resources.ForceDistribution %}</label>',\r\n'            <div style=\"text-align: right\">',\r\n'                <button class=\"libOkBtn\" dojoType=\"dijit.form.Button\" id=\"okButton\" type=\"button\" dojoAttachEvent=\"onClick:_submitClick\">{%= $.resources.OK %}</button>',\r\n'                &nbsp;',\r\n'                <button dojoType=\"dijit.form.Button\" id=\"cancelButton\" type=\"button\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.resources.Cancel %}</button>',\r\n'            </div>',\r\n'            <div style=\"display: none\">',\r\n'                <input type=\"text\" dojoType=\"dijit.form.DateTextBox\" id=\"expireDate\" name=\"expireDate\" value=\"\" />',\r\n'            </div>',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"$key\" name=\"$key\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"$etag\" name=\"$etag\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"expires\" name=\"expires\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"flags\" name=\"flags\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"abstract$originalValue\" name=\"abstract$originalValue\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"description$originalValue\" name=\"description$originalValue\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"expireDate$originalValue\" name=\"expireDate$originalValue\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"fileName$originalValue\" name=\"fileName$originalValue\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"revisionDate$originalValue\" name=\"revisionDate$originalValue\" value=\"\" />',\r\n'        </div>',\r\n'    </div>',\r\n'</div>'\r\n]","Sage/UI/nls/TimeZoneItem":function(){define("Sage/UI/nls/TimeZoneItem",["Sage/LanguageList","dojo/_base/lang"],function(_2739,lang){var nls={root:{buttonOKText:"OK",buttonCancelText:"Cancel",timeZoneText:"Time zone",timeZoneSettingsText:"Time Zone Settings",setTimeZoneText:"Set the time zone:"}};return lang.mixin(_2739,nls);});},"Sage/MainView/ReportMgr/templates/nls/HistoryListSummary":function(){define("Sage/MainView/ReportMgr/templates/nls/HistoryListSummary",["Sage/LanguageList","dojo/_base/lang"],function(_273a,lang){var nls={root:{txtTrue:"True",txtFalse:"False"}};return lang.mixin(_273a,nls);});},"Sage/Utility/File/GoogleDocPicker":function(){define("Sage/Utility/File/GoogleDocPicker",["dijit/_Widget","dijit/tree/TreeStoreModel","dijit/Dialog","dijit/Tree","dojo/window","dojo/data/ItemFileReadStore","dojo/i18n!./nls/GoogleDocPicker","dojo/_base/declare"],function(_273b,_273c,_273d,Tree,_273e,_273f,_2740,_2741){var _2742=_2741("Sage.Utility.File.GoogleAuthModule",null,{couldNotOpenWindowMsg:"Could not open authentication window - please check your popup blocker settings.",scope:"",authUrl:"",constructor:function(opts){this.scope=opts.authUrl;dojo.mixin(this,opts);dojo.mixin(this,_2740);},login:function(){var r=this;this._loadGoogleLibrary(function(){google.load("gdata","2.0",{"callback":function(){google.gdata.onLoad();if(google.accounts.user.checkLogin(r.authUrl)){r.onLoggedIn();}else{window.googleAuthModule=r;var win=window.open("GoogleAuth.aspx","_blank");setTimeout(function(){var _2743=false;if(typeof win=="undefined"){_2743=true;}else{if(win&&win.closed){_2743=false;}else{if(win&&!win.outerHeight){_2743=true;}}}if(_2743){alert(r.couldNotOpenWindowMsg);}},3000);}}});});},logout:function(){if(google.accounts.user.checkLogin(this.authUrl)){google.accounts.user.logout();}},onLoggedIn:function(){},_loadGoogleLibrary:function(_2744){if(typeof google!=="undefined"){_2744();}else{var _2745="googleCallback_"+String(Math.random()).replace(/^0\./,"");window[_2745]=_2744;var _2746=document.createElement("script");_2746.src="https://www.google.com/jsapi?callback="+_2745;_2746.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(_2746);}}});var _2747=_2741("Sage.Utility.File.GoogleDocPicker",_273b,{id:"",googleDocumentsTitle:"Google Documents",pick:function(){var auth=new _2742({authUrl:"https://docs.google.com/feeds"});dojo.connect(auth,"onLoggedIn",this,this._onLoggedInHandler);auth.login();},_onLoggedInHandler:function(){var svc=new google.gdata.client.GoogleService("writely","mytest");svc.getFeed("https://docs.google.com/feeds/documents/private/full?showfolders=true",dojo.hitch(this,"_displayFeed"),function(e){},undefined,true);},_displayFeed:function(feed){var root=this._parseFeed(feed);dojo.ready(dojo.hitch(this,function(){var store=new _273f({data:{items:[{children:root,title:"Root",root:true}]}});var _2748=new _273c({store:store,childrenAttrs:["children"],labelAttr:"title",query:{}});var tree=new Tree({model:_2748,showRoot:false,openOnDblClick:true});dojo.connect(tree,"onDblClick",dojo.hitch(this,function(item,node,evt){this.onDocumentSelected(item.title,item.url);}));dojo.connect(tree,"onLoad",dojo.hitch(this,function(){var dlg=new _273d({title:_2740.googleDocumentsTitle,content:tree});dlg.startup();dlg.containerNode.style.maxHeight=dojo.window.getBox().h/3+"px";dlg.containerNode.style.minWidth="200px";dlg.containerNode.style.overflow="auto";dlg.show();}));}));},_parseFeed:function(feed){var items=[];var _2749=feed.feed.entry;if(_2749){for(var i=0;i<_2749.length;i++){var entry=_2749[i];var _274a={id:entry.id.$t,title:entry.title.$t,feedentry:entry};dojo.some(entry.category,function(x){if(x.scheme=="http://schemas.google.com/g/2005#kind"){_274a.type=x.label;return true;}});items.push(_274a);}}items.sort(function(a,b){return a.title>b.title?1:(a.title<b.title?-1:0);});var root=items.slice(0);var _274b=0;dojo.forEach(items,function(item,i){var _274c=false;dojo.forEach(item.feedentry.link,function(link){if(link.rel=="http://schemas.google.com/docs/2007#parent"){dojo.some(items,function(_274d){if(link.href==_274d.id){_274c=true;if(!_274d.children){_274d.children=[];}_274d.children.push(item);}});}if(link.rel=="alternate"){item.url=link.href;}});if(_274c){root.splice(i-_274b,1);_274b++;}});return root;},onDocumentSelected:function(title,url){}});return _2747;});},"Sage/UI/Columns/nls/SlxEdit":function(){define("Sage/UI/Columns/nls/SlxEdit",["Sage/LanguageList","dojo/_base/lang"],function(_274e,lang){var nls={root:{editText:"Edit"}};return lang.mixin(_274e,nls);});},"Sage/Reporting/nls/Enumerations":function(){define("Sage/Reporting/nls/Enumerations",["Sage/LanguageList","dojo/_base/lang"],function(_274f,lang){var nls={root:{txtGroup:"Group",txtDateRange:"Date Range",txtUser:"User",txtQuery:"Query",txtIsGreaterThan:"Is Greater Than",txtIsLessThan:"Is Less Than",txtIsInTheRange:"Is In The Range",txtIsAfter:"Is After",txtIsBefore:"Is Before",txtContains:"Contains",txtStartsWith:"Starts With",txtEndsWith:"Ends With",txtIs:"Is",txtIsNot:"Is Not",txtOnDemand:"On Demand",txtScheduled:"Scheduled",txtCrystalReport:"Crystal Report",txtExportToFileReportType:"Export to File",txtUnknownReportType:"Unknown",txtNoFormat:"No Format",txtPdf:"PDF",txtExcel:"Excel",txtExcelDataOnly:"Excel-Data",txtCsv:"CSV",txtWord:"Word",txtXml:"XML"}};return lang.mixin(_274f,nls);});},"Sage/Layout/ContentPane":function(){define("Sage/Layout/ContentPane",["dojo/_base/declare","dijit/layout/ContentPane","Sage/Layout/_SplitterEnhancedMixin"],function(_2750,_2751,_2752){var _2753=_2750("Sage.Layout.ContentPane",[_2751,_2752],{});return _2753;});},"url:Sage/MainView/ReportMgr/Crystal/templates/CrystalReportConditionEditor.html":"[\r\n    '<div>',\r\n        '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $._nlsResources.dlgCrystalReportConditionDetails_Title %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_dialog_OnCancel, onShow:_dialog_OnShow\" style=\"width: 300px\">',\r\n            '<div data-dojo-type=\"dijit.form.Form\">',\r\n                \r\n                '<table cellspacing=\"10\">',\r\n                    \r\n                    '<tr>',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbConditionType_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',                            \r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbConditionType\" sortByLabel=\"false\" dojoAttachEvent=\"onChange:_cmbConditionType_OnChange\" style=\"width:150px\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trCurrentUser\">',\r\n                        '<td>',\r\n                            '&nbsp;',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input data-dojo-type=\"dijit.form.CheckBox\" dojoAttachPoint=\"chkCurrentUser\" dojoAttachEvent=\"onChange:_chkCurrentUser_OnChange\" /> <label>{%= $._nlsResources.chkCurrentUser_Caption %}</label>',\r\n                        '</td>',                        \r\n                    '</tr>',\r\n                    \r\n                    '<tr dojoAttachPoint=\"trUser\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.lkpUser_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $._nlsResources.lkpUser_Caption %}\" dojoAttachPoint=\"contentPaneLkpUser\" class=\"remove-padding lookup-container\" style=\"width:300px; padding: 0px !important;\"></div>',                            \r\n                        '</td>',                        \r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trGroup\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.lkpGroup_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $._nlsResources.lkpGroup_Caption %}\" dojoAttachPoint=\"contentPaneLkpGroup\" class=\"remove-padding lookup-container\" style=\"width:300px; padding: 0px !important;\"></div>',                            \r\n                        '</td>',\r\n                    '</tr>',                                                       \r\n\r\n\r\n                    '<tr dojoAttachPoint=\"trDateRange\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbDateRange_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbDateRange\" dojoAttachEvent=\"onChange:_cmbDateRange_OnChange\" style=\"width:150px\" >',\r\n                                '<option value=\"DateRange\">{%= $._nlsResources.cmbDateRange_SpecificDates_Caption %}</option>',\r\n                                '<option value=\"ThisWeek\">{%= $._nlsResources.cmbDateRange_ThisWeek_Caption %}</option>',\r\n                                '<option value=\"ThisMonth\">{%= $._nlsResources.cmbDateRange_ThisMonth_Caption %}</option>',\r\n                                '<option value=\"ThisQuarter\">{%= $._nlsResources.cmbDateRange_ThisQuarter_Caption %}</option>',\r\n                                '<option value=\"ThisYear\">{%= $._nlsResources.cmbDateRange_ThisYear_Caption %}</option>',\r\n                                '<option value=\"LastWeek\">{%= $._nlsResources.cmbDateRange_LastWeek_Caption %}</option>',\r\n                                '<option value=\"LastMonth\">{%= $._nlsResources.cmbDateRange_LastMonth_Caption %}</option>',\r\n                                '<option value=\"LastQuarter\">{%= $._nlsResources.cmbDateRange_LastQuarter_Caption %}</option>',\r\n                                '<option value=\"LastYear\">{%= $._nlsResources.cmbDateRange_LastYear_Caption %}</option>',\r\n                                '<option value=\"MonthToDate\">{%= $._nlsResources.cmbDateRange_MonthToDate_Caption %}</option>',\r\n                                '<option value=\"QuarterToDate\">{%= $._nlsResources.cmbDateRange_QuarterToDate_Caption %}</option>',\r\n                                '<option value=\"YearToDate\">{%= $._nlsResources.cmbDateRange_YearToDate_Caption %}</option>',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr dojoAttachPoint=\"trFromDate\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtFromDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtFromDate\" displayDate=\"true\" displayTime=\"false\" label=\"{%= $._nlsResources.dtFromDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr dojoAttachPoint=\"trToDate\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtToDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtToDate\" displayDate=\"true\" displayTime=\"false\" label=\"{%= $._nlsResources.dtToDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n\r\n\r\n                    '<tr dojoAttachPoint=\"trTable\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbTable_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbTables\" style=\"width:150px\" data-dojo-props=\"maxHeight:100\" dojoAttachEvent=\"onChange:_cmbTables_OnChange\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n\r\n                    '<tr dojoAttachPoint=\"trField\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbField_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbFields\" style=\"width:150px\" data-dojo-props=\"maxHeight:100\" dojoAttachEvent=\"onChange:_cmbFields_OnChange\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trOperator\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbOperator_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbOperators\" sortByLabel=\"false\" style=\"width:150px\" dojoAttachEvent=\"onChange:_cmbOperators_OnChange\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trStringValue1\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.txtValue_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtStringValue1\" required=\"false\" dojoType=\"dijit.form.TextBox\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trStringValue2\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.txtValue2_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtStringValue2\" required=\"false\" dojoType=\"dijit.form.TextBox\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trNumericValue1\">',\r\n                        '<td>',\r\n                            '<label dojoAttachPoint=\"lblNumericValue1\">{%= $._nlsResources.txtValue_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtNumericValue1\" required=\"false\" dojoType=\"Sage.UI.Controls.Numeric\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trNumericValue2\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.txtNumericValueTo_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtNumericValue2\" required=\"false\" dojoType=\"Sage.UI.Controls.Numeric\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trDateValue1\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtFromDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtDateValue1\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $._nlsResources.dtFromDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr dojoAttachPoint=\"trDateValue2\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtToDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtDateValue2\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $._nlsResources.dtToDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    \r\n                '</table>',\r\n                \r\n                '<div align=\"right\" style=\"margin-top:10px\">',\r\n                    '<div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdOK\" dojoAttachEvent=\"onClick:_cmdOK_OnClick\">{%= $._nlsResources.cmdOK_Caption %}</div>',\r\n                    '<div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= $._nlsResources.cmdCancel_Caption %}</div>',\r\n                '</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>'\r\n]","Sage/UI/FilteringSelect":function(){define("Sage/UI/FilteringSelect",["dijit/form/FilteringSelect","dojo/_base/declare"],function(_2754,_2755){return _2755("Sage.UI.FilteringSelect",_2754,{valueAttr:false,_getValueField:function(){return this.valueAttr||"value";}});});},"Sage/Reporting/Enumerations":function(){define("Sage/Reporting/Enumerations",["dojo/_base/declare","dojo/i18n!./nls/Enumerations"],function(_2756,_2757){Sage.namespace("Sage.Reporting.Enumerations");dojo.mixin(Sage.Reporting.Enumerations,{nlsResources:_2757,ConditionPreset:{CurrentEntity:"CurrentEntity",CurrentGroup:"CurrentGroup",CurrentUser:"CurrentUser",AllRecords:"AllRecords",Custom:"Custom",Preset:"Preset"},ReportConditionConnector:{And:"And",Or:"Or"},FieldDataTypes:{String:"String",Numeric:"Numeric",DateTime:"DateTime"},DateRange:{ThisWeek:"ThisWeek",ThisMonth:"ThisMonth",ThisQuarter:"ThisQuarter",ThisYear:"ThisYear",LastWeek:"LastWeek",LastMonth:"LastMonth",LastQuarter:"LastQuarter",LastYear:"LastYear",MonthToDate:"MonthToDate",QuarterToDate:"QuarterToDate",YearToDate:"QuarterToDate"},ReportExportFormat:{NoFormat:"NoFormat",Pdf:"Pdf",Excel:"Excel",ExcelDataOnly:"ExcelDataOnly",Csv:"Csv",Word:"Word",Xml:"Xml"},ReportTypes:{CrystalReport:"Crystal",ExportToFileReportType:"ExportToFile"},getReportTypeCaption:function(_2758){switch(_2758){case this.ReportTypes.CrystalReport:return _2757.txtCrystalReport;case this.ReportTypes.ExportToFileReportType:return _2757.txtExportToFileReportType;default:console.error("Unsupported report type : "+_2758);}return _2757.txtUnknownReportType;},ReportConditionType:{Group:"Group",DateRange:"DateRange",User:"User",Query:"Query"},getReportConditionTypeCaption:function(_2759){switch(String(_2759)){case String(this.ReportConditionType.Group):return _2757.txtGroup;case String(this.ReportConditionType.DateRange):return _2757.txtDateRange;case String(this.ReportConditionType.User):return _2757.txtUser;case String(this.ReportConditionType.Query):return _2757.txtQuery;default:console.error("Unsupported condition type : "+_2759);}return "";},ReportConditionOperator:{IsGreaterThan:"IsGreaterThan",IsLessThan:"IsLessThan",IsInTheRange:"IsInTheRange",IsAfter:"IsAfter",IsBefore:"IsBefore",Contains:"Contains",StartsWith:"StartsWith",EndsWith:"EndsWith",Is:"Is",IsNot:"IsNot"},getReportConditionOperatorCaption:function(_275a){switch(String(_275a)){case String(this.ReportConditionOperator.IsGreaterThan):return _2757.txtIsGreaterThan;case String(this.ReportConditionOperator.IsLessThan):return _2757.txtIsLessThan;case String(this.ReportConditionOperator.IsInTheRange):return _2757.txtIsInTheRange;case String(this.ReportConditionOperator.IsAfter):return _2757.txtIsAfter;case String(this.ReportConditionOperator.IsBefore):return _2757.txtIsBefore;case String(this.ReportConditionOperator.Contains):return _2757.txtContains;case String(this.ReportConditionOperator.StartsWith):return _2757.txtStartsWith;case String(this.ReportConditionOperator.EndsWith):return _2757.txtEndsWith;case String(this.ReportConditionOperator.Is):return _2757.txtIs;case String(this.ReportConditionOperator.IsNot):return _2757.txtIsNot;default:console.error("Unsupported condition operator : "+_275a);}return "";},ExecutionType:{OnDemand:0,Scheduled:1},getExecutionTypeCaption:function(value){switch(value){case this.ExecutionType.OnDemand:return _2757.txtOnDemand;case this.ExecutionType.Scheduled:return _2757.txtScheduled;default:console.error("Unsupported execution type: "+value);}return "";},CrystalReportWizardStep:{Init:0,Conditions:1,Parameters:2,ExportOptions:3,Finish:4},SlxParameterValueKind:{NumberParameter:"NumberParameter",CurrencyParameter:"CurrencyParameter",BooleanParameter:"BooleanParameter",DateParameter:"DateParameter",StringParameter:"StringParameter",DateTimeParameter:"DateTimeParameter",TimeParameter:"TimeParameter",UserParameter:"UserParameter"},SlxDefaultValueDisplayType:{Description:"Description",DescriptionAndValue:"DescriptionAndValue"},SlxParameterValueRangeKind:{Range:"Range",Discrete:"Discrete",DiscreteAndRange:"DiscreteAndRange"},SlxRangeBoundType:{NoBound:"NoBound",BoundExclusive:"BoundExclusive",BoundInclusive:"BoundInclusive"},ParameterClassName:{DiscreteValue:"CrystalReports.ParameterFieldDiscreteValue",RangeValue:"CrystalReports.ParameterFieldRangeValue"}});return Sage.Reporting.Enumerations;});},"Sage/QuickForms/Design/OwnerControlDesigner":function(){define("Sage/QuickForms/Design/OwnerControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/OwnerBasicPropertyEditor","./Editors/OwnerAdvancedPropertyEditor","dojo/i18n!./nls/OwnerControlDesigner"],function(_275b,array,lang,_275c,_275d,_275e,_275f,_2760,_2761,_2762,_2763){return _275b("Sage.QuickForms.Design.OwnerControlDesigner",[_275d,_275e,_275c,_275f],{designSupport:{visible:true},editors:[_2761,_2762,_2760],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %}\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","<div class=\"{%= $.fieldClass %}-icon\"></div>","</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-owner",helpTopicName:"Owner_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXOwner, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Owner",constructor:function(){lang.mixin(this,_2763);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_2764){return (_2764["ControlItemName"]=="LookupResultValue");});},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getRequiredAttr:function(){return lang.getObject("Required",false,this.entry);},_setRequiredAttr:function(value){lang.setObject("Required",value,this.entry);},setupFor:function(_2765){this.inherited(arguments);this.set("required",false);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"LookupResultValue",DataItemName:_2765.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:"null"}]);this.set("designBinding",_2765.propertyPath||"");},startup:function(){this.inherited(arguments);var _2766=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_2766&&_2766["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/Layout/TabContainer":function(){define("Sage/Layout/TabContainer",["dojo/_base/declare","dojo/ready","dojo/aspect","dijit/layout/TabContainer"],function(_2767,ready,_2768,_2769){var _276a=_2767("Sage.Layout.TabContainer",[_2769],{region:"center",destroyRecursive:function(){if(this.tablist){this.tablist.destroy();}this.inherited(arguments);},postCreate:function(){_2768.after(this,"startup",function(){var _276b=dijit.byId("tabContent");_276b.resize();_276b.resize();});}});return _276a;});},"url:Sage/UI/Controls/templates/DateTimePicker.html":"<div class=\"dateTimePicker\">\r\n        <div dojoAttachPoint=\"tooltipContainer\">\r\n        \r\n            <div dojoAttachPoint=\"dateContainer\" class=\"dateTimePicker-dateContainer\">\r\n               \r\n                    <input id=\"${id}-Calendar\" data-dojo-type=\"Sage.UI.Calendar\"\r\n                        style=\"width:inherit;\"\r\n                        textAlign=\"${textAlign}\"\r\n                           type=\"text\" \r\n                           tabindex=\"0\"\r\n                           displayMode=\"popup\"\r\n                           dojoAttachPoint=\"dateNode\"\r\n                           dojoAttachEvent=\"onValueSelected:_onValueSelected,onBlur:_onCalendarBlur\">\r\n               \r\n            </div>\r\n            \r\n            <div dojoAttachPoint=\"timeZoneContainer\" class=\"dateTimePicker-timeZoneContainer\">\r\n               \r\n                    <label for=\"${id}-TimeStart\">${timeStartText}</label><br />\r\n                    <input id=\"${id}-TimeTextBox\" data-dojo-type=\"dijit.form.TimeTextBox\" \r\n                           style=\"width:16em;\"\r\n                           textAlign=\"${textAlign}\"\r\n                           tabindex=\"0\"\r\n                           type=\"text\" dojoAttachPoint=\"timeNode\">\r\n                    <br /><br/>\r\n                    <label for=\"${id}-TzCalculator\">${timeZoneCalculatorText}</label>\r\n                    <div id=\"timeZoneCalucaltor\" class=\"dateTimePicker-timeZoneCalculator\">\r\n                       <p style=\"width:auto;margin-top:auto\">\r\n                            <label for=\"${id}-TzSelectSource\">${timeZoneSourceText}</label><br />\r\n                            <select id=\"${id}-TzSelectSource\" data-dojo-type=\"dijit.form.ComboBox\"  dojoAttachPoint=\"timeZoneSourceComboNode\" style=\"width:15em;\">\r\n                            </select>\r\n                            <br />\r\n                            <label for=\"${id}-TzSelectDest\">${timeZoneDestText}</label><br />\r\n                           <select id=\"${id}-TzSelectDest\" data-dojo-type=\"dijit.form.ComboBox\"  dojoAttachPoint=\"timeZoneDestComboNode\" style=\"width:15em;\">\r\n                           </select>\r\n                           <br/>\r\n                            <span id=\"${id}-ConvertResults\" dojoAttachPoint=\"convertResultsNode\" style=\"float:left;padding-top:5px;\">\r\n                        </span>\r\n                        </p><br/>\r\n                        <button id=\"${id}-Convert\" data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"timeZoneConvertButtonNode\" type=\"button\" style=\"float:right\" dojoAttachEvent=\"onClick:_convertClicked\">\r\n                            ${convertText}\r\n                        </button>\r\n                       \r\n                        \r\n                    </div>\r\n               \r\n                <div class=\"button-bar alignright\" style=\"clear: both\">\r\n                    <button id=\"${id}-OKButton\" tabindex=\"0\" data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"OKButtonNode\" type=\"button\" dojoAttachEvent=\"onClick:_okClicked\">\r\n                        ${okText}\r\n                    </button>\r\n                    <button id=\"${id}-CancelButton\" tabindex=\"0\" data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"CancelButtonNode\" type=\"button\" dojoAttachEvent=\"onClick:_cancelClicked\">\r\n                        ${cancelText}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    \r\n</div>\r\n\r\n","Sage/QuickForms/Design/Editors/nls/CheckBoxAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/CheckBoxAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_276c,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",checkedText:"Checked:",checkedTooltipText:"Sets default state of checkbox to selected.",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"}}};return lang.mixin(_276c,nls);});},"Sage/Data/BaseSDataStore":function(){define("Sage/Data/BaseSDataStore",["Sage/Utility","Sage/Data/SDataServiceRegistry","dojo/_base/declare","dojo/_base/lang"],function(_276d,_276e,_276f,lang){var _2770=_276f("Sage.Data.BaseSDataStore",null,{queryName:null,constructor:function(o){lang.mixin(this,o);this.features={"dojo.data.api.Read":true};if(!this.identityAttributes){this.identityAttributes=[this.identityAttribute||"$key"];}if(!this.labelAttributes){this.labelAttributes=["$descriptor"];}this.features["dojo.data.api.Identity"]=true;this.dataCache={query:""};},fetch:function(_2771){if(!this.isNewContext(_2771)&&this.feed){this.onSuccess(_2771,this.feed);return;}this.setContext(_2771);if(_2771.count===Infinity){_2771.count=500;}var _2772=(_2771.count-0)||this.pageSize||15;var _2773=(_2771.start-0)||1;if(_2773>1){_2773=_2773+1;}this.verifyService();var _2774=this.getCollectionRequestObj(_2771);if(!_2774){if(_2771.onError){_2771.onError.call(_2771.scope||this,"Invalid data url",_2771);}return;}_2774.setQueryArg(Sage.SData.Client.SDataUri.QueryArgNames.StartIndex,(isNaN(_2773))?1:_2773);var qry="";if(this.query&&typeof this.query!=="function"){if(!this.directQuery){this.directQuery=this.query;}}if(this.directQuery){if(!_2771.query){_2771.query={};}lang.mixin(_2771.query,this.directQuery);}if(_2771.query){if(typeof _2771.query==="function"){qry=_2771.query();}else{if(typeof _2771.query==="string"){qry=_2771.query;}else{if(typeof _2771.query==="object"){for(var _2775 in _2771.query){if(_2775==="fn"){qry=_2771.query.fn.call(_2771.query.scope||this);}else{if(_2775==="conditions"){if(typeof _2771.query.conditions==="string"&&_2771.query.conditions!==""){qry+=(qry&&qry.length>0)?" and "+_2771.query.conditions:_2771.query.conditions;}}else{if(_2775!=="scope"){if(_2771.query.hasOwnProperty(_2775)){var _2776=[_2775," like ","'",_2771.query[_2775].replace("*","%"),"'"].join("");qry+=(qry.length>0)?" and "+_2776:_2776;}}}}}}}}}_2771.evaluatedQuery=qry||"";if(qry&&qry!==""){_2774.setQueryArg("where",qry);}if(this.select&&this.select.length>0){_2774.setQueryArg("select",this.select.join(","));}if(this.include&&this.include.length>0){_2774.setQueryArg("include",this.include.join(","));}if(this.sort){_2771.sort=_2771.sort||[];dojo.forEach(this.sort,function(_2777){if(dojo.filter(_2771.sort,function(_2778){return _2777.attribute==_2778.attribute;}).length===0){_2771.sort.push(_2777);}});}if(typeof _2771.resourcePredicate!=="undefined"){_2774.getUri().setCollectionPredicate(_2771.resourcePredicate);}this._setQueryArgsOnRequest(_2771.queryArgs,_2774);if(_2771.sort&&_2771.sort.length>0){var order=[];dojo.forEach(_2771.sort,function(v){if(v.descending){this.push(v.attribute+" desc");}else{this.push(v.attribute);}},order);_2774.setQueryArg("orderBy",order.join(","));}if(this.beforeRequest&&typeof this.beforeRequest==="function"){this.beforeRequest.call(_2771.scope||this,_2774);}var key=_2774.read({success:lang.hitch(this,this.onSuccess,_2771),failure:lang.hitch(this,this.onFailure,_2771)});return {abort:lang.hitch(this,this.abortRequest,key)};},getCollectionRequestObj:function(_2779){var _277a=this.queryName?new Sage.SData.Client.SDataNamedQueryRequest(this.service).setQueryName(this.queryName):new Sage.SData.Client.SDataResourceCollectionRequest(this.service);_277a.setResourceKind(this.resourceKind);_277a.setStartIndex(_2779.start+1);if(this.resourcePredicate&&this.resourcePredicate!=="''"){_277a.getUri().setCollectionPredicate(this.resourcePredicate);}this._setQueryArgsOnRequest(this.queryArgs,_277a);if(!_2779.count&&this.count){_2779.count=this.count;}_277a.setCount(_2779.count);return _277a;},_setQueryArgsOnRequest:function(_277b,_277c){if(_277b){for(var prop in _277b){if(_277b.hasOwnProperty(prop)){_277c.setQueryArg(prop,_277b[prop]);}}}},abortRequest:function(key){this.service.abortRequest(key);},onSuccess:function(_277d,feed){if(_277d.onBegin){if(typeof feed.$totalResults==="undefined"){feed.$totalResults=500000;}_277d.onBegin.call(_277d.scope||this,feed.$totalResults,_277d);}if(_277d.onComplete){_277d.onComplete.call(_277d.scope||this,feed.$resources,_277d);}this.addToCache(_277d,feed);},onFailure:function(_277e,_277f,o){var msg="An unknown exception occurred obtaining data.";if(_277f.responseText){var _2780=Sys.Serialization.JavaScriptSerializer.deserialize(_277f.responseText);if(dojo.isArray(_2780)){msg=_2780[0].message;}else{msg=_277f.responseText;}}if(_277e&&_277e.onError){_277e.onError.call(_277e.scope||this,msg,_277e);}else{if(typeof msg==="string"&&typeof console!=="undefined"){if(_277f&&_277f.status){msg+=" (HTTP status = %o; statusText = %o)";console.error(msg,_277f.status,_277f.statusText);}else{console.error(msg);}}}},setContext:function(_2781){this.context={start:_2781.start,count:_2781.count,query:_2781.query,queryOptions:_2781.queryOptions,sort:_2781.sort};},addToCache:function(_2782,feed){var i,item,key;if(_2782.evaluatedQuery!==this.dataCache.query){this.clearCache();this.dataCache.query=_2782.evaluatedQuery;}if(feed.$resources){for(i=0;i<feed.$resources.length;i++){item=feed.$resources[i];key=this.getIdentity(item);this.dataCache[key]=item;}}},clearCache:function(){for(var key in this.dataCache){if(key!=="query"){delete this.dataCache[key];}}this.dataCache.query="";},isNewContext:function(_2783){if(typeof this.context!=="object"){return true;}if(this.context.start!==_2783.start){return true;}if(this.context.count!==_2783.count){return true;}return false;},verifyService:function(_2784){if(!this.service){this.service=_276e.getSDataService(_2784||"dynamic");}},getValue:function(item,_2785,_2786){return _276d.getValue(item,_2785);},getFeatures:function(){return this.features;},getLabel:function(item){var lbl=[];for(var i=0;i<this.labelAttributes.length;i++){if(item.hasOwnProperty(this.labelAttributes[i])){lbl.push(item[this.labelAttributes[i]]);}}return lbl.join(" ");},getLabelAttributes:function(item){return this.labelAttributes;},getIdentity:function(item){if(item){var _2787=[];for(var i=0;i<this.identityAttributes.length;i++){if(item.hasOwnProperty(this.identityAttributes[i])){_2787.push(item[this.identityAttributes[i]]);}}return _2787.join("");}},getIdentityAttributes:function(item){return this.identityAttributes;},fetchItemByIdentity:function(_2788){if(this.dataCache.hasOwnProperty(_2788.identity)){_2788.onItem.call(_2788.scope||this,this.dataCache[_2788.identity]);}else{var msg="Item with that key does not exist in the data cache: "+_2788.identity;if(_2788.onError){_2788.onError.call(_2788.scope||this,{"error":msg});}else{if(typeof console!=="undefined"){}}}},containsValue:function(item,attr,value){var val=_276d.getValue(item,attr);return val!=="";}});return _2770;});},"Sage/UI/JobSchedulingWidget":function(){require({cache:{"url:Sage/UI/templates/JobSchedulingWidget.html":"<div>\r\n    <div dojoAttachPoint=\"divJobSchedulingWidget\">\r\n        <table>\r\n            <tr>\r\n                <td>\r\n                    <label>${lblCreateSchedule}:</label>\r\n                </td>\r\n            </tr>\r\n            <tr style=\"padding-left: 10px\">\r\n                <td>\r\n                    <label style=\"padding-left: 10px\">${lblEveryText}</label>&nbsp;\r\n                    <div dojoAttachPoint=\"divMinutesHours\" class=\"display-none\" style=\"display: -moz-inline-box; display: inline-block\">\r\n                        <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cboMinutesHours\"></select>\r\n                    </div>\r\n                    <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cboFrequency\" dojoAttachEvent=\"onChange:_onFrequencyChange\">\r\n                        <option value=\"minutes\">${lblMinutesFrequency}</option>\r\n                        <option value=\"hourly\">${lblHourlyFrequency}</option>\r\n                        <option value=\"daily\">${lblDailyFrequency}</option>\r\n                        <option value=\"weekday\">${lblWeekDayFrequency}</option>\r\n                        <option value=\"weekly\">${lblWeeklyFrequency}</option>\r\n                        <option value=\"monthly\">${lblMonthlyFrequency}</option>\r\n                        <option value=\"yearly\" selected=\"selected\" disabled=\"disabled\">${lblYearlyFrequency}</option>\r\n                    </select>\r\n                    <label dojoAttachPoint=\"lblOnText\" class=\"display-none\">${lblOnText}</label>&nbsp;\r\n                    <label dojoAttachPoint=\"lblOnTheText\" class=\"display-none\">${lblOnTheText}</label>&nbsp;\r\n                    <div dojoAttachPoint=\"divMonthDay\" style=\"display: -moz-inline-box; display: inline-block\" class=\"display-none\">\r\n                        <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cboMonthDay\">\r\n                            <option value=\"1\" selected=\"selected\">${lblFirstDay}</option>\r\n                            <option value=\"2\">${lblSecondDay}</option>\r\n                            <option value=\"3\">${lblThirdDay}</option>\r\n                            <option value=\"4\">${lblFourthDay}</option>\r\n                        </select>&nbsp;\r\n                    </div>\r\n                    <div dojoAttachPoint=\"divDay\" style=\"display: -moz-inline-box; display: inline-block\" class=\"display-none\">\r\n                        <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cboDay\">\r\n                            <option value=\"SUN\">${lblSunday}</option>\r\n                            <option value=\"MON\" selected=\"selected\">${lblMonday}</option>\r\n                            <option value=\"TUE\">${lblTuesday}</option>\r\n                            <option value=\"WED\">${lblWednesday}</option>\r\n                            <option value=\"THU\">${lblThursday}</option>\r\n                            <option value=\"FRI\">${lblFriday}</option>\r\n                            <option value=\"SAT\">${lblSaturday}</option>\r\n                        </select>&nbsp;\r\n                    </div>\r\n                    <label dojoAttachPoint=\"lblAtText\">${lblAtText}</label>&nbsp;&nbsp;\r\n                    <div dojoAttachPoint=\"divMinutesPastHour\" class=\"display-none\" style=\"display: -moz-inline-box; display: inline-block\">\r\n                        <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cboMinutesPastHour\"></select>&nbsp;\r\n                    </div>\r\n                    <label dojoAttachPoint=\"lblMinutesPastHour\" class=\"display-none\">${lblMinutesPastHour}</label>&nbsp;\r\n                    <div dojoAttachPoint=\"divRunAtTime\" style=\"display: -moz-inline-box; display: inline-block\">\r\n                        <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtRunAtTime\" displayDate=\"false\" displayTime=\"true\" label=\"${lblAtText}\" required=\"true\"></div>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr dojoAttachPoint=\"rowRunFromDate\">\r\n                <td>\r\n                    <label style=\"padding-left: 10px\">${lblFromTimeText}</label>&nbsp;\r\n                    <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtRunFromDate\" displayDate=\"true\" label=\"${lblFromTimeText}\" style=\"width: 140px\"></div>&nbsp;\r\n                    <label>${lblToTimeText}</label>&nbsp;\r\n                    <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtRunToDate\" displayDate=\"true\" label=\"${lblToTimeText}\" style=\"width: 140px\"></div>&nbsp;\r\n                </td>\r\n            </tr>\r\n            <tr dojoAttachPoint=\"rowCronExpression\">\r\n                <td>\r\n                    <label style=\"padding-left: 10px\">${lblCronExpressionText}</label>&nbsp;\r\n                    <div data-dojo-type=\"dijit.form.TextBox\" dojoAttachPoint=\"txtCronExpression\" style=\"width: 375px\"></div>&nbsp\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n</div>"}});define("Sage/UI/JobSchedulingWidget",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/form/Select","dijit/form/Button","Sage/UI/ImageButton","dojo/text!./templates/JobSchedulingWidget.html","dojo/i18n!./nls/JobSchedulingWidget","dojo/_base/declare","dojo/string","Sage/UI/Dialogs","Sage/UI/Controls/DateTimePicker"],function(_2789,_278a,_278b,_278c,_278d,_278e,_278f,_2790,_2791,_2792,_2793){var _2794=_2791("Sage.UI.JobSchedulingWidget",[_278b,_2789,_278a],{cronExpression:"",displayStartEndTime:true,minuteOptions:["10","15","20","25","30","35","40","45","50","55"],pastHourOptions:["0","5","10","15","20","25","30","35","40","45","50","55"],hourOptions:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],cronFields:{seconds:0,minutes:"*",hours:"*",days:"*",weeks:"*",months:"*",years:"*"},cronExpressionVisible:true,_initialized:false,widgetsInTemplate:true,templateString:_278f,postMixInProperties:function(){dojo.mixin(this,_2790);},initialize:function(_2795){dojo.mixin(this,_2795);if(this.trigger){this.cronExpression=this.trigger.cronExpression;}else{this.cronExpressionVisible=false;}this.txtCronExpression.set("value",this.cronExpression);this._parseCronExpression();this.cboFrequency.set("value",this._getFrequencyType());this._loadScheduleDetails();this._initializeControlState();this.cboFrequency.removeOption("yearly");},_initializeListOptions:function(_2796,_2797,_2798){var _2799=[];this._clearComboBox(_2796);dojo.forEach(_2798,function(_279a){var _279b={selected:false,label:_279a,value:_279a};if(_2797===_279a){_279b.selected=true;}_2799.push(_279b);});_2796.addOption(_2799);},_parseCronExpression:function(){var _279c="0 0/10 * 1/1 * ? *";var _279d="0 20 0/2 1/1 * ? *";var daily="0 10 12 1/1 * ? *";var _279e="0 0 12 ? * MON-FRI *";var _279f="0 0 12 ? * WED *";var _27a0="0 0 12 ? 1/1 TUE#2 *";if(this.cronExpression){var parts=this.cronExpression.split(" ");if(parts.length===6||parts.length===7){this.cronFields.seconds=parts[0];this.cronFields.minutes=parts[1];this.cronFields.hours=parts[2];this.cronFields.days=parts[3];this.cronFields.weeks=parts[4];this.cronFields.months=parts[5];this.cronFields.years=parts.length===6?parts[6]:"*";}}},_getFrequencyType:function(){var _27a1="daily";if(!this.cronExpression){return _27a1;}var _27a2=[];if(this.cronFields.days==="?"){if(this.cronFields.months==="MON-FRI"){this.cronExpressionVisible=false;return "weekday";}else{if(this.cronFields.months.indexOf("#")!==-1){_27a2=["/"];if(!isNaN(this.cronFields.weeks)){this.cronExpressionVisible=true;}else{if(this._isValid(this.cronFields.days,_27a2)){_27a1="monthly";this.cronExpressionVisible=false;}}}else{if(this._isWeeklyType()){this.cronExpressionVisible=false;return "weekly";}}}}if(this.cronFields.months==="?"&&(this.cronFields.days==="1/1"||this.cronFields.days==="*")){if(!isNaN(this.cronFields.hours)){this.cronExpressionVisible=false;return "daily";}else{var part=this.cronFields.hours.split("/");if(part.length>1){this.cronExpressionVisible=false;return "hourly";}else{part=this.cronFields.minutes.split("/");if(part.length>1){this.cronExpressionVisible=false;return "minutes";}}}}return _27a1;},_isWeeklyType:function(){var _27a3=[",","-","*","?","/","L","#"];if(this._isValid(this.cronFields.months,_27a3)){return true;}else{return false;}},_loadScheduleDetails:function(){if(this.cronExpression){this._loadCronScheduleDetails();}else{this._loadFromPropScheduleDetails();}},_loadFromPropScheduleDetails:function(){this.cronExpressionVisible=false;if(this.trigger){}},_loadCronScheduleDetails:function(){var part;switch(this.cboFrequency.get("value")){case "minutes":part=this.cronFields.minutes.split("/");this._initializeListOptions(this.cboMinutesHours,part[1],this.minuteOptions);break;case "hourly":part=this.cronFields.hours.split("/");this._initializeListOptions(this.cboMinutesHours,part[1],this.hourOptions);this.cboMinutesHours.set("value",part[1]);this._initializeListOptions(this.cboMinutesPastHour,this.cronFields.minutes,this.pastHourOptions);this.cboMinutesPastHour.set("value",this.cronFields.minutes);break;case "weekly":this.cboDay.set("value",this._convertDayToStr(this.cronFields.months));break;case "monthly":part=this.cronFields.months.split("#");this.cboDay.set("value",this._convertDayToStr(part[0]));this.cboMonthDay.set("value",part[1]);break;}},_convertDayToStr:function(day){if(!isNaN(day)){switch(day){case 1:return "SUN";case 3:return "TUE";case 4:return "WED";case 5:return "THU";case 6:return "FRI";case 7:return "SAT";default:return "MON";}}else{return day;}},_convertDayToInt:function(day){switch(day){case "SUN":return 0;case "MON":return 1;case "TUE":return 2;case "WED":return 3;case "THU":return 4;case "FRI":return 5;case "SAT":return 6;}},_isValidExpression:function(){var _27a4=[];switch(this.cboFrequency.get("value")){case "minutes":_27a4=[",","-"];return this._isValid(this.cronFields.minutes,_27a4);case "hourly":_27a4=[",","-"];return this._isValid(this.cronFields.hours,_27a4);case "daily":case "weekly":return true;case "monthly":_27a4=[",","-","?","/","L"];return this._isValid(this.cronFields.months,_27a4);default:return false;}},_isValid:function(_27a5,_27a6){var _27a7=true;dojo.every(_27a6,function(_27a8){if(_27a5.indexOf(_27a8)!==-1){_27a7=false;}});return _27a7;},_assignDateValues:function(){switch(this.cboFrequency.get("value")){case "daily":case "weekday":case "weekly":case "monthly":case "yearly":var _27a9=new Date();var _27aa=[",","-","*"];var _27ab=this._getTimePart(this.cronFields.minutes,_27aa);if(this._isNumber(_27ab)){_27a9.setMinutes(_27ab);}var hours=this._getTimePart(this.cronFields.hours,_27aa);if(this._isNumber(hours)){_27a9.setHours(this.cronFields.hours);}if(this.trigger&&this._isNumber(_27ab)&&this._isNumber(hours)){this.dtRunAtTime.set("value",_27a9);}break;}if(this.trigger){if(this.trigger.startTimeUtc){this.dtRunFromDate.set("value",new Date(parseInt(this.trigger.startTimeUtc.substr(6))));}if(this.trigger.endTimeUtc){this.dtRunToDate.set("value",new Date(parseInt(this.trigger.endTimeUtc.substr(6))));}}},_getTimePart:function(_27ac,_27ad){var _27ae="invalid";if(this._isNumber(_27ac)){_27ae=parseInt(_27ac);}else{if(this._isValid(_27ac,_27ad)){var part=_27ac.split("/");if(part.length>1){_27ae=part[1];}}}return _27ae;},_isNumber:function(value){var reg=new RegExp("^[0-9]+$");return !!reg.test(value);},_initializeControlState:function(){var _27af=this.cboFrequency.get("value").valueOf();this._setVisibility(this.divMinutesHours,_27af==="minutes"||_27af==="hourly");this._setVisibility(this.lblOnText,_27af==="weekly");this._setVisibility(this.lblOnTheText,_27af==="monthly");this._setVisibility(this.divMonthDay,_27af==="monthly");this._setVisibility(this.divDay,_27af==="weekly"||_27af==="monthly");this._setVisibility(this.lblAtText,_27af!=="minutes");this._setVisibility(this.divRunAtTime,_27af!=="minutes"&&_27af!=="hourly");this._setVisibility(this.lblMinutesPastHour,_27af==="hourly");this._setVisibility(this.divMinutesPastHour,_27af==="hourly");this._setVisibility(this.rowCronExpression,this.cronExpressionVisible);},_onFrequencyChange:function(){var _27b0=this.cboFrequency.get("value").valueOf();if(_27b0==="minutes"){if(this.initialized){this._initializeListOptions(this.cboMinutesHours,"5",this.minuteOptions);}}else{if(_27b0==="hourly"){if(this.initialized){this._initializeListOptions(this.cboMinutesHours,"1",this.hourOptions);}if(this.cboMinutesPastHour.options.length===0){this._initializeListOptions(this.cboMinutesPastHour,"0",this.pastHourOptions);}}}if(!this.initialized){this.initialized=true;this._assignDateValues();}this._initializeControlState();},_clearComboBox:function(_27b1){var _27b2=_27b1.options.length;for(var i=0;i<_27b2;i++){_27b1.removeOption(0);}},_setVisibility:function(_27b3,_27b4){if(_27b3&&_27b4){dojo.removeClass(_27b3,"display-none");}else{if(_27b3){dojo.addClass(_27b3,"display-none");}}},_buildCronExpression:function(){return _2792.substitute("${0} ${1} ${2} ${3} ${4} ${5} ${6}",[this._getFormatedSeconds(),this._getFormatedMinutes(),this._getFormatedHours(),this._getFormatedDaysOfMonth(),this._getFormatedMonths(),this._getFormatedDaysOfWeek(),this._getFormatedYears()]);},_getFormatedSeconds:function(){return 0;},_getFormatedMinutes:function(){switch(this.cboFrequency.get("value")){case "minutes":return _2792.substitute("0/${0}",[this.cboMinutesHours.get("value")]);case "hourly":return this.cboMinutesPastHour.get("value");case "daily":case "weekly":case "monthly":case "yearly":return this._getTimePortion(true);default:return "*";}},_getFormatedHours:function(){switch(this.cboFrequency.get("value")){case "minutes":return "*";case "hourly":return _2792.substitute("0/${0}",[this.cboMinutesHours.get("value")]);default:return this._getTimePortion(false);}},_getTimePortion:function(_27b5){if(_27b5){var _27b6=this.dtRunAtTime.getTimeValue();return _27b6.getMinutes();}else{var hour=this.dtRunAtTime.getTimeValue();return hour.getHours();}},_getFormatedDaysOfMonth:function(){switch(this.cboFrequency.get("value")){case "minutes":case "hourly":case "daily":return "*";case "weekday":case "weekly":case "monthly":case "yearly":return "?";default:return "*";}},_getFormatedMonths:function(){return "*";},_getFormatedDaysOfWeek:function(){switch(this.cboFrequency.get("value")){case "minutes":case "daily":case "hourly":return "?";case "weekday":return "MON-FRI";case "weekly":return this.cboDay.get("value");case "monthly":case "yearly":return _2792.substitute("${0}#${1}",[this.cboDay.get("value"),this.cboMonthDay.get("value")]);default:return "*";}},_getFormatedYears:function(){return "*";},_isSameDate:function(_27b7,_27b8){return _27b7.getFullYear()===_27b8.getFullYear()&&_27b7.getMonth()===_27b8.getMonth()&&_27b7.getDate()===_27b8.getDate();},_getDaysDateDiff:function(date1,date2){var _27b9=1000*60*60*24;var _27ba=Math.abs(date1.getTime()-date2.getTime());return Math.round(_27ba/_27b9);},getJobSchedulingOptions:function(){var _27bb={startTime:this.dtRunFromDate.focusNode.value===""?null:this.dtRunFromDate.getValue(),endTime:this.dtRunToDate.focusNode.value===""?null:this.dtRunToDate.getValue(),cronExpression:this._buildCronExpression()};return _27bb;},validateSchedule:function(_27bc,_27bd){var _27be=this.dtRunFromDate.focusNode.value===""?null:this.dtRunFromDate.getValue();var _27bf=this.dtRunToDate.focusNode.value===""?null:this.dtRunToDate.getValue();var onDay=null;if(_27bc&&!_27be||(_27bd&&!_27be||_27bd&&!_27bf)){if(!_27be){_2793.showError(this.txtInvalidStartDate,this.txtInvalidScheduleTitle);}else{_2793.showError(this.txtInvalidEndDate,this.txtInvalidScheduleTitle);}return false;}if(!_27be&&!_27bf){return true;}if(_27be&&_27bf&&_27be>=_27bf||!_27be&&_27bf){_2793.showError(this.txtInvalidDatesMessage,this.txtInvalidScheduleTitle);return false;}if(!_27bf){return true;}_27be=new Date(_27be);_27bf=new Date(_27bf);switch(this.cboFrequency.get("value")){case "minutes":if(_27be.setMinutes(_27be.getMinutes()+parseInt(this.cboMinutesHours.get("value")))>=_27bf){_2793.showError(this.txtInvalidScheduleTime,this.txtInvalidScheduleTitle);return false;}return true;case "hourly":if(_27be.setHours(_27be.getHours()+parseInt(this.cboMinutesHours.get("value")))>=_27bf){_2793.showError(this.txtInvalidScheduleTime,this.txtInvalidScheduleTitle);return false;}return true;case "daily":case "weekday":if(this._isSameDate(_27be,_27bf)){_2793.showError(this.txtInvalidScheduleTime,this.txtInvalidScheduleTitle);return false;}return true;case "weekly":if(this._isSameDate(_27be,_27bf)){_2793.showError(this.txtInvalidScheduleTime,this.txtInvalidScheduleTitle);return false;}else{if(_27bf.getDate()-_27be.getDate()<7){onDay=this._convertDayToInt(this.cboDay.get("value"));var _27c0=_27be;_27c0.setDate(_27c0.getDate()+(_27c0.getDay()+onDay));if(_27c0>_27bf){_2793.showError(this.txtInvalidScheduleTime,this.txtInvalidScheduleTitle);return false;}}}return true;case "monthly":if(this._isSameDate(_27be,_27bf)){_2793.showError(this.txtInvalidScheduleTime,this.txtInvalidScheduleTitle);return false;}else{if(this._getDaysDateDiff(_27bf,_27be)<31){var _27c1=parseInt(this.cboMonthDay.get("value"));onDay=this._convertDayToInt(this.cboDay.get("value"));var _27c2=this._moveToNthOccurrence(_27be,_27c1,onDay,"","");var _27c3=this._moveToNthOccurrence(_27bf,_27c1,onDay,"","");if(_27c2<=_27be){if(_27c3<=_27c2||_27c3>=_27bf){_2793.showError(this.txtInvalidScheduleTime,this.txtInvalidScheduleTitle);return false;}}}}return true;}return false;},_moveToNthOccurrence:function(_27c4,index,day,month,year){var date=new Date(_27c4);date.setDate(1);if(month!==""&&month!==undefined){date.setMonth(month);}else{month=date.getMonth();}if(year!==""&&year!==undefined){date.setFullYear(year);}else{year=date.getFullYear();}while(date.getDay()!=day){date.setDate(date.getDate()+1);}switch(index){case 2:date.setDate(date.getDate()+7);break;case 3:date.setDate(date.getDate()+14);break;case 4:date.setDate(date.getDate()+21);break;case 5:date.setDate(date.getDate()+28);if(date.getMonth()!==month){date=null;}break;}return date;},destroyWidget:function(){this.destroyRecursive();}});return _2794;});},"url:Sage/templates/SpeedSearch.html":"<span>\r    <!-- the textbox -->\r    <input type=\"text\" id=\"txt_ss\" />\r    <!--the image button-->\r    <button id='ss-btn-image' type=\"button\" style=\"font-size:10px\"></button>\r    <button id='ss-btn-toggle' type=\"button\" style=\"font-size:10px\"></button>\r</span>\r","Sage/MainView/ReportMgr/Crystal/nls/CrystalReportConditionsDialog":function(){define("Sage/MainView/ReportMgr/Crystal/nls/CrystalReportConditionsDialog",["Sage/LanguageList","dojo/_base/lang"],function(_27c5,lang){var nls={root:{txtDialogTitle:"Select Records",cmdBack_Caption:"< Back",cmdNext_Caption:"Next >",cmdCancel_Caption:"Cancel",grdCrystalConditions_ConditionType_Caption:"Type",grdCrystalConditions_TableName_Caption:"Table",grdCrystalConditions_FieldName_Caption:"Field",grdCrystalConditions_Operator_Caption:"Operator",grdCrystalConditions_Value_Caption:"Condition Value",txtShowRecordsThatMatch:"Show records that match: ",txtMatch:"Match:",txtOfTheFollowingConditions:"of the following conditions:",txtAny:"Any",txtAll:"All",txtAllRecords:"[All Records]",txtSpecificConditions:"[Specific Conditions]",txtCurrentUser:"[Current User]"}};return lang.mixin(_27c5,nls);});},"Sage/UI/GroupTabPane":function(){define("Sage/UI/GroupTabPane",["dijit/layout/TabContainer","dojo/topic","dojo/_base/lang","dojo/_base/declare","dojo/on"],function(_27c6,topic,lang,_27c7,on){var _27c8=_27c7("Sage.UI.GroupTabPane",_27c6,{useMenu:false,_children:null,_drawnChildren:{},_initialLoadFinished:false,constructor:function(_27c9){this._children=[];this.inherited(arguments);},resize:function(){var _27ca=this.getChildren();this.inherited(arguments);if(this._initialLoadFinished&&_27ca.length>1){if(!this._drawnChildren[_27ca[1].id]){this.tablist._leftBtn.setDisabled(false);}if(!this._drawnChildren[_27ca[_27ca.length-1].id]){this.tablist._rightBtn.setDisabled(false);}}},addChild:function(_27cb){this._children.push(_27cb);topic.publish(this.id+"-addChild",_27cb,this._children.length);this._setupChild(_27cb);if(!this.selectedChildWidget){this.selectChild(_27cb);}if(this.doLayout){this.layout();}this.onAddChildrenComplete();},addChildren:function(_27cc,_27cd){var _27ce=1;var i;for(i=0;i<_27cc.length;i++){if(_27cd==_27cc[i]){_27ce=i;}if(this._started){this._children.push(_27cc[i]);}}dojo.subscribe("/group/context/changed",lang.hitch(this,function(_27cf){if(!this._drawnChildren[_27cf.current.CurrentGroupID]){var _27d0=this.getChildren(),_27d1=dijit.byId("GroupTabs_tablist");for(var i=1;i<_27d0.length;i++){if(_27d0[i].id==_27cf.current.CurrentGroupID){_27d1.onAddChild(_27d0[i],1);this.onAddChildrenComplete(i-1,i);break;}}this._drawnChildren[_27cf.current.CurrentGroupID]=true;}}));this.drawChildren(_27ce,25);this._initialLoadFinished=true;},drawChildren:function(_27d2,_27d3,_27d4){var _27d5=dijit.byId("GroupTabs_tablist"),_27d6=this.getChildren(),_27d7=(_27d2+_27d3),i;if(_27d6.length<=1){return;}if(_27d7>=_27d6.length){_27d2=(_27d6.length-_27d3-1);_27d7=_27d6.length;}if(_27d2<1){_27d2=1;}if(_27d4=="left"){for(i=(_27d7-1);i>=_27d2;i--){if(!this._drawnChildren[_27d6[i].id]){_27d5.onAddChild(_27d6[i],1);this._drawnChildren[_27d6[i].id]=true;this._setupChild(_27d6[i]);}}}else{for(i=_27d2;i<_27d7;i++){if(!this._drawnChildren[_27d6[i].id]){_27d5.onAddChild(_27d6[i]);this._drawnChildren[_27d6[i].id]=true;this._setupChild(_27d6[i]);}}}if(this.doLayout){if(_27d4){if(_27d4=="left"){this.tablist._leftBtn.onClick(this.tablist._leftBtn);}else{this.tablist._rightBtn.onClick(this.tablist._rightBtn);}}else{this.layout();}var _27d8=null,_27d9=null;if(_27d7<_27d6.length){this.tablist._rightBtn.setDisabled(false);_27d8=on(this.tablist._rightBtn,"click",lang.hitch(this,function(){_27d8.remove();if(_27d9){_27d9.remove();}this.drawChildren(_27d7,10,"right");}));}if(_27d2>1){this.tablist._leftBtn.setDisabled(false);_27d9=on(this.tablist._leftBtn,"click",lang.hitch(this,function(){_27d9.remove();if(_27d8){_27d8.remove();}this.drawChildren((_27d2-10),10,"left");}));}}this.onAddChildrenComplete(_27d2-1,_27d7-1);},onAddChildrenComplete:function(start,end){},getChildren:function(){return this._children;},removeChildren:function(){var i=0,_27da;for(i=0;i<this._children.length;i++){_27da=this._children[i];if(i===0||this._drawnChildren[_27da.id]){topic.publish(this.id+"-removeChild",_27da);_27da.destroyDescendants();}}this._children=[];this._drawnChildren={};this.destroyDescendants();if(this.doLayout){this.layout();}}});return _27c8;});},"Sage/Extensions/Activity/ListPanelOverrides/nls/ActivityListPanelConfig":function(){define("Sage/Extensions/Activity/ListPanelOverrides/nls/ActivityListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_27db,lang){var nls={root:{colNameAssociationCount:"Participant Count"}};return lang.mixin(_27db,nls);});},"Sage/TaskPane/AccountingTasksTasklet":function(){define("Sage/TaskPane/AccountingTasksTasklet",["Sage/TaskPane/_BaseTaskPaneTasklet","Sage/UI/Dialogs","dojo/i18n!./nls/AccountingTasksTasklet","dojo/_base/declare"],function(_27dc,_27dd,_27de,_27df){var _27e0=_27df("Sage.TaskPane.AccountingTasksTasklet",_27dc,{nlsAccountingResources:_27de,linkAccount:function(){if(Sage.Utility.getModeId()==="detail"){return true;}var _27e1=this.getSelectionInfo();if(this.verifySingleSelection(_27e1)){this.saveSelections(this.actionItem,_27e1);return true;}else{_27dd.showInfo(this.selectSingleRecord,this.invalidSelectionTitle);return false;}},actionItem:function(){},checkPrices:function(){if(Sage.Utility.getModeId()==="detail"){return true;}var _27e2=this.getSelectionInfo();if(this.verifySingleSelection(_27e2)){this.saveSelections(this.actionItem,_27e2);}else{_27dd.showInfo(this.nlsAccountingResources.updatePricingRecords,this.invalidSelectionTitle);return false;}},submitSalesOrder:function(){if(Sage.Utility.getModeId()==="detail"){return true;}var _27e3=this.getSelectionInfo();if(this.verifySingleSelection(_27e3)){this.saveSelections(this.actionItem,_27e3);}else{_27dd.showInfo(this.nlsAccountingResources.updatePricingRecords,this.invalidSelectionTitle);return false;}}});return _27e0;});},"Sage/QuickForms/Design/ComboBoxControlDesigner":function(){define("Sage/QuickForms/Design/ComboBoxControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/ComboBoxBasicPropertyEditor","./Editors/ComboBoxAdvancedPropertyEditor","dojo/i18n!./nls/ComboBoxControlDesigner"],function(_27e4,array,lang,_27e5,_27e6,_27e7,_27e8,_27e9,_27ea,_27eb,_27ec){return _27e4("Sage.QuickForms.Design.ComboBoxControlDesigner",[_27e6,_27e7,_27e5,_27e8],{designSupport:{visible:true},editors:[_27ea,_27eb,_27e9],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %}\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","<div class=\"{%= $.fieldClass %}-icon\"></div>","</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-combobox",helpTopicName:"ComboBox_control",quickFormControlType:"Sage.Platform.QuickForms.QFControls.QFListBox, Sage.Platform.QuickForms.QFControls",displayNameText:"ComboBox",constructor:function(){lang.mixin(this,_27ec);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_27ed){return (_27ed["ControlItemName"]=="SelectedValue");});},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getDataSourceAttr:function(){return lang.getObject("DataSource",false,this.entry);},_setDataSourceAttr:function(value){lang.setObject("DataSource",value,this.entry);},_getHasItemsAttr:function(){var items=lang.getObject("ItemValues",false,this.entry);return (lang.isArray(items)&&items.length>0);},_getItemValuesAttr:function(){return lang.getObject("ItemValues",false,this.entry);},_setItemValuesAttr:function(value){lang.setObject("ItemValues",value,this.entry);},_getTextFieldAttr:function(){return lang.getObject("TextField",false,this.entry);},_setTextFieldAttr:function(value){lang.setObject("TextField",value,this.entry);},_getValueFieldAttr:function(){return lang.getObject("ValueField",false,this.entry);},_setValueFieldAttr:function(value){lang.setObject("ValueField",value,this.entry);},setupFor:function(_27ee){this.inherited(arguments);this.set("dataSource",null);this.set("textField","");this.set("valueField","");this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"SelectedValue",DataItemName:_27ee.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:""}]);this.set("designBinding",_27ee.propertyPath||"");},startup:function(){this.inherited(arguments);var _27ef=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_27ef&&_27ef["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/UI/nls/JobSchedulingWidget":function(){define("Sage/UI/nls/JobSchedulingWidget",["Sage/LanguageList","dojo/_base/lang"],function(_27f0,lang){var nls={root:{lblCreateSchedule:"Create job schedule to run",lblEveryText:"Every",lblOnText:"on",lblOnTheText:"on the",lblAtText:"at",lblMinutesPastHour:"minutes past the hour",lblFromTimeText:"Run from",lblToTimeText:"to",lblMinutesFrequency:"minutes",lblHourlyFrequency:"hour(s)",lblDailyFrequency:"day",lblWeekDayFrequency:"week day",lblWeeklyFrequency:"week",lblMonthlyFrequency:"month",lblYearlyFrequency:"year",lblSunday:"Sunday",lblMonday:"Monday",lblTuesday:"Tuesday",lblWednesday:"Wednesday",lblThursday:"Thursday",lblFriday:"Friday",lblSaturday:"Saturday",lblFirstDay:"first",lblSecondDay:"second",lblThirdDay:"third",lblFourthDay:"fourth",lblCronExpressionText:"Cron expression",txtInvalidScheduleTitle:"Invalid Schedule",txtInvalidDatesMessage:"The end time must be after the start time. Please correct this information before continuing.",txtInvalidScheduleTime:"The start and end times specified will prevent this schedule from running. Please correct this information before continuing.",txtInvalidStartDate:"A start date is required. Please specify a start date before continuing.",txtInvalidEndDate:"A end date is required. Please specify a end date before continuing"}};return lang.mixin(_27f0,nls);});},"Sage/UI/Controls/nls/LogOffButton":function(){define("Sage/UI/Controls/nls/LogOffButton",["Sage/LanguageList","dojo/_base/lang"],function(_27f1,lang){var nls={root:{logOffText:"Log Off"}};return lang.mixin(_27f1,nls);});},"Sage/QuickForms/Design/Editors/nls/TextBoxAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/TextBoxAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_27f2,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"}}};return lang.mixin(_27f2,nls);});},"Sage/MainView/ActivityMgr/nls/EditEventEditor":function(){define("Sage/MainView/ActivityMgr/nls/EditEventEditor",["Sage/LanguageList","dojo/_base/lang"],function(_27f3,lang){var nls={root:{titleScheduleText:"Schedule Event",titleEditText:"Edit Event",lblDayTypeText:"Day Type:",lblStartDateText:"Start Date:",lblEndDateText:"End Date:",lblUserText:"User:",lookupUserText:"Lookup User",lblCategoryText:"Category:",lblLocationText:"Location:",lblDescriptionText:"Description:",btnOkayText:"OK",btnCancelText:"Cancel",btnHelpText:"Help",eventTypeActiveText:"Active",eventTypeBusinessTripText:"Business Trip",eventTypeConferenceText:"Conference",eventTypeHolidayText:"Holiday",eventTypeOffText:"Off",eventTypeTradeShowText:"Trade Show",eventTypeUnavailableText:"Unavailable",eventTypeVacationText:"Vacation",errorText:"I'm sorry, the event could not be created because an error occurred.",invaildDatesText:"I'm sorry, the end date cannot be earlier than the start date.",nameText:"Name",}};return lang.mixin(_27f3,nls);});},"Sage/Utility/File/FallbackFilePicker":function(){require({cache:{"url:Sage/Utility/File/templates/FallbackFilePicker_Attachment.html":"[\r\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"uploadFileDialog\" title=\"{%= $.attachFileText %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:_onHide\">',\r\n        '<iframe src=\"about:blank\" style=\"width:0px;height:0px;border-width:0px;\" name=\"{%= $._iframeId %}\" id=\"{%= $._iframeId %}\" dojoAttachPoint=\"_iframe\" dojoAttachEvent=\"onload:_iframeLoad\"></iframe>',\r\n        '<form method=\"post\" enctype=\"multipart/form-data\" action=\"{%= $._buildPostUrl() %}\" target=\"{%= $._iframeId %}\" dojoAttachPoint=\"_postForm\" class=\"attachment-properties-form\">',\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"160\">',\r\n                '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.uploadFileText %}\" >',\r\n                    '<input name=\"file\" multiple=\"false\" type=\"file\" dojoAttachEvent=\"onchange:_onNewFile\" dojoAttachPoint=\"btn_FileSelect\" class=\"uploadButton\" />',\r\n                '</div>',\r\n                 '<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.descriptionText %}\" name=\"description\" id=\"{%= $.id %}_tb_Description\" dojoAttachPoint=\"tb_Description\" maxlength=\"128\" ></div>',\r\n                 '<input type=\"hidden\" dojoType=\"dijit.form.TextBox\" name=\"fileName\" id=\"{%= $.id %}_tb_realFileName\" dojoAttachPoint=\"tb_realFileName\" maxlength=\"255\" />',\r\n            '</div>',\r\n            '<div class=\"general-dialog-actions\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id %}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.okText %}</div>',\r\n                '<span>&nbsp;&nbsp</span>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>',\r\n            '</div>',\r\n            '<input type=\"hidden\" name=\"dataType\" value=\"R\" />',\r\n            '<input type=\"hidden\" name=\"attachDate\" dojoAttachPoint=\"_attachDate\"/>',\r\n            '<input type=\"hidden\" name=\"accountId\" dojoAttachPoint=\"_accountId\"/>',\r\n            '<input type=\"hidden\" name=\"activityId\" dojoAttachPoint=\"_activityId\" />',\r\n            '<input type=\"hidden\" name=\"contactId\" dojoAttachPoint=\"_contactId\" />',\r\n            '<input type=\"hidden\" name=\"contractId\" dojoAttachPoint=\"_contractId\" />',\r\n            '<input type=\"hidden\" name=\"defectId\" dojoAttachPoint=\"_defectId\" />',\r\n            '<input type=\"hidden\" name=\"historyId\" dojoAttachPoint=\"_historyId\" />',\r\n            '<input type=\"hidden\" name=\"leadId\" dojoAttachPoint=\"_leadId\" />',\r\n            '<input type=\"hidden\" name=\"opportunityId\" dojoAttachPoint=\"_opportunityId\" />',\r\n            '<input type=\"hidden\" name=\"productId\" dojoAttachPoint=\"_productId\" />',\r\n            '<input type=\"hidden\" name=\"returnId\" dojoAttachPoint=\"_returnId\" />',\r\n            '<input type=\"hidden\" name=\"salesOrderId\" dojoAttachPoint=\"_salesOrderId\" />',\r\n            '<input type=\"hidden\" name=\"ticketId\" dojoAttachPoint=\"_ticketId\" />',\r\n            '<input type=\"hidden\" name=\"userId\" dojoAttachPoint=\"_userId\" />',\r\n        '</form>',\r\n    '</div>',\r\n'</div>'\r\n]","url:Sage/Utility/File/templates/FallbackFilePicker_LibraryDoc.html":"[\r\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"uploadFileDialog\" title=\"{%= $.addLibraryFileText %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:_onHide\">',\r\n        '<iframe src=\"about:blank\" style=\"width:0px;height:0px;border-width:0px;\" name=\"{%= $._iframeId %}\" id=\"{%= $._iframeId %}\" dojoAttachPoint=\"_iframe\" dojoAttachEvent=\"onload:_iframeLoad\"></iframe>',\r\n        '<form method=\"post\" enctype=\"multipart/form-data\" action=\"\" target=\"{%= $._iframeId %}\" dojoAttachPoint=\"_postForm\" class=\"attachment-properties-form\">',\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"160\">',\r\n                 '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.uploadFileText %}\" >',\r\n                    '<input name=\"file\" multiple=\"false\" type=\"file\" dojoAttachEvent=\"onchange:_onNewFile\" dojoAttachPoint=\"btn_FileSelect\" class=\"uploadButton\" />',\r\n                 '</div>',\r\n                 '<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.descriptionText %}\" name=\"description\" id=\"{%= $.id %}_tb_Description\" dojoAttachPoint=\"tb_Description\" maxlength=\"255\" ></div>',\r\n                 '<input type=\"hidden\" dojoType=\"dijit.form.TextBox\" name=\"fileName\" id=\"{%= $.id %}_tb_realFileName\" dojoAttachPoint=\"tb_realFileName\" maxlength=\"255\" />',\r\n            '</div>',\r\n            '<div class=\"general-dialog-actions\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id %}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.okText %}</div>',\r\n                '<span>&nbsp;&nbsp</span>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>',\r\n            '</div>',\r\n        '</form>',\r\n    '</div>',\r\n'</div>'\r\n]"}});define("Sage/Utility/File/FallbackFilePicker",["dijit/_Widget","Sage/_Templated","dijit/Dialog","require","dojo/string","Sage/UI/Dialogs","Sage/Utility","Sage/Utility/ErrorHandler","Sage/Utility/File","Sage/Utility/File/Attachment","dojo/_base/lang","Sage/UI/_DialogLoadingMixin","dojo/i18n","dojo/i18n!./nls/FallbackFilePicker","dojo/text!./templates/FallbackFilePicker_Attachment.html","dojo/text!./templates/FallbackFilePicker_LibraryDoc.html","dojo/_base/array","dojo/_base/declare","dojo/has"],function(_27f4,_27f5,_27f6,_27f7,_27f8,_27f9,_27fa,_27fb,File,_27fc,_27fd,_27fe,i18n,_27ff,_2800,_2801,array,_2802,has){var _2803=_2802("Sage.Utility.File.FallbackFilePicker",[_27f4,_27f5],{addLibraryFileText:"Add Library File",attachFileText:"Attach File",descriptionText:"Description",uploadFileText:"Select File",okText:"OK",cancelText:"Cancel",_iframeId:"attachmentPostIFrame",_hiddenFields:["_attachDate","_accountId","_activityId","_contactId","_contractId","_defectId","_historyId","_leadId","_opportunityId","_productId","_returnId","_salesOrderId","_ticketId","_userId"],_showing:false,fileType:File.fileType.ftAttachment,widgetsInTemplate:true,id:"fallbackFilePicker",widgetTemplate:null,constructor:function(_2804){this.inherited(arguments);if(_2804&&typeof _2804==="object"){dojo.mixin(this,_2804);}},destroy:function(){if(this._dialog){this._dialog.destroyRecursive();}this.inherited(arguments);},postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.Utility.File","FallbackFilePicker"));this.inherited(arguments);if(this.fileType!=File.fileType.ftLibraryDocs){this.widgetTemplate=new Simplate(eval(_2800));}else{this.widgetTemplate=new Simplate(eval(_2801));}},show:function(){if(this._postForm){this._postForm.reset();}this._dialog.show();if(this.fileType!=File.fileType.ftLibraryDocs){_27fc.getKnownRelationships(this._receiveRelationships,this,true);}if(has("ie")<9){this._iframe.attachEvent("onload",this._iframeLoad);window.FallbackFilePicker=this;}this._showing=true;},hide:function(){this._dialog.hide();},_onHide:function(){if(this._dialog._standby){this._dialog.hideLoading();}if(this.fileType!=File.fileType.ftLibraryDocs){for(var i=0;i<this._hiddenFields.length;i++){if(this._hiddenFields[i]){this[this._hiddenFields[i]].value="";}}}this.tb_Description.set("value","");this.tb_realFileName.set("value","");this._showing=false;},_receiveRelationships:function(rels){if(this.fileType==File.fileType.ftLibraryDocs){return;}for(var rel in rels){if(this["_"+rel]){this["_"+rel].value=rels[rel];}else{if(rel){this["_"+rel]=dojo.create("input",{"type":"hidden","name":rel,"value":rels[rel]},this._postForm);this._hiddenFields.push("_"+rel);}}}this._userId.value=_27fa.getClientContextByKey("userID")||"";this._attachDate.value=_27fa.Convert.toIsoStringFromDate(new Date());},_buildPostUrl:function(){var _2805=[];_2805.push(/https/i.test(window.location.protocol)?"https":"http");_2805.push("://");_2805.push(window.location.hostname);if(window.location.port&&window.location.port!==80){_2805.push(":",window.location.port);}_2805.push("/");_2805.push(_27fa.getVirtualDirectoryName());if(this.fileType!=File.fileType.ftLibraryDocs){_2805.push("/slxdata.ashx/slx/system/-/attachments/file?iframe=true&format=xml");}else{if(!Sage.Library||!Sage.Library.Manager||!Sage.Library.FileHandler){_27f9.showError(this.invalidContext);return null;}var _2806=Sage.Library.FileHandler.findDirectoryId();var sUrl=_27f8.substitute("/slxdata.ashx/slx/system/-/libraryDirectories('${0}')/documents/file?iframe=true&format=xml",[_2806]);_2805.push(sUrl);}var url=_2805.join("");return url;},_iframeLoad:function(e){var self;if(has("ie")<9){self=window.FallbackFilePicker;}else{self=this;}var frame=self._iframe;if(frame.contentDocument.body&&frame.contentDocument.body.innerText){if(frame.contentDocument.body.innerText=="RuntimeErrorPostTooLarge"){self.hide();_27f9.showError(self.fileTooLargeError);return;}}try{var _2807=function(_2808){if(_2808&&_2808.hasOwnProperty("message")){var _2809=_2808.message;if(_2808.hasOwnProperty("applicationCode")&&_27fb.isSDataExceptionDiagnoses(_2808.applicationCode)){var _280a=function(){var obj={};var _280b=_2808.applicationCode.split("; ");array.forEach(_280b,function(item){if(item&&dojo.isString(item)&&item.indexOf("=")!==-1){var _280c=item.split("=");var name=_280c[0].trim();var value=_280c[1].trim();obj[name]=value;}});return obj;};var info=_280a();if(info&&info.hasOwnProperty("slxErrorId")){_2809+="<br /><br />";_2809+=self.slxErrorIdInfo+info.slxErrorId;}}_27f9.showError(_2809);}};if(has("ie")){var obj={};if(has("ie")<9){var sXml=(frame.contentDocument.body)?frame.contentDocument.body.innerText:null;if(sXml&&dojo.isString(sXml)){sXml=sXml.trim();var _280d=sXml.split("\n");if(dojo.isArray(_280d)){array.forEach(_280d,function(line,idx){var pos=line.indexOf("- ");if(pos===0){_280d[idx]=line.replace("- ","");}else{pos=line.indexOf("  ");if(pos===0){_280d[idx]=line.replace("  ","");}}});sXml=_280d.join("");obj=_27fb.getSDataDiagnosis(sXml,true);_2807(obj);}}}else{if(frame.contentDocument.documentElement&&frame.contentDocument.documentElement.childNodes.length>=2){if(frame.contentDocument.documentElement.childNodes[1].tagName==="sdata:diagnosis"){var _280e=frame.contentDocument.documentElement.childNodes[1];for(var i=0;i<_280e.childNodes.length;i++){var node=_280e.childNodes[i];if(node.nodeName.indexOf("sdata:")===0){obj[node.nodeName.replace("sdata:","")]=node.textContent;}}_2807(obj);}}}}}catch(err){if(typeof console!=="undefined"){}}if(frame.contentDocument.URL&&typeof frame.contentDocument.URL!=="undefined"){if(self.fileType!=File.fileType.ftLibraryDocs){if(frame.contentDocument.URL.indexOf("attachments")>0){dojo.publish("/entity/attachment/create","");self.hide();}}else{if(frame.contentDocument.URL.indexOf("/documents/file")>0){dojo.publish("/sage/library/manager/libraryDocuments/refresh",null);self.hide();}}}},_onNewFile:function(_280f){if(_280f.srcElement&&_280f.srcElement.value.length>0){if(_280f.srcElement.value){var _2810=_280f.srcElement.value.replace(/^.*[\\\/]/,"");if(this.tb_Description.get("value")===""){var _2811=_2810.split("."),_2812="";if(_2811.length<=2){_2812=_2811[0];}else{for(var i=0;i<_2811.length-1;i++){if(i>0){_2812+=".";}_2812+=_2811[i];}}this.tb_Description.set("value",_2812);}this.tb_realFileName.set("value",_2810);}}},_okClick:function(){if(this.tb_realFileName.get("value")===""){_27f9.showInfo(this.pleaseSelectFile);return;}if(this.fileType===File.fileType.ftLibraryDocs){this._postForm.action=this._buildPostUrl();}this._postForm.submit();if(!this._dialog._standby){_27fd.mixin(this._dialog,new _27fe());}this._dialog.showLoading();},_cancelClick:function(){this.hide();}});return _2803;});},"Sage/Format":function(){define("Sage/Format",["Sage/Utility","dojo/string"],function(_2813,_2814){Sage.Format={phone:function(val,index){if(!val){return "";}if(val.length!==10){return _2813.htmlEncode(val);}return _2814.substitute("(${0}) ${1}-${2}",[val.substring(0,3),val.substring(3,6),val.substring(6)]);},email:function(val,index){if(!val){return "";}var _2815=val;if(this.icon&&this.icon!==""){_2815=(this.icon===true||this.icon==="true")?"<img src=\"images/icons/Send_Write_email_16x16.png\" />":"<img src=\""+this.icon+"\" />";}return dojo.string.substitute("<a href=\"mailto:${0}\">${1}</a>",[val,_2815]);},stringFromArray:function(_2816,arr){switch(arr.length){case 1:return String.format(_2816,arr[0]);case 2:return String.format(_2816,arr[0],arr[1]);case 3:return String.format(_2816,arr[0],arr[1],arr[2]);case 4:return String.format(_2816,arr[0],arr[1],arr[2],arr[3]);case 5:return String.format(_2816,arr[0],arr[1],arr[2],arr[3],arr[4]);case 6:return String.format(_2816,arr[0],arr[1],arr[2],arr[3],arr[4],arr[5]);case 7:return String.format(_2816,arr[0],arr[1],arr[2],arr[3],arr[4],arr[5],arr[6]);case 8:return String.format(_2816,arr[0],arr[1],arr[2],arr[3],arr[4],arr[5],arr[6],arr[7]);case 9:return String.format(_2816,arr[0],arr[1],arr[2],arr[3],arr[4],arr[5],arr[6],arr[7],arr[8]);case 10:return String.format(_2816,arr[0],arr[1],arr[2],arr[3],arr[4],arr[5],arr[6],arr[7],arr[8],arr[9]);default:return _2816;}},abbreviationFormatter:function(_2817){return function(value){if(!value||typeof (value)!="string"||value.length<=_2817){return value;}value=value.substring(0,_2817);var _2818=value.lastIndexOf(" ");if(_2818>0&&_2818>value.length*0.75){value=value.substring(0,_2818);}return value+"...";};},Address:{fullAddressFormatStrings:{"USA":"${0}\r\n${1}\r\n${2}\r\n${3}, ${4} ${5}\r\n${6}","Japan":"${0}\r\n${1}${2}\r\n${3}, ${4} ${5}\r\n${6}"},formatDefault:function(_2819){var _281a="",_281b="",_281c="",cityF="",_281d="",_281e="",_281f="";var _2820="\r\n";for(var i=0;i<_2819.length;i++){switch(_2819[i].name){case "addr1":_281a=(_2819[i].value.length>0)?_2819[i].value:"";break;case "addr2":_281b=(_2819[i].value.length>0)?[_2820,_2819[i].value].join(""):"";break;case "addr3":_281c=(_2819[i].value.length>0)?[_2820,_2819[i].value].join(""):"";break;case "city":cityF=(_2819[i].value.length>0)?[_2820,_2819[i].value,","].join(""):"";break;case "state":var _2821=(_2819[i-1].value.length>0)?"":_2820;_281d=(_2819[i].value.length>0)?[_2821," ",_2819[i].value].join(""):"";break;case "postalCode":_281e=(_2819[i].value.length>0)?[" ",_2819[i].value].join(""):"";break;case "country":_281f=(_2819[i].value.length>0)?[_2820,_2819[i].value].join(""):"";break;}}return [_281a,_281b,_281c,cityF,_281d,_281e,_281f].join("");},formatAddress:function(_2822,_2823){var addr1="",addr2="",addr3="",city="",state="",_2824="",_2825="";var _2826="";for(var i=0;i<_2822.length;i++){switch(_2822[i].name){case "addr1":addr1=_2822[i].value;break;case "addr2":addr2=_2822[i].value;break;case "addr3":addr3=_2822[i].value;break;case "city":city=_2822[i].value;break;case "state":state=_2822[i].value;break;case "postalCode":_2824=_2822[i].value;break;case "country":_2825=_2822[i].value;break;}}if(_2823){switch(_2825){case "USA":_2826=this.formatDefault(_2822);break;case "Japan":_2826=dojo.string.substitute(this.fullAddressFormatStrings["Japan"],[addr1,addr2,addr3,city,state,_2824,_2825]);break;default:_2826=this.formatDefault(_2822);}}else{_2826=this.formatDefault(_2822);}return _2826;}}};return Sage.Format;});},"Sage/QuickForms/Design/Editors/NonVisibleAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/NonVisibleAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/NonVisibleAdvancedPropertyEditor"],function(_2827,lang,_2828,_2829,_282a,_282b,_282c,_282d,_282e,_282f,_2830){return _2827("Sage.QuickForms.Design.Editors.NonVisibleAdvancedPropertyEditor",[_2828,_282e,_282d],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_controlType:null,_controlId:null,titleText:"Advanced",controlInfoText:"Control Info",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",constructor:function(){lang.mixin(this,_2830);},setup:function(){this.inherited(arguments);this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));},_onControlTypeChange:function(value){},_onControlIdChange:function(value){}});});},"Sage/Workspaces/main":function(){define("Sage/Workspaces/main",["Sage/Workspaces/Dialog"],function(){});},"Sage/MailMerge/nls/Loader":function(){define("Sage/MailMerge/nls/Loader",["Sage/LanguageList","dojo/_base/lang"],function(_2831,lang){var nls={root:{decodeFailed:"The call to DecodeMailMergeJsonFromUrl() failed."}};return lang.mixin(_2831,nls);});},"url:Sage/UI/Controls/templates/SingleSelectPickList.html":"<div>\r\n    <select id=\"${id}-Combo\" data-dojo-type=\"Sage.UI.ComboBox\" shouldPublishMarkDirty=\"false\" required=\"${required}\" dojoAttachPoint=\"comboBox\" dojoAttachEvent=\"onChange:_onChange\" tabindex=\"${tabIndex}\">\r\n    </select>\r\n</div>\r\n","url:Sage/templates/ImageButton.html":"<span id=\"${id}\" class=\"dijit dijitReset dijitInline\" role=\"presentation\">\r\n<span class=\"dijitReset dijitInline dijitButtonNode imageButtonNode\" data-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\">\r\n        <span class=\"dijitReset dijitStretch dijitButtonContents\"\r\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\r\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\r\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\">\r\n                <img alt=\"\" src=\"\" data-dojo-attach-point=\"iconNode\"/>\r\n                <div class=\"dijitIcon dijitMenuItemIcon Global_Images icon16x16 ${imageClass}\" data-dojo-attach-point=\"iconNodeSprite\"></div>\r\n            </span\r\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\n\t\t\t\tid=\"${id}_label\"\r\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\r\n\t\t\t></span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\r\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\r/></span>\r\r\n","Sage/Library/DocumentProperties":function(){require({cache:{"url:Sage/Library/templates/DocumentProperties.html":"[\r\n'<div>',\r\n'    <div dojoType=\"dijit.Dialog\" id=\"propertiesDialog\" title=\"{%= Sage.Utility.htmlEncode($.resources.DocumentProperties) %}\" dojoAttachPoint=\"_dialog\">',\r\n'        <div dojoType=\"dijit.form.Form\" id=\"propertiesForm\" method=\"POST\" onSubmit=\"return true;\">',\r\n'            <table style=\"border: 1px solid #9f9f9f;\" cellspacing=\"10\">',\r\n'                <tr>',\r\n'                    <td>',\r\n'                        <label for=\"FileName\">{%= $.resources.FileName %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input class=\"libInputText\" type=\"text\" id=\"fileName\" name=\"fileName\" required=\"true\" maxlength=\"255\" dojoType=\"dijit.form.ValidationTextBox\" />',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <label for=\"CreateDate\">{%= $.resources.Created %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input type=\"text\" id=\"createDate\" name=\"createDate\" disabled=\"disabled\" dojoType=\"dijit.form.DateTextBox\" />',\r\n'                    </td>',\r\n'                </tr>',\r\n'                <tr>',\r\n'                    <td>',\r\n'                        <label for=\"Directroy\">{%= $.resources.Directory %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input class=\"libInputText\" type=\"text\" id=\"directory.fullPath\" name=\"directory.fullPath\" maxlength=\"255\" dojoType=\"dijit.form.TextBox\" />',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <label for=\"RevisionDate\">{%= $.resources.Revised %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input type=\"text\" id=\"revisionDate\" name=\"revisionDate\" required=\"false\" dojoType=\"dijit.form.DateTextBox\" />',\r\n'                    </td>',\r\n'                </tr>',\r\n'                <tr>',\r\n'                    <td>',\r\n'                        <label for=\"Status\">{%= $.resources.Status %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input class=\"libInputText\" type=\"text\" id=\"status\" name=\"status\" required=\"false\" dojoType=\"dijit.form.TextBox\" />',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <label for=\"ExpireDate\">{%= $.resources.Expires %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <div id=\"expiresRoot\" name=\"expiresRoot\"></div>',\r\n'                    </td>',\r\n'                </tr>',\r\n'                <tr>',\r\n'                    <td>',\r\n'                        <label for=\"FileSize\">{%= $.resources.Size %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input class=\"libInputText\" type=\"text\" id=\"fileSize\" name=\"fileSize\" required=\"false\" dojoType=\"dijit.form.TextBox\" />',\r\n'                    </td>',\r\n'                    <td>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input type=\"checkbox\" dojoType=\"dijit.form.CheckBox\" id=\"doNotExpire\" name=\"doNotExpire\" dojoAttachEvent=\"onChange:_doNotExpireChange\" />',\r\n'                        <label for=\"doNotExpire\">{%= $.resources.DoNotExpire %}</label>',\r\n'                    </td>',\r\n'                </tr>',\r\n'            </table>',\r\n'            <label for=\"Description\">{%= $.resources.Description %}:</label>',\r\n'            <br>',\r\n'            <textarea class=\"libTextBox\" id=\"description\" name=\"description\" maxlength=\"255\" dojoType=\"dijit.form.Textarea\"></textarea>',\r\n'            <br>',\r\n'            <label for=\"abstract\">{%= $.resources.Abstract %}:</label>',\r\n'            <br>',\r\n'            <textarea class=\"libTextBox\" id=\"abstract\" name=\"abstract\" dojoType=\"dijit.form.Textarea\"></textarea>',\r\n'            <p></p>',\r\n'            <input type=\"checkbox\" dojoType=\"dijit.form.CheckBox\" id=\"forceDistribution\" name=\"forceDistribution\" />',\r\n'            <label for=\"forceDistribution\">{%= $.resources.ForceDistribution %}</label>',\r\n'            <div style=\"text-align: right\">',\r\n'                <button class=\"libOkBtn\" dojoType=\"dijit.form.Button\" id=\"okButton\" type=\"button\" dojoAttachEvent=\"onClick:_submitClick\">{%= $.resources.OK %}</button>',\r\n'                &nbsp;',\r\n'                <button dojoType=\"dijit.form.Button\" id=\"cancelButton\" type=\"button\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.resources.Cancel %}</button>',\r\n'            </div>',\r\n'            <div style=\"display: none\">',\r\n'                <input type=\"text\" dojoType=\"dijit.form.DateTextBox\" id=\"expireDate\" name=\"expireDate\" value=\"\" />',\r\n'            </div>',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"$key\" name=\"$key\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"$etag\" name=\"$etag\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"expires\" name=\"expires\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"flags\" name=\"flags\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"abstract$originalValue\" name=\"abstract$originalValue\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"description$originalValue\" name=\"description$originalValue\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"expireDate$originalValue\" name=\"expireDate$originalValue\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"fileName$originalValue\" name=\"fileName$originalValue\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"revisionDate$originalValue\" name=\"revisionDate$originalValue\" value=\"\" />',\r\n'        </div>',\r\n'    </div>',\r\n'</div>'\r\n]"}});define("Sage/Library/DocumentProperties",["Sage/_Templated","dijit/_Widget","dojo/i18n","Sage/Utility","dijit/Dialog","dijit/form/CheckBox","dijit/form/DateTextBox","dijit/form/Form","dijit/form/Textarea","dijit/form/TextBox","dijit/form/ValidationTextBox","dijit/layout/LayoutContainer","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dojo/dom-construct","dojo/i18n!./nls/DocumentProperties","dojo/text!./templates/DocumentProperties.html","dojo/_base/declare"],function(_2832,_2833,i18n,_2834,_2835,_2836,_2837,Form,_2838,_2839,_283a,_283b,_283c,dLang,_283d,nls,_283e,_283f){var _2840=_283f("Sage.Library.DocumentProperties",[_2833,_2832],{_cancelClick:function(){this.hide();},_dialog:false,_doNotExpireChange:function(_2841){if(this._ready){if(_2841===true){this._updateExpires(false,null);}else{var _2842=dijit.byId("expireDate$originalValue").get("value");var _2843=new Date();if(_2842&&dojo.isString(_2842)&&_2834.Convert.isDateString(_2842)){_2843=_2834.Convert.toDateFromString(_2842);_2843=new Date(_2843.getUTCFullYear(),_2843.getUTCMonth(),_2843.getUTCDate());}this._updateExpires(true,_2843);}}},_neverExpireDate:new Date(2099,0,1),_ready:false,_submitClick:function(){this.hide();Sage.Library.FileHandler.validateProperties(this.getData());},_updateExpires:function(_2844,_2845){if(_2844===false){var _2846=dijit.byId("neverExpireControl");if(!_2846){_2846=new _2839({},"neverExpireControl");_2846.set("disabled","disabled");}_2846.set("value",this.resources.Never);dijit.byId("expireDate").set("value",this._neverExpireDate);dojo.place(_2846.domNode,"expiresRoot","only");}else{var _2847=dijit.byId("expireDateControl");if(!_2847){_2847=new _2837({},"expireDateControl");_2847.set("onChange",function(_2848){dijit.byId("expireDate").set("value",_2848);});}_2847.set("value",_2845);dojo.place(_2847.domNode,"expiresRoot","only");}},resources:{},constructor:function(){this.inherited(arguments);this.resources={};},postMixInProperties:function(){dLang.mixin(this.resources,nls);this.inherited(arguments);},postCreate:function(){this.inherited(arguments);var _2849=dijit.byId("fileName");if(_2849){_2849.regExp="[^\\\\/:\"*?<>|\r\n]+";_2849.invalidMessage=this.resources.InvalidFileName;}dLang.mixin(this._dialog,new _283c());this._dialog.createHelpIconByTopic("libraryfileproperties");},getData:function(){var form=dijit.byId("propertiesForm");if(form){return form.get("value");}return false;},hide:function(){this._dialog.hide();},show:function(entry,_284a){this._ready=false;var self=this;var form=dijit.byId("propertiesForm");if(!this._dialog.onFocusEvent){this._dialog.onFocusEvent=dojo.connect(this._dialog,"onFocus",function(){if(form){self._updateExpires(entry.expires,entry["expireDate"]);form.set("value",entry);}self._ready=true;});}if(!this._dialog.onHideEvent){this._dialog.onHideEvent=dojo.connect(this._dialog,"onHide",function(){dojo.disconnect(self._dialog.onFocusEvent);dojo.disconnect(self._dialog.onHideEvent);self._dialog.onFocusEvent=null;self._dialog.onHideEvent=null;self._ready=false;});}dijit.byId("doNotExpire").set("checked",(entry.expires===false));dijit.byId("forceDistribution").set("checked",(entry.flags===1));dijit.byId("directory.fullPath").set("readOnly",true);dijit.byId("status").set("readOnly",true);dijit.byId("fileSize").set("readOnly",true);if(_284a){dijit.byId("doNotExpire").set("disabled","disabled");dijit.byId("forceDistribution").set("disabled","disabled");dijit.byId("fileName").set("readOnly",true);dijit.byId("revisionDate").set("disabled","disabled");dijit.byId("description").set("readOnly",true);dijit.byId("abstract").set("readOnly",true);dijit.byId("okButton").set("disabled","disabled");}this._dialog.show();},widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_283e))});return _2840;});},"Sage/QuickForms/Design/Editors/PickListBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/PickListBasicPropertyEditor",["dojo/string","dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","dijit/form/ComboBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","Sage/Services/_ServiceMixin","dojo/i18n!./nls/PickListBasicPropertyEditor"],function(_284b,_284c,lang,_284d,_284e,_284f,_2850,_2851,_2852,_2853,_2854,_2855,_2856,_2857,_2858){return _284c("Sage.QuickForms.Design.Editors.PickListBasicPropertyEditor",[_284d,_2855,_2854,_2857],{serviceMap:{"dataService":{type:"sdata",name:"system"}},widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.toolTipTooltipText %}\">","<label>{%= $.toolTipText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_toolTip\" data-dojo-attach-event=\"onChange:_onToolTipChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.isReadOnlyTooltipText %}\">","<label>{%= $.isReadOnlyText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_isReadOnly\" data-dojo-attach-event=\"onChange:_onIsReadOnlyChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_2858);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);},_onIsReadOnlyChange:function(value){if(this.isSuspended()){return;}this._designer.set("isReadOnly",value);},_onToolTipChange:function(value){if(this.isSuspended()){return;}this._designer.set("toolTip",value);}});});},"Sage/UI/SDataMainViewConfigurationProvider":function(){define("Sage/UI/SDataMainViewConfigurationProvider",["Sage/UI/ListPanel","Sage/_ConfigurationProvider","Sage/UI/TitleContentPane","Sage/UI/DetailPanel","Sage/UI/_DetailPanelConfigurationProvider","dojo/_base/declare"],function(_2859,_285a,_285b,_285c,_285d,_285e){var _285f=_285e("Sage.UI.SDataMainViewConfigurationProvider",[_285a,Sage.UI._TitlePaneConfigProvider,_285d],{entityType:"",service:null,listPanelConfiguration:false,constructor:function(_2860){this.listPanelConfiguration=this.listPanelConfiguration||{list:{},detail:false,summary:false};this.titlePaneConfiguration=this.titlePaneConfiguration||{tabs:false,menu:false,titleFmtString:"${0}"};var eCtx=Sage.Services.getService("ClientEntityContext");if(eCtx){eCtx.setContext({EntityType:this.entityType});}var _2861=Sage.Services.getService("ClientGroupContext");if(_2861){dojo.connect(_2861,"onCurrentGroupChanged",this,"handleProfileChanged");}if(Sage.Services.hasService("MainViewConfigurationProvider")){Sage.Services.removeService("MainViewConfigurationProvider");}},handleProfileChanged:function(opt){this.onConfigurationChange(opt);},requestConfiguration:function(_2862){if(_2862.success&&this.listPanelConfiguration){_2862.success.call(_2862.scope||this,this.listPanelConfiguration,this);}}});return _285f;});},"url:Sage/MainView/JobMgr/templates/RunJobDialog.html":"[\r\n    '<div>',\r\n        '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.nlsResources.dlgRunJob_Title %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_dialog_OnCancel, onShow:_dialog_OnShow\" style=\"width: 525px\">',\r\n            '<div data-dojo-type=\"dijit.form.Form\">',\r\n                '<table cellspacing=\"10\">',                    \r\n                    '<tr>',\r\n                        '<td style=\"width:150px\">',\r\n                            '<label>{%= $.nlsResources.txtJobName_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtJobName\" required=\"true\" dojoType=\"dijit.form.TextBox\" disabled=\"disabled\" style=\"width:320px\" />',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td style=\"width:150px\">',\r\n                            '<label>{%= $.nlsResources.txtTriggerDescription_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtTriggerDescription\" required=\"true\" dojoType=\"dijit.form.TextBox\" style=\"width:320px\" />',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td>',\r\n                            '<label>{%= $.nlsResources.cmbScheduleType_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbScheduleType\" dojoAttachEvent=\"onChange:_cmbScheduleType_OnChange\" style=\"width:150px\" >',\r\n                                '<option value=\"now\">{%= $.nlsResources.txtRunNow %}</option>',\r\n                                '<option value=\"scheduled\">{%= $.nlsResources.txtScheduledExecution %}</option>',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n                '<div data-dojo-type=\"Sage.UI.JobSchedulingWidget\" id=\"jobSchedulingWidget\" data-dojo-attach-point=\"jobSchedulingWidget\"></div>',\r\n                '<div dojoType=\"dijit.layout.TabContainer\" dojoAttachPoint=\"tabsContainer\" class=\"tab-container\" style=\"width:100%; height:250px\">',\r\n                    '<div dojoType=\"dijit.layout.ContentPane\"  title=\"{%= $.nlsResources.contentPaneParameters_Caption %}\" class=\"tabContent remove-padding\" dojoAttachPoint=\"contentPaneParameters\">',\r\n                        '<div id=\"divGrdParameters\" style=\"height:200px;\">',\r\n                            '<table data-dojo-type=\"dojox.grid.DataGrid\" dojoAttachPoint=\"grdJobParameters\">',\r\n                                '<thead>',\r\n                                    '<th field=\"name\" width=\"100px\">{%= $.nlsResources.colName_Caption %}</th>',\r\n                                    '<th id=\"parameterValue\" field=\"defaultValue\" width=\"100px\" editable=\"true\">{%= $.nlsResources.colValue_Caption %}</th>',\r\n                                    '<th field=\"description\" width=\"225px\">{%= $.nlsResources.colDescription_Caption %}</th>',\r\n                                '</thead>',\r\n                            '</table>',\r\n                        '</div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div align=\"right\" style=\"margin-top:10px\">',\r\n                    '<div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdOK\" dojoAttachEvent=\"onClick:_cmdOK_OnClick\">{%= $.nlsResources.cmdOK_Caption %}</div>',\r\n                    '<div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= $.nlsResources.cmdCancel_Caption %}</div>',\r\n                '</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>'\r\n]","Sage/MainView/ReportMgr/Common/ExportOptionsDialog":function(){require({cache:{"url:Sage/MainView/ReportMgr/Common/templates/ExportOptionsDialog.html":"<div>\r\n    <div data-dojo-type=\"dijit.Dialog\" title=\"{%= $._getDialogTitle() %}\" dojoattachpoint=\"_dialog\" dojoattachevent=\"onCancel:_dialog_OnCancel\" style=\"width: 600px\">\r\n        <div data-dojo-type=\"dijit.form.Form\">\r\n            <div style=\"overflow:auto\">\r\n                <div dojoattachpoint=\"containerDiv\" id=\"containerDiv\" style=\"height:350px; overflow:auto\">\r\n                    <table cellspacing=\"10\">\r\n                        <tr dojoAttachpoint=\"trScheduleDescription\">\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtScheduleDescription_Caption %}:</label>\r\n                            </td>\r\n                            <td>\r\n                                <input type=\"text\" dojoAttachPoint=\"txtScheduleDescription\" required=\"true\" dojoType=\"dijit.form.TextBox\" style=\"width:300px\" />\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtOutputFormat_Caption %}:</label>\r\n                            </td>\r\n                            <td>\r\n                                <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbOutputFormat\" sortByLabel=\"false\" style=\"width:300px\" >\r\n                                </select>\r\n                            </td>\r\n                        </tr>\r\n                        <tr dojoAttachpoint=\"trRunAsUserId\">\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtRunAs_Caption %}:</label>\r\n                            </td>\r\n                            <td>\r\n                                <div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $._nlsResources.txtRunAs_Caption %}\" dojoAttachPoint=\"container_lkpRunAsUserId\" style=\"padding: 0 !important;\"></div>                            \r\n                            </td>\r\n                        </tr>\r\n                        <tr dojoAttachpoint=\"trSchedulingWidget\">                            \r\n                            <td colspan=\"2\">\r\n                                <div data-dojo-type=\"Sage.UI.JobSchedulingWidget\" id=\"jobSchedulingWidget\" data-dojo-attach-point=\"jobSchedulingWidget\"></div>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div align=\"right\" style=\"margin-top:10px\">\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdBack\" dojoAttachEvent=\"onClick:_cmdBack_OnClick\" >{%= Sage.Utility.htmlEncode($._nlsResources.cmdBack_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdNext\" dojoAttachEvent=\"onClick:_cmdNext_OnClick\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdNext_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdCancel_Caption) %}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"}});define("Sage/MainView/ReportMgr/Common/ExportOptionsDialog",["dojo/_base/declare","dojo/_base/array","Sage/Reporting/Enumerations","dojo/text!./templates/ExportOptionsDialog.html","dojo/i18n!./nls/ExportOptionsDialog","Sage/UI/Controls/Lookup","Sage/MainView/ReportMgr/ReportManagerUtility","dojo/data/ItemFileWriteStore","Sage/MainView/ReportMgr/Common/_WizardDialogBase","Sage/Utility","Sage/UI/JobSchedulingWidget","dijit/Dialog","dijit/form/Form"],function(_2863,_2864,_2865,_2866,_2867,_2868,_2869,_286a,_286b,_286c,_286d){var _286e=_286c.makeTemplateFromString(_2866);var _286f=_2863("Sage.MainView.ReportMgr.Common.ExportOptionsDialog",[_286b],{id:"dlgExportOptions",_nlsResources:_2867,_helpIconTopic:"RptscheduleWiz",_currentStep:_2865.CrystalReportWizardStep.ExportOptions,_scheduleOptions:null,_exportOptions:null,widgetTemplate:_286e,constructor:function(_2870){this._initializeWizardOptions(_2870);this._scheduleOptions=_2870.scheduleOptions;this._exportOptions=_2870.exportOptions;},destroy:function(){this.lkpRunAsUserId.destroyRecursive();this.cmbOutputFormat.destroyRecursive();if(this.jobSchedulingWidget){this.jobSchedulingWidget.destroyRecursive();}this._dialog.destroyRecursive();this.inherited(arguments);},show:function(){this.jobSchedulingWidget.initialize({trigger:this._scheduleOptions.trigger});this.inherited(arguments);},startup:function(){this.inherited(arguments);this._createRunAsLookup();this._setControlsVisibility();this._initializeOutputFormatDropdown();this._initializeTextboxes();},isValid:function(){var valid=true;if(this._scheduleOptions.executionType===_2865.ExecutionType.Scheduled){valid=this.jobSchedulingWidget.validateSchedule();}return valid;},_initializeTextboxes:function(){var _2871=this._scheduleOptions.trigger?this._scheduleOptions.trigger.$descriptor:this.reportMetadata.displayName;this.txtScheduleDescription.set("value",_2871);},_initializeOutputFormatDropdown:function(){var _2872=_2869.getOutputFormats(this.reportMetadata.reportType);var data={identifier:"outputFormat",label:"caption",items:_2872};var store=new _286a({data:data});this.cmbOutputFormat.setStore(store);this.cmbOutputFormat.startup();if(this._exportOptions.outputFormat){this.cmbOutputFormat.attr("value",this._exportOptions.outputFormat);}},_createRunAsLookup:function(){var _2873={id:"_lkpRunAsUserId",structure:[{cells:[{name:_2867.txtName,field:"UserInfo.UserName",sortable:true,width:"400px",editable:false,propertyType:"System.String",excludeFromFilters:false,defaultValue:""}]}],gridOptions:{contextualCondition:function(){return "Type ne 5 and Type ne 8 and Type ne 6";},contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"users",include:["UserInfo"],sort:[{attribute:"UserInfo.UserName"}]},isModal:true,preFilters:[],returnPrimaryKey:true,dialogTitle:_2867.txtSelectUser,dialogButtonText:_2867.txtOK};this.lkpRunAsUserId=new _2868({id:"lkpRunAsUserId",readonly:false,config:_2873});dojo.place(this.lkpRunAsUserId.domNode,this.container_lkpRunAsUserId.domNode,"only");if(this._exportOptions.runAsUserId){var user=_2869.getUser(this._exportOptions.runAsUserId);this.lkpRunAsUserId.set("selectedObject",user);}},_getWizardStepResult:function(){var _2874={exportOptions:this._getExportOptions(),scheduleOptions:this._getScheduleOptions()};return _2874;},_getExportOptions:function(){this._exportOptions.description=this.txtScheduleDescription.get("value");this._exportOptions.outputFormat=this.cmbOutputFormat.value;this._exportOptions.runAsUserId=this.lkpRunAsUserId.selectedObject?this.lkpRunAsUserId.selectedObject.$key:null;return this._exportOptions;},_getScheduleOptions:function(){if(this._scheduleOptions.executionType==_2865.ExecutionType.OnDemand){this._scheduleOptions.executionType=_2865.ExecutionType.OnDemand;}else{var _2875=this.jobSchedulingWidget.getJobSchedulingOptions();var _2876=null;var _2877=null;var _2878=null;if(_2875){if(_2875.startTime&&(_2875.startTime instanceof Date)){_2876=_286c.Convert.toJsonStringFromDate(_2875.startTime);}if(_2875.endTime&&(_2875.endTime instanceof Date)){_2877=_286c.Convert.toJsonStringFromDate(_2875.endTime);}_2878=_2875.cronExpression;}this._scheduleOptions.startTime=_2876;this._scheduleOptions.endTime=_2877;this._scheduleOptions.cronExpression=_2878;this._scheduleOptions.scheduleDescription=this.txtScheduleDescription.get("value");this._scheduleOptions.executionType=_2865.ExecutionType.Scheduled;}return this._scheduleOptions;},_setControlsVisibility:function(){var svc=Sage.Services.getService("RoleSecurityService");if(svc){if(!svc.hasAccess("Entities/ReportManager/RunAsUser")){_2869.setDomNodeVisible(this.trRunAsUserId,false);}}var _2879=(this._scheduleOptions.executionType===_2865.ExecutionType.Scheduled);_2869.setDomNodeVisible(this.trSchedulingWidget,_2879);},_getDialogTitle:function(){if(this._scheduleOptions.executionType===_2865.ExecutionType.OnDemand){return this._nlsResources.txtDialogTitle+" ["+this._reportMetadata.displayName+"]";}else{return this._nlsResources.txtDialogTitleScheduling+" ["+this._reportMetadata.displayName+"]";}}});return _286f;});},"Sage/UI/Controls/nls/DateTimePicker":function(){define("Sage/UI/Controls/nls/DateTimePicker",["Sage/LanguageList","dojo/_base/lang"],function(_287a,lang){var nls={root:{okText:"OK",cancelText:"Cancel",convertDescription:"Compare to another time zone.",convertText:"Compare",calculatorText:"Time Zone Calculator",timeZoneSourceText:"Current Time Zone",timeZoneDestText:"Comparison Time Zone",buttonToolTip:"Calendar",timeStartText:"Time",timeZoneCalculatorText:"Time Zone Calculator"}};return lang.mixin(_287a,nls);});},"Sage/UI/GroupMenuFmtScope":function(){define("Sage/UI/GroupMenuFmtScope",["dijit/form/CheckBox","dojo/_base/declare"],function(_287b,_287c){var scope=_287c("Sage.UI.GroupMenuFmtScope",null,{store:null,currentGroupId:"",constructor:function(args){this.store=args.store;this.currentGroupId="";var _287d=Sage.Services.getService("ClientGroupContext");if(_287d){dojo.connect(_287d,"onCurrentGroupChanged",this,"onCurrentGroupChanged");}},fmtSelectedCol:function(value,idx){if(this.currentGroupId===""){var _287e=Sage.Services.getService("ClientGroupContext");if(_287e){var _287f=_287e.getContext();this.currentGroupId=(_287f.CurrentGroupID==="LOOKUPRESULTS")?"p6UJ9A00024G":_287f.CurrentGroupID;}}return (value===this.currentGroupId)?["<span id=\"",value,"\" >&#10003;</span>"].join(""):["<span id=\"",value,"\" >&nbsp;</span>"].join("");},fmtHideCol:function(value,idx,cell){var grid=cell.grid,item=grid.getItem(idx),_2880=new _287b();_2880.set("checked",!value);_2880.on("click",function(){var _2881=_2880.get("checked"),svc=Sage.Services.getService("RoleSecurityService");if(svc.hasAccess("Entities/Group/Edit")){if(_2881){Sage.Groups.GroupManager.UnHideGroup(item["$key"],true);}else{Sage.Groups.GroupManager.HideGroup(item["$key"],true);}}});return _2880;},onCurrentGroupChanged:function(){this.currentGroupId="";var _2882=Sage.Services.getService("ClientGroupContext");var _2883=_2882.getContext();if(dijit.byId("GroupTabs").selectedChildWidget.id!==_2883.CurrentGroupID){dijit.byId("GroupTabs").selectChild(_2883.CurrentGroupID);}}});return scope;});},"Sage/UI/AttachmentList":function(){define("Sage/UI/AttachmentList",["dijit/_Widget","Sage/UI/EditableGrid","Sage/Data/SDataServiceRegistry","dojo/string","Sage/UI/Columns/DateTime","Sage/UI/Columns/SlxLink","Sage/Utility","Sage/Utility/File","Sage/Utility/File/Attachment","Sage/UI/Dialogs","Sage/Utility/File/AttachmentPropertiesEditForm","Sage/Utility/File/FallbackFilePicker","Sage/Utility/File/AddURLAttachment","Sage/Utility/File/GoogleDocPicker","Sage/UI/SLXPreviewGrid","Sage/UI/SLXPreviewGrid/Filter/DateRange","Sage/UI/SLXPreviewGrid/Filter/Text","dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/_base/connect","dojo/i18n!./nls/AttachmentList"],function(_2884,_2885,_2886,_2887,_2888,_2889,_288a,_288b,_288c,_288d,_288e,_288f,_2890,_2891,_2892,_2893,_2894,_2895,_2896,lang,_2897,_2898){var _2899=_2895("Sage.UI.AttachmentList",[_2884],{placeHolder:"",conditionFmt:"",parentRelationshipName:"",workspace:"",tabId:"",fileInputBtn:false,_fileInputOnChange:null,_attachmentEditor:false,_newAttachmentsCache:[],subscriptions:[],constructor:function(){lang.mixin(this,_2898);this.subscriptions=[];},startup:function(_289a){this._checkDbType(_289a);},_checkDbType:function(_289b){var svc=Sage.Services.getService("SystemOptions");svc.get("DbType",function(val){this._buildGrid(val==="2"||val==="3");if(typeof _289b=="function"){_289b(this);}},function(){this._buildGrid(false);if(typeof _289b=="function"){_289b(this);}},this);},_buildGrid:function(_289c){var _289d=[{field:"$key",editable:false,hidden:true,id:"id",formatter:function(value,_289e,cel){var _289f=[cel.grid.id,"-row",_289e].join("");var id=(_288a.getModeId()==="insert")?_289f:value;var _28a0=["<div id=",id," >",id,"</ div>"].join("");return _28a0;}},{field:"description",name:_2898.attachmentText,format:function(_28a1,_28a2){if(!_28a2){return this.defaultValue;}if(_28a2["url"]){var href=_28a2["url"]||"";href=(href.indexOf("http")<0)?"http://"+href:href;return _2887.substitute("<a href=\"${0}\" target=\"_blank\" title=\"${1}\">${2}</a>",[href,_28a2["url"],_28a2["$descriptor"]]);}else{if(_28a2["fileExists"]){return _2887.substitute("<a href=\"javascript: Sage.Utility.File.Attachment.getAttachment('${0}');\" title=\"${1}\">${1}</a>",[_28a2["$key"],_28a2["$descriptor"]]);}else{return _28a2["$descriptor"];}}},filterConfig:{widgetType:_2894},width:"300px"},{field:"user",name:_2898.userText,format:function(_28a3,_28a4){if(!_28a4){return "";}var user=(_28a4.hasOwnProperty("user")&&typeof _28a4["user"]==="object")?_28a4.user:null;if(!user){return "";}return user["$descriptor"];},width:"120px"},{field:"attachDate",name:_2898.modDateText,filterConfig:{widgetType:_2893,label:_2898.dateRangeText},type:_2888,width:"175px"},{field:"fileSize",name:_2898.sizeText,formatter:function(v){return _288b.formatFileSize(v);},width:"120px"},{field:"fileName",name:_2898.extensionText,formatter:function(s,_28a5,cell){if(!s){return ".";}return s.substr(s.lastIndexOf("."));},sortable:false,width:"120px"}];var tools=[{id:this.id+"_btnBrowse",imageClass:"icon_plus_16x16",handler:this.browseForFiles,title:_2898.addFileText,alternateText:_2898.addFileText,appliedSecurity:"",scope:this},{id:this.id+"_btnAddUrl",imageClass:"icon_Internet_Service_Add_16x16",handler:this.addUrlAttachment,title:_2898.addUrlText,appliedSecurity:"",alternateText:_2898.addUrlText,scope:this},{id:this.id+"_btnEditAttachProps",imageClass:"icon_Edit_Item_16x16",handler:this.editSelectedAttachment,title:_2898.editText,appliedSecurity:"",alternateText:_2898.editText,scope:this},{id:this.id+"_btnDeleteAttachment",imageClass:"icon_Delete_16x16",title:_2898.deleteText,handler:this.deleteSelectedAttachment,appliedSecurity:"",alternateText:_2898.deleteText,scope:this},{id:this.id+"_btnHelp",imageClass:"icon_Help_16x16",handler:function(){_288a.openHelp("attachmentstab");},title:_2898.helpText,alternateText:_2898.helpText,appliedSecurity:""}];if(_289c){var _28a6={field:"remoteStatus",name:"&nbsp;",width:"300px",format:function(_28a7,_28a8){if(!_28a8){return this.defaultValue;}var _28a9=(_28a8["remoteStatus"])?_28a8["remoteStatus"]:(_28a8["fileExists"])?"Delivered":"Available";if(!_28a8["dataType"]){_28a9="X";}var link=_2887.substitute("<a href=\"javascript:Sage.Utility.File.Attachment.remoteRequestAttachment('${0}')\">${1}</a>",[_28a8["$key"],_2898.request]);switch(_28a9){case "Available":return _2898.available+" - "+link;case "Requested":return _2898.requested;case "Delivered":return _2898.delivered+" - "+link;default:return " ";}}};_289d.splice(2,0,_28a6);}var _28aa=this.parentRelationshipName;var _28ab=_288a.getCurrentEntityId();if(_28aa==="activityId"){_28ab=_28ab.substr(0,12);}var _28ac={readOnly:true,columns:_289d,tools:tools,storeOptions:{service:_2886.getSDataService("system"),resourceKind:"attachments",include:["$descriptors"],select:["description","user","attachDate","fileSize","fileName","url","fileExists","remoteStatus","dataType"],sort:[{attribute:"attachDate"}]},slxContext:{"workspace":this.workspace,tabId:this.tabId},contextualCondition:function(){return (_28aa||"'A'")+" eq '"+_28ab+"'";},id:this.id+"_attachments",rowsPerPage:20};var curId=_288a.getCurrentEntityId();if(!curId){_28ac.storeOptions["isInsertMode"]=true;}this.onBeforeCreateGrid(_28ac);var grid=new _2892.Grid(_28ac,this.placeHolder);grid.setSortColumn("attachDate");this._grid=grid._grid;this._previewGrid=grid;grid.startup();if(this.workspace){var _28ad=dijit.byId("tabContent");_28ad.resize();_28ad.resize();}var self=this;this.fileInputBtn=dojo.doc.createElement("INPUT");dojo.attr(this.fileInputBtn,{"type":"file","multiple":"true","accept":"*/*","class":"display-none"});dojo.place(this.fileInputBtn,this.domNode,"last");self._fileInputOnChange=_2897.connect(this.fileInputBtn,"onchange",self,self.handleFiles);this.subscriptions.push(dojo.subscribe("/entity/attachment/create",this,this.onNewAttachmentEntity));this.subscriptions.push(dojo.subscribe("/entity/attachment/update",this,this.onAttachmentUpdated));if(_289c){this.subscriptions.push(dojo.subscribe("/entity/attachment/requested",this,this.onAttachmentUpdated));}dojo.connect(grid,"destroy",this,this.destroy);var _28ae=Sage.Services.getService("ClientEntityContext");var ctx=_28ae.getContext();this.contextEntityType=ctx.EntityType;},refresh:function(){if(this._grid){var _28af=this._grid.get("mode");var curId=_288a.getCurrentEntityId();if((!curId&&_28af!=="insert")||(curId&&_28af==="insert")){this._grid.set("mode",(!curId)?"insert":"");}this._previewGrid.refresh();}},resetEntityContext:function(){var _28b0=this.parentRelationshipName;var _28b1=_288a.getCurrentEntityId();if(_28b0==="activityId"){_28b1=_28b1.substr(0,12);}var _28b2=function(){return (_28b0||"'A'")+" eq '"+_28b1+"'";};this._previewGrid.resetContextualCondition(_28b2);this.refresh();},destroy:function(){var len=this.subscriptions.length;for(var i=0;i<len;i++){dojo.unsubscribe(this.subscriptions.pop());}},handleFiles:function(e){var files=this.fileInputBtn.files;this._createAttachments(files);},handleGearsDesktopFileSelect:function(files){if(files.length>0){_288c.createAttachments(files);}},_createAttachments:function(files){if(files.length>0){_288c.createAttachments(files);}},onNewAttachmentEntity:function(_28b3){var _28b4=Sage.Services.getService("ClientEntityContext");var ctx=_28b4.getContext();if(this.contextEntityType!==ctx.EntityType){return;}if(this._grid.mode==="insert"){if(!_28b3){this._getFallBackPickerAttachment();return;}else{this._newAttachmentsCache.push(_28b3);this._grid.store.addToCache(this,_28b3,1);}}this._previewGrid.refresh();},_getFallBackPickerAttachment:function(){var _28b5=dijit.byId("activityEditor");var _28b6="activityId";if(!_28b5||!_28b5._tempIdForAttachments){_28b5=dijit.byId("historyEditor")||{};_28b6="historyId";}var _28b7=_28b5._tempIdForAttachments;if(_28b7){var req=new Sage.SData.Client.SDataResourceCollectionRequest(_2886.getSDataService("system")).setResourceKind("attachments").setQueryArg("select",["description","userId","attachDate","fileSize","fileName","url","fileExists"].join(",")).setQueryArg("where",_28b6+" eq '"+_28b7+"'").setStartIndex(1).setCount(50);req.read({success:this._receivedFallBackPickerAttachments,failure:function(){},scope:this});}},_receivedFallBackPickerAttachments:function(data){var _28b8=data.$resources;this.clearNewAttachments();for(var i=0;i<_28b8.length;i++){var att=_28b8[i];this._newAttachmentsCache.push(att);this._grid.store.addToCache(this,att,i);}this._previewGrid.refresh();},onAttachmentUpdated:function(_28b9){var _28ba=Sage.Services.getService("ClientEntityContext");var ctx=_28ba.getContext();if(this.contextEntityType!==ctx.EntityType){return;}if(this._grid.mode==="insert"){var _28bb=this._newAttachmentsCache;for(var i=0;i<_28bb.length;i++){if(_28bb[i].$key===_28b9.$key){lang.mixin(_28bb[i],_28b9);}}}this._previewGrid.refresh();},getNewAttachments:function(){return this._newAttachmentsCache;},clearNewAttachments:function(){this._newAttachmentsCache=[];this._grid.store.clearCache();},_editAttachmentInfo:function(_28bc){if(!this._attachmentEditor){this._attachmentEditor=new _288e();}this._attachmentEditor.set("attachmentId",_28bc);this._attachmentEditor.show();},browseForFiles:function(e){if(Sage.gears){var _28bd=Sage.gears.factory.create("beta.desktop");_28bd.openFiles(this.handleGearsDesktopFileSelect);}else{if(_288b.supportsHTML5File){var node=this.fileInputBtn.cloneNode();_2896.destroy(this.fileInputBtn);_2896.place(node,this.domNode,"last");this.fileInputBtn=node;_2897.disconnect(this._fileInputOnChange);this._fileInputOnChange=_2897.connect(this.fileInputBtn,"onchange",this,this.handleFiles);this.fileInputBtn.click();}else{var fbfp=dijit.byId("fallbackFilePicker");if(!fbfp){fbfp=new _288f({id:"fallbackFilePicker"});}fbfp.show();}}},addUrlAttachment:function(e){var ed=dijit.byId("urlAttachmentEditor");if(!ed){ed=new _2890({id:"urlAttachmentEditor"});}ed.set("attachmentId","");ed.show();},editSelectedAttachment:function(){var _28be=this._grid.selection.getSelected();if(_28be.length<1){return;}var item=_28be[0];this._editAttachmentInfo(item["$key"]);},deleteSelectedAttachment:function(){this._grid.deleteSelected(function(){dojo.publish("/entity/attachment/delete");});},addGoogle:function(){var _28bf=dijit.byId("googleDocumentPicker");if(!_28bf){_28bf=new _2891({id:"googleDocumentPicker"});dojo.connect(_28bf,"onDocumentSelected",this,"_handleGoogleDocPicked");}_28bf.pick();},_handleGoogleDocPicked:function(title,url){var _28c0=new Sage.SData.Client.SDataTemplateResourceRequest(_2886.getSDataService("system"));_28c0.setResourceKind("attachments");_28c0.read({success:function(_28c1){_28c1.description=dojo.isArray(title)?title[0]:title;_28c1.url=dojo.isArray(url)?url[0]:url;this._addRelationshipsToGoogleDocAttachment(_28c1);},failure:function(err){},scope:this});},_addRelationshipsToGoogleDocAttachment:function(_28c2){_288c.getKnownRelationships(function(rels){var _28c3=lang.mixin(_28c2,rels);_28c3.user={"$key":_288a.getClientContextByKey("userID")||""};_28c3.attachDate=_288a.Convert.toIsoStringFromDate(new Date());var _28c4=new Sage.SData.Client.SDataSingleResourceRequest(_2886.getSDataService("system")).setResourceKind("attachments");_28c4.create(_28c3,{success:function(att){dojo.publish("/entity/attachment/create",att);},failure:function(err){},scope:this});},this);},onBeforeCreateGrid:function(_28c5){},setToReadOnly:function(_28c6){var _28c7=[this.id+"_btnBrowse",this.id+"_btnAddUrl",this.id+"_btnEditAttachProps",this.id+"_btnDeleteAttachment"];this._bulkSetProperty(this,_28c7,"disabled",_28c6);},_bulkSetProperty:function(ui,_28c8,prop,val){for(var i=0;i<_28c8.length;i++){var ctrl=dijit.byId(_28c8[i]);if(ctrl){ctrl.set(prop,val);}}}});return _2899;});},"Sage/MainView/SecurityMgr/SecurityManagerGroupContext":function(){define("Sage/MainView/SecurityMgr/SecurityManagerGroupContext",["Sage/Groups/GroupContextService","dojo/_base/declare"],function(_28c9,_28ca){var _28cb=_28ca("Sage.MainView.SecurityMgr.SecurityManagerGroupContext",_28c9,{_currentContext:{},constructor:function(){dojo.mixin(this._currentContext,this._emptyContext);},getContext:function(){if(this._currentContext.CurrentGroupID===null){this.requestContext();}return this._currentContext;},requestContext:function(){if(this._isRetrievingContext===true){return;}this.setContext("PROF00000001","Read/Write Default");},setContext:function(id,name){this._currentContext.CurrentGroupID=id;this._currentContext.CurrentName=name;this._isRetrievingContext=false;},setCurrentGroup:function(id,name){this.setContext(id,name);this.onCurrentGroupChanged({current:this._currentContext});}});return _28cb;});},"Sage/MainView/ReportMgr/nls/ReportManagerActions":function(){define("Sage/MainView/ReportMgr/nls/ReportManagerActions",["Sage/LanguageList","dojo/_base/lang"],function(_28cc,lang){var nls={root:{txtSelectRecord:"Please select a record in the list before continuing.",txtInvalidSelectionCount:"You must have at least one record selected before continuing.",confirm_Deletion:"Are you sure you want to delete the selected ${0}?",confirm_Report:"report",confirm_Schedule:"schedule",confirm_ReportHistory:"report history record",txtYes:"Yes",txtNo:"No",deleteJobError:"Sorry an error occurred during the deletion process: ${0}",txtDeleteHistory:"Deleting history records",txtDeleteTitle:"Delete History",txtErrorDeleteReport:"An error occurred deleting report: ${0}"}};return lang.mixin(_28cc,nls);});},"Sage/MainView/ReportMgr/Crystal/BooleanParameterEditor":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/BooleanParameterEditor.html":"<div>\r\n    <div dojoattachpoint=\"promptParameterContainer\" class=\"crystalParameterContainer\">\r\n        <div dojoattachpoint=\"paramsHeaderContainer\"></div>\r\n        <div>\r\n            <div dojotype=\"dijit.form.FilteringSelect\" data-dojo-attach-point=\"cmbValues\" style=\"width:40%\"></div>\r\n            <span dojoAttachPoint=\"errorInvalidOption\" class=\"display-none\" style=\"color:red\">*</span>\r\n        </div>\r\n        <div dojoattachpoint=\"divValidationMessage\" style=\"color:red\">\r\n            <span dojoattachpoint=\"spanValidationMessage\">&nbsp;</span>\r\n        </div>\r\n    </div>\r\n    <div>\r\n        <br />\r\n    </div>\r\n</div>"}});define("Sage/MainView/ReportMgr/Crystal/BooleanParameterEditor",["dojo/_base/declare","dojo/text!./templates/BooleanParameterEditor.html","Sage/MainView/ReportMgr/Crystal/ParameterHeaderWidget","Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase","Sage/MainView/ReportMgr/ReportManagerUtility","Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility","Sage/Utility"],function(_28cd,_28ce,_28cf,_28d0,_28d1,_28d2,_28d3){var _28d4=_28d3.makeTemplateFromString(_28ce);var _28d5=_28cd("Sage.MainView.ReportMgr.Crystal.BooleanParameterEditor",[_28d0],{widgetTemplate:_28d4,value:null,_setValueAttr:function(value){this._set("value",value);},_getValueAttr:function(){var _28d6=this._getCurrentValue();if(_28d6){this._promptParameter.currentValues=[_28d6];}return this._promptParameter;},constructor:function(_28d7){},startup:function(){this.inherited(arguments);var _28d8=new _28cf({promptText:this._promptParameter.promptText,parameterFieldName:this._promptParameter.parameterFieldName}).placeAt(this.paramsHeaderContainer);_28d2.initializeComboBoxValues(this._values,_28d2.getRangeInitialValue(this._initialValues,false),this.cmbValues);_28d1.setDomNodeVisible(this.divValidationMessage,false);},isValid:function(){var valid=true;var msg="";var _28d9=this._getCurrentValue();if(_28d9===null){msg=this.txtPleaseSpecifyValue;dojo.removeClass(this.errorInvalidOption,"display-none");this.cmbValues.focus();valid=false;}else{dojo.addClass(this.errorInvalidOption,"display-none");}this._showValidationMessage(msg);return valid;},_showValidationMessage:function(msg){this.spanValidationMessage.innerHTML=Sage.Utility.htmlEncode(msg);_28d1.setDomNodeVisible(this.divValidationMessage,(msg!==""));},_getCurrentValue:function(){var item=this.cmbValues.item;if(item&&item.value!==""){return this.getOriginalParameterValue(item._id);}return null;}});return _28d5;});},"Sage/MainView/ActivityMgr/AttendeeLookup/LeadLookupConfig":function(){define("Sage/MainView/ActivityMgr/AttendeeLookup/LeadLookupConfig",["Sage/MainView/ActivityMgr/AttendeeLookup/BaseLookupConfig","Sage/UI/SDataLookup","dojo/i18n!./nls/LeadLookupConfig","dojo/_base/declare","dojo/_base/lang"],function(_28da,_28db,_28dc,_28dd,lang){var _28de=_28dd("Sage.MainView.ActivityMgr.AttendeeLookup.LeadLookupConfig",[_28da],{constructor:function(){lang.mixin(this,_28dc);this.lookupType=_28db;this._initConfig();},_initConfig:function(){this.id="_leadLookup",this.lookupName="Lead";this.lookupDisplayName="Lead Lookup";this.entityName="Lead";this.dialogTitle=this.dialogTitleText,this.cells=null;this.cells=this.getCells();this.defaultCell={"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""};this.storeOptions={resourceKind:"leads",select:["LastName","FirstName","Title","Type","Company","Address/Timezone"],sort:[{attribute:"LastName"}]};this.preFilters=[];this.gridOptions={};this.query={};this.isModal=true;this.displayMode=5;this.initialLookup=false;},getCells:function(){if(this.cells){return this.cells;}this.cells=[{name:this.colFirstName,field:"FirstName"},{name:this.colLastName,field:"LastName"},{name:this.colTitle,field:"Title"},{name:this.colCompany,field:"Company"},{name:this.colWorkPhone,field:"WorkPhone"},{name:this.colEmail,field:"Email"}];return this.cells;},getConfig:function(uiid){var _28df={id:this.id+"_base_"+uiid,btnToolTip:"",structure:[{defaultCell:this.defaultCell,cells:this.cells,}],gridOptions:this.gridOptions,displayMode:this.displayMode,storeOptions:this.storeOptions,isModal:this.isModal,initialLookup:this.initialLookup,preFilters:this.preFilters,query:this.query,dialogTitle:this.dialogTitle,dialogButtonText:this.dialogButtonText,doSelected:function(){alert("overide the doSelect method");},cancelText:this.cancelText};return _28df;},getLookupInstance:function(uiid){var _28e0=this.getConfig(uiid);var _28e1=new this.lookupType(_28e0);return _28e1;}});return _28de;});},"Sage/UI/Alarms/nls/AlarmPopup":function(){define("Sage/UI/Alarms/nls/AlarmPopup",["Sage/LanguageList","dojo/_base/lang"],function(_28e2,lang){var nls={root:{title:"Alerts",alarmsText:"Alarms",unconfirmedText:"Unconfirmed",deleteText:"Delete Selected",helpText:"Help",completeText:"Complete selected activities"}};return lang.mixin(_28e2,nls);});},"Sage/MainView/Contact/nls/ContactUserAssociationEditor":function(){define("Sage/MainView/Contact/nls/ContactUserAssociationEditor",["Sage/LanguageList","dojo/_base/lang"],function(_28e3,lang){var nls={root:{btnCancel_Caption:"Cancel",btnOK_Caption:"OK",dialogTitleText:"Associate Contact with User",associateContactText:"Associate the selected contact with the following user",user_Caption:"User",lookupUserText:"Lookup User",lookupNameColText:"Name",lookupTitleColText:"Title",lookupDepartmentColText:"Department",lookupRegionColText:"Region",lookupTypeColText:"Type",disAssociateTitle:"Disassociate form a User",associationExistsMessage:"The user you selected is already associated to a contact. Select another user.",}};return lang.mixin(_28e3,nls);});},"Sage/QuickForms/Design/CurrencyControlDesigner":function(){define("Sage/QuickForms/Design/CurrencyControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/CurrencyBasicPropertyEditor","./Editors/CurrencyAdvancedPropertyEditor","dojo/i18n!./nls/CurrencyControlDesigner"],function(_28e4,array,lang,_28e5,_28e6,_28e7,_28e8,_28e9,_28ea,_28eb,_28ec){return _28e4("Sage.QuickForms.Design.CurrencyControlDesigner",[_28e6,_28e7,_28e5,_28e8],{designSupport:{visible:true},editors:[_28ea,_28eb,_28e9],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %}\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-currency",helpTopicName:"Currency_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXCurrency, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Currency",constructor:function(){lang.mixin(this,_28ec);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_28ed){return (_28ed["ControlItemName"]=="Text");});},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getDecimalDigitsAttr:function(){return lang.getObject("DecimalDigits",false,this.entry);},_setDecimalDigitsAttr:function(value){lang.setObject("DecimalDigits",value,this.entry);},_getDisplayCurrencyCodeAttr:function(){return lang.getObject("DisplayCurrencyCode",false,this.entry);},_setDisplayCurrencyCodeAttr:function(value){lang.setObject("DisplayCurrencyCode",value,this.entry);},_getDisplayModeAttr:function(){return lang.getObject("DisplayMode",false,this.entry);},_setDisplayModeAttr:function(value){lang.setObject("DisplayMode",value,this.entry);},_getExchangeRateTypeAttr:function(){return lang.getObject("ExchangeRateType",false,this.entry);},_setExchangeRateTypeAttr:function(value){lang.setObject("ExchangeRateType",value,this.entry);},_getMaxLengthAttr:function(){return lang.getObject("MaxLength",false,this.entry);},_setMaxLengthAttr:function(value){lang.setObject("MaxLength",value,this.entry);},_getRequiredAttr:function(){return lang.getObject("Required",false,this.entry);},_setRequiredAttr:function(value){lang.setObject("Required",value,this.entry);},setupFor:function(_28ee){this.inherited(arguments);this.set("decimalDigits",-1);this.set("currentCode",null);this.set("displayCurrencyCode",true);this.set("displayMode","AsControl");this.set("exchangeRateType","BaseRate");this.set("maxLength",_28ee["data"].length||"");this.set("required",false);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"Text",DataItemName:_28ee.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:""}]);this.set("designBinding",_28ee.propertyPath||"");},startup:function(){this.inherited(arguments);var _28ef=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_28ef&&_28ef["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/Extensions/UI/Columns/Radio":function(){define("Sage/Extensions/UI/Columns/Radio",["dojo/_base/declare","dojo/_base/lang"],function(_28f0,lang){var _28f1=_28f0("Sage.Extensions.UI.Columns.Radio",dojox.grid.cells.Bool,{formatEditing:function(_28f2,_28f3){var _28f4=this.radioType=="group"?"rdo_"+this.field:"rdo_"+this.field+"_"+_28f3;var _28f5=_28f2?"checked":"";return "<input type=\"radio\" "+_28f5+" name=\""+_28f4+"\"  style=\"width: auto\" />";},doclick:function(e){if(e.target.tagName=="INPUT"){this.resetRows(e.grid,e.rowIndex,this.field);this.applyStaticValue(e.rowIndex);}},resetRows:function(grid,_28f6,_28f7){this.currentRow=_28f6;var self=this;grid.store.fetch({onComplete:function(items){dojo.forEach(items,function(item,index){if(index!=self.currentRow){grid.store.setValue(item,_28f7,false);}});}});}});return _28f1;});},"Sage/MainView/ReportMgr/HistoryListPanelConfig":function(){define("Sage/MainView/ReportMgr/HistoryListPanelConfig",["Sage/MainView/ReportMgr/BaseListPanelConfig","Sage/UI/SDataSummaryFormatterScope","dojo/_base/declare","dojo/i18n!./nls/HistoryListPanelConfig","Sage/Data/SDataServiceRegistry","Sage/UI/Columns/DateTime","dojo/_base/lang","Sage/MainView/ReportMgr/ReportManagerFormatter","Sage/Utility/Jobs","dojo/i18n!./templates/nls/HistoryListSummary","dojo/i18n!./templates/nls/HistoryDetailSummary"],function(_28f8,_28f9,_28fa,_28fb,_28fc,_28fd,_28fe,_28ff,_2900){var _2901=_28fa("Sage.MainView.ReportMgr.HistoryListPanelConfig",[_28f8],{keyField:"$key",_listId:"History",_resourceKind:"reportHistory",_contextMenu:"ReportManagerListContextMenu",_currentListContextSubMenu:"HistoryListContextMenu",constructor:function(){_28fe.mixin(this,_28fb);this._service=_28fc.getSDataService("dynamic");this._structure=this._getStructure();this._select=this._getSelect();this._where=this._getWhere();this._include=this._getInclude();this._store=this._getStore();this.list=this._getListConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();},_getStructure:function(){return [{field:"CreateDate",name:this.colNameDate,width:"65px",type:_28fd},{field:"ScheduleName",name:this.colNameReportName,width:"125px",formatter:_28ff.formatAttachment},{field:"ReportType",name:this.colNameReportType,width:"50px",formatter:_28ff.formatReportType},{field:"ExecutionType",name:this.colNameExecutionType,width:"50px",formatter:_28ff.formatExecutionType},{field:"DocumentType",name:this.colNameOutputFormat,width:"50px"},{field:"RunAs",name:this.colNameRunAs,width:"50px",formatter:_2900.formatUser},{field:"ScheduledBy",name:this.colNameScheduledBy,width:"50px",formatter:_2900.formatUser},{field:"FileSize",name:this.colNameSize,width:"50px",formatter:_28ff.formatFileSize}];},_getSelect:function(){return ["CreateDate","ExecutionType","ScheduledBy","RunAs","CreateUser","ScheduleName","DocumentType","FileSize","ElapsedTimeInSeconds","ReportType","AttachId"];},_getWhere:function(){return "";},_getInclude:function(){return ["$descriptors"];},_getSummaryListRequestConfig:function(){var _2902={resourceKind:this._resourceKind,serviceName:"dynamic",keyField:"$key",select:this._getSelect(),include:this._getInclude(),useBatchRequest:false};return _2902;},_getFormatterScope:function(){var _2903=this._getSummaryListRequestConfig();var _2904=new _28f9({templateLocation:"MainView/ReportMgr/templates/HistoryListSummary.html",resetDataManager:true,requestConfiguration:_2903});return _2904;},_getSummaryDetailRequestConfig:function(){var _2905={resourceKind:this._resourceKind,serviceName:"dynamic",keyField:"$key",select:this._getSelect(),include:["$descriptors"],useBatchRequest:false};return _2905;},_getDetailConfig:function(){var _2906=this._getFormatterScope();var _2907=this._getSummaryDetailRequestConfig();var _2908={resourceKind:this._resourceKind,requestConfiguration:_2907,templateLocation:"MainView/ReportMgr/templates/HistoryDetailSummary.html"};return _2908;},_getToolBars:function(){var _2909={items:[]};return _2909;}});return _2901;});},"Sage/MainView/ActivityMgr/OccurrenceOrSeriesQueryDlg":function(){define("Sage/MainView/ActivityMgr/OccurrenceOrSeriesQueryDlg",["dijit/_Widget","Sage/_Templated","dojo/string","dijit/Dialog","Sage/UI/_DialogLoadingMixin","dojo/_base/lang","Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/MainView/BindingsManager","Sage/Utility","Sage/Utility/Activity","Sage/UI/Dialogs","dijit/form/RadioButton","dojo/_base/declare","dojo/i18n!./nls/OccurrenceOrSeriesQueryDlg"],function(_290a,_290b,_290c,_290d,_290e,_290f,_2910,_2911,_2912,_2913,_2914,_2915,_2916,_2917,_2918){var _2919=_2917("Sage.MainView.ActivityMgr.OccurrenceOrSeriesQueryDlg",[_290a,_290b],{activityId:"",activityMemberId:"",activity:false,store:false,mode:"edit",widgetsInTemplate:true,disableSeriesOption:"",widgetTemplate:new Simplate(["<div>","<div dojoType=\"dijit.Dialog\" title=\"\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:_onDlgHide\">","<div class=\"recur-activity-dialog\">","<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"160\" >","<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.actDateText %}\" dojoAttachPoint=\"container_actDate\"></div>","<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.accountText %}\" dojoAttachPoint=\"container_account\"></div>","<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.contactText %}\" dojoAttachPoint=\"container_contact\"></div>","<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.opportunityText %}\" dojoAttachPoint=\"container_opportunity\"></div>","</div>","<div class=\"dijitContentPane\">&nbsp;</div>","<div class=\"dijitContentPane\">","<input type=\"radio\" dojoType=\"dijit.form.RadioButton\" name=\"editType\" id=\"{%= $.id %}_thisOccurrence\" checked=\"true\" dojoAttachPoint=\"_thisOccurRadio\" />&nbsp;","<label for=\"{%= $.id %}_thisOccurrence\">{%= ($.mode === \"edit\") ? $.editOneText : (($.mode === \"delete\")? $.deleteOneText : $.completeOneText) %}</label>","</div><div class=\"dijitContentPane\">","<input type=\"radio\" dojoType=\"dijit.form.RadioButton\" name=\"editType\" id=\"{%= $.id %}_Series\" dojoAttachPoint=\"_seriesRadio\" {%=$.disableSeriesOption%} />&nbsp;","<label for=\"{%= $.id %}_Series\">{%= ($.mode === \"edit\") ? $.editAllText : (($.mode === \"delete\")? $.deleteAllText : $.completeAllText) %}</label>","</div>","<div class=\"general-dialog-actions\">","<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btnContinue\" name=\"_btnContinue\" dojoAttachPoint=\"_btnContinue\" dojoAttachEvent=\"onClick:_continueClick\" >{%= $.continueText %}</div>","</div>","</div>","</div>","</div>"]),constructor:function(){_290f.mixin(this,_2918);},show:function(){this._dialog.show();if(!this._dialog._standby){_290f.mixin(this._dialog,new _290e());if(!this.activity){this._dialog.showLoading();}}this._thisOccurRadio.set("checked",true);},_setModeAttr:function(mode){this.mode=mode;},_getModeAttr:function(){return this.mode;},hide:function(){this._dialog.hide();},_onDlgHide:function(){this.activity=false;this.activityId="";},_setActivityIdAttr:function(_291a){this.activityId=_291a;if(this.activityId&&this.activityId!==""){this._loadData();}},_getActivityIdAttr:function(){return this.activityId;},_setActivityMemebrIdAttr:function(_291b){this.activityMemberId=_291b;},_getActivityMemberIdAttr:function(){return this.activityMemberId;},_loadData:function(){if(this._dialog._standby){this._dialog.showLoading();}var _291c=["Description","AccountName","ContactName","OpportunityName","StartDate","Type","Timeless","Recurring","RecurrenceState"];if(!this.store){this.store=new _2910({include:[],select:_291c,resourceKind:"activities",service:_2911.getSDataService("system")});}if(this.activityId!==""){this.store.fetch({predicate:"\""+this.activityId+"\"",onComplete:this._receiveActivity,onError:this._failLoad,scope:this});}},_receiveActivity:function(_291d){if(this._dialog._standby){this._dialog.hideLoading();}this.activity=_291d;this._bind();},_receiveActivities:function(data){if(this._dialog._standby){this._dialog.hideLoading();}var _291e=data["$resources"];if(_291e.length<1){this._failLoad();}this.activity=_291e[0];this.activityId=this.activity["$key"];this._bind();},_bind:function(){var act=this.activity;var d=act.Description;if(!d){d="";}if(d.length>30){d=d.substring(0,26)+"...";}this._dialog.set("title",_290c.substitute(this.titleFmt,{type:_2914.getActivityTypeName(act.Type),description:d}));this.container_actDate.set("content",_2914.formatActivityStartDate(_2913.Convert.toDateFromString(act.StartDate,act.Timeless)));this.container_account.set("content",act.AccountName||"&nbsp;");this.container_contact.set("content",act.ContactName||"&nbsp;");this.container_opportunity.set("content",act.OpportunityName||"&nbsp;");},_failLoad:function(){if(this._dialog._standby){this._dialog.hideLoading();}_2915.showWarning(this.failedToLoadMsg);this._dialog.hide();},_continueClick:function(e){this.hide();if(this._thisOccurRadio.get("checked")){if(this.activityId.length<=12){var _291f=(_2913.Convert.toDateFromString(this.activity.StartDate).getTime()/1000)+62135596800;this.activityId=this.activityId+";"+_291f;}this.onSelectOccurrence(this.activityId,_2913.Convert.toDateFromString(this.activity.StartDate),this.activityMemberId);}else{this.onSelectSeries(this.activityId,this.activityMemberId);}},onSelectSeries:function(id){},onSelectOccurrence:function(id,_2920){}});return _2919;});},"Sage/QuickForms/Design/DataGridControlDesigner":function(){define("Sage/QuickForms/Design/DataGridControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/DataGridBasicPropertyEditor","./Editors/DataGridAdvancedPropertyEditor","dojo/i18n!./nls/DataGridControlDesigner"],function(_2921,array,lang,_2922,_2923,_2924,_2925,_2926,_2927,_2928,_2929,_292a,_292b){return _2921("Sage.QuickForms.Design.DataGridControlDesigner",[_2925,_2926,_2924,_2927],{designSupport:{visible:true},editors:[_2929,_292a,_2928],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %}\" data-dojo-attach-point=\"containerNode\">","<table class=\"{%= $.fieldClass %}-table\" data-dojo-attach-point=\"tableNode\">","</table>","</div>"]),tableHeaderTemplate:new Simplate(["<th style=\"width:{%= $.widthStyle %}\">{%: $.ColumnHeading || $.Text %}</th>"]),fieldClass:"design-datagrid",helpTopicName:"Data_Grid_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFDataGrid, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Data Grid",emptyTableRowStringText:"No records match the selection criteria.",constructor:function(){lang.mixin(this,_292b);},_getDataSourceAttr:function(){return lang.getObject("DataSource",false,this.entry);},_setDataSourceAttr:function(value){lang.setObject("DataSource",value,this.entry);},_getPageSizeAttr:function(){return lang.getObject("PageSize",false,this.entry);},_setPageSizeAttr:function(value){lang.setObject("PageSize",value,this.entry);},_getResizableColumnsAttr:function(){return lang.getObject("ResizableColumns",false,this.entry);},_setResizableColumnsAttr:function(value){lang.setObject("ResizableColumns",value,this.entry);},_getColumnsAttr:function(){return lang.getObject("Columns",false,this.entry);},_setColumnsAttr:function(value){lang.setObject("Columns",value,this.entry);},_getEmptyTableRowTextAttr:function(){return lang.getObject("EmptyTableRowText",false,this.entry);},_setEmptyTableRowTextAttr:function(value){lang.setObject("EmptyTableRowText",value,this.entry);},_getExpandableRowsAttr:function(){return lang.getObject("ExpandableRows",false,this.entry);},_setExpandableRowsAttr:function(value){lang.setObject("ExpandableRows",value,this.entry);},_getRenderVerticalAttr:function(){return lang.getObject("RenderVertical",false,this.entry);},_setRenderVerticalAttr:function(value){lang.setObject("RenderVertical",value,this.entry);},_getShowSortIconAttr:function(){return lang.getObject("ShowSortIcon",false,this.entry);},_setShowSortIconAttr:function(value){lang.setObject("ShowSortIcon",value,this.entry);},renderColumns:function(){var _292c=this.get("columns"),row=_2922.create("tr");for(var i=0;i<_292c.length;i++){var _292d=lang.clone(_292c[i]);_292d.widthStyle=_292d.Width>0?_292d.Width+"em":"auto";_2922.place(this.tableHeaderTemplate.apply(_292d,this),row,"last");}_2922.place(row,this.tableNode,"only");},setupFor:function(_292e){this.inherited(arguments);this.set("dataSource",null);this.set("pageSize",20);this.set("resizableColumns",true);this.set("emptyTableRowString",this.emptyTableRowStringText);this.set("expandableRows",false);this.set("renderVertical",false);this.set("showSortIcon",true);},startup:function(){this.inherited(arguments);this.renderColumns();this.applyVisibility();}});});},"Sage/QuickForms/Design/PickListControlDesigner":function(){define("Sage/QuickForms/Design/PickListControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/PickListBasicPropertyEditor","./Editors/PickListAdvancedPropertyEditor","dojo/i18n!./nls/PickListControlDesigner"],function(_292f,array,lang,_2930,_2931,_2932,_2933,_2934,_2935,_2936,_2937){return _292f("Sage.QuickForms.Design.PickListControlDesigner",[_2931,_2932,_2930,_2933],{designSupport:{visible:true},editors:[_2935,_2936,_2934],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %}\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","<div class=\"{%= $.fieldClass %}-icon\">...</div>","</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-picklist",helpTopicName:"Pick_List_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXPickList, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Pick List",constructor:function(){lang.mixin(this,_2937);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_2938){return (_2938["ControlItemName"]=="PickListValue");});},_getStorageModeAttr:function(){var mode=lang.getObject("StorageMode",false,this.entry);if(mode==="ID"){return "Id";}else{return mode;}},_setStorageModeAttr:function(value){lang.setObject("StorageMode",value,this.entry);},_getRequiredAttr:function(){return lang.getObject("Required",false,this.entry);},_setRequiredAttr:function(value){lang.setObject("Required",value,this.entry);},_getPickListNameAttr:function(){return lang.getObject("PickListName",false,this.entry);},_setPickListNameAttr:function(value){lang.setObject("PickListName",value,this.entry);},_getPickListIdAttr:function(){return lang.getObject("PickListId",false,this.entry);},_setPickListIdAttr:function(value){lang.setObject("PickListId",value,this.entry);},_getMustExistInListAttr:function(){return lang.getObject("MustExistInList",false,this.entry);},_setMustExistInListAttr:function(value){lang.setObject("MustExistInList",value,this.entry);},_getMaxLengthAttr:function(){return lang.getObject("MaxLength",false,this.entry);},_setMaxLengthAttr:function(value){lang.setObject("MaxLength",value,this.entry);},_getDisplayModeAttr:function(){return lang.getObject("DisplayMode",false,this.entry);},_setDisplayModeAttr:function(value){lang.setObject("DisplayMode",value,this.entry);},_getCanEditTextAttr:function(){return lang.getObject("CanEditText",false,this.entry);},_setCanEditTextAttr:function(value){lang.setObject("CanEditText",value,this.entry);},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getAllowMultiplesAttr:function(){return lang.getObject("AllowMultiples",false,this.entry);},_setAllowMultiplesAttr:function(value){lang.setObject("AllowMultiples",value,this.entry);},setupFor:function(_2939){this.inherited(arguments);this.set("allowMultiples",false);this.set("canEditText",true);this.set("displayMode","AsControl");this.set("maxLength",_2939["data"].length||-1);this.set("mustExistInList",false);this.set("required",false);this.set("storageMode","Id");this.set("pickListName",_2939["dataTypeData"]["PickListName"]);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"PickListValue",DataItemName:_2939.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:""}]);this.set("designBinding",_2939.propertyPath||"");},startup:function(){this.inherited(arguments);var _293a=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_293a&&_293a["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/Extensions/Activity/ListPanelOverrides/ListPanelOverridesConfig":function(){define("Sage/Extensions/Activity/ListPanelOverrides/ListPanelOverridesConfig",[],function(){return {"overrideConfigs":[]};});},"Sage/QuickForms/Design/Editors/FormBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/FormBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dijit/form/TextBox","dojo/data/ItemFileWriteStore","Sage/_Templated","./_PropertyEditor","dojo/i18n!./nls/FormBasicPropertyEditor"],function(_293b,lang,_293c,_293d,_293e,_293f,_2940,_2941){return _293b("Sage.QuickForms.Design.Editors.FormBasicPropertyEditor",[_293c,_2940,_293f],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.generalText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.activeControlTooltipText %}\">","<label>{%= $.activeControlText %}</label>","<div data-dojo-type=\"dijit.form.ComboBox\" data-dojo-attach-point=\"_activeControl\" data-dojo-attach-event=\"onChange:_onActiveControlChange\" data-dojo-props=\"disabled:true\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.nameTooltipText %}\">","<label>{%= $.nameText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_name\" data-dojo-attach-event=\"onChange:_onNameChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.descriptionTooltipText %}\">","<label>{%= $.descriptionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_description\" data-dojo-attach-event=\"onChange:_onDescriptionChange\"></div>","</div>","</div>","</fieldset>"]),_activeControl:null,_description:null,_name:null,titleText:"Basic",generalText:"General",activeControlText:"Active Control:",activeControlTooltipText:"The control the user's cursor starts on.",descriptionText:"Description:",descriptionTooltipText:"Optional description of the purpose of the form.",nameText:"Name:",nameTooltipText:"Form identifier used by the system.",constructor:function(){lang.mixin(this,_2941);},setup:function(){this.inherited(arguments);this.setActiveControlList();this._activeControl.set("value",this._designer.get("activeControl"));this._description.set("value",this._designer.get("description"));this._name.set("value",this._designer.get("name"));},setActiveControlList:function(){var _2942=this._designer.get("controls"),_2943=new _293e({data:{identifier:"key",label:"name",items:[]}});for(var i=0;i<_2942.length;i++){var _2944=_2942[i];if(_2944.entry&&_2944.entry["ControlId"]){_2943.newItem({key:"control_"+i,name:_2944.entry["ControlId"]});}}this._activeControl.set({store:_2943,disabled:false});},_onActiveControlChange:function(value){if(this.isSuspended()){return;}this._designer.set("activeControl",value);},_onNameChange:function(value){},_onDescriptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("description",value);}});});},"Sage/QuickForms/Design/Editors/nls/OwnerBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/OwnerBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_2945,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_2945,nls);});},"Sage/QuickForms/Design/DateTimePickerControlDesigner":function(){define("Sage/QuickForms/Design/DateTimePickerControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/DateTimePickerBasicPropertyEditor","./Editors/DateTimePickerAdvancedPropertyEditor","dojo/i18n!./nls/DateTimePickerControlDesigner"],function(_2946,array,lang,_2947,_2948,_2949,_294a,_294b,_294c,_294d,_294e){return _2946("Sage.QuickForms.Design.DateTimePickerControlDesigner",[_2948,_2949,_2947,_294a],{designSupport:{visible:true},editors:[_294c,_294d,_294b],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %}\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","<div class=\"{%= $.fieldClass %}-icon\"></div>","</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-datetimepicker",helpTopicName:"DateTime_Picker_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFDateTimePicker, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"DateTime Picker",constructor:function(){lang.mixin(this,_294e);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_294f){return (_294f["ControlItemName"]=="DateTimeValue");});},_getButtonToolTipAttr:function(){return lang.getObject("ButtonToolTip",false,this.entry);},_setButtonToolTipAttr:function(value){lang.setObject("ButtonToolTip",value,this.entry);},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getDisplayDateAttr:function(){return lang.getObject("DisplayDate",false,this.entry);},_setDisplayDateAttr:function(value){lang.setObject("DisplayDate",value,this.entry);},_getDisplayModeAttr:function(){return lang.getObject("DisplayMode",false,this.entry);},_setDisplayModeAttr:function(value){lang.setObject("DisplayMode",value,this.entry);},_getDisplayTimeAttr:function(){return lang.getObject("DisplayTime",false,this.entry);},_setDisplayTimeAttr:function(value){lang.setObject("DisplayTime",value,this.entry);},_getRequiredAttr:function(){return lang.getObject("Required",false,this.entry);},_setRequiredAttr:function(value){lang.setObject("Required",value,this.entry);},_getTimelessAttr:function(){return lang.getObject("Timeless",false,this.entry);},_setTimelessAttr:function(value){lang.setObject("Timeless",value,this.entry);},setupFor:function(_2950){this.inherited(arguments);this.set("displayDate",true);this.set("displayTime",false);this.set("buttonToolTip","");this.set("displayMode","AsControl");this.set("required",false);this.set("timeless",false);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"DateTimeValue",DataItemName:_2950.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:""}]);this.set("designBinding",_2950.propertyPath||"");},startup:function(){this.inherited(arguments);var _2951=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_2951&&_2951["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/UI/Filters/FilterManager":function(){define("Sage/UI/Filters/FilterManager",["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/string","dojo/date","dojo/date/locale","Sage/Utility","Sage/Utility/Filters"],function(lang,_2952,array,_2953,_2954,_2955,_2956,_2957){var _2958=_2952("Sage.UI.Filters.FilterManager",null,{_connects:null,_subscribes:null,_owner:null,_timeout:null,_applied:null,_definitionSet:null,refreshBufferDelay:500,filterGroup:"default",owner:null,nullName:"SLX_NULL",emptyName:"SLX_EMPTY",constructor:function(_2959){lang.mixin(this,_2959);this._applied={};this._definitionSet={};var _295a=_2956.getValue(window,"Sage.UI.DataStore.Filters"),_295b=null,_295c=null;if(_295a&&_295a[this.filterGroup]){_295b=_295a[this.filterGroup].applied;_295c=_295a[this.filterGroup].definitionSet;if(_295b){this._applied=_295b;}if(_295c){this._definitionSet=_295c;}}this._connects=[];this._subscribes=[];this._subscribes.push(dojo.subscribe(_2953.substitute("/ui/filters/${0}/change",[this.filterGroup]),this,this._onChange),dojo.subscribe(_2953.substitute("/ui/filters/${0}/clear",[this.filterGroup]),this,this._onClear),dojo.subscribe(_2953.substitute("/ui/filters/${0}/apply",[this.filterGroup]),this,this._onApply));},destroy:function(){array.forEach(this._connects,function(_295d){_295d.remove();});array.forEach(this._subscribes,function(_295e){_295e.remove();});this.uninitialize();},uninitialize:function(){},"set":function(name,value){this["_"+name]=value;},"get":function(name){return this["_"+name];},_onClear:function(_295f,_2960){var key=_295f&&_295f.$key;if(key&&this._applied[key]){delete this._applied[key];}else{this._applied={};}},getAppliedFilterCount:function(){var _2961,_2962,_2963,count=0;for(_2961 in this._applied){if(this._applied.hasOwnProperty(_2961)){_2963=this._applied[_2961];for(_2962 in _2963){if(_2963.hasOwnProperty(_2962)){count=count+1;}}}}return count;},_onApply:function(_2964,_2965,_2966){this._applied=_2964||{};this._definitionSet=_2965||{};},_onChange:function(_2967,name,value,_2968){if(this._timeout){clearTimeout(this._timeout);}var key=_2967&&_2967.$key,_2969=null;if(key){this._definitionSet[key]=_2967;this._applied[key]=this._applied[key]||{};_2969=this._applied[key];if((_2967.details.userLookupFilter)||(_2967.details.lookupFilter)){_2969["value"]=value;}else{if(value!==false){_2969[name]=value;}else{delete _2969[name];}}}this._timeout=setTimeout(lang.hitch(this,this._onTimeout),this.refreshBufferDelay);},_onTimeout:function(){dojo.publish(_2953.substitute("/ui/filters/${0}/refresh",[this.filterGroup]),[this._applied,this._definitionSet,this]);},_escapeString:function(_296a,quote){quote=quote||"\"";return _296a.replace(quote,quote+quote);},_transformValue:function(type,value,quote){if(value){quote=quote||"\"";if(type==="string"||type==="key"||type==="enum"||type==="boolean"){return quote+this._escapeString(value,quote)+quote;}if(type==="date"){quote="@";return quote+this._transformDate(value)+quote;}}return value;},_transformDate:function(value){var today=new Date(Date.now()),_296b;if(this.specialDates.hasOwnProperty(value)){return _2956.Convert.toIsoStringFromDate(this.specialDates[value](today));}else{_296b=_2955.parse(value);if(_296b){return _2956.Convert.toIsoStringFromDate(_296b);}else{return value;}}},specialDates:{":today":function(today){today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":todaystart":function(today){today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":todayend":function(today){today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":yesterday":function(today){today.setDate(today.getDate()-1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":yesterdaystart":function(today){today.setDate(today.getDate()-1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":yesterdayend":function(today){today.setDate(today.getDate()-1);today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":tomorrow":function(today){today.setDate(today.getDate()+1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":tomorrowstart":function(today){today.setDate(today.getDate()+1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":tomorrowend":function(today){today.setDate(today.getDate()+1);today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":thisweekstart":function(today){today.setDate(today.getDate()-today.getDay());today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":thisweekend":function(today){today.setDate(today.getDate()+(6-today.getDay()));today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":thismonthstart":function(today){today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":thismonthend":function(today){today.setDate(_2954.getDaysInMonth(today));today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":thisyearstart":function(today){today.setDate(1);today.setMonth(0);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":thisyearend":function(today){today.setDate(31);today.setMonth(11);today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":thisquarterstart":function(today){var month=today.getMonth(),mod=month%3;today.setMonth(month-mod);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":thisquarterend":function(today){var month=today.getMonth(),mod=2-(month%3);today.setMonth(month+mod);today.setDate(_2954.getDaysInMonth(today));today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":nextweekstart":function(today){today.setDate(today.getDate()+(7-today.getDay()));today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":nextweekend":function(today){today.setDate(today.getDate()+(7-today.getDay())+6);today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":nextmonthstart":function(today){today.setMonth(today.getMonth()+1);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":nextmonthend":function(today){today.setMonth(today.getMonth()+1);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":nextyearstart":function(today){today.setFullYear(today.getFullYear()+1);today.setMonth(0);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":nextyearend":function(today){today.setFullYear(today.getFullYear()+1);today.setMonth(11);today.setDate(31);today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":nextquarterstart":function(today){var month=today.getMonth(),mod=2-(month%3);today.setMonth(month+mod+1);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":nextquarterend":function(today){var month=today.getMonth(),mod=2-(month%3);today.setMonth(month+mod+3);today.setDate(_2954.getDaysInMonth(today));today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":lastweekstart":function(today){today.setDate(today.getDate()-today.getDay()-7);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":lastweekend":function(today){today.setDate(today.getDate()-today.getDay()-1);today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":lastmonthstart":function(today){today.setMonth(today.getMonth()-1);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":lastmonthend":function(today){today.setMonth(today.getMonth()-1);today.setDate(_2954.getDaysInMonth(today));today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":lastyearstart":function(today){today.setFullYear(today.getFullYear()-1);today.setMonth(0);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":lastyearend":function(today){today.setFullYear(today.getFullYear()-1);today.setMonth(11);today.setDate(31);today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":lastquarterstart":function(today){var month=today.getMonth(),mod=month%3;today.setMonth(month-mod-3);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":lastquarterend":function(today){var month=today.getMonth(),mod=month%3;today.setMonth(month-mod-1);today.setDate(_2954.getDaysInMonth(today));today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;}},resolveProperty:function(_296c,_296d){if(this._owner&&this._owner.resolveProperty){return this._owner.resolveProperty(_296c,_296d);}return _296c;},resolveTimelessProperty:function(_296e){if(this._owner){if(this._owner._configuration){if(this._owner._configuration.getTimelessProperty){return this._owner._configuration.getTimelessProperty(_296e);}}}return false;},resolveDataType:function(_296f){return _2957.resolveDataType(_296f);},createRangeFragment:function(_2970,_2971,_2972,_2973){var _2974=this.resolveDataType(_2970.propertyDataTypeId),_2975=this.resolveProperty(_2971,_2973),_2976=_2970.details.rangeFilter,_2977=false,_2978=[],_2979=[],_297a="and",sub=_2953.substitute,name=null,range=null,_297b=null,_297c=function(p){return p;},_297d=[],_297e=_2976.characters>0?_2976.characters:1;if(_2974==="string"){_297c=function(p){return sub("substring(${0}, 1, ${1})",[p,_297e]);};}for(name in _2972){if(_2972.hasOwnProperty(name)){range=_2972[name];if(typeof range==="undefined"||range===null){continue;}if(_2974==="date"){_2977=this.resolveTimelessProperty(_2975);}if(_2977){var _297f=new Date(Date.now());var _2980=new Date(Date.now());var quote="@";var _2981="";var _2982="";if(range.lower===range.upper){_2978.push(this._transformValue(_2974,range.lower));}else{if(this.specialDates.hasOwnProperty(range.lower)){_297f=this.specialDates[range.lower](_297f);_297f.setHours(0);_297f.setMinutes(0);_297f.setSeconds(0);_2981=quote+_2956.Convert.toIsoStringFromDateNonUTC(_297f)+quote;}if(this.specialDates.hasOwnProperty(range.upper)){_2980=this.specialDates[range.upper](_2980);_2980.setHours(23);_2980.setMinutes(59);_2980.setSeconds(59);_2982=quote+_2956.Convert.toIsoStringFromDateNonUTC(_2980)+quote;}_297b=[_2977,_297c(_2975),this._transformValue(_2974,range.lower),this._transformValue(_2974,range.upper),_2981,_2982];if(range.lower===null){_2979.push(sub("((${0} eq false and ${1} le ${3}) or (${0} eq true and ${1} le ${4}))",_297b));}else{if(range.upper===null){_2979.push(sub("((${0} eq false and ${1} ge ${2}) or (${0} eq true and ${1} le ${5}))",_297b));}else{_2979.push(sub("((${0} eq false and ${1} between ${2} and ${3}) or (${0} eq true and ${1} between ${4} and ${5}))",_297b));}}_297a="or";}}else{if(range.lower===range.upper){if(range.lower!==null&&typeof range.lower!=="undefined"){_2978.push(this._transformValue(_2974,range.lower));}}else{_297b=[_297c(_2975),this._transformValue(_2974,range.lower),this._transformValue(_2974,range.upper)];if(range.lower===null){_2979.push(sub("${0} le ${2}",_297b));}else{if(range.upper===null){_2979.push(sub("${0} ge ${1}",_297b));}else{_2979.push(sub("${0} between ${1} and ${2}",_297b));}}_297a="or";}}}}if(_2978.length>0){if(_2974==="string"){array.forEach(_2978,function(value){if(value&&value.length>2){_297d.push(value.substring(0,_297e+1)+"\"");}});_2978=_297d;}_2979.push(sub("${0} in (${1})",[_297c(_2975),_2978.join(",")]));}return _2979.length>0?"("+_2979.join(") "+_297a+" (")+")":false;},createDistinctFragment:function(_2983,_2984,_2985,_2986){var _2987=this.resolveDataType(_2983.propertyDataTypeId),sub=_2953.substitute,name=null,_2988=[],_2989=null,_298a=false,_298b=this.resolveProperty(_2984,_2986);for(name in _2985){if(_2985.hasOwnProperty(name)){if(name===this.nullName){_2989=sub("${0} eq null",[_298b]);}else{if(name===this.emptyName){_2988.push("''");}else{_2988.push(this._transformValue(_2987,_2985[name]));}}}}if(_2988.length>0){_298a=sub("${0} in (${1})",[_298b,_2988.join(",")]);}if(_2989&&_2988.length>0){_298a=sub("(${0} or ${1})",[_298a,_2989]);}else{if(_2989){_298a=_2989;}}return _298a;},createLookupFragment:function(_298c,_298d,_298e,_298f){var _2990=this.resolveDataType(_298c.propertyDataTypeId),_2991,value="",prop=this.resolveProperty(_298d,_298f),_2992="",_2993=[],name;if(_298e.hasOwnProperty("value")){_2991=_298e["value"].operator;value=_298e["value"].value;}if((value==="")||(value===null)){return false;}if(typeof value==="string"){prop="upper("+prop+")";value=value.toUpperCase();}_2992=_2953.substitute("${0} ${1}",[prop,this._transformLookupOperator(_2991,value,_2990)]);return _2992;},_transformLookupOperator:function(_2994,value,_2995){var _2996="",lhs,rhs="${0}";switch(_2994){case "Equal":lhs="eq";break;case "NotEqual":lhs="ne";break;case "LessThan":lhs="lt";break;case "LessThanEqual":lhs="le";break;case "GreaterThan":lhs="gt";break;case "GreaterThanEqual":lhs="ge";break;case "StartsWith":lhs="like";rhs="${0}%";break;case "EndsWith":lhs="like";rhs="%${0}";break;case "Contains":lhs="like";rhs="%${0}%";break;default:lhs="eq";break;}if(_2995==="string"||_2995==="key"){rhs="\""+rhs+"\"";}rhs=_2953.substitute(rhs,[value]);return _2953.substitute("${0} ${1}",[lhs,rhs]);},createQuery:function(){var _2997=[],key,_2998,_2999,_299a,_299b,_299c,_299d;for(key in this._applied){if(this._applied.hasOwnProperty(key)){_2998=this._applied[key];_2999=this._definitionSet[key];_299a=_2999.propertyName;_299b=_2999.details;_299d=_2999.dataPath;if(_299b.rangeFilter){_299c=this.createRangeFragment(_2999,_299a,_2998,_299d);}else{if(_299b.distinctFilter){_299c=this.createDistinctFragment(_2999,_299a,_2998,_299d);}else{if((_299b.userLookupFilter)||(_299b.lookupFilter)){_299c=this.createLookupFragment(_2999,_299a,_2998,_299d);}}}if(_299c){_2997.push(_299c);}}}return _2997.length>0?"("+_2997.join(") and (")+")":false;},createValueSet:function(){var _299e=[],_299f,_29a0,_29a1,_29a2,_29a3,name,key;for(key in this._applied){if(this._applied.hasOwnProperty(key)){_299f=this._applied[key];_29a0=this._definitionSet[key];_29a1=_29a0.details;_29a2=(_29a1.rangeFilter&&"rangeFilter")||(_29a1.distinctFilter&&"distinctFilter")||(_29a1.userLookupFilter&&"lookupFilter");_29a3={"filterId":_29a0.$key,"filterName":_29a0.filterName,"appliedValues":[],"operator":null};switch(_29a2){case "rangeFilter":for(name in _299f){if(_299f.hasOwnProperty(name)){_29a3.appliedValues.push(_299f[name]&&_299f[name].rangeId);}}break;case "distinctFilter":for(name in _299f){if(_299f.hasOwnProperty(name)){_29a3.appliedValues.push(name);}}break;case "lookupFilter":for(name in _299f){if(_299f.hasOwnProperty(name)){if(_299f[name].hasOwnProperty("operator")){_29a3.appliedValues.push(_299f[name]);_29a3.operator=_299f[name].operator;}}}break;default:break;}_299e.push(_29a3);}}return _299e;}});return _2958;});},"Sage/UI/Controls/Currency":function(){define("Sage/UI/Controls/Currency",["dojo/_base/html","dojox/grid/DataGrid","dijit/_Widget","Sage/_Templated","dijit/form/CurrencyTextBox","Sage/UI/Controls/CurrencyTextBox","dojo/currency","dojo/string","dojo/_base/declare","Sage/Utility"],function(html,_29a4,_29a5,_29a6,_29a7,_29a8,_29a9,_29aa,_29ab,_29ac){dojo.mixin(dijit.form.ValidationTextBox.prototype.attributeMap,{slxchangehook:"focusNode"});var _29ad=_29ab("Sage.UI.Controls.Currency",[_29a5,_29a6],{displayModes:{"AsHyperlink":0,"AsControl":1,"AsText":2},modeTemplates:{"AsHyperlink":new Simplate(["<div data-dojo-type=\"dijit.form.Button\" showLabel=\"true\">{%= $.value %}</div>"]),"AsControl":new Simplate(["<input  data-dojo-type=\"Sage.UI.Controls.CurrencyTextBox\" ","constraints=\"{ {%= $.constraintsToString() %} }\" ","id=\"{%= $.id %}_CurrencyTextBox\" ","style=\"width:inherit;\"","textAlign=\"{%= $.textAlign %}\""," name=\"{%= $.name %}\" type=\"text\" "," value=\"{%= $.value %}\" dojoAttachPoint=\"focusNode\" ","{% if ( $.multiCurrency ) { %} "," class=\"ISOSpace\" ","{% } %}"," hotKey=\"{%= $.hotKey %}\" ","{% if($.disabled === \"disabled\") { %} "," disabled=\"disabled\" ","{% } %}","{% if($.readonly === \"readonly\") { %} "," readonly=\"readonly\" ","{% } %}"," maxlength=\"{%= $.maxLength %}\" "," required=\"{%= $.required %}\">","{% if ( $.multiCurrency ) { %} ","<label id=\"{%= $.id %}_ISOLabel\" ","dojoAttachPoint=\"currencyCodeLabel\" ","for=\"${0}_CurrencyTextbox\" ","class=\"ISOLabel\" ","wairole=\"presentation\" ","readonly=\"true\" ","tabindex=\"-1\" ","class=\"dijitInputInner\" ","role=\"presentation\">","</label> ","{% } %}"]),"AsText":new Simplate(["<div data-dojo-type=\"dijit.form.Button\" showLabel=\"true\">{%= $.formattedText() %}</div>"])},widgetTemplate:new Simplate(["<div style=\"width:inherit;\" slxcompositecontrol=\"true\" id=\"{%= $.id %}\" >","{%= $.modeTemplates[$.displayMode].apply($) %}","</div>"]),postMixInProperties:function(){this.currentCultureSymbol=Sys.CultureInfo.CurrentCulture.numberFormat.CurrencySymbol;if(this.multiCurrency){this.constraints["currency"]=null;}else{if(this.constraints["currency"]===""||this.constraints["currency"]===null){this.constraints["currency"]=this.currentCode;}}},postCreate:function(){if(this.multiCurrency){dijit.byId(this.id+"_CurrencyTextBox").domNode.setAttribute("style","width:100% !important;");this.currencyCodeLabel.innerHTML=this.currentCode;}this.inherited(arguments);},value:0,currentCultureSymbol:"",currentCode:"USD",exchangeRate:1,multiCurrency:false,displayCurrencyCode:true,autoPostBack:false,width:15,maxLength:128,required:false,style:"",enabled:true,readonly:"",disabled:"",visible:true,hotKey:"",tabIndex:0,displayMode:"AsControl",widgetsInTemplate:true,styles:"text-align: right;",name:"",constraints:null,id:"currencyControl",constraintsToString:function(){var tmp=[];for(var prop in this.constraints){if(this.constraints.hasOwnProperty(prop)){var value=this.constraints[prop];if(typeof value==="string"){value="'"+value+"'";}tmp.push(prop+":"+value);}}var _29ae=tmp.join(",");return _29ae;},constructor:function(_29af){this.inherited(arguments);},destroy:function(){if(this.focusNode){this.focusNode.destroy();}this.inherited(arguments);}});return _29ad;});},"Sage/Utility/File/DescriptionsForm":function(){define("Sage/Utility/File/DescriptionsForm",["Sage/Utility/File","dijit/_Widget","Sage/_Templated","dojo/_base/lang","dojo/string","dijit/Dialog","dojo/i18n","dojo/i18n!./nls/DescriptionsForm","dojo/_base/declare"],function(File,_29b0,_29b1,dLang,_29b2,_29b3,i18n,_29b4,_29b5){var _29b6=_29b5("Sage.Utility.File.DescriptionsForm",[_29b0,_29b1],{fileType:File.fileType.ftAttachment,titleFmt:"Add Attachment(s) for ${0}",titleLibraryDoc:"Add Library Document(s)",fileNameText:"File name and size: ",descText:"Description:",okText:"OK",cancelText:"Cancel",entityDesc:"",_formParts:[],files:[],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div>","<div dojoType=\"dijit.Dialog\" id=\"dlgFileDescriptions\" title=\"\" dojoAttachPoint=\"_dialog\">","<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"3\" style=\"width:580px\">","<div dojoType=\"dijit.layout.ContentPane\" label=\"\" style=\"width:212px;\"><label>{%= $.fileNameText %}</label></div>","<div dojoType=\"dijit.layout.ContentPane\" label=\"\" style=\"width:250px;\"><label>{%= $.descText %}</label></div>","</div>","<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"5\" dojoAttachPoint=\"contentNode\" style=\"min-height:150px;width:580px;max-height:250px;overflow:auto\" >","</div>","<div class=\"general-dialog-actions\">","<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btnOK\" name=\"_btnOK\" dojoAttachPoint=\"_btnOK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.okText %}</div>","<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btnCancel\" name=\"_btnCancel\" dojoAttachPoint=\"_btnCancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>","</div>","</div>","</div>"]),postMixInProperties:function(){dojo.mixin(this,_29b4);this.inherited(arguments);},show:function(){if(this.fileType!==File.fileType.ftLibraryDocs){this._dialog.set("title",_29b2.substitute(this.titleFmt,[this.entityDesc]));}else{this._dialog.set("title",this.titleLibraryDoc);}this._dialog.show();this._addFormParts();},_setEntityDescAttr:function(desc){this.entityDesc=desc;},_getEntityDescAttr:function(){return this.entityDesc;},_setFilesAttr:function(files){this.files=files;},_getFilesAttr:function(){return this.files;},_addFormParts:function(){for(var i=0;i<this.files.length;i++){var file=this.files[i];var _29b7=0;if(file.size===0){_29b7=0;}else{_29b7=file.size||file.blob.length;}if(_29b7===0){_29b7+="0 Bytes";}else{if(_29b7){if(_29b7>1024){if(_29b7>1048576){_29b7=Math.round(_29b7/1048576)+" MB";}else{_29b7=Math.round(_29b7/1024)+" KB";}}else{_29b7+=" Bytes";}}}var fnFld=new dijit.form.TextBox({id:"filename_"+i,value:file.name+"  ("+_29b7+")",style:"min-width:250px;margin:0 0 5px 15px;",disabled:true});var _29b8=new dijit.form.TextBox({id:"desc_"+i,value:this.getDefaultDescription(file.name),style:"min-width:250px;margin:0 0 5px 20px;",maxLength:128,relFileName:file.name});this._formParts.push(fnFld);this._formParts.push(_29b8);this.contentNode.addChild(fnFld);this.contentNode.addChild(_29b8);}},_clearForm:function(){var len=this._formParts.length;for(var i=len-1;i>-1;i--){var elem=this._formParts[i];this.contentNode.removeChild(elem);elem.destroyRecursive(false);}this._formParts=[];},_okClick:function(){var _29b9=[];for(var i=0;i<this._formParts.length;i++){var elem=this._formParts[i];if(elem.params["relFileName"]){_29b9.push({description:elem.get("value")||this.getDefaultDescription(elem.params["relFileName"]),fileName:elem.params["relFileName"]});}}this._clearForm();this.onDescriptionsEntered(this.files,_29b9);this._dialog.hide();},_cancelClick:function(){this._clearForm();this._dialog.hide();},getDefaultDescription:function(_29ba){return _29ba.replace(/\.[\w]*/,"");},onDescriptionsEntered:function(files,_29bb){}});return _29b6;});},"Sage/MainView/JobMgr/RunJobDialog":function(){require({cache:{"url:Sage/MainView/JobMgr/templates/RunJobDialog.html":"[\r\n    '<div>',\r\n        '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.nlsResources.dlgRunJob_Title %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_dialog_OnCancel, onShow:_dialog_OnShow\" style=\"width: 525px\">',\r\n            '<div data-dojo-type=\"dijit.form.Form\">',\r\n                '<table cellspacing=\"10\">',                    \r\n                    '<tr>',\r\n                        '<td style=\"width:150px\">',\r\n                            '<label>{%= $.nlsResources.txtJobName_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtJobName\" required=\"true\" dojoType=\"dijit.form.TextBox\" disabled=\"disabled\" style=\"width:320px\" />',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td style=\"width:150px\">',\r\n                            '<label>{%= $.nlsResources.txtTriggerDescription_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtTriggerDescription\" required=\"true\" dojoType=\"dijit.form.TextBox\" style=\"width:320px\" />',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td>',\r\n                            '<label>{%= $.nlsResources.cmbScheduleType_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbScheduleType\" dojoAttachEvent=\"onChange:_cmbScheduleType_OnChange\" style=\"width:150px\" >',\r\n                                '<option value=\"now\">{%= $.nlsResources.txtRunNow %}</option>',\r\n                                '<option value=\"scheduled\">{%= $.nlsResources.txtScheduledExecution %}</option>',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n                '<div data-dojo-type=\"Sage.UI.JobSchedulingWidget\" id=\"jobSchedulingWidget\" data-dojo-attach-point=\"jobSchedulingWidget\"></div>',\r\n                '<div dojoType=\"dijit.layout.TabContainer\" dojoAttachPoint=\"tabsContainer\" class=\"tab-container\" style=\"width:100%; height:250px\">',\r\n                    '<div dojoType=\"dijit.layout.ContentPane\"  title=\"{%= $.nlsResources.contentPaneParameters_Caption %}\" class=\"tabContent remove-padding\" dojoAttachPoint=\"contentPaneParameters\">',\r\n                        '<div id=\"divGrdParameters\" style=\"height:200px;\">',\r\n                            '<table data-dojo-type=\"dojox.grid.DataGrid\" dojoAttachPoint=\"grdJobParameters\">',\r\n                                '<thead>',\r\n                                    '<th field=\"name\" width=\"100px\">{%= $.nlsResources.colName_Caption %}</th>',\r\n                                    '<th id=\"parameterValue\" field=\"defaultValue\" width=\"100px\" editable=\"true\">{%= $.nlsResources.colValue_Caption %}</th>',\r\n                                    '<th field=\"description\" width=\"225px\">{%= $.nlsResources.colDescription_Caption %}</th>',\r\n                                '</thead>',\r\n                            '</table>',\r\n                        '</div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div align=\"right\" style=\"margin-top:10px\">',\r\n                    '<div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdOK\" dojoAttachEvent=\"onClick:_cmdOK_OnClick\">{%= $.nlsResources.cmdOK_Caption %}</div>',\r\n                    '<div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= $.nlsResources.cmdCancel_Caption %}</div>',\r\n                '</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>'\r\n]"}});define("Sage/MainView/JobMgr/RunJobDialog",["dojo/_base/declare","dojo/string","dojo/i18n!./nls/RunJobDialog","dojo/text!./templates/RunJobDialog.html","Sage/UI/JobSchedulingWidget","dijit/_Widget","Sage/_Templated","dojo/_base/lang","Sage/UI/Controls/_DialogHelpIconMixin","dojo/data/ItemFileWriteStore","dojox/grid/DataGrid","Sage/Utility/Jobs","Sage/Utility","Sage/UI/Dialogs"],function(_29bc,_29bd,_29be,_29bf,_29c0,_29c1,_29c2,_29c3,_29c4,_29c5,_29c6,_29c7,_29c8,_29c9){var _29ca=_29bc("Sage.MainView.JobMgr.RunJobDialog",[_29c1,_29c2],{id:"dlgRunJob",_dialog:false,_configMgr:false,_key:null,_trigger:null,_currentGroupId:null,widgetTemplate:new Simplate(eval(_29bf)),nlsResources:_29be,widgetsInTemplate:true,show:function(_29cb){this._key=_29cb.key;this._currentGroupId=_29cb.currentGroupId;if(_29cb.triggerId){this._getTriggerRequest(_29cb.triggerId);this.cmbScheduleType.set("value","scheduled");this.cmbScheduleType.set("disabled",true);}this._setVisible(this.jobSchedulingWidget.divJobSchedulingWidget,false);this.jobSchedulingWidget.initialize({trigger:this._trigger});this._dialog.show();if(!this._dialog.helpIcon){_29c3.mixin(this._dialog,new _29c4());this._dialog.createHelpIconByTopic("runjob");}},_getTriggerRequest:function(key){var _29cc=Sage.Services.getService("JobService");var _29cd=new Sage.SData.Client.SDataSingleResourceRequest(_29cc.getSchedulingSDataService());_29cd.setResourceKind(_29bd.substitute("triggers('${0}')",[key]));var self=this;_29cd.read({async:false,success:function(_29ce){self._trigger=_29ce;}});},_dialog_OnShow:function(){var self=this;self.txtJobName.set("value",self._key);window.setTimeout(function(){self._getAndDisplayJobDetails();},250);},_triggerJob:function(){var _29cf=this.jobSchedulingWidget.getJobSchedulingOptions();if(this.cmbScheduleType.value==="scheduled"){if(!this.jobSchedulingWidget.validateSchedule(false,false)){return;}}var _29d0=[];var isNew=(!this._trigger);if(this.grdJobParameters&&this.grdJobParameters.store){dojo.forEach(this.grdJobParameters.store._getItemsArray(),function(item){if(item&&item.name&&item.name.length){var value=!isNew?item.value.length>0?item.value[0]:"":item.defaultValue.length>0?item.defaultValue[0]:"";_29d0.push({name:item.name[0],value:value});}});}var _29d1=null;if(_29cf.startTime&&(_29cf.startTime instanceof Date)){_29d1=_29c8.Convert.toJsonStringFromDate(_29cf.startTime);}var _29d2=null;if(_29cf.endTime&&(_29cf.endTime instanceof Date)){_29d2=_29c8.Convert.toJsonStringFromDate(_29cf.endTime);}var _29d3=this._currentGroupId;var _29d4={closable:true,key:this._key,descriptor:this.txtTriggerDescription.get("value"),frequency:this.cmbScheduleType.value==="scheduled"?_29cf.frequency:null,startTime:_29d1,endTime:_29d2,user:{$key:this._getCurrentUserId()},parameters:_29d0,infoMessage:"",cronExpression:_29cf.cronExpression,title:this.txtTriggerDescription.get("value")||this.txtJobName.get("value"),success:function(_29d5){_29c7.refreshList(_29d3);},failure:function(_29d6){}};if(this.cmbScheduleType.value==="scheduled"){if(isNew){this._scheduleJob(_29d4);}else{this._updateTrigger(_29d4);}}else{_29c7.triggerJobAndDisplayProgressDialog(_29d4);}this._closeDialog();},_getCurrentUserId:function(){var _29d7=null;var _29d8=Sage.Services.getService("ClientContextService");if(_29d8){if(_29d8.containsKey("userID")){_29d7=_29d8.getValue("userID");}}return _29d7;},_scheduleJob:function(_29d9){var _29da=Sage.Services.getService("JobService");_29da.scheduleJob(_29d9);},_updateTrigger:function(_29db){var _29dc=Sage.Services.getService("JobService");_29dc.updateTrigger(_29db);},_cmbScheduleType_OnChange:function(){if(this.cmbScheduleType){var _29dd=(this.cmbScheduleType.value==="scheduled");this._setVisible(this.jobSchedulingWidget.divJobSchedulingWidget,_29dd);}},_setVisible:function(_29de,_29df){if(_29de&&_29df){dojo.removeClass(_29de,"display-none");}else{if(_29de){dojo.addClass(_29de,"display-none");}}},_closeDialog:function(){var self=this;this.jobSchedulingWidget.destroyWidget();self._dialog.hide();setTimeout(function(){self.destroyRecursive();},1000);},_validateJobOptions:function(){if(typeof this._key!=="string"||this._key===""){_29c9.showError(_29bd.substitute(this.nlsResources.txtInvalidParameterMessage,[this.nlsResources.txtJobName_Caption]),this.nlsResources.txtInvalidParameterTitle);return false;}if(this.cmbScheduleType.value==="scheduled"){if(this.jobSchedulingWidget.cboFrequency.get("value")===""){_29c9.showError(_29bd.substitute(this.nlsResources.txtInvalidParameterMessage,[this.nlsResources.cbofrequency_Caption]),this.nlsResources.txtInvalidParameterTitle);return false;}}return true;},_cmdOK_OnClick:function(){if(this._validateJobOptions()){this._triggerJob();}},_cmdCancel_OnClick:function(){this._closeDialog();},_dialog_OnCancel:function(){this._closeDialog();},_getAndDisplayJobDetails:function(){var self=this;var svc=Sage.Services.getService("JobService");var key=this._key;var _29e0="jobs";if(this._trigger){_29e0="triggers";key=this._trigger.$key;}var _29e1={key:key,resourceKind:_29e0,success:function(_29e2){if(_29e2.job){self.txtJobName.set("value",_29e2.job.$descriptor||_29e2.job.$key);}self.txtTriggerDescription.set("value",_29e2.$descriptor||_29e2.$key);self._setJobParametersGridStore(_29e2.parameters);}};svc.getJobDefinition(_29e1);},_setJobParametersGridStore:function(_29e3){var _29e4=[];if(this._trigger){var _29e5=this._getJobParameters();var self=this;dojo.forEach(_29e3,function(item){var _29e6=self._getParameterDescription(_29e5,item.name);_29e4.push({name:item.name,value:item.value,description:_29e6});});}else{_29e4=_29e3;}var data={identifier:"name",items:_29e4};this._setParameterValueColumnBinding(this._trigger?"value":"defaultValue");var store=new _29c5({data:data});this.grdJobParameters.setStore(store);},_getParameterDescription:function(_29e7,_29e8){var _29e9="";dojo.forEach(_29e7,function(item){if(item.name===_29e8){_29e9=item.description;}});return _29e9;},_getJobParameters:function(){var job=null;var _29ea=Sage.Services.getService("JobService");var _29eb=new Sage.SData.Client.SDataSingleResourceRequest(_29ea.getSchedulingSDataService());_29eb.setResourceKind(_29bd.substitute("jobs('${0}')",[this._trigger.job.$key]));_29eb.setQueryArg("select","parameters/*");_29eb.read({async:false,success:function(_29ec){job=_29ec;}});return job?job.parameters:job;},_setParameterValueColumnBinding:function(_29ed){var self=this;dojo.forEach(this.grdJobParameters.layout.cells,function(item,index){if(item.id==="parameterValue"){self.grdJobParameters.layout.cells[index].field=_29ed;}});}});return _29ca;});},"Sage/MainView/JobMgr/nls/BaseListPanelConfig":function(){define("Sage/MainView/JobMgr/nls/BaseListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_29ee,lang){var nls={root:{titleFmtString:"${0}"}};return lang.mixin(_29ee,nls);});},"Sage/QuickForms/Design/nls/TextBoxControlDesigner":function(){define("Sage/QuickForms/Design/nls/TextBoxControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_29ef,lang){var nls={root:{displayNameText:"TextBox"}};return lang.mixin(_29ef,nls);});},"Sage/UI/Dashboard/DashboardPage":function(){define("Sage/UI/Dashboard/DashboardPage",["dojo/i18n","Sage/UI/GridContainer","Sage/UI/Dialogs","Sage/UI/Dashboard/DashboardWidgetCell","Sage/Utility","dijit/form/ValidationTextBox","Sage/UI/Controls/_DialogHelpIconMixin","dojo/dom-construct","Sage/Array","dojo/i18n!./nls/DashboardTabController","dojo/i18n!./nls/WidgetDefinition","dojo/_base/declare","dojo/_base/lang"],function(i18n,_29f0,_29f1,_29f2,_29f3,_29f4,_29f5,_29f6,_29f7,_29f8,_29f9,_29fa,lang){var _29fb=_29fa("Sage.UI.Persistance.DashboardColumn",null,{constructor:function(_29fc){dojo.safeMixin(this,_29fc);}});var _29fd=_29fa("Sage.UI.Dashboard.DashboardPage",_29f0,{_nwTableOuter:new Simplate(["<div id=\"nwTable\" class=\"new-widget-table\"><div style=\"height:400px; overflow-y:auto;\"><table width=\"100%\">{%= $.content %}</table></div>","<div align=\"right\"><button data-dojo-type=\"dijit.form.Button\""," type=\"button\" id=\"btnAddContentClose\" class=\"ok-button\" title=\"{%= $.buttonCancel %}\" align=\"right\" style=\"margin-top:10px;\">{%= $.buttonCancel %}</button>","</div></div>"]),_nwTableInner:new Simplate(["<tr><td><b>{%= $.key %}</b><br />{%= $.value %}</td></tr>","<tr><td><button data-dojo-type=\"dijit.form.Button\"","type=\"button\" id=\"{%= $.btnId %}\" class=\"btn-add-new\">{%= $.addText %}</button></td></tr>","<tr><td><hr /></td></tr>"]),style:"z-index:500;",_eoTable:new Simplate(["<div id=\"eoTable\" class=\"edit-options-table\"><table width=\"100%\">","<tr><td>{%= $.titleText %}</td><td><div data-dojo-type=\"dijit.form.ValidationTextBox\" id=\"txtEO\""," regExp=\"[^-<>:;@#\\$!%\\^&\\*\\(\\)\\+=\\`\\[{},/?\\.~]*\" value=\"{%= $.title %}\" invalidMessage=\"{%= $.invalidMessage %}\"></div></td></tr>","<tr><td colspan=2>{%= $.chooseTemplateText %}</td></tr>","<tr><td><input type=\"radio\" id=\"rdoEO0\" data-dojo-type=\"dijit.form.RadioButton\""," value=\"one_column\" name=\"radioEO\" /></td><td><label for=\"rdoEO0\">{%= $.oneColumnText %}","</label></td></tr>","<tr><td><input type=\"radio\" id=\"rdoEO1\" data-dojo-type=\"dijit.form.RadioButton\""," value=\"two_even\" name=\"radioEO\" /></td><td><label for=\"rdoEO1\">{%= $.twoColumnText %}","</label></td></tr>","<tr><td><input type=\"radio\" id=\"rdoEO2\" data-dojo-type=\"dijit.form.RadioButton\""," value=\"fat_left\" name=\"radioEO\" /></td><td><label for=\"rdoEO2\">{%= $.fatLeftText %}","</label></td></tr>","<tr><td><input type=\"radio\" id=\"rdoEO3\" data-dojo-type=\"dijit.form.RadioButton\""," value=\"fat_right\" name=\"radioEO\" /></td><td><label for=\"rdoEO3\">{%= $.fatRightText %}","</label></td></tr>","<tr><td><input type=\"checkbox\" id=\"chkMD\" data-dojo-type=\"dijit.form.CheckBox\""," value=\"make_def\"/></td><td><label for=\"chkMD\">{%= $.makeDefaultText %}</label></td></tr>","<tr><td colspan=2 align=\"right\"><button data-dojo-type=\"dijit.form.Button\" type=\"button\""," id=\"btnEOK\" class=\"ok-button\" title=\"{%= $.buttonOk %}\" >{%= $.buttonOk %}</button>","<button data-dojo-type=\"dijit.form.Button\" type=\"button\""," id=\"btnEOCancel\" class=\"cancel-button\" title=\"{%= $.buttonCancel %}\">{%= $.buttonCancel %}</button>","</td></tr></table></div>"]),_raisePermissionInvalidMessage:function(){var _29fe=this;var fn=function(ans){if(ans){var db=dijit.byId("Dashboard");db._copyPage(_29fe);}};var opts={title:this.resources.errorText,query:[this.resources.permissionErrorText,this.resources.permissionErrorPerformCopyText],yesText:this.resources.yesText,noText:this.resources.noText,callbackFn:fn,style:{width:"350px"},align:"right"};Sage.UI.Dialogs.raiseQueryDialogExt(opts);},postCreate:function(){this.inherited(arguments);this.subscribe("/ui/dashboard/pageSave",function(page){if(typeof page==="string"){page=parseInt(page,10);}if(page===this._page){if(this.permission){this._save();}else{this._raisePermissionInvalidMessage();}}});this.subscribe("/dojox/mdnd/drop","_dropped");},resources:{},postMixInProperties:function(){dojo.mixin(this.resources,i18n.getLocalization("Sage.UI.Dashboard","DashboardTabController"));dojo.mixin(this.resources,i18n.getLocalization("dijit","common"));this._releaseManager.page=this;this.inherited(arguments);},_createChild:function(_29ff,col,idx,page){var _2a00=_29ff.options.title||_29ff["@name"],_2a01=_2a00;while(_2a01.indexOf(" ")>=0){_2a01=_2a01.replace(" ","_");}while(_2a01.indexOf(".")>=0){_2a01=_2a01.replace(".","_");}while(_2a01.indexOf("'")>=0){_2a01=_2a01.replace("'","_");}if(_29f9[_2a01]){_2a00=_29f9[_2a01];}this._childWidgets.push(new _29f2({dndType:"Portlet",title:_2a00,resizeChildren:false,column:col,index:idx,_page:page,_parentId:this.id,preventRender:this.toBeHidden,widgetOptions:_29ff.options}));return this._childWidgets[this._childWidgets.length-1];},_addNewWidget:function(name){if(this.permission){var last=this._childWidgets[this._childWidgets.length-1];var col=last&&last.column?last.column:0;var idx=last&&last.index?last.index+1:0;var _2a02=new _29f2({dndType:"Portlet",isNew:true,title:this.resources[name]||name,resizeChildren:false,column:col,index:idx,_page:this._page,_parentId:this.id,widgetOptions:{name:name,title:name}});this._childWidgets.push(_2a02);this.addChild(this._childWidgets[this._childWidgets.length-1],col,idx);this._save();}else{this._raisePermissionInvalidMessage();}},_editOptionsMenu:function(){var uo=Sage.UI.DataStore.Dashboard.userOptions;var _2a03=false,_2a04=false,_2a05=false,_2a06=false;switch(this.colWidths.toString()){case "50,50":_2a04=true;break;case "67,33":_2a05=true;break;case "33,67":_2a06=true;break;default:_2a03=true;}var d=new dijit.Dialog({title:this.resources.editOptionsText,style:"width:350px"});d.set("content",this._eoTable.apply({title:this.get("title"),buttonOk:this.resources.buttonOk,buttonCancel:this.resources.buttonCancel,addText:this.resources.addText,titleText:this.resources.titleText,chooseTemplateText:this.resources.chooseTemplateText,oneColumnText:this.resources.oneColumnText,twoColumnText:this.resources.twoColumnText,fatLeftText:this.resources.fatLeftText,fatRightText:this.resources.fatRightText,makeDefaultText:this.resources.makeDefaultText,invalidMessage:this.resources.invalidMessage}));dijit.byId("rdoEO0").set("checked",_2a03);dijit.byId("rdoEO1").set("checked",_2a04);dijit.byId("rdoEO2").set("checked",_2a05);dijit.byId("rdoEO3").set("checked",_2a06);if(uo.defaultTab==this.title){dijit.byId("chkMD").set("checked",true);}d.show();var _2a07=function(){if(this.isNew){var _2a08=dijit.byId("Dashboard");_2a08.closeChild(this);_2a08.selectFirstVisible();}dojo.disconnect(_2a09);dojo.disconnect(ok);dojo.disconnect(_2a0a);d.destroyRecursive();};var _2a09=dojo.connect(d,"hide",this,_2a07);var _2a0a=dojo.connect(dijit.byId("btnEOCancel"),"onClick",this,function(){d.hide();});var ok=dojo.connect(dijit.byId("btnEOK"),"onClick",this,function(){if(this.permission){var txtEO=dijit.byId("txtEO");if(!txtEO.isValid()||!this.getParent()._isTitleUnique(txtEO.value,this.id)){return false;}var _2a0b={};_2a0b.ttl=txtEO.value;_2a0b.one_column=dijit.byId("rdoEO0").get("value");_2a0b.even_split=dijit.byId("rdoEO1").get("value");_2a0b.fat_left=dijit.byId("rdoEO2").get("value");_2a0b.fat_right=dijit.byId("rdoEO3").get("value");_2a0b.make_def=dijit.byId("chkMD").get("value");if(this.isNew){this.isNew=false;}else{_2a0b.oldName=this.name;}this._setOptions(_2a0b);this._save();this._redrawWidgets();this.getParent().addRemovePageContextMenu();d.hide();}else{d.hide();this._raisePermissionInvalidMessage();}});},_redrawWidgets:function(){if(this._childWidgets){dojo.forEach(this._childWidgets,function(_2a0c){_2a0c.refresh(true);});}},_releaseManager:{share:function(){this.lookupOptions.callerId=this.page.id;if(!this.dialog){this.dialog=new dijit.Dialog({id:this.page.id+"-shareDialog",style:"width: 405px",title:this.page.resources.shareTabText});var _2a0d=dojo.connect(this.dialog,"hide",this,this.fnHide);dojo.mixin(this.dialog,new _29f5());this.dialog.createHelpIconByTopic("Working_with_the_Dashboard");}if(this.grid){this.grid.destroyRecursive();}this.grid=new dojox.grid.DataGrid({id:this.page.id+"-shareDialog-grid",structure:[{field:"$key",editable:false,hidden:true,id:"id",formatter:function(value,_2a0e,cel){var id=[cel.grid.id,"-row",_2a0e].join("");var _2a0f=["<div id=",id," >",id,"</ div>"].join("");return _2a0f;}},{field:"Text",name:this.page.resources.releasedToText,width:"185px"},{field:"Type",name:this.page.resources.typeText,width:"175px"}],height:"200px"},document.createElement("div"));var def=dojo.xhrGet({url:"slxdata.ashx/slx/crm/-/dashboard/release",preventCache:true,handleAs:"json",content:{name:this.page.name,family:this.page.family},load:dojo.hitch(this,this.releaseFetchSuccess),error:function(data){}});},releaseFetchSuccess:function(data,xhr){var _2a10={identifier:"Id",items:data};this.gridStore=new dojo.data.ItemFileWriteStore({data:_2a10});this.dialog.set("content",this.dialogContent.apply({id:this.dialog.id,pageId:this.page.id,closeText:this.page.resources.closeText,everyoneText:this.page.resources.everyoneText,headerText:this.page.resources.shareTabText}));this.initTools();this.dialog.show();dojo.place(this.grid.domNode,this.dialog.id+"-grid","replace");this.grid.setStore(this.gridStore);dojo.style(this.dialog.id,"top","130px");},fnHide:function(){this.release();},initTools:function(){var delid=this.dialog.id+"_delBtn";var _2a11=_29f6.create("img",{"id":delid,"alt":this.page.resources.deleteText,"title":this.page.resources.deleteText,"src":"images/icons/Delete_16x16.png","class":"tws-header-icon"});dojo.place(_2a11,dojo.query(["#",this.dialog.id,"-toolbar"].join(""))[0],"last");dojo.connect(dojo.byId(delid),"onclick",this,this.deleteSelected);delid=this.dialog.id+"_lookupBtn";_2a11=_29f6.create("img",{"id":delid,"alt":this.page.resources.addText,"title":this.page.resources.addText,"src":"images/icons/Plus_16x16.gif","class":"tws-header-icon"});dojo.place(_2a11,dojo.query(["#",this.dialog.id,"-toolbar"].join(""))[0],"last");dojo.connect(dojo.byId(delid),"onclick",this,this.startLookup);},deleteSelected:function(){var _2a12=this.grid.selection.getSelected();if(_2a12.length){var _2a13=this.gridStore;dojo.forEach(_2a12,function(item){if(item!==null){_2a13.deleteItem(item);}});this.gridStore.save();}},page:null,grid:null,gridStore:null,dialog:null,dialogContent:new Simplate(["<div width=\"560px\">","<div style=\"width:100%;\" align=\"right\" id=\"{%= $.id %}-toolbar\"></div>","<div id=\"{%= $.id %}-grid\" ></div>","<div style=\"width:100%;\" align=\"right\" ><button data-dojo-type=\"dijit.form.Button\" type=\"button\" style=\"margin-top:10px;\" ","data-dojo-props=\"onClick:function(){dijit.byId('{%= $.pageId %}')._releaseManager.everyoneClick();}\"",">{%= $.everyoneText %}</button>","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" style=\"margin-left:10px; margin-top:10px;\" ","data-dojo-props=\"onClick:function(){dijit.byId('{%= $.pageId %}')._releaseManager.dialog.hide();}\"",">{%= $.closeText %}</button></div>","</div> "]),lookup:null,everyoneClick:function(){var item=[{$key:"SYST00000001",OwnerDescription:this.page.resources.everyoneText}];this.lookupOptions.doSelected(item);},release:function(){var ids="";var items=this.gridStore._arrayOfAllItems;for(var i=0;i<items.length;i++){if(items[i]){ids+=items[i].Id[0]+",";}}var vURL=dojo.string.substitute("SLXGroupBuilder.aspx?method=GetGroupIdFromNameFamilyAndType&name=${0}&family=System&type=36",[encodeURIComponent(this.page.name)]);dojo.xhrGet({url:vURL,error:dojo.hitch(this,function(_2a14){}),load:dojo.hitch(this,function(_2a15){vURL="SLXGroupBuilder.aspx?method=ReleaseGroup&gid="+_2a15+"&toids="+ids;dojo.xhrGet({url:vURL,error:dojo.hitch(this,function(_2a16){}),load:dojo.hitch(this,function(_2a17){})});})});},startLookup:function(){if(!this.lookup){this.lookup=new Sage.UI.SDataLookup(this.lookupOptions);this.lookup.dialogTitle=this.page.resources.addLookup;this.lookup.dialogButtonText=this.page.resources.okButton;this.lookup.structure[0].cells[0].name=this.page.resources.typeText;this.lookup.structure[0].cells[1].name=this.page.resources.descriptionText;}this.lookup.showLookup();},lookupOptions:{callerId:null,displayMode:5,structure:[{cells:[{name:"",field:"Type",sortable:true,width:"150px",editable:false,styles:null,propertyType:"Sage.Entity.Interfaces.OwnerType",excludeFromFilters:false,useAsResult:false},{"name":"","field":"OwnerDescription","sortable":true,"width":"500px","editable":false,"styles":null,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false}],"defaultCell":{"name":null,"field":null,"sortable":false,"width":"50px","editable":false,"styles":"text-align: left;","propertyType":null,"excludeFromFilters":false,"useAsResult":false}}],gridOptions:{},storeOptions:{"resourceKind":"owners"},dialogTitle:"",dialogButtonText:"",id:"MainContent_AccountDetails_Owner_Grid",modality:"modal",doSelected:function(items){var _2a18=dijit.byId(this.callerId)._releaseManager;for(var i=0,len=items.length;i<len;i++){if(!_2a18.gridStore._itemsByIdentity[items[i].$key]){_2a18.gridStore.newItem({Id:items[i].$key,Text:items[i].OwnerDescription,Type:items[i].Type});}}_2a18.gridStore.save();_2a18.grid.startup();if(_2a18.lookup&&_2a18.lookup.lookupDialog){_2a18.lookup.lookupDialog.hide();}}}},_joinColumnWidgets:function(){if(this.nbZones===2){for(var i=this._childWidgets.length-1;i>=0;i--){if(this._childWidgets[i].column===1){this.removeChild(this._childWidgets[i]);this._childWidgets[i].column=0;this._childWidgets[i].index+=this._childWidgets.length;this.addChild(this._childWidgets[i],0,this._childWidgets[i].index);}}this._deleteColumn(1);}},_setOptions:function(_2a19){var uo=Sage.UI.DataStore.Dashboard.userOptions;if(_2a19.ttl){this.title=_2a19.ttl;this.set("name",_2a19.ttl);var _2a1a=dijit.byId("Dashboard_tablist_"+this.id);if(_2a1a){_2a1a._setLabelAttr(_2a19.ttl);}}if(_2a19.one_column){this._joinColumnWidgets();this.setColumns(1);this.set("colWidths","100");dojo.publish("ui/dashboard/columnResize");}if(_2a19.even_split){this.setColumns(2);this.set("colWidths","50,50");dojo.publish("/ui/dashboard/columnResize");}if(_2a19.fat_left){this.setColumns(2);this.set("colWidths","67,33");dojo.publish("/ui/dashboard/columnResize");}if(_2a19.fat_right){this.setColumns(2);this.set("colWidths","33,67");dojo.publish("/ui/dashboard/columnResize");}if(_2a19.make_def){var db=dijit.byId(this._parentId);if(this.title){uo.defaultTab=this.title;db._updateUserOptions();}}if(_2a19.oldName){this.oldName=_2a19.oldName;}else{this.oldName="";}},_newWidgetMenu:function(){var d=new dijit.Dialog({title:this.resources.addContentText,style:"width:365px;"});dojo.mixin(d,new _29f5());var list=Sage.UI.DataStore.Dashboard.widgetsList;var inner=[];this._nwListeners=[];for(var item in list){if(list.hasOwnProperty(item)&&item!="Default"){var _2a1b=item.replace(" ","_");inner.push(this._nwTableInner.apply({btnId:_2a1b+"_label",key:_29f9[_2a1b]||item,value:_29f9[_2a1b+"_Description"]||list[item],addText:this.resources.addText}));}}var mkup=this._nwTableOuter.apply({content:inner.join(""),buttonCancel:this.resources.buttonCancel});d.createHelpIconByTopic("Introducing_Widgets");d.set("content",mkup);d.show();var _2a1c=function(){dojo.forEach(this._nwListeners,dojo.disconnect);dojo.disconnect(_2a1d);dojo.disconnect(_2a1e);setTimeout((function(d){return function(){d.destroyDescendants();d.destroy(false);};})(d),1);};var _2a1d=dojo.connect(d,"hide",this,_2a1c);var _2a1e=dojo.connect(dijit.byId("btnAddContentClose"),"onClick",this,function(){d.hide();});var adds=dijit.findWidgets(dojo.byId("nwTable"));for(var i=0,len=adds.length;i<len;i++){if(adds[i].id!="btnAddContentClose"){var cb=dojo.hitch(this,this._addNewClick,d,adds[i].id);this._nwListeners.push(dojo.connect(adds[i],"onClick",null,cb));}}},_addNewClick:function(d,_2a1f,evt){var id=_2a1f.replace("_label","").replace("_"," ");d.hide();this._addNewWidget(id);},_init:function(){if(this.pageRendered){if(this.firstButNotDefault){for(var k=0,llen=this._childWidgets.length;k<llen;k++){this._childWidgets[k]._redrawCharts();}this.firstButNotDefault=false;}return;}setTimeout(lang.hitch(this,function(){if(this._columns.length){for(var i=0;i<this.nbZones;i++){if(this._columns[i]){this._columns[i].Widgets.Widget=_29f3.Convert.toArrayFromObject(this._columns[i].Widgets.Widget);for(var j=0,len=this._columns[i].Widgets.Widget.length;j<len;j++){if(this._columns[i].Widgets.Widget[j]){this.addChild(this._createChild(this._columns[i].Widgets.Widget[j],i,j,this._page),i,j);}}}}}this.pageRendered=true;}),5);},_dropped:function(drp,_2a20,i){var _2a21=dijit.byId(drp.id);if(this._page!==_2a21._page){return;}var col=_2a20.node.cellIndex;_2a21._setColumn(col);_2a21._setIndex(i);dojo.publish("/ui/widget/dropped",[drp.id,_2a21._page,col,i]);if(this.permission){this._save();}else{this._raisePermissionInvalidMessage();}},_hide:function(){return this.title;},_copy:function(){return this._save(true);},_contextSave:function(){if(!this.pageRendered){return;}this._save();},_save:function(_2a22){var cw=this.colWidths;var _2a23;if(cw){_2a23=typeof cw==="string"?cw:cw.join(",");}var _2a24;if(_2a22){_2a24={"@name":this.name,"@title":this.name,"@id":this.id,"@family":this.family||"System","@permission":this.permission,"@colWidths":_2a23,Columns:{Column:[]}};}else{_2a24={"@name":this.name,"@title":this.name,"@id":this.id,"@family":this.family||"System","@colWidths":_2a23,Columns:{Column:[]}};}var _2a25={};for(var i=0;i<this.nbZones;i++){_2a25[i]=new _29fb({Widgets:{Widget:[]}});}var len;for(i=0,len=this._childWidgets.length;i<len;i++){var col=this._childWidgets[i].column;var opts=this._childWidgets[i].widgetOptions;var w={index:this._childWidgets[i].index,"@name":opts.name,"@family":opts.family||"System",options:opts};_2a25[col].Widgets.Widget.placeByAttr(w,"index");}var cols=Sage.Utility.size(_2a25);for(var j=0;j<cols;j++){_2a24.Columns.Column.push(_2a25[j]);}var pg={Dashboard:{}};Sage.Utility.mixOwn(pg.Dashboard,_2a24);if(_2a22){return pg;}var pgStr=dojo.toJson(pg);if(!this.oldName){this.oldName="";}var uri=dojo.string.substitute("slxdata.ashx/slx/crm/-/dashboard/page?name=${0}&family=${1}&oldName=${2}",[encodeURIComponent(this.name),encodeURIComponent(this.family),encodeURIComponent(this.oldName)]);var def=dojo.xhrPost({url:uri,handleAs:"text",postData:pgStr,load:function(data){},error:function(err){console.error(err);}});}});return _29fd;});},"url:Sage/MainView/Account/templates/AccountDetailSummary.html":"[\r\n'<table style=\"width:100%\">',\r\n    '<thead>',\r\n        '<tr>',\r\n            '<th>',\r\n                '<div class=\"SummaryTitle\">',\r\n                    '<a href=\"Account.aspx?entityid={%= $.templateData.id %}\">{%= Sage.Utility.htmlEncode($.templateData.name) %}</a>',\r\n                '</div>',\r\n            '</th>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_address1 %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_citystatezip %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</thead>',\r\n    '<tbody>',\r\n        '<tr>',\r\n            '<td class=\"DataColumn\">',\r\n                '<table>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svType_Caption || \"Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.type %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svSubType_Caption || \"Sub Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.subtype %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTitle_Status || \"Status:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.status %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svDivision_Caption || \"Division:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.division %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svIndustry_Caption || \"Industry:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.industry) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svMainPhone_Caption || \"Main phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.mainphone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTollFree_Caption || \"Toll free:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.tollfree) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svEmail_Caption || \"Email:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.email %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWebAddress_Caption || \"Web:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.webaddress %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccMgr_Caption || \"Acct. Mgr.:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountmanager_userinfo_firstname %} {%= $.templateData.accountmanager_userinfo_lastname %}</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</tbody>',\r\n'</table>',\r\n'<br/>',\r\n'<div style=\"padding-right:20px; text-align:right\">',\r\n    '<asp:Panel runat=\"server\" ID=\"pnlCancel\" CssClass=\"controlslist qfActionContainer\">',\r\n        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Close\" onClick=\"javascript:contactSearchForDuplicates._close();\">{%= $.closeText %}</div>',\r\n    '</asp:Panel>',\r\n'</div>'\r\n]","Sage/MainView/SecurityManager":function(){define("Sage/MainView/SecurityManager",["Sage/UI/SDataMainViewConfigurationProvider","Sage/UI/Columns/RadioGroup","Sage/Data/WritableSDataStore","Sage/MainView/SecurityMgr/SecurityManagerGroupContext","dojo/i18n!./nls/SecurityManager","dojo/_base/declare"],function(_2a26,_2a27,_2a28,_2a29,_2a2a,_2a2b){var _2a2c=_2a2b("Sage.MainView.SecurityManager",_2a26,{_profilesStore:false,_currentProfileId:false,_currentProfileDescription:false,_profileNameCache:{},store:false,entityType:"securityProfileColumns",constructor:function(_2a2d){dojo.mixin(this,_2a2a);var _2a2e=Sage.Services.getService("ClientGroupContext");if(!_2a2e||_2a2e.declaredClass!="Sage.MainView.SecurityMgr.SecurityManagerGroupContext"){Sage.Services.removeService("ClientGroupContext");_2a2e=new _2a29();Sage.Services.addService("ClientGroupContext",_2a2e);}if(_2a2e){var ctx=_2a2e.getContext();this._currentProfileId=ctx.CurrentGroupID;this._currentProfileDescription=ctx.CurrentName;}this.service=Sage.Data.SDataServiceRegistry.getSDataService("system");this.titlePaneConfiguration={tabs:this._getTabsConfig(),menu:this._getMenuConfig(),titleFmtString:this.securityManagerText+": ${0}"};dojo.subscribe("/group/context/changed",this,"onConfigurationChange");},_getListPanelConfig:function(){var _2a2f=dijit.byId("refreshBtn");if(!this.refreshEvent){this.refreshEvent=dojo.connect(_2a2f,"onClick",this,function(){var _2a30=dijit.byId("list");_2a30._markClean();});}var _2a31=[{field:"table",name:this.tableText,width:"155px"},{field:"entity",name:this.entityText,width:"130px"},{field:"column",name:this.columnText,width:"140px"},{field:"property",name:this.propertyText,width:"100px"},{field:"access",name:this.accessText,labels:[this.readWriteText,this.readOnlyText,this.noAccessText],width:"300px",type:_2a27,options:["ReadWrite","ReadOnly","NoAccess"],editable:true}];var where=(this._currentProfileId)?dojo.string.substitute("profile.id eq \"${0}\"",[this._currentProfileId]):"";if(!this.store){this.store=new _2a28({id:"securityProfileColumns",service:this.service,isSecurityManager:true,resourceKind:"securityProfileColumns",include:[],select:["table","entity","column","property","access"],directQuery:{conditions:where}});}else{this.store.directQuery={conditions:where};}this.listPanelConfiguration={list:{structure:_2a31,store:this.store,selectionMode:"none",id:"securityManagerListConfig"},detail:false,summary:false,toolBar:{items:[{icon:"~/ImageResource.axd?scope=global&type=Global_Images&key=Save_16x16",title:this.saveText,onClick:dojo.hitch(this.store,"save")},{icon:"~/ImageResource.axd?scope=global&type=Global_Images&key=Reset_16x16",title:this.resetText,onClick:dojo.hitch(this.store,"revert")}]}};dojo.style(dijit.byId("addGroupButton").domNode,"display","none");return this.listPanelConfiguration;},requestConfiguration:function(_2a32){if(_2a32.success){_2a32.success.call(_2a32.scope||this,this._getListPanelConfig(),this);}},requestTitlePaneConfiguration:function(_2a33){if(_2a33.success){_2a33.success.call(_2a33.scope||this,this.titlePaneConfiguration,this);}},onConfigurationChange:function(obj){this._currentProfileId=obj.current.CurrentGroupID;this._currentProfileDescription=obj.current.CurrentName;if(this._currentProfileId&&this._currentProfileId.length===12){if(this._profileNameCache&&this._profileNameCache.hasOwnProperty(this._currentProfileId)){this._setUIForNewGroup(false);}else{this._profilesStore.fetch({onComplete:dojo.hitch(this,"_setUIForNewGroup")});}}},onTitlePaneConfigurationChange:function(){},_setUIForNewGroup:function(_2a34){var i;if(_2a34){this._profileNameCache={};for(i=0;i<_2a34.length;i++){this._profileNameCache[_2a34[i]["$key"]]=_2a34[i]["$descriptor"];}}var _2a35=dijit.byId("titlePane");if(_2a35){_2a35.set("title",this._profileNameCache[this._currentProfileId]);}var tabs=dijit.byId("GroupTabs");if(tabs){var _2a36=tabs.getChildren();for(i=0;i<_2a36.length;i++){if(_2a36[i].id===this._currentProfileId){tabs.selectChild(_2a36[i],false);break;}}}},_getTabsConfig:function(){this._setProfilesStore();this._profilesStore.fetch({onComplete:dojo.hitch(this,"_setUIForNewGroup")});return {store:this._profilesStore,selectedTabId:this._currentProfileId,tabKeyProperty:"$key",tabNameProperty:"profileDescription",fetchParams:{},staticTabs:[],onTabSelect:function(child){var _2a37=Sage.Services.getService("ClientGroupContext");if(_2a37){var ctx=_2a37.getContext();var id=child.id||child;if(ctx.CurrentGroupID===id){return;}var _2a38=dijit.byId("list");_2a38._markClean();_2a37.setCurrentGroup(id,child.title);}},onTabClose:false};},_setProfilesStore:function(){this._profilesStore=this._profilesStore||new _2a28({id:"securityProfilesstore",service:this.service,resourceKind:"securityProfiles",include:[],select:["profileDescription","defaultPermission","profileType"],orderby:"profileDescription"});},_getMenuConfig:function(){this._setProfilesStore();return {id:"profileMenu",img:"images/icons/Groups_16x16.gif",text:this.profilesText,tooltip:this.profilesText,width:"300px",items:[{fn:this._getProfileMenuGrid,scope:this}]};},_getProfileMenuGrid:function(){return new Sage.UI.GridMenuItem({gridOptions:{id:"profileGridInMenu",store:this._profilesStore,rowsPerPage:40,structure:[{field:"profileDescription",name:"Description",width:"290px"}],selectionMode:"single",query:{},height:"400px",width:"350px",onSelected:function(idx){var _2a39=this.getItem(idx);var _2a3a=Sage.Services.getService("ClientGroupContext");if(_2a3a){var ctx=_2a3a.getContext();if(ctx.CurrentGroupID===_2a39["$key"]){return;}var _2a3b=dijit.byId("GroupTabs"),_2a3c=_2a3b.getChildren();for(var i=0;i<_2a3c.length;i++){if(_2a3c[i].id==_2a39["$key"]){_2a3b.selectChild(_2a3c[i]);_2a3a.setCurrentGroup(_2a39["$key"],_2a39.profileDescription);return;}}}}}});}});return _2a2c;});},"Sage/Extensions/UI/Columns/CheckBox":function(){define("Sage/Extensions/UI/Columns/CheckBox",["dojo/_base/declare","dojo/_base/lang","dojo/query"],function(_2a3d,lang,query){var _2a3e=_2a3d("Sage.Extensions.UI.Columns.CheckBox",dojox.grid.cells.Bool,{checkBoxIds:null,constructor:function(_2a3f){this.checkBoxIds=[];},formatEditing:function(_2a40,_2a41){var _2a42="chk_"+this.field+"_"+_2a41;if(!this.checkBoxIds[_2a42]){this.checkBoxIds.push(_2a42);}var key="";var _2a43=this.grid.getItem(_2a41);if(_2a43){key=_2a43.EntityId;}var _2a44="chk_"+this.field+"_"+key;var _2a45=(_2a40===true||_2a40===1)?"<input type=\"checkbox\" class=\"attendeeGridIsPrimary\" id=\""+_2a44+"\" name=\""+_2a42+"\" checked=\"checked\" />":"<input type=\"checkbox\" class=\"attendeeGridIsPrimary\" id=\""+_2a44+"\" name=\""+_2a42+"\" />";return _2a45;},doclick:function(e){if(e.target.tagName=="INPUT"){var item=e.grid.getItem(e.rowIndex);if(e.target.checked){item.checked=true;}else{item.checked=false;}if(this.checkBoxClicked&&typeof this.checkBoxClicked==="function"){this.checkBoxClicked.call(this,item);}this.resetRows(e.grid,e.rowIndex,this.field,item);if(e.grid.mode=="insert"){this.applyStaticValue(e.rowIndex);}}},resetRows:function(grid,_2a46,_2a47,_2a48){var count=grid.rowCount;var _2a49;for(var i=0;i<count;i++){var item=grid.getItem(i);if(item&&item.EntityId!==_2a48.EntityId){_2a49="chk_"+this.field+"_"+item.EntityId;dojo.byId(_2a49).checked=false;grid.store.setValue(item,_2a47,false);}else{if(item&&item.EntityId===_2a48.EntityId){_2a49="chk_"+this.field+"_"+item.EntityId;if(grid.mode=="insert"){grid.store.setValue(item,_2a47,true);}else{if(grid.mode!=="insert"&&item.IsPrimary){grid.store.setValue(item,_2a47,false);}else{if(grid.mode!=="insert"&&!item.IsPrimary){grid.store.setValue(item,_2a47,true);}}}}}}},resetCheckBoxes:function(index){for(var i=0;i<this.checkBoxIds.length;i++){if(index!=i){dojo.byId(this.checkBoxIds[i]).checked=false;}}query(".attendeeGridIsPrimary").forEach(function(node,index,arr){});}});return _2a3e;});},"Sage/QuickForms/Design/Editors/TextBoxAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/TextBoxAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/TextBoxAdvancedPropertyEditor"],function(_2a4a,lang,_2a4b,_2a4c,_2a4d,_2a4e,_2a4f,_2a50,_2a51,_2a52){return _2a4a("Sage.QuickForms.Design.Editors.TextBoxAdvancedPropertyEditor",[_2a4b,_2a50,_2a4f],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlLabelPlacementTooltipText %}\">","<label>{%= $.controlLabelPlacementText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_controlLabelPlacement\" data-dojo-attach-event=\"onChange:_onControlLabelPlacementChange\">","{% for (var placement in $.labelPlacementText) { %}","<span value=\"{%= placement %}\">{%= $.labelPlacementText[placement] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.enabledTooltipText %}\">","<label>{%= $.enabledText %}</label>","<div data-dojo-attach-point=\"_enabled\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onEnabledChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.maxLengthTooltipText %}\">","<label>{%= $.maxLengthText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_maxLength\" data-dojo-attach-event=\"onChange:_onMaxLengthChange\" data-dojo-props=\"constraints:{min:-1,places:0}\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.requiredTooltipText %}\">","<label>{%= $.requiredText %}</label>","<div data-dojo-attach-point=\"_required\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onRequiredChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.defaultDataBindingTooltipText %}\">","<label>{%= $.defaultDataBindingText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_defaultDataBinding\" data-dojo-attach-event=\"onChange:_onDefaultDataBindingChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_controlType:null,_controlId:null,_enabled:null,_controlLabelPlacement:null,_defaultDataBinding:null,_maxLength:null,_required:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},constructor:function(){lang.mixin(this,_2a52);},setup:function(){this.inherited(arguments);this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._enabled.set("value",this._designer.get("enabled"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._maxLength.set("value",this._designer.get("maxLength"));this._required.set("value",this._designer.get("required"));this._visible.set("value",this._designer.get("visible"));var _2a53=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_2a53&&_2a53["DataItemName"])||"");},_onControlTypeChange:function(value){},_onControlIdChange:function(value){},_onDefaultDataBindingChange:function(value){},_onEnabledChange:function(value){if(this.isSuspended()){return;}this._designer.set("enabled",value);},_onControlLabelPlacementChange:function(value){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",value);},_onMaxLengthChange:function(value){if(this.isSuspended()||!this._maxLength.isValid()){return;}this._designer.set("maxLength",value);},_onRequiredChange:function(value){if(this.isSuspended()){return;}this._designer.set("required",value);},_onVisibleChange:function(value){if(this.isSuspended()){return;}this._designer.set("visible",value);}});});},"Sage/UI/Calendar":function(){define("Sage/UI/Calendar",["dijit/Calendar","dojo/_base/declare"],function(_2a54,_2a55){var _2a56=_2a55("Sage.UI.Calendar",_2a54,{_dateModifiedExternal:false,displayMode:"",constructor:function(_2a57){this.displayMode=_2a57.displayMode;var self=this;if(this.displayMode==="popup"){dojo.connect(this,"_setValueAttr",function(value,_2a58){if(value){value=new self.dateClassObj(value);}if(self._isValidDate(value)){value.setHours(1,0,0,0);if(!self.isDisabledDate(value,self.lang)){self._set("value",value);if(self.monthWidget&&self.monthWidget.dropDown){self.set("currentFocus",value);}if(_2a58||typeof _2a58=="undefined"){self.onChange(self.get("value"));}}}else{self._set("value",null);self.set("currentFocus",self.currentFocus);}});}else{dojo.subscribe("/entity/activity/calendar/schedulerDateChanged",function(data){(function(){self._dateModifiedExternal=true;self.set("value",data.date);self._dateModifiedExternal=false;})();});dojo.connect(this,"_setCurrentFocusAttr",function(date){self.set("value",date);});}this.inherited(arguments);},onValueSelected:function(date){if(this.displayMode!="popup"){if(!this._dateModifiedExternal){this._dateModifiedExternal=false;dojo.publish("/entity/activity/calendar/navigationCalendarDateChanged",[date,this]);this._dateModifiedExternal=false;}}},getClassForDate:function(date){var day=date.getDay();if((day===6)||(day===0)){return "dijitCalendarWeekEndDate";}}});return _2a56;});},"Sage/QuickForms/Design/nls/EmailControlDesigner":function(){define("Sage/QuickForms/Design/nls/EmailControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_2a59,lang){var nls={root:{displayNameText:"Email"}};return lang.mixin(_2a59,nls);});},"Sage/MainView/JobManager":function(){define("Sage/MainView/JobManager",["Sage/UI/SDataMainViewConfigurationProvider","Sage/UI/ListPanel","Sage/Utility","Sage/MainView/JobMgr/JobManagerGroupContextService","Sage/MainView/JobMgr/FilterConfigurationProvider","dojo/_base/declare","Sage/MainView/JobMgr/JobManagerActions"],function(_2a5a,_2a5b,_2a5c,_2a5d,_2a5e,_2a5f){var _2a60=_2a5f("Sage.MainView.JobManager",_2a5a,{_currentTabId:false,_currentTabDescription:false,_currentKeyField:"$key",_groupContextService:false,_tabNameCache:{},_mainViewName:"JobManager",store:false,constructor:function(_2a61){var _2a62=Sage.Services.getService("ClientGroupContext");if(!_2a62||_2a62.declaredClass!=="Sage.MainView.JobMgr.JobManagerGroupContextService"){Sage.Services.removeService("ClientGroupContext");_2a62=new JobManagerGroupContextService();Sage.Services.addService("ClientGroupContext",_2a62);}var ctx=_2a62.getContext();this._currentTabId=ctx.CurrentGroupID;this._currentTabDescription=ctx.CurrentName;this.titlePaneConfiguration={tabs:this._getTabsConfig(),menu:this._getMenuConfig(),titleFmtString:"${0}"};dojo.subscribe("/group/context/changed",this,"_onCurrentGroupChanged");},_setListPanelConfig:function(){var _2a63=Sage.Services.getService("ClientGroupContext");if(_2a63){this.listPanelConfiguration=_2a63.getCurrentListConfig();this.store=this.listPanelConfiguration.list.store;this.service=this.listPanelConfiguration.list.store.service;}},_getListPanelConfig:function(){this._setListPanelConfig();return this.listPanelConfiguration;},requestConfiguration:function(_2a64){if(_2a64.success){_2a64.success.call(_2a64.scope||this,this._getListPanelConfig(),this);}},requestTitlePaneConfiguration:function(_2a65){if(_2a65.success){_2a65.success.call(_2a65.scope||this,this.titlePaneConfiguration,this);}},_setUIForNewTab:function(tabId,_2a66){this._currentTabId=tabId;this._currentTabDescription=_2a66;},_onCurrentGroupChanged:function(args){var _2a67=args["current"];if(!_2a67){var _2a68=Sage.Services.getService("ClientGroupContext");_2a67=_2a68.getContext();}if(dijit.byId("GroupTabs").selectedChildWidget.id!==_2a67.CurrentGroupID){dijit.byId("GroupTabs").selectChild(_2a67.CurrentGroupID);}},_onTabSelected:function(tab){var _2a69=Sage.Services.getService("ClientGroupContext");var id=tab.id||tab;var _2a6a=_2a69.getKeyField(id);if(_2a69){var ctx=_2a69.getContext();if(ctx.CurrentGroupID===id){return;}this._setUIForNewTab(id,tab.title);_2a69.setCurrentGroup(id,tab.title,_2a6a);}},_getTabsConfig:function(){var _2a6b={store:false,selectedTabId:this._currentTabId,tabKeyProperty:"key",tabNameProperty:"descriptor",fetchParams:{},staticTabs:this._getStaticTabs(),onTabSelect:dojo.hitch(this,"_onTabSelected"),onTabClose:false,showTabContextMenus:false};return _2a6b;},_getStaticTabs:function(){var _2a6c=Sage.Services.getService("ClientGroupContext");var _2a6d=_2a6c.getStaticTabs();return _2a6d;},_getMenuConfig:function(){return false;}});return _2a60;});},"Sage/UI/Controls/nls/Lookup":function(){define("Sage/UI/Controls/nls/Lookup",["Sage/LanguageList","dojo/_base/lang"],function(_2a6e,lang){var nls={root:{buttonToolTip:"Find",closeButtonToolTip:"Remove"}};return lang.mixin(_2a6e,nls);});},"Sage/Utility/File/nls/DescriptionsForm":function(){define("Sage/Utility/File/nls/DescriptionsForm",["Sage/LanguageList","dojo/_base/lang"],function(_2a6f,lang){var nls={root:{titleFmt:"Add Attachment(s) for ${0}",titleLibraryDoc:"Add Library Document (s)",fileNameText:"File name and size: ",descText:"Description:",okText:"OK",cancelText:"Cancel"}};return lang.mixin(_2a6f,nls);});},"Sage/UI/TransferBoxWidget":function(){require({cache:{"url:Sage/UI/templates/TransferBoxWidget.html":"<div>\r\n    <table style=\"width:100%\">\r\n        <colgroup>\r\n            <col style=\"width:45%\" />\r\n            <col style=\"width:10%\" />\r\n            <col style=\"width:45%\" />\r\n        </colgroup>\r\n        <tr>\r\n            <td colspan=\"3\">\r\n                <div data-dojo-attach-point=\"searchFilterDiv\">\r\n                    <label>${searchFilterText}</label>\r\n                    <div dojoType=\"dijit.form.TextBox\" dojoAttachPoint=\"searchFilter\"></div>\r\n                    <button data-dojo-type=\"Sage.UI.ImageButton\" imageClass=\"icon_Find_16x16\" data-dojo-attach-point=\"filterButton\" data-dojo-attach-event=\"onClick:_onFilterClick\" ></button>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td>\r\n                <label data-dojo-attach-point=\"availableValues\">${availableValuesText}</label>\r\n            </td>\r\n            <td></td>\r\n            <td>\r\n                <label data-dojo-attach-point=\"selectedValues\">${selectedValuesText}</label>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td data-dojo-attach-point=\"colFromNode\">\r\n                <div data-dojo-attach-point=\"fromNode\"></div>\r\n            </td>\r\n            <td style=\"text-align:center\">\r\n                <div data-dojo-attach-point=\"transferButtons\">\r\n                    <button data-dojo-type=\"dijit.form.Button\" data-dojo-attach-event=\"onClick:_onAddClick\" data-dojo-attach-point=\"addButton\" title=\"${btnAddTooltip}\">&gt;</button>\r\n                    <button data-dojo-type=\"dijit.form.Button\" data-dojo-attach-event=\"onClick:_onAddAllClick\" data-dojo-attach-point=\"addAllButton\" title=\"${btnAddAllTooltip}\">&gt;&gt;</button>\r\n                    <button data-dojo-type=\"dijit.form.Button\" data-dojo-attach-event=\"onClick:_onRemoveClick\" data-dojo-attach-point=\"removeButton\" title=\"${btnRemoveTooltip}\">&lt;</button>\r\n                    <button data-dojo-type=\"dijit.form.Button\" data-dojo-attach-event=\"onClick:_onRemoveAllClick\" data-dojo-attach-point=\"removeAllButton\" title=\"${btnRemoveAllTooltip}\">&lt;&lt;</button>\r\n                </div>\r\n            </td>\r\n            <td>\r\n                <div data-dojo-attach-point=\"toNode\"></div>\r\n            </td>\r\n            <td style=\"vertical-align:top\">\r\n                <span data-dojo-attach-point=\"errorValidation\" class=\"display-none\" style=\"color:red\">*</span>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>"}});define("Sage/UI/TransferBoxWidget",["dojo/_base/declare","dojo/_base/array","Sage/UI/TransferBoxWidgetEnumerations","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dgrid/OnDemandList","dgrid/Selection","dgrid/Keyboard","dojo/dom-construct","dojo/text!./templates/TransferBoxWidget.html","dojo/i18n!./nls/TransferBoxWidget","dojo/dom-style","put-selector/put"],function(_2a70,_2a71,_2a72,_2a73,_2a74,_2a75,_2a76,_2a77,_2a78,_2a79,_2a7a,_2a7b,_2a7c,put){var _2a7d=_2a70("Sage.UI.TransferBoxWidget",[_2a73,_2a74,_2a75],{templateString:_2a7a,"class":"transferBoxWidget",widgetsInTemplate:true,sortAttribute:"",sortDescending:false,allowFiltering:true,allowClearAll:true,useFilterTypeAhead:true,selectionMode:_2a72.SelectionMode.Extended,hideTransferBoxOnSingleSelectMode:true,postMixInProperties:function(){dojo.mixin(this,_2a7b);},postCreate:function(){this.inherited(arguments);this._setVisibilityState();this._declareLists();},addSelectedItem:function(id){var row=this.from.row(id);if(row.data){row.data.__selected=true;this.store.put(row.data);}else{}},addNewItem:function(item,_2a7e){var _2a7f=false;if(!item.id){item.id=this._generateUniqueId();}if(_2a7e){var self=this;this.store.query({id:item.id}).forEach(function(item){_2a7f=true;if(!item.__selected){item.__selected=true;self.store.put(item);}return;});}if(!_2a7f){this.store.add(item);if(item.__selected){this.addSelectedItem(item.id);}}},getSelectedValues:function(){var _2a80=[];this.store.query({__selected:true}).forEach(function(item){_2a80.push(item);});return _2a80;},_setVisibilityState:function(){this.addButton.set("disabled",true);this.removeButton.set("disabled",true);if(!this.allowFiltering){dojo.addClass(this.searchFilterDiv,"display-none");}else{if(this.useFilterTypeAhead){dojo.connect(this.searchFilter.focusNode,"onkeyup",this,"_onKeyUp",true);_2a7c.set(this.filterButton.domNode,"display","none");}}if(this.hideTransferBoxOnSingleSelectMode&&this.selectionMode===_2a72.SelectionMode.Single){dojo.addClass(this.transferButtons,"display-none");dojo.addClass(this.toNode,"display-none");dojo.addClass(this.availableValues,"display-none");dojo.addClass(this.selectedValues,"display-none");this.colFromNode.setAttribute("colspan","3");}if(!this.allowClearAll){_2a7c.set(this.removeAllButton.domNode,"display","none");}},_declareLists:function(){var _2a81=_2a70([_2a76,_2a77,_2a78]);var from=this.from=new _2a81({store:this.store,query:function(item){return !item.__selected;},sort:[{attribute:this.sortAttribute,descending:this.sortDescending}],selectionMode:this.selectionMode,loadingMessage:this.loadingText,noDataMessage:this.noResultsText,renderRow:this._renderItem,},this.fromNode);this.from.startup();this._selectionToDisable(from,this.addButton);var to=this.to=new _2a81({store:this.store,query:function(item){return item.__selected;},sort:[{attribute:this.sortAttribute,descending:this.sortDescending}],renderRow:this._renderItem},this.toNode);this._selectionToDisable(to,this.removeButton);},_renderItem:function(item){return put("div",item.displayValue?item.displayValue:"");},_selectionToDisable:function(list,_2a82){var _2a83=0;list.on("dgrid-select",function(e){_2a83+=e.rows.length;_2a82.set("disabled",!_2a83);});list.on("dgrid-deselect",function(e){_2a83-=e.rows.length;_2a82.set("disabled",!_2a83);});},_onFilterClick:function(){this.from.set("query",{displayValue:new RegExp(this.searchFilter.get("value"),"i"),__selected:false});},_onKeyUp:function(){this._onFilterClick();},_onAddClick:function(){for(var id in this.from.selection){this.addSelectedItem(id);}},_onAddAllClick:function(){var self=this;this.store.query({displayValue:new RegExp(this.searchFilter.get("value"),"i")}).forEach(function(item){item.__selected=true;self.store.put(item);});},_onRemoveClick:function(){for(var id in this.to.selection){var row=this.to.row(id);if(row.data&&row.data.__selected){row.data.__selected=false;this.store.put(row.data);}}},_onRemoveAllClick:function(){var self=this;this.store.query({__selected:true}).forEach(function(item){item.__selected=false;self.store.put(item);});},_generateUniqueId:function(){var d=new Date().getTime();var uuid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return (c=="x"?r:(r&7|8)).toString(16);});return uuid;}});return _2a7d;});},"Sage/TaskPane/OpportunityTasksTasklet":function(){define("Sage/TaskPane/OpportunityTasksTasklet",["dojo/i18n!./nls/OpportunityTasksTasklet","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneContent","Sage/MainView/Opportunity/UpdateOpportunities","Sage/MainView/Opportunity/OpportunityStatistics","dojo/_base/declare"],function(_2a84,_2a85,_2a86,_2a87,_2a88,_2a89){var _2a8a=_2a89("Sage.TaskPane.OpportunityTasksTasklet",[_2a85,_2a86],{updateOpportunitiesTitle:"Update Opportunities",opportunityStatisticsTitle:"Opportunity Statistics",taskItems:[],constructor:function(){dojo.mixin(this,_2a84);this.taskItems=[{taskId:"UpdateOpportunities",type:"Link",displayName:this.updateOpportunitiesTitle,clientAction:"opportunityTasksActions.updateOpportunities();",securedAction:"Entities/Opportunity/MultiUpdate"},{taskId:"OpportunityStatistics",type:"Link",displayName:this.opportunityStatisticsTitle,clientAction:"opportunityTasksActions.opportunityStatistics();",securedAction:"Entities/Opportunity/OpportunityStatistics"}];},updateOpportunities:function(){this.prepareSelectedRecords(this.updateOpportunitiesActionItem(this.getSelectionInfo()));},updateOpportunitiesActionItem:function(_2a8b){return function(){var _2a8c=dijit.byId("dlgUpdateMultipleOpps");if(!_2a8c){_2a8c=new _2a87(_2a8b);}else{_2a8c.setSelectionInfo(_2a8b);}_2a8c.show();};},opportunityStatistics:function(){this.prepareSelectedRecords(this.opportunityStatisticsActionitem(this.getSelectionInfo()));},opportunityStatisticsActionitem:function(_2a8d){return function(){var _2a8e=new _2a88(_2a8d);_2a8e.show();};}});return _2a8a;});},"Sage/UI/Controls/SimpleTextarea":function(){define("Sage/UI/Controls/SimpleTextarea",["dijit/form/SimpleTextarea","dojo/_base/declare"],function(_2a8f,_2a90){var _2a91=_2a90("Sage.UI.Controls.SimpleTextarea",[_2a8f],{baseClass:"dijitTextBox dijitTextArea sageTextArea",templateString:"<div><textarea ${!nameAttrSetting} dojoAttachPoint='focusNode,containerNode,textbox' autocomplete='off'></textarea></div>",hotKey:"",multiLineMaxLength:"",shouldPublishMarkDirty:true,_setHotKeyAttr:{node:"textbox",type:"attribute",attribute:"accessKey"},constructor:function(args){this.maxLength=args.multiLineMaxLength;},onChange:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}this.inherited(arguments);}});return _2a91;});},"Sage/UI/SLXPreviewGrid/FilterPanel":function(){define("Sage/UI/SLXPreviewGrid/FilterPanel",["dijit/form/Button","dijit/_Widget","Sage/Utility/_LocalStorageMixin","dojo/i18n!../nls/SLXPreviewGrid","dojo/_base/declare"],function(_2a92,_2a93,_2a94,_2a95,_2a96){var _2a97=_2a96("Sage.UI.SLXPreviewGrid.FilterPanel",[_2a93,_2a94],{_filters:null,_state:{},STORE_NS:"SAGE_UI_EDITABLEGRID",STORE_KEY_FILTERINFO:"_FILTER_INFO_",applyText:"Apply",resetText:"Reset",constructor:function(){this._filters=[];},postMixInProperties:function(){dojo.mixin(this,_2a95);this._loadState();this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.domNode.className="filterPanel";var left=document.createElement("div");left.style.styleFloat=left.style.cssFloat="left";left.style.width="39%";var right=document.createElement("div");right.style.styleFloat=right.style.cssFloat="left";right.style.width="39%";var _2a98=this._state["filterStates"]||{};var _2a99=left;dojo.forEach(this.filterConfig,function(item,index,ar){if(_2a99===left&&index+1>ar.length/2){_2a99=right;}var _2a9a=document.createElement("div");_2a9a.className="filterItem";var _2a9b=this._createFilter(item);if(_2a98[item.field]&&_2a9b.applyState){_2a9b.applyState(_2a98[item.field]);}this._filters.push(_2a9b);if(item.label){var lbl=document.createElement("label");lbl.appendChild(document.createTextNode(item.label+":"));lbl.className="filterPanelLabel";lbl.htmlFor=_2a9b.domNode.id;_2a9a.appendChild(lbl);}_2a9a.appendChild(_2a9b.domNode);_2a99.appendChild(_2a9a);},this);var _2a9c=document.createElement("div");_2a9c.style.styleFloat=_2a9c.style.cssFloat="left";_2a9c.style.width="20%";_2a9c.className="filterButtonPanel";var btnOk=new _2a92({label:this.applyText});_2a9c.appendChild(btnOk.domNode);dojo.connect(btnOk,"onClick",this,"_applyFilter");var _2a9d=new _2a92({label:this.resetText});_2a9c.appendChild(_2a9d.domNode);dojo.connect(_2a9d,"onClick",this,"_resetFilter");dojo.connect(this.domNode,"keydown",this,function(e){if(e.keyCode===13){this._applyFilter();}});this.domNode.appendChild(left);this.domNode.appendChild(right);this.domNode.appendChild(_2a9c);},startup:function(){this.inherited(arguments);dojo.forEach(this._filters,function(item){item.startup();});if(this._state["visible"]&&this._state["visible"]===true){this.toggle();}},destroy:function(){dojo.forEach(this._filters,function(item){item.destroy(false);});dojo.forEach(dijit.findWidgets(this.domNode),function(wid){wid.destroy(false);});this.inherited(arguments);},getQuery:function(){var c=[];dojo.forEach(this._filters,function(f){var q=f.getQuery();if(q){c.push(q);}});return c.length>0?c.join(" and "):null;},toggle:function(){if(this.domNode.style.display==="none"){this.domNode.style.display="block";this._state["visible"]=true;}else{this.domNode.style.display="none";this._state["visible"]=false;}this._saveState();},onFilterApply:function(_2a9e){},_createFilter:function(_2a9f){var c=_2a9f.widgetType;return new c(_2a9f);},_applyFilter:function(){var _2aa0={};for(var i=0;i<this._filters.length;i++){var f=this._filters[i];if(f.getState){_2aa0[f.field]=f.getState();}}this._state["filterStates"]=_2aa0;this._saveState();this.onFilterApply(this.getQuery());},_resetFilter:function(){dojo.forEach(this._filters,function(f){f.reset();});this._applyFilter();},_saveState:function(){var key=this.STORE_KEY_FILTERINFO+this.id;this.saveToLocalStorage(key,this._state,this.STORE_NS);},_loadState:function(){var key=this.STORE_KEY_FILTERINFO+this.id;this._state=this.getFromLocalStorage(key,this.STORE_NS)||{};}});return _2a97;});},"Sage/QuickForms/Design/Editors/nls/NumericBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/NumericBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_2aa1,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_2aa1,nls);});},"Sage/TaskPane/nls/CommonTasksTasklet":function(){define("Sage/TaskPane/nls/CommonTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_2aa2,lang){var nls={root:{okButtonText:"OK",loadingText:"loading...",noPrimaryEmail:"No primary email available",selectFileFormat:"Select a file format:",exportToFile_OptionCSV:"Standard CSV",exportToFile_OptionTab:"Tab delimited (recommended for Microsoft Excel)",exportToFile_OptionSaveFormat:"Remember my selection and do not ask again.",exportToFile_OK:"OK",exportToFile_Cancel:"Cancel",exportToFile_DialogTitle:"Export to File",exportToExcel_Caption:"Exporting to Excel",errorRequestingJobMgr:"An error occurred requesting job manager: ${0}",errorExecutionAction:"An error occurred executing action ${0}",exportProcessingJobMsg:"Processing export, you may continue waiting for completion, or go to the reports view to open your file."}};return lang.mixin(_2aa2,nls);});},"Sage/Utility/File":function(){define("Sage/Utility/File",["Sage/UI/Dialogs","dojo/number","dojo/_base/lang","dojo/i18n!./nls/File"],function(_2aa3,_2aa4,lang,_2aa5){Sage.namespace("Utility.File");Sage.Utility.File={fileType:{ftAttachment:0,ftLibraryDocs:1},supportsHTML5File:(window.File&&window.FileReader&&window.FileList&&window.Blob),fileUploadOptions:{maxFileSize:4000000},init:function(_2aa6){if(_2aa6){this.fileUploadOptions=_2aa6;}},isFileSizeAllowed:function(files){var l=0;var _2aa7=Sage.Utility.File.fileUploadOptions.maxFileSize;var title=_2aa5.largeFileWarningTitle;var msg=_2aa5.largeFileWarningText;for(var i=0;i<files.length;i++){if(files[i].size===0){}else{l+=files[i].size||files[i].blob.length;}}if(l>(_2aa7)){_2aa3.showError(msg,title);return false;}return true;},uploadFile:function(file,url,_2aa8,_2aa9,error,scope,asPut){if(!Sage.Utility.File.isFileSizeAllowed([file])){return;}if(Sage.gears){this._uploadFileGears(file,url,_2aa8,_2aa9,error,scope,asPut);}else{if(this.supportsHTML5File){if((window.FileReader.prototype.readAsBinaryString)||(window.FileReader.prototype.readAsArrayBuffer)){this._uploadFileHTML5_asBinary(file,url,_2aa8,_2aa9,error,scope,asPut);}else{this._uploadFileHTML5(file,url,_2aa8,_2aa9,error,scope,asPut);}}else{this._showUnableToUploadError();}}},uploadFileHTML5:function(file,url,_2aaa,_2aab,error,scope,asPut){if(!Sage.Utility.File.isFileSizeAllowed([file])){return;}if(this.supportsHTML5File){if((window.FileReader.prototype.readAsBinaryString)||(window.FileReader.prototype.readAsArrayBuffer)){this._uploadFileHTML5_asBinary(file,url,_2aaa,_2aab,error,scope,asPut);}else{this._uploadFileHTML5(file,url,_2aaa,_2aab,error,scope,asPut);}}else{this._showUnableToUploadError();}},_uploadFileGears:function(file,url,_2aac,_2aad,error,scope,asPut){if(!window.Sage&&!Sage.gears){this._showUnableToUploadError();return;}if(_2aac){_2aac.call(scope,null);}if(!url){url="slxdata.ashx/slx/system/-/attachments/file?format=json";}var _2aae=Sage.gears.factory.create("beta.httprequest");_2aae.open((asPut)?"PUT":"POST",url);var _2aaf="---------------------------"+(new Date()).getTime();var _2ab0="--";var crlf="\r\n";var _2ab1=Sage.gears.factory.create("beta.blobbuilder");_2ab1.append(_2ab0);_2ab1.append(_2aaf);_2ab1.append(crlf);_2ab1.append("Content-Disposition: attachment; name=\"file_\"");if(file.name){_2ab1.append("; filename*=\""+encodeURI(file.name)+"\"");}_2ab1.append(crlf);_2ab1.append("Content-Type: application/octet-stream");_2ab1.append(crlf);_2ab1.append(crlf);_2ab1.append(file.blob);_2ab1.append(crlf);_2ab1.append(_2ab0);_2ab1.append(_2aaf);_2ab1.append(_2ab0);_2ab1.append(crlf);if(typeof (_2aad)==="function"){_2aae.onreadystatechange=function(){if(_2aae.readyState===4){if(Math.floor(_2aae.status/100)!==2){if(typeof (error)==="function"){error.call(scope||this,_2aae);}}else{_2aad.call(scope||this,_2aae);}}};}if(typeof (_2aac)==="function"){_2aae.upload.onprogress=function(prog){_2aac.call(scope||this,prog);};}_2aae.setRequestHeader("Content-Type","multipart/attachment; boundary="+_2aaf);var blob=_2ab1.getAsBlob();_2aae.send(blob);},_uploadFileHTML5:function(file,url,_2ab2,_2ab3,error,scope,asPut){if(!this.supportsHTML5File||!window.FormData){this._showUnableToUploadError();return;}if(_2ab2){_2ab2.call(scope,null);}if(!url){url="slxdata.ashx/slx/system/-/attachments/file";}var fd=new FormData();fd.append("file_",file,file.name);var _2ab4=new XMLHttpRequest();_2ab4.open((asPut)?"PUT":"POST",url);_2ab4.setRequestHeader("X-Requested-With","XMLHttpRequest");if(_2ab3){_2ab4.onreadystatechange=function(){if(_2ab4.readyState===4){if(Math.floor(_2ab4.status/100)!==2){if(error){error.call(scope||this,_2ab4);}}else{_2ab3.call(scope||this,_2ab4);}}};}if(_2ab2){_2ab4.upload.addEventListener("progress",function(e){_2ab2.call(scope||this,e);});}_2ab4.send(fd);},_uploadFileHTML5_asBinary:function(file,url,_2ab5,_2ab6,error,scope,asPut){if(!this.supportsHTML5File){this._showUnableToUploadError();return;}if(_2ab5){_2ab5.call(scope,null);}window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(!url){url="slxdata.ashx/slx/system/-/attachments/file";}var _2ab7=new XMLHttpRequest();_2ab7.open((asPut)?"PUT":"POST",url);_2ab7.setRequestHeader("X-Requested-With","XMLHttpRequest");var _2ab8=new FileReader();_2ab8.onload=lang.hitch(this,function(evt){var _2ab9,_2aba,_2abb,crlf,bb,_2abc,_2abd,_2abe;_2abd=new FileReader();try{new Blob();bb=[];}catch(e){bb=new window.BlobBuilder();_2abc=true;}_2ab9=evt.target.result;_2aba="---------------------------"+(new Date()).getTime();_2abb="--";crlf="\r\n";this._append(bb,_2abb+_2aba+crlf);this._append(bb,"Content-Disposition: attachment; ");this._append(bb,"name=\"file_\"; ");this._append(bb,"filename*=\""+encodeURI(file.name)+"\" ");this._append(bb,crlf);this._append(bb,"Content-Type: "+file.type);this._append(bb,crlf+crlf);this._append(bb,_2ab9);this._append(bb,crlf);this._append(bb,_2abb+_2aba+_2abb+crlf);if(_2ab6){_2ab7.onreadystatechange=function(){if(_2ab7.readyState===4){if(Math.floor(_2ab7.status/100)!==2){if(error){error.call(scope||this,_2ab7);}}else{_2ab6.call(scope||this,_2ab7);}}};}if(_2ab5){_2ab7.upload.addEventListener("progress",function(e){_2ab5.call(scope||this,e);});}_2ab7.setRequestHeader("Content-Type","multipart/attachment; boundary="+_2aba);if(_2abc){_2abe=bb.getBlob(file.type);}else{_2abe=new Blob(bb);}_2abd.onload=function(e){_2ab7.send(e.target.result);};try{_2ab7.send(_2abe);}catch(e){_2abd.readAsArrayBuffer(_2abe);}});_2ab8.readAsArrayBuffer(file);},_append:function(_2abf,data){if(_2abf&&_2abf.constructor===Array){_2abf.push(data);}else{_2abf.append(data);}},_showUnableToUploadError:function(){_2aa3.showError(_2aa5.unableToUploadText);},formatFileSize:function(size){size=parseInt(size,10);if(size===0){return "0 KB";}if(!size||size<0){return _2aa5.unknownSizeText;}if(size<1024){return "1 KB";}return _2aa4.format(Math.round(size/1024))+" KB";}};return Sage.Utility.File;});},"Sage/UI/ConditionManager":function(){define("Sage/UI/ConditionManager",["Sage/_Templated","dijit/_Widget","dijit/form/Select","dijit/form/Button","Sage/UI/ImageButton","Sage/UI/SearchConditionWidget","Sage/Utility","dojo/i18n!./nls/ConditionManager","dojo/_base/declare"],function(_2ac0,_2ac1,_2ac2,_2ac3,_2ac4,_2ac5,util,nls,_2ac6){var _2ac7=_2ac6("Sage.UI.ConditionManager",[_2ac1,_2ac0],{widgetsInTemplate:true,srchBtnCaption:"Search",addrowlabel:"Lookup by:",hiderowlabel:"And:",hideimgurl:"images/icons/Find_Remove_16x16.gif",addimgurl:"images/icons/Find_Add_16x16.gif",hideimgalttext:"Remove Condition",addimgalttext:"Add Condition",errorOperatorRequiresValue:"The operator requires a value",equalTo:"Equal to",notEqualTo:"Not Equal to",startingWith:"Starting With",contains:"Contains",equalOrLessThan:"Equal or Less than",equalOrGreaterThan:"Equal or Greater than",lessThan:"Less than",greaterThan:"Greater than",operators:null,fields:null,fieldsHash:null,fieldNameProperty:"fieldname",fieldDisplayNameProperty:"displayname",fieldTypeProperty:"propertyType",fieldPickListNameProperty:"pickListName",conditionWidgets:null,widgetConnects:null,widgetTemplate:new Simplate(["<div id=\"{%= $.id %}\" class=\"lookup-condition-manager\">","<table cellspacing=\"0\" cellpadding=\"3\">","<tr><td><div dojoAttachPoint=\"conditions\"></div></td></tr>","</table>","<div class=\"lookup-condition-actions\">","<button id=\"{%= $.id %}-Search\" data-dojo-type=\"dijit.form.Button\" type=\"button\" dojoAttachPoint=\"searchButton\" dojoAttachEvent=\"onClick:_doSearch\">{%= $.srchBtnCaption %}</button>","</div>","</div>"]),isSettingValues:false,id:"",constructor:function(){this.conditionWidgets={};this.operators={};this.fieldsHash={};this.fields=[];this.widgetConnects=[];},destroy:function(){var wid,i;for(i=0;i<this.widgetConnects.length;i++){dojo.disconnect(this.widgetConnects[i]);}for(wid in this.conditionWidgets){if(this.conditionWidgets.hasOwnProperty(wid)){if(this.conditionWidgets[wid].destroy){this.conditionWidgets[wid].destroy();}}}this.inherited(arguments);},postMixInProperties:function(){dojo.mixin(this,nls);this.inherited(arguments);},getOperatorsByField:function(field){var _2ac8,_2ac9,_2aca,_2acb,_2acc;_2ac8=[{value:"eq",label:this.equalTo,selected:false,disabled:false},{value:"ne",label:this.notEqualTo,selected:false,diabled:false}];_2ac9=[{value:"sw",label:this.startingWith,selected:false,disabled:false},{value:"like",label:this.contains,selected:false,diabled:false},{value:"eq",label:this.equalTo,selected:false,diabled:false},{value:"ne",label:this.notEqualTo,selected:false,diabled:false},{value:"le",label:this.equalOrLessThan,selected:false,diabled:false},{value:"ge",label:this.equalOrGreaterThan,selected:false,diabled:false},{value:"lt",label:this.lessThan,selected:false,diabled:false},{value:"gt",label:this.greaterThan,selected:false,diabled:false}];_2aca=[{value:"eq",label:this.equalTo,selected:false,diabled:false},{value:"ne",label:this.notEqualTo,selected:false,diabled:false},{value:"le",label:this.equalOrLessThan,selected:false,diabled:false},{value:"ge",label:this.equalOrGreaterThan,selected:false,diabled:false},{value:"lt",label:this.lessThan,selected:false,diabled:false},{value:"gt",label:this.greaterThan,selected:false,diabled:false}];_2acb=[{value:"eq",label:this.equalTo,selected:false,diabled:false},{value:"ne",label:this.notEqualTo,selected:false,diabled:false}];_2acc={"System.Boolean":{options:_2ac8},"Boolean":{options:_2ac8},"System.String":{options:_2ac9},"SalesLogix.PickList":{options:_2acb},"Sage.Entity.Interfaces.UserType":{options:_2aca},"Sage.Entity.Interfaces.OwnerType":{options:_2aca},"System.DateTime":{options:_2aca},"DateTime":{options:_2aca},"Phone":{options:_2ac9},"User":{options:_2ac9},"Owner":{options:_2ac9},"System.Double":{options:_2aca},"System.Int32":{options:_2aca},"System.Int16":{options:_2aca},"System.Decimal":{options:_2aca},"Fixed":{options:_2aca},"Decimal":{options:_2aca},"Integer":{options:_2aca},"Positive Integer":{options:_2aca},"Currency":{options:_2aca},"Percent":{options:_2aca},"defaultOperators":{options:_2ac9},"None":{options:_2ac9}};if((field.hasOwnProperty(this.fieldTypeProperty))&&(_2acc.hasOwnProperty(field[this.fieldTypeProperty]))){return _2acc[field[this.fieldTypeProperty]].options;}return _2acc.defaultOperators&&_2acc.defaultOperators.options;},getConditionsAsUrlWhereString:function(){var conds=this.getConditions(),_2acd=[],_2ace=null,i,_2acf,lhd,rhd,lhs,rhs,_2ad0;for(i=0;i<conds.length;i++){_2ace=conds[i].val;if(typeof _2ace==="string"){_2ace=_2ace.replace(/%/g,"");}if(_2ace.constructor===Date){if(conds[i].operator==="eq"||conds[i].operator==="ne"){lhd=_2ace;rhd=_2ace;lhd.setHours(0);lhd.setMinutes(0);lhd.setSeconds(0);lhs=util.Convert.toIsoStringFromDate(lhd);rhd.setHours(23);rhd.setMinutes(59);rhd.setSeconds(59);rhs=util.Convert.toIsoStringFromDate(rhd);_2ad0={field:conds[i].fieldname,leftOp:"gt",leftVal:lhs,rightOp:"lt",rightVal:rhs,join:"and"};if(conds[i].operator==="ne"){_2ad0.leftOp="lt";_2ad0.rightOp="gt";_2ad0.join="or";}_2acd.push(dojo.string.substitute("(${field} ${leftOp} '${leftVal}' ${join} ${field} ${rightOp} '${rightVal}')",_2ad0));continue;}else{if(conds[i].operator==="le"||conds[i].operator==="gt"){_2ace.setHours(23);_2ace.setMinutes(59);_2ace.setSeconds(59);}else{if(conds[i].operator==="ge"||conds[i].operator==="lt"){_2ace.setHours(0);_2ace.setMinutes(0);_2ace.setSeconds(0);}}}_2ace=util.Convert.toIsoStringFromDate(_2ace);}_2acf={field:conds[i].fieldname,op:conds[i].operator,val:_2ace};var fld=this.getField(conds[i].fieldname);if(fld&&fld.propertyType==="SalesLogix.PickList"){if(typeof _2ace==="object"&&_2ace[0]){_2acf.val=_2ace[0];}}if(_2acf.op==="like"){_2acf.val=["%",_2acf.val,"%"].join("");}else{if(_2acf.op==="sw"){_2acf.op="like";_2acf.val+="%";}}if(typeof _2acf.val==="string"){_2acf.val=["\"",_2acf.val.toUpperCase(),"\""].join("");_2acf.field=["upper(",_2acf.field,")"].join("");}_2acd.push([_2acf.field," ",_2acf.op," ",_2acf.val].join(""));}return _2acd.join(" and ");},getField:function(_2ad1){if(this.fieldsHash&&this.fieldsHash.hasOwnProperty(_2ad1)){return this.fieldsHash[_2ad1];}return false;},getConditionsJSON:function(){var i=0,_2ad2=this.getConditions(),_2ad3,_2ad4;for(i=0;i<_2ad2.length;i++){_2ad4=_2ad2[i];_2ad3=_2ad2[i].val;if(_2ad3.constructor===Date){_2ad3=util.Convert.toIsoStringFromDate(_2ad3);}_2ad2[i].val=_2ad3;}return Sys.Serialization.JavaScriptSerializer.serialize(_2ad2);},getConditions:function(){var conds=[],wid,c;for(wid in this.conditionWidgets){if(this.conditionWidgets.hasOwnProperty(wid)){if(this.conditionWidgets[wid].getCondition){c=this.conditionWidgets[wid].getCondition();if(c){if(c.fieldname==="$key"){c.fieldname="id";}conds.push(c);}}}}return conds;},resetConditions:function(){var wid,i;for(i=0;i<this.widgetConnects.length;i++){dojo.disconnect(this.widgetConnects[i]);}for(wid in this.conditionWidgets){if(this.conditionWidgets.hasOwnProperty(wid)){if(this.conditionWidgets[wid].getCondition){this._removeCondition(this.conditionWidgets[wid]);}}}this._setInitialCondition();},_doSearch:function(){this.onDoSearch(this.getConditions());},_setFieldsAttr:function(_2ad5){var i;this.fields=_2ad5;this.fieldsHash={};for(i=0;i<_2ad5.length;i++){this.fieldsHash[_2ad5[i][this.fieldNameProperty]]=_2ad5[i];}this.resetConditions();},setFirstConditionValue:function(field,op,value){var prop,wid;for(prop in this.conditionWidgets){if(this.conditionWidgets.hasOwnProperty(prop)){wid=this.conditionWidgets[prop];if(wid.isFirstCondition){wid.defaultOperator=op;wid.defaultField=field;wid.defaultValue=value;wid.refreshDefaults();}}}},addCondition:function(field,op,value,_2ad6){var count=this._conditionCount(),_2ad7=new _2ac5({conditionManager:this,label:this.hiderowlabel,isFirstCondition:false,defaultField:field,defaultOperator:op,defaultValue:value,id:this.id+"-SearchCondition"+count,visible:_2ad6});this.widgetConnects.push(dojo.connect(_2ad7,"onRemoveLookupCondition",this,"_removeCondition"));dojo.place(_2ad7.domNode,this.conditions);_2ad7.startup();this.conditionWidgets[_2ad7.id]=_2ad7;},_setInitialCondition:function(){var self=this,wid=new _2ac5({conditionManager:self,label:self.addrowlabel,isFirstCondition:true,id:self.id+"-SearchCondition0",visible:true});this.widgetConnects.push(dojo.connect(wid,"onAddLookupCondition",self,"_addCondition"));self.conditionWidgets[wid.id]=wid;dojo.place(wid.domNode,self.conditions);wid.startup();},_addCondition:function(){var count=this._conditionCount(),_2ad8=new _2ac5({conditionManager:this,label:this.hiderowlabel,isFirstCondition:false,id:this.id+"-SearchCondition"+count,visible:true});this.widgetConnects.push(dojo.connect(_2ad8,"onRemoveLookupCondition",this,"_removeCondition"));this.conditionWidgets[_2ad8.id]=_2ad8;dojo.place(_2ad8.domNode,this.conditions);_2ad8.startup();},_removeCondition:function(_2ad9){var id=_2ad9.id;_2ad9.destroyRecursive();delete (this.conditionWidgets[id]);},_conditionCount:function(){var count=0,wid;for(wid in this.conditionWidgets){if(this.conditionWidgets.hasOwnProperty(wid)){count+=1;}}return count;},onDoSearch:function(args){}});return _2ac7;});},"Sage/MainView/ReportMgr/ReportsListPanelConfig":function(){define("Sage/MainView/ReportMgr/ReportsListPanelConfig",["Sage/MainView/ReportMgr/BaseListPanelConfig","Sage/MainView/ReportMgr/ReportsSDataSummaryFormatterScope","dojo/_base/declare","dojo/i18n!./nls/ReportsListPanelConfig","Sage/Data/SDataServiceRegistry","Sage/UI/Columns/DateTime","dojo/_base/lang","Sage/MainView/ReportMgr/ReportManagerFormatter","dojo/i18n!./templates/nls/ReportsListSummary","dojo/i18n!./templates/nls/ReportDetailSummary"],function(_2ada,_2adb,_2adc,_2add,_2ade,_2adf,_2ae0,_2ae1){var _2ae2=_2adc("Sage.MainView.ReportMgr.ReportsListPanelConfig",[_2ada],{keyField:"$key",_listId:"Reports",_resourceKind:"reports",_contextMenu:"ReportManagerListContextMenu",_currentListContextSubMenu:"ReportsListContextMenu",constructor:function(){_2ae0.mixin(this,_2add);this._service=_2ade.getSDataService("system");this._structure=this._getStructure();this._select=this._getSelect();this._where=this._getWhere();this._include=this._getInclude();this._store=this._getStore();this.list=this._getListConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();this.list.selectionMode="single";},_getStructure:function(){return [{field:"displayName",name:this.colNameReportName,width:"100px"},{field:"mainTable",name:this.colNameTable,width:"50px",formatter:_2ae1.formatProperCase},{field:"createUser",name:this.colNameCreateUser,width:"50px",formatter:_2ae1.formatGetUserById},{field:"createDate",name:this.colNameCreateDate,width:"50px",type:_2adf},{field:"modifyUser",name:this.colNameModifyUser,width:"50px",formatter:_2ae1.formatGetUserById},{field:"modifyDate",name:this.colNameModifyDate,width:"50px",type:_2adf}];},_getSelect:function(){return ["displayName","mainTable","createUser","createDate","modifyUser","modifyDate"];},_getWhere:function(){return "";},_getSort:function(){var sort=[{attribute:"displayName",descending:false}];return sort;},_getInclude:function(){var _2ae3=[];return _2ae3;},_getSummaryListRequestConfig:function(){var _2ae4={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["displayName","mainTable","createUser","createDate","modifyUser","modifyDate"],include:[],sort:this._getSort(),useBatchRequest:false};return _2ae4;},_getFormatterScope:function(){var _2ae5=this._getSummaryListRequestConfig();var _2ae6=new _2adb({templateLocation:"MainView/ReportMgr/templates/ReportsListSummary.html",resetDataManager:true,requestConfiguration:_2ae5});return _2ae6;},_getSummaryDetailRequestConfig:function(){var _2ae7={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["displayName","mainTable","createUser","createDate","modifyUser","modifyDate"],include:[],useBatchRequest:false};return _2ae7;},_getDetailConfig:function(){var _2ae8=this._getFormatterScope();var _2ae9=this._getSummaryDetailRequestConfig();var _2aea={resourceKind:this._resourceKind,requestConfiguration:_2ae9,templateLocation:"MainView/ReportMgr/templates/ReportDetailSummary.html"};return _2aea;},_getToolBars:function(){var _2aeb={items:[]};return _2aeb;}});return _2ae2;});},"Sage/UI/Alarms/JobNotificationButton":function(){define("Sage/UI/Alarms/JobNotificationButton",["dojo/_base/declare","Sage/_Templated","dijit/_Widget","Sage/Utility","dojo/string","Sage/Data/SDataStore","dijit/form/ComboButton","dojo/i18n!./nls/JobNotificationButton","dojo/_base/event","dojo/_base/lang","dojo/dom-class","Sage/UI/Alarms/JobNotificationPopup","Sage/UI/ImageButton","Sage/Services/UserOptions"],function(_2aec,_2aed,_2aee,_2aef,_2af0,_2af1,_2af2,_2af3,event,lang,_2af4){var _2af5=_2aec("Sage.UI.Alarms.JobNotificationButton",[_2aee,_2aed],{options:{displayJobNotificationsInToolbar:true,pollInterval:5},widgetsInTemplate:true,pollInterval:5,_notificationsCountKey:"NotificationsCount",_started:false,_notificationBtnVisible:false,widgetTemplate:new Simplate(["<span id=\"jobNotification\" data-dojo-attach-point=\"_jobNotification\" class=\"alarm-button-container alarm-button notification-buttonIcon display-none\">","<button data-dojo-type=\"dijit.form.ComboButton\" data-dojo-attach-point=\"_button\" data-dojo-attach-event=\"onClick:_cboClick\" class=\"\" >","<div data-dojo-type=\"Sage.UI.Alarms.JobNotificationPopup\" id=\"notificationPopup\" data-dojo-attach-point=\"_popup\" data-dojo-attach-event=\"onClose:_popupClosed\"></div>","</button>","</span>"]),_setPollIntervalAttr:function(val){this.pollInterval=val;},_getPollIntervalAttr:function(){return this.pollInterval;},startup:function(){if(this._started){return;}var _2af6=Sage.Services.getService("JobService");var _2af7=_2af6.getSchedulingSDataService();this._service=_2af7;this.inherited(arguments);dojo.subscribe("/job/execution/changed",this,this._notificationChanged);dojo.subscribe("/job/execution/setNotificationCount",this,this._setNotificationCount);var _2af8=Sage.Services.getService("UserOptions");if(_2af8){_2af8.getByCategory("ActivityAlarm",this._receivedOptions,this);}if(this._button.valueNode){this.connect(this._button.valueNode,"click",function(e){event.stop(e);});}},_receivedOptions:function(){this._popup.set("options",this.options);if(this.options.displayJobNotificationsInToolbar&&this.pollInterval>0){var self=this;window.setTimeout(function(){self._poll();},15000);}this._started=true;},_poll:function(){if(this._service){this._notificationStore=new _2af1({id:"Executions",service:this._service,resourceKind:"executions",include:["$descriptors"],select:["$key","user"]});this._notificationStore.fetch({start:0,onComplete:this._onReceiveCounts,onError:this._countsFailed,scope:this});}},_onReceiveCounts:function(data){this._saveToSessionStorage(this._notificationsCountKey,data?data.length:0);this._initializeButton();var self=this;window.setTimeout(function(){self._poll();},this.pollInterval*60000);},_countsFailed:function(req){this._button.set("label"," ?");this._button.set("title",_2af3.notificationErrorToolTip);this._button.disabled=true;this._showNotificationButton();try{Sage.Utility.ErrorHandler._configuration.preemption.showUnhandledMessagingServiceExceptionMsg=false;}catch(e){}},_initializeButton:function(){var _2af9=this._getFromSessionStorage(this._notificationsCountKey)||0;if(_2af9>0){this._button.set("label"," "+_2af9+" ");this._button.set("title",_2af0.substitute(_2af3.notificationToolTip,[_2af9]));this._showNotificationButton();}else{this._hideNotificationButton();}},_setNotificationCount:function(_2afa){this._saveToSessionStorage(this._notificationsCountKey,_2afa);this._initializeButton();},_showNotificationButton:function(){if(!this._notificationBtnVisible){_2af4.remove(this._jobNotification,"display-none");this._notificationBtnVisible=true;}},_hideNotificationButton:function(){if(this._notificationBtnVisible){_2af4.add(this._jobNotification,"display-none");this._notificationBtnVisible=false;}},_cboClick:function(e){if(this._popup.isOpen){this._button.closeDropDown();}else{this._button.openDropDown();}return false;},_popupClosed:function(){},_notificationChanged:function(){this._poll();},_saveToSessionStorage:function(key,value){sessionStorage.setItem(key,value);},_getFromSessionStorage:function(key){return sessionStorage.getItem(key);}});return _2af5;});},"Sage/UI/SearchMenuItem":function(){require({cache:{"url:Sage/templates/GridMenuItem.html":"<tr class=\"dijitGridMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"4\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\" style=\"display:none\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"display:none\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n    <td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\" style=\"display:none\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n</tr>\n"}});define("Sage/UI/SearchMenuItem",["dojo/_base/declare","dijit/MenuItem","dijit/form/TextBox","dijit/form/CheckBox","dijit/form/Button","Sage/UI/ImageButton","dojo/dom-construct","dojo/_base/lang","dojo/has","dojo/_base/sniff","Sage/UI/Controls/_DialogHelpIconMixin","dojo/text!../templates/GridMenuItem.html","dojo/i18n!./nls/SearchMenuItem","dojo/topic"],function(_2afb,_2afc,_2afd,_2afe,_2aff,_2b00,_2b01,lang,has,sniff,_2b02,_2b03,nls,topic){var _2b04=_2afb("Sage.UI.SearchMenuItem",_2afc,{id:"groupSearchMenuItem",templateString:_2b03,seedQuery:"",findText:"Find: ",showHiddenText:"Show Hidden: ",clearText:"Clear",textBox:null,findButton:null,clearButton:null,showHiddenCheck:null,registeredWidgets:null,startup:function(){this.inherited(arguments);var _2b05=lang.hitch(this,function(event){if(event.keyCode===9){event.cancelBubble=true;}});if(nls){this.findText=nls.findText;this.showHiddenText=nls.showHiddenText;this.clearText=nls.clearText;}this.getParent().on("open",lang.hitch(this,this.init));if(has("mozilla")){this.getParent().on("keyPress",_2b05);}else{this.getParent().on("keyDown",_2b05);}},init:function(){if(!this.started){topic.subscribe("sage/ui/groups/gridMenuStarted",lang.hitch(this,function(_2b06){if(!this.started){this.registeredWidgets=[];this._createSearchTextBox();this._createShowHidden();}this._setQuery();this.started=true;}));}var fn=lang.hitch(this,function(){this.focusText();});setTimeout(fn,100);},focusText:function(){if(this.textBox&&this.textBox.focus){this.textBox.focus();}},_createSearchTextBox:function(){this.textBox=new _2afd();this.textBox.startup();this.registeredWidgets.push(this.textBox);var _2b07=lang.hitch(this,function(event){if(event.keyCode===13){this._setQuery();}if(event.keyCode===37||event.keyCode===39||event.keyCode===9){event.cancelBubble=true;}});if(has("mozilla")){this.textBox.on("keyPress",_2b07);}else{this.textBox.on("keyDown",_2b07);}_2b01.place(this.textBox.domNode,this.containerNode,"only");_2b01.create("label",{"for":this.textBox.id,"innerHTML":this.findText+": ","class":"groupMenuLabel"},this.containerNode,"first");this.findButton=new _2b00({imageClass:"icon_Find_16x16","class":"groupMenuButton","title":this.findText,onClick:lang.hitch(this,function(){this._setQuery();})});this.clearButton=new _2aff({label:this.clearText,"class":"groupMenuButton","title":this.clearText,onClick:lang.hitch(this,function(){this.textBox.set("value","");this._setQuery();})});_2b01.place(this.findButton.domNode,this.containerNode,"last");_2b01.place(this.clearButton.domNode,this.containerNode,"last");this.titleBar=this.containerNode;lang.mixin(this,new _2b02());this.createHelpIconByTopic("Group_Manager");_2b01.place(this.helpIcon,this.containerNode,"last");this.registeredWidgets.push(this.findButton);this.registeredWidgets.push(this.clearButton);},_createShowHidden:function(){var key="GroupMenuShowHidden",_2b08=sessionStorage.getItem(key);if(_2b08===null){sessionStorage.setItem(key,"false");_2b08="false";}this.showHiddenCheck=new _2afe();this.showHiddenCheck.set("checked",_2b08==="true"?true:false);this.registeredWidgets.push(this.showHiddenCheck);this.showHiddenCheck.on("click",lang.hitch(this,function(event){this._setQuery();var grid=dijit.byId("groupsGridInMenu");if(grid){if(this.showHiddenCheck.checked){sessionStorage.setItem(key,"true");grid.structure[1].width="205px";}else{sessionStorage.setItem(key,"false");grid.structure[1].width="260px";}grid.setStructure(grid.structure);grid.layout.setColumnVisibility(2,this.showHiddenCheck.checked);}}));var _2b09=_2b01.create("p",null,this.containerNode,"last");_2b01.place(this.showHiddenCheck.domNode,_2b09,"last");_2b01.create("label",{"for":this.showHiddenCheck.id,"innerHTML":this.showHiddenText,"class":"groupMenuLabel"},this.showHiddenCheck.domNode,"before");},_setQuery:function(){var grid=dijit.byId("groupsGridInMenu"),_2b0a=this.textBox.get("value").replace(/'/g,"''"),_2b0b=[];if(grid){if(!this.seedQuery){this.seedQuery=grid.get("query");}_2b0b.push(this.seedQuery);if(_2b0a){_2b0a=this._escapeSearchText(_2b0a);_2b0b.push("and upper(displayName) like '%"+_2b0a.toUpperCase()+"%'");}if(!this.showHiddenCheck.checked){_2b0b.push("and not isHidden");}grid.set("query",_2b0b.join(" "));grid._refresh();}},_escapeSearchText:function(_2b0c){_2b0c=_2b0c.replace(/\[/g,"[[]").replace(/_/g,"[_]").replace(/%/g,"[%]");return _2b0c;},_onClick:function(e){e.cancelBubble=true;},destroy:function(){var i;if(this.registeredWidgets!==null){for(i=0;i<this.registeredWidgets.length;i++){this.registeredWidgets[i].destroy(false);this.registeredWidgets.splice(i,1);}}this.inherited(arguments);}});return _2b04;});},"Sage/Utility/nls/Dashboard":function(){define("Sage/Utility/nls/Dashboard",["Sage/LanguageList","dojo/_base/lang"],function(_2b0d,lang){var nls={root:{pageText:"Page"}};return lang.mixin(_2b0d,nls);});},"Sage/QuickForms/Design/PropertyValueError":function(){define("Sage/QuickForms/Design/PropertyValueError",["dojo/string","dojo/_base/lang"],function(_2b0e,lang){var _2b0f=function(_2b10,value,_2b11){this.result=_2b10;this.value=value;this.message=_2b11||_2b0e.substitute(this.messageText,[value]);};lang.extend(_2b0f,{messageText:"The value ${0} is not allowed.",toString:function(){return this.message;}});return lang.setObject("Sage.QuickForms.Design.PropertyValueError",_2b0f);});},"url:Sage/MainView/ReportMgr/Crystal/templates/CrystalReportConditionsDialog.html":"<div>\r\n    <div data-dojo-type=\"dijit.Dialog\" title=\"{%= $._getDialogTitle() %}\" dojoattachpoint=\"_dialog\" dojoattachevent=\"onCancel:_dialog_OnCancel\" style=\"width: 600px;\">\r\n        <div data-dojo-type=\"dijit.form.Form\">\r\n            <div style=\"height: 300px\">\r\n                \r\n                <div>\r\n                    <table cellspacing=\"5\">\r\n                        <tr>\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtShowRecordsThatMatch %}</label>\r\n                            </td>\r\n                            <td>\r\n                                <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbConditionPresets\" sortByLabel=\"false\" dojoAttachEvent=\"onChange:_cmbConditionPresets_OnChange\" style=\"width:150px\" >\r\n                                </select>\r\n                            </td>\r\n                        </tr>                   \r\n                        <tr dojoAttachPoint=\"trConnector\" class=\"display-none\">\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtMatch %}</label>\r\n                            </td>\r\n                            <td>\r\n                                <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbConnector\" style=\"width:150px\" >\r\n                                    <option value=\"Or\">{%= $._nlsResources.txtAny %}</option>\r\n                                    <option value=\"And\">{%= $._nlsResources.txtAll %}</option>\r\n                                </select>\r\n                                <label>&nbsp;{%= $._nlsResources.txtOfTheFollowingConditions %}</label>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n\r\n                <div dojoType=\"dijit.Toolbar\" dojoAttachPoint=\"tbConditions\" region=\"top\" splitter=\"false\" class=\"right-tools\" >\r\n                    <span dojoType=\"Sage.UI.ImageButton\" icon=\"{%= $._btnPlusIconPath %}\" title=\"{%= $._nlsResources.btnAddCondition_Caption %}\" dojoAttachEvent=\"onClick:_btnAddCondition_Click\" dojoAttachPoint=\"btnAddCondition\"></span>\r\n                </div>                                  \r\n                \r\n                <div id=\"divGrdCrystalConditions\" style=\"width:100%; height:200px; overflow:auto\" >            \r\n                    <table data-dojo-type=\"dojox.grid.DataGrid\" dojoAttachPoint=\"grdCrystalConditions\" id=\"grdCrystalConditions\" formatterScope=\"Sage.MainView.ReportMgr.Crystal.CrystalReportsFormatter\">\r\n                        <thead>\r\n                            <th field=\"conditionType\" width=\"60px\" formatter=\"formatConditionType\" >{%= $._nlsResources.grdCrystalConditions_ConditionType_Caption %}</th>\r\n                            <th field=\"table\" width=\"80px\">{%= $._nlsResources.grdCrystalConditions_TableName_Caption %}</th>\r\n                            <th field=\"field\" width=\"80px\">{%= $._nlsResources.grdCrystalConditions_FieldName_Caption %}</th>\r\n                            <th field=\"operator\" formatter=\"formatOperator\" width=\"50px\">{%= $._nlsResources.grdCrystalConditions_Operator_Caption %}</th>\r\n                            <th field=\"_item\" formatter=\"formatConditionValue\" width=\"125px\">{%= $._nlsResources.grdCrystalConditions_Value_Caption %}</th>\r\n                            <th field=\"value\" formatter=\"formatEditCondition\" width=\"40px\">&nbsp;</th>\r\n                            <th field=\"_item\" formatter=\"formatDeleteCondition\" width=\"40px\">&nbsp;</th>\r\n                        </thead>\r\n                    </table>\r\n                </div>               \r\n\r\n            </div>\r\n\r\n            <div align=\"right\" style=\"margin-top:10px\">\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdBack\" dojoAttachEvent=\"onClick:_cmdBack_OnClick\" style=\"display:none\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdBack_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdNext\" dojoAttachEvent=\"onClick:_cmdNext_OnClick\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdNext_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdCancel_Caption) %}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"}});require(["dojo/i18n"],function(i18n){i18n._preloadLocalizations("Sage/nls/Sage",["et","en-tt","eu","ar-sy","nb-no","xh","en-nz","fa","es-uy","es-cl","rm","ro","fr-be","es-co","fi","es-cr","sv-fi","ru-mo","ar-tn","en-bz","ru","es-ve","es-pa","zh-hk","fo","lt","zh-tw","en-ie","es-pe","en-ca","lv","fr","en-us","ar-bh","sb","es-pr","ga","sk","fr-ca","de-ch","sl","gd","es-py","es-do","mk","sq","sr","fr-ch","ro-mo","pt-pt","af","sv","ms","sx","ar-om","mt","sz","zh-cn","af-za","ar","en-jm","ar-iq","zh","es-ec","nb","th","de-de","az","tn","he","zu","nl","tr","hi","ts","be","no","bg","hr","hu","ar-jo","uk","ar-qa","id","ca","ar-dz","ur","xh-za","ar-eg","is","it","zu-za","cs","ve","de-li","ar-kw","vi","ja","es-sv","da","pl","ar-lb","ji","nl-be","de","de-lu","es-mx","es-gt","es-ar","it-ch","kk-kz","pt","fr-lu","en-gb","es-ni","ar-ly","en-za","ar-ye","az-az","ar-sa","zh-sg","es-hn","ar-ma","es-bo","en-au","kk","ko","el","de-at","en","ar-ae","pt-br","es"]);});define("Sage/Sage",[],1);